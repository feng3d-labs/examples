{"version":3,"file":"index.js","sources":["../node_modules/.pnpm/@feng3d+objectview@0.5.0/node_modules/@feng3d/objectview/src/ObjectView.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/Array.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/ArrayUtils.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/ObjectUtils.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/ClassUtils.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/DataTransform.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/MapUtils.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/MathUtil.ts","../node_modules/.pnpm/@feng3d+polyfill@0.5.0/node_modules/@feng3d/polyfill/src/Types.ts","../node_modules/.pnpm/@feng3d+serialization@0.5.0/node_modules/@feng3d/serialization/src/Serialization.ts","../node_modules/.pnpm/@feng3d+watcher@0.5.0/node_modules/@feng3d/watcher/src/watcher.ts","../node_modules/.pnpm/@feng3d+event@0.5.0/node_modules/@feng3d/event/src/EventEmitter.ts","../node_modules/.pnpm/@feng3d+event@0.5.0/node_modules/@feng3d/event/src/AnyEmitter.ts","../node_modules/.pnpm/@feng3d+event@0.5.0/node_modules/@feng3d/event/src/GlobalEmitter.ts","../node_modules/.pnpm/@feng3d+event@0.5.0/node_modules/@feng3d/event/src/ObjectEmitter.ts","../node_modules/.pnpm/@feng3d+bezier@0.5.0/node_modules/@feng3d/bezier/src/EquationSolving.ts","../node_modules/.pnpm/@feng3d+bezier@0.5.0/node_modules/@feng3d/bezier/src/Bezier.ts","../node_modules/.pnpm/@feng3d+bezier@0.5.0/node_modules/@feng3d/bezier/src/HighFunction.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/buildLineGeometry.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/Time.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/MathF.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Vector2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Vector3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/Color3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Vector4.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/Color4.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/BezierCurve.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/WrapMode.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/AnimationCurve.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/AnimationCurveVector3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/MinMaxCurveMode.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/MinMaxCurve.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/curve/MinMaxCurveVector3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/enums/CoordinateSystem.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/enums/PlaneClassification.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/enums/RotationOrder.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Line3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Plane.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Segment3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Triangle3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Box3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Matrix3x3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Quaternion.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Ray3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Matrix4x4.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Euler.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Frustum.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Rectangle.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/Sphere.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/geom/TriangleGeometry.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/gradient/GradientMode.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/gradient/Gradient.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/gradient/MinMaxGradientMode.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/gradient/MinMaxGradient.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/Noise.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/Curve.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/LineCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/CurvePath.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/Earcut.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/ShapeUtils.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/Interpolations.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/CubicBezierCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/EllipseCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/QuadraticBezierCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/SplineCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/Path2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/Shape2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/ShapePath2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/core/Font.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/ArcCurve2.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/CatmullRomCurve3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/CubicBezierCurve3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/LineCurve3.ts","../node_modules/.pnpm/@feng3d+math@0.5.0/node_modules/@feng3d/math/src/shape/curves/QuadraticBezierCurve3.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/AttributeUsage.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/GLArrayType.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/Texture.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/GLCache.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/GLCapabilities.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/GLExtension.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/WebGLRenderer.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/Attribute.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/FrameBuffer.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/Index.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/BlendEquation.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/BlendFactor.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/ColorMask.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/CullFace.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/DepthFunc.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/FrontFace.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/RenderMode.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/StencilFunc.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/StencilOp.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/RenderParams.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/shader/ShaderMacroUtils.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/shader/ShaderLib.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/Shader.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/data/RenderAtomic.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureDataType.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureFormat.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureMagFilter.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureMinFilter.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureType.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/gl/enums/TextureWrap.ts","../node_modules/.pnpm/@feng3d+renderer@0.5.0/node_modules/@feng3d/renderer/src/RenderBuffer.ts","../node_modules/.pnpm/@feng3d+task@0.5.0/node_modules/@feng3d/task/src/Task.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/base/LoaderDataFormat.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/base/Loader.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/base/_IndexedDB.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/FS.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/FSType.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/HttpFS.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/IndexedDBFS.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/PathUtils.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/ReadFS.ts","../node_modules/.pnpm/@feng3d+filesystem@0.5.0/node_modules/@feng3d/filesystem/src/ReadWriteFS.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/EventProxy.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/handle/KeyState.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/handle/ShortCutCapture.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/Keyboard.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/WindowEventProxy.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/handle/KeyCapture.ts","../node_modules/.pnpm/@feng3d+shortcut@0.5.0/node_modules/@feng3d/shortcut/src/ShortCut.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/RunEnvironment.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/HideFlags.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/Feng3dObject.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/Component.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/Behaviour.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/Menu.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/assets/AssetType.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animation/AnimationClip.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animation/PropertyClip.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animation/Animation.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animators/skeleton/Skeleton.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/menu/CreateNodeMenu.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/BoundingBox.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/Path.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/Ticker.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/assets/FileAsset.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/assets/FolderAsset.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/assets/rs/ReadRS.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/AssetData.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/geometry/GeometryUtils.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/geometry/Geometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/shadow/ShadowType.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/pickers/LightPicker.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/data/TextureInfo.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/ImageUtil.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/Texture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/TextureCube.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/StandardMaterial.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/Material.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/RayCastable.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/Renderable.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/ScriptComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/Transform.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/GameObject.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animators/skeleton/SkeletonComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/animators/skeleton/SkinnedMeshRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/assets/rs/ReadWriteRS.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/audio/AudioListener.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/audio/AudioSource.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/cameras/Projection.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/cameras/lenses/LensBase.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/cameras/lenses/OrthographicLens.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/cameras/lenses/PerspectiveLens.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/cameras/Camera.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/BillboardComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/CartoonComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/Graphics.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/HoldSizeComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/OutLineComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/component/WireframeComponent.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/controllers/ControllerBase.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/controllers/FPSController.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/controllers/LookAtController.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/controllers/HoverController.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/MeshRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/pick/Raycaster.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/Mouse3DManager.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/Script.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/TransformLayout.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/PlaneGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/RenderTargetTexture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/FrameBufferObject.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/LightType.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/Light.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/DirectionalLight.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/renderer/ForwardRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/renderer/OutlineRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/renderer/ShadowRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/renderer/WireframeRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/PointLight.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/light/SpotLight.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/skybox/SkyBox.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/scene/ScenePickCache.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/scene/Scene.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/skybox/SkyBoxRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/core/View.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/geometry/CustomGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/geometry/PointGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/geometry/SegmentGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/ColorMaterial.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/PointMaterial.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/SegmentMaterial.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/materials/TextureMaterial.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/CapsuleGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/CylinderGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/ConeGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/CubeGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/ParametricGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/QuadGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/SphereGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/primitives/TorusGeometry.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/renderer/MouseRenderer.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/render/shader/ShaderLib.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/scene/SceneUtil.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/ShaderConfig.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/CanvasTexture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/ImageDataTexture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/ImageTexture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/textures/VideoTexture2D.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/Uuid.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/FunctionWarp.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/debug.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/RegExps.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/utils/Stats.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/water/Water.ts","../node_modules/.pnpm/@feng3d+core@0.5.0/node_modules/@feng3d/core/src/water/WaterMaterial.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/ArrayBufferAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/AudioAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/ObjectAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/GameObjectAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/GeometryAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/TextAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/JSAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/JsonAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/MaterialAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/ScriptAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/ShaderAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/TextureAsset.ts","../node_modules/.pnpm/@feng3d+assets@0.5.0/node_modules/@feng3d/assets/src/assets/TextureCubeAsset.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/converters/MD5AnimConverter.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/converters/MD5MeshConverter.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/converters/MTLConverter.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/converters/OBJConverter.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/MD5AnimParser.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/MD5MeshParser.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/loader/MD5Loader.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/mdl/MdlModel.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/mdl/War3Model.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/MDLParser.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/loader/MDLLoader.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/MTLParser.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/loader/MTLLoader.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/parsers/OBJParser.ts","../node_modules/.pnpm/@feng3d+parsers@0.5.0/node_modules/@feng3d/parsers/src/loader/OBJLoader.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemAnimationType.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemInheritVelocityMode.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemMeshShapeType.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemNoiseQuality.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemRenderMode.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemRenderSpace.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemScalingMode.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemShapeConeEmitFrom.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemShapeMultiModeValue.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemShapeType.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemShapeType1.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemSimulationSpace.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemSortMode.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemSubEmitterProperties.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/ParticleSystemSubEmitterType.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/SpriteMaskInteraction.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/enums/UVChannelFlags.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleColorBySpeedModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleColorOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/others/ParticleEmissionBurst.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleEmissionModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleForceOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleInheritVelocityModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleLimitVelocityOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleMainModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleNoiseModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleRotationBySpeedModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleRotationOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShape.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeBox.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeCircle.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeCone.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeEdge.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeHemisphere.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/shapes/ParticleSystemShapeSphere.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleShapeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleSizeBySpeedModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleSizeOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleSubEmittersModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleSystemRenderer.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleTextureSheetAnimationModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/modules/ParticleVelocityOverLifetimeModule.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/Particle.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/ParticlesAdditive.shader.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/ParticlesAlphaBlendedPremultiply.shader.ts","../node_modules/.pnpm/@feng3d+particlesystem@0.5.0/node_modules/@feng3d/particlesystem/src/ParticleSystem.ts","../node_modules/.pnpm/@feng3d+terrain@0.5.0/node_modules/@feng3d/terrain/src/Terrain.ts","../node_modules/.pnpm/@feng3d+terrain@0.5.0/node_modules/@feng3d/terrain/src/TerrainData.ts","../node_modules/.pnpm/@feng3d+terrain@0.5.0/node_modules/@feng3d/terrain/src/TerrainGeometry.ts","../node_modules/.pnpm/@feng3d+terrain@0.5.0/node_modules/@feng3d/terrain/src/TerrainMaterial.ts","../node_modules/.pnpm/@feng3d+terrain@0.5.0/node_modules/@feng3d/terrain/src/TerrainMergeMethod.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/core/Transform2D.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/Button.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/enums/UIRenderMode.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/core/Canvas.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/core/CanvasRenderer.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/core/UIGeometry.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/core/UIMaterial.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/Image.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/polyfill/View.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/Rect.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/text/TextMetrics.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/text/TextStyle.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/text/drawText.ts","../node_modules/.pnpm/@feng3d+ui@0.5.0/node_modules/@feng3d/ui/src/Text.ts","../src/index.ts"],"sourcesContent":["declare global\r\n{\r\n\tinterface MixinsOAVComponentParamMap\r\n\t{\r\n\t}\r\n}\r\n\r\n/**\r\n * 构造函数\r\n */\r\ntype Constructor<T> = (new (...args: any[]) => T);\r\n\r\n/**\r\n * 标记objectview对象界面类\r\n */\r\nexport function OVComponent(component?: string)\r\n{\r\n\treturn (constructor: Constructor<any>) =>\r\n\t{\r\n\t\tcomponent = component || constructor.name;\r\n\t\tobjectview.OVComponent[component] = constructor;\r\n\t};\r\n}\r\n\r\n/**\r\n * 标记objectview块界面类\r\n */\r\nexport function OBVComponent(component?: string)\r\n{\r\n\treturn (constructor: Constructor<any>) =>\r\n\t{\r\n\t\tcomponent = component || constructor.name;\r\n\t\tobjectview.OBVComponent[component] = constructor;\r\n\t};\r\n}\r\n\r\n/**\r\n * 标记objectview属性界面类\r\n */\r\nexport function OAVComponent(component?: string)\r\n{\r\n\treturn (constructor: Constructor<any>) =>\r\n\t{\r\n\t\tcomponent = component || constructor.name;\r\n\t\tobjectview.OAVComponent[component] = constructor;\r\n\t};\r\n}\r\n\r\n/**\r\n * objectview类装饰器\r\n */\r\nexport function ov<K extends keyof OVComponentParamMap>(param: { component?: K; componentParam?: OVComponentParamMap[K]; })\r\n{\r\n\treturn (constructor: Constructor<any>) =>\r\n\t{\r\n\t\tif (!Object.getOwnPropertyDescriptor(constructor.prototype, objectviewKey))\r\n\t\t{\r\n\t\t\tconstructor.prototype[objectviewKey] = {};\r\n\t\t}\r\n\t\tconst objectview: ClassDefinition = constructor.prototype[objectviewKey];\r\n\t\tobjectview.component = param.component as string;\r\n\t\tobjectview.componentParam = param.componentParam;\r\n\t};\r\n}\r\n\r\n// /**\r\n//  * objectview类装饰器\r\n//  */\r\n// export function obv<K extends keyof OBVComponentParam>(param: { name: string; component?: K; componentParam?: OBVComponentParam[K]; })\r\n// {\r\n//     return (constructor: Function) =>\r\n//     {\r\n//         if (!Object.getOwnPropertyDescriptor(constructor[\"prototype\"], OBJECTVIEW_KEY))\r\n//             constructor[\"prototype\"][OBJECTVIEW_KEY] = {};\r\n//         var objectview: ClassDefinition = constructor[\"prototype\"][OBJECTVIEW_KEY];\r\n//         var blockDefinitionVec: BlockDefinition[] = objectview.blockDefinitionVec = objectview.blockDefinitionVec || [];\r\n//         blockDefinitionVec.push({\r\n//             name: param.name,\r\n//             component: param.component,\r\n//             componentParam: param.componentParam,\r\n//         });\r\n//     }\r\n// }\r\n\r\nexport type OAVComponentParams = Partial<OAVComponentParamMap[keyof OAVComponentParamMap]> & {\r\n\r\n\t/**\r\n\t * 是否可编辑\r\n\t */\r\n\teditable?: boolean;\r\n\r\n\t/**\r\n\t * 所属块名称\r\n\t */\r\n\tblock?: string;\r\n\r\n\t/**\r\n\t * 提示信息\r\n\t */\r\n\ttooltip?: string;\r\n\r\n\t/**\r\n\t * 优先级，数字越小，显示越靠前，默认为0\r\n\t */\r\n\tpriority?: number;\r\n\r\n\t/**\r\n\t * 是否排除\r\n\t */\r\n\texclude?: boolean;\r\n};\r\n\r\n/**\r\n * objectview属性装饰器\r\n * @param param 参数\r\n */\r\nexport function oav(param?: OAVComponentParams)\r\n{\r\n\treturn (target: any, propertyKey: string) =>\r\n\t{\r\n\t\tobjectview.addOAV(target, propertyKey, param);\r\n\t};\r\n}\r\n\r\n/**\r\n * 对象界面\r\n */\r\nexport class ObjectView\r\n{\r\n\t/**\r\n\t * 默认基础类型对象界面类定义\r\n\t */\r\n\tdefaultBaseObjectViewClass = '';\r\n\t/**\r\n\t * 默认对象界面类定义\r\n\t */\r\n\tdefaultObjectViewClass = '';\r\n\t/**\r\n\t * 默认对象属性界面类定义\r\n\t */\r\n\tdefaultObjectAttributeViewClass = '';\r\n\t/**\r\n\t * 属性块默认界面\r\n\t */\r\n\tdefaultObjectAttributeBlockView = '';\r\n\t/**\r\n\t * 指定属性类型界面类定义字典（key:属性类名称,value:属性界面类定义）\r\n\t */\r\n\tdefaultTypeAttributeView = {};\r\n\tOAVComponent = {};\r\n\tOBVComponent = {};\r\n\tOVComponent = {};\r\n\tsetDefaultTypeAttributeView(type: string, component: AttributeTypeDefinition)\r\n\t{\r\n\t\tthis.defaultTypeAttributeView[type] = component;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取对象界面\r\n\t * @param object 用于生成界面的对象\r\n\t * @param param 参数\r\n\t */\r\n\tgetObjectView(object: any, param?: GetObjectViewParam): IObjectView\r\n\t{\r\n\t\tconst p: GetObjectViewParam = { autocreate: true, excludeAttrs: [] };\r\n\t\tObject.assign(p, param);\r\n\r\n\t\tconst classConfig = this.getObjectInfo(object, p.autocreate, p.excludeAttrs);\r\n\t\tclassConfig.editable = classConfig.editable === undefined ? true : classConfig.editable;\r\n\r\n\t\tObject.assign(classConfig, param);\r\n\r\n\t\t// 处理 exclude\r\n\t\tclassConfig.objectAttributeInfos = classConfig.objectAttributeInfos.filter((v) => !v.exclude);\r\n\t\tclassConfig.objectBlockInfos.forEach((v) =>\r\n\t\t{\r\n\t\t\tv.itemList = v.itemList.filter((vv) => !vv.exclude);\r\n\t\t});\r\n\r\n\t\tclassConfig.objectAttributeInfos.forEach((v) => { v.editable = v.editable && classConfig.editable; });\r\n\r\n\t\tif (objectIsEmpty(classConfig.component) || classConfig.component === '')\r\n\t\t{\r\n\t\t\t// 返回基础类型界面类定义\r\n\t\t\tif (!(classConfig.owner instanceof Object))\r\n\t\t\t{\r\n\t\t\t\tclassConfig.component = this.defaultBaseObjectViewClass;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// 使用默认类型界面类定义\r\n\t\t\t\tclassConfig.component = this.defaultObjectViewClass;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst Cls = this.OVComponent[classConfig.component];\r\n\t\tconsole.assert(Cls !== null, `没有定义 ${classConfig.component} 对应的对象界面类，需要在 ${classConfig.component} 中使用@OVComponent()标记`);\r\n\t\tconst view = new Cls(classConfig);\r\n\r\n\t\treturn view;\r\n\t}\r\n\t/**\r\n\t * 获取属性界面\r\n\t *\r\n\t * @static\r\n\t * @param attributeViewInfo 属性界面信息\r\n\t * @returns                        属性界面\r\n\t *\r\n\t * @memberOf ObjectView\r\n\t */\r\n\tgetAttributeView(attributeViewInfo: AttributeViewInfo): IObjectAttributeView\r\n\t{\r\n\t\tif (objectIsEmpty(attributeViewInfo.component) || attributeViewInfo.component === '')\r\n\t\t{\r\n\t\t\tconst defaultViewClass = this.defaultTypeAttributeView[attributeViewInfo.type];\r\n\t\t\tconst tempComponent = defaultViewClass ? defaultViewClass.component : '';\r\n\t\t\tif (tempComponent !== null && tempComponent !== '')\r\n\t\t\t{\r\n\t\t\t\tattributeViewInfo.component = defaultViewClass.component;\r\n\t\t\t\tattributeViewInfo.componentParam = defaultViewClass.componentParam || attributeViewInfo.componentParam;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (objectIsEmpty(attributeViewInfo.component) || attributeViewInfo.component === '')\r\n\t\t{\r\n\t\t\t// 使用默认对象属性界面类定义\r\n\t\t\tattributeViewInfo.component = this.defaultObjectAttributeViewClass;\r\n\t\t}\r\n\r\n\t\tconst Cls = this.OAVComponent[attributeViewInfo.component];\r\n\t\tconsole.assert(Cls !== null, `没有定义 ${attributeViewInfo.component} 对应的属性界面类，需要在 ${attributeViewInfo.component} 中使用@OVAComponent()标记`);\r\n\t\tconst view = new Cls(attributeViewInfo);\r\n\r\n\t\treturn view;\r\n\t}\r\n\t/**\r\n\t * 获取块界面\r\n\t *\r\n\t * @static\r\n\t * @param blockViewInfo 块界面信息\r\n\t * @returns                块界面\r\n\t *\r\n\t * @memberOf ObjectView\r\n\t */\r\n\tgetBlockView(blockViewInfo: BlockViewInfo): IObjectBlockView\r\n\t{\r\n\t\tif (objectIsEmpty(blockViewInfo.component) || blockViewInfo.component === '')\r\n\t\t{\r\n\t\t\t// 返回默认对象属性界面类定义\r\n\t\t\tblockViewInfo.component = this.defaultObjectAttributeBlockView;\r\n\t\t}\r\n\r\n\t\tconst Cls = this.OBVComponent[blockViewInfo.component];\r\n\t\tconsole.assert(Cls !== null, `没有定义 ${blockViewInfo.component} 对应的块界面类，需要在 ${blockViewInfo.component} 中使用@OVBComponent()标记`);\r\n\t\tconst view = new Cls(blockViewInfo);\r\n\r\n\t\treturn view;\r\n\t}\r\n\r\n\taddOAV(target: any, propertyKey: string, param?: OAVComponentParams)\r\n\t{\r\n\t\tif (!Object.getOwnPropertyDescriptor(target, objectviewKey)) { target[objectviewKey] = {}; }\r\n\t\tconst objectview: ClassDefinition = target[objectviewKey] || {};\r\n\t\tconst attributeDefinitionVec: AttributeDefinition[] = objectview.attributeDefinitionVec = objectview.attributeDefinitionVec || [];\r\n\r\n\t\tconst attributeDefinition = Object.assign({ name: propertyKey }, param);\r\n\t\tattributeDefinitionVec.push(attributeDefinition);\r\n\t}\r\n\r\n\t/**\r\n\t * 获取对象信息\r\n\t * @param object 对象\r\n\t * @param autocreate 当对象没有注册属性时是否自动创建属性信息\r\n\t * @param excludeAttrs 排除属性列表\r\n\t * @return\r\n\t */\r\n\tgetObjectInfo(object: any, autocreate = true, excludeAttrs: string[] = []): ObjectViewInfo\r\n\t{\r\n\t\tif (typeof object === 'string' || typeof object === 'number' || typeof object === 'boolean')\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tobjectAttributeInfos: [],\r\n\t\t\t\tobjectBlockInfos: [],\r\n\t\t\t\towner: object,\r\n\t\t\t\tcomponent: '',\r\n\t\t\t\tcomponentParam: undefined\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tlet classConfig = getInheritClassDefinition(object, autocreate);\r\n\r\n\t\tclassConfig = classConfig || {\r\n\t\t\tcomponent: '',\r\n\t\t\tcomponentParam: null,\r\n\t\t\tattributeDefinitionVec: [],\r\n\t\t\tblockDefinitionVec: [],\r\n\t\t};\r\n\r\n\t\tconst objectAttributeInfos: AttributeViewInfo[] = [];\r\n\t\tclassConfig.attributeDefinitionVec.forEach((attributeDefinition) =>\r\n\t\t{\r\n\t\t\tif (excludeAttrs.indexOf(attributeDefinition.name) === -1)\r\n\t\t\t{\r\n\t\t\t\tlet editable = attributeDefinition.editable === undefined ? true : attributeDefinition.editable;\r\n\t\t\t\teditable = editable && propertyIsWritable(object, attributeDefinition.name);\r\n\r\n\t\t\t\tconst obj: AttributeViewInfo = { owner: object, type: getAttributeType(object[attributeDefinition.name]) } as any;\r\n\t\t\t\tObject.assign(obj, attributeDefinition);\r\n\t\t\t\tobj.editable = editable;\r\n\t\t\t\tobjectAttributeInfos.push(obj);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction getAttributeType(attribute): string\r\n\t\t{\r\n\t\t\tif (objectIsEmpty(attribute))\r\n\t\t\t{\r\n\t\t\t\treturn 'null';\r\n\t\t\t}\r\n\t\t\tif (typeof attribute === 'number')\r\n\t\t\t{\r\n\t\t\t\treturn 'number';\r\n\t\t\t}\r\n\r\n\t\t\treturn attribute.constructor.name;\r\n\t\t}\r\n\r\n\t\tobjectAttributeInfos.forEach((v, i) => { v[tempIKey] = i; });\r\n\t\tobjectAttributeInfos.sort((a, b) =>\r\n\t\t\t((a.priority || 0) - (b.priority || 0)) || (a[tempIKey] - b[tempIKey]));\r\n\t\tobjectAttributeInfos.forEach((v, _i) => { delete v[tempIKey]; });\r\n\r\n\t\tconst objectInfo: ObjectViewInfo = {\r\n\t\t\tobjectAttributeInfos,\r\n\t\t\tobjectBlockInfos: getObjectBlockInfos(object, objectAttributeInfos, classConfig.blockDefinitionVec),\r\n\t\t\towner: object,\r\n\t\t\tcomponent: classConfig.component,\r\n\t\t\tcomponentParam: classConfig.componentParam\r\n\t\t};\r\n\r\n\t\treturn objectInfo;\r\n\t}\r\n}\r\n\r\n/**\r\n * 对象界面\r\n */\r\nexport const objectview = new ObjectView();\r\n\r\nfunction mergeClassDefinition(oldClassDefinition: ClassDefinition, newClassDefinition: ClassDefinition)\r\n{\r\n\tif (newClassDefinition.component && newClassDefinition.component.length > 0)\r\n\t{\r\n\t\toldClassDefinition.component = newClassDefinition.component;\r\n\t\toldClassDefinition.componentParam = newClassDefinition.componentParam;\r\n\t}\r\n\t// 合并属性\r\n\toldClassDefinition.attributeDefinitionVec = oldClassDefinition.attributeDefinitionVec || [];\r\n\tif (newClassDefinition.attributeDefinitionVec && newClassDefinition.attributeDefinitionVec.length > 0)\r\n\t{\r\n\t\tnewClassDefinition.attributeDefinitionVec.forEach((newAttributeDefinition) =>\r\n\t\t{\r\n\t\t\tlet isfound = false;\r\n\t\t\toldClassDefinition.attributeDefinitionVec.forEach((oldAttributeDefinition) =>\r\n\t\t\t{\r\n\t\t\t\tif (newAttributeDefinition && oldAttributeDefinition.name === newAttributeDefinition.name)\r\n\t\t\t\t{\r\n\t\t\t\t\tObject.assign(oldAttributeDefinition, newAttributeDefinition);\r\n\t\t\t\t\t//\r\n\t\t\t\t\tconst oldIndex = oldClassDefinition.attributeDefinitionVec.indexOf(oldAttributeDefinition);\r\n\t\t\t\t\toldClassDefinition.attributeDefinitionVec.splice(oldIndex, 1);\r\n\t\t\t\t\t//\r\n\t\t\t\t\toldClassDefinition.attributeDefinitionVec.push(oldAttributeDefinition);\r\n\t\t\t\t\tisfound = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!isfound)\r\n\t\t\t{\r\n\t\t\t\tconst attributeDefinition: AttributeDefinition = {} as any;\r\n\t\t\t\tObject.assign(attributeDefinition, newAttributeDefinition);\r\n\t\t\t\toldClassDefinition.attributeDefinitionVec.push(attributeDefinition);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// 合并块\r\n\toldClassDefinition.blockDefinitionVec = oldClassDefinition.blockDefinitionVec || [];\r\n\tif (newClassDefinition.blockDefinitionVec && newClassDefinition.blockDefinitionVec.length > 0)\r\n\t{\r\n\t\tnewClassDefinition.blockDefinitionVec.forEach((newBlockDefinition) =>\r\n\t\t{\r\n\t\t\tlet isfound = false;\r\n\t\t\toldClassDefinition.blockDefinitionVec.forEach((oldBlockDefinition) =>\r\n\t\t\t{\r\n\t\t\t\tif (newBlockDefinition && newBlockDefinition.name === oldBlockDefinition.name)\r\n\t\t\t\t{\r\n\t\t\t\t\tObject.assign(oldBlockDefinition, newBlockDefinition);\r\n\t\t\t\t\tisfound = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (!isfound)\r\n\t\t\t{\r\n\t\t\t\tconst blockDefinition: BlockDefinition = {} as any;\r\n\t\t\t\tObject.assign(blockDefinition, newBlockDefinition);\r\n\t\t\t\toldClassDefinition.blockDefinitionVec.push(blockDefinition);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction getInheritClassDefinition(object: any, autocreate = true)\r\n{\r\n\tconst classConfigVec: ClassDefinition[] = [];\r\n\tlet prototype = object;\r\n\twhile (prototype)\r\n\t{\r\n\t\tconst classConfig: ClassDefinition = prototype[objectviewKey];\r\n\t\tif (classConfig) { classConfigVec.push(classConfig); }\r\n\t\tprototype = prototype[protoKey];\r\n\t}\r\n\tlet resultclassConfig: ClassDefinition;\r\n\tif (classConfigVec.length > 0)\r\n\t{\r\n\t\tresultclassConfig = {} as any;\r\n\t\tfor (let i = classConfigVec.length - 1; i >= 0; i--)\r\n\t\t{\r\n\t\t\tmergeClassDefinition(resultclassConfig, classConfigVec[i]);\r\n\t\t}\r\n\t}\r\n\telse if (autocreate)\r\n\t{\r\n\t\tresultclassConfig = getDefaultClassConfig(object);\r\n\t}\r\n\r\n\treturn resultclassConfig;\r\n}\r\n\r\nfunction getDefaultClassConfig(object: any, filterReg = /(([a-zA-Z0-9])+|(\\d+))/)\r\n{\r\n\t//\r\n\tlet attributeNames: string[] = [];\r\n\tfor (const key in object)\r\n\t{\r\n\t\tconst result = filterReg.exec(key);\r\n\t\tif (result && result[0] === key)\r\n\t\t{\r\n\t\t\tconst value = object[key];\r\n\t\t\tif (value === undefined || value instanceof Function) { continue; }\r\n\t\t\tattributeNames.push(key);\r\n\t\t}\r\n\t}\r\n\tattributeNames = attributeNames.sort();\r\n\r\n\tconst attributeDefinitionVec: AttributeDefinition[] = [];\r\n\tattributeNames.forEach((element) =>\r\n\t{\r\n\t\tattributeDefinitionVec.push({\r\n\t\t\tname: element,\r\n\t\t\tblock: '',\r\n\t\t});\r\n\t});\r\n\r\n\tconst defaultClassConfig: ClassDefinition = {\r\n\t\tcomponent: '',\r\n\t\tattributeDefinitionVec,\r\n\t\tblockDefinitionVec: []\r\n\t};\r\n\r\n\treturn defaultClassConfig;\r\n}\r\n\r\n/**\r\n * 获取对象块信息列表\r\n * @param object 对象\r\n * @returns        对象块信息列表\r\n */\r\nfunction getObjectBlockInfos(object: any, objectAttributeInfos: AttributeViewInfo[], blockDefinitionVec?: BlockDefinition[]): BlockViewInfo[]\r\n{\r\n\tconst objectBlockInfos: BlockViewInfo[] = [];\r\n\tconst dic: { [blockName: string]: BlockViewInfo } = {};\r\n\tlet objectBlockInfo: BlockViewInfo;\r\n\r\n\t// 收集块信息\r\n\tlet i = 0;\r\n\tconst tempVec: BlockViewInfo[] = [];\r\n\tfor (i = 0; i < objectAttributeInfos.length; i++)\r\n\t{\r\n\t\tconst blockName = objectAttributeInfos[i].block || '';\r\n\t\tobjectBlockInfo = dic[blockName];\r\n\t\tif (objectIsEmpty(objectBlockInfo))\r\n\t\t{\r\n\t\t\tobjectBlockInfo = dic[blockName] = { name: blockName, owner: object, itemList: [] };\r\n\t\t\ttempVec.push(objectBlockInfo);\r\n\t\t}\r\n\t\tobjectBlockInfo.itemList.push(objectAttributeInfos[i]);\r\n\t}\r\n\r\n\t// 按快的默认顺序生成 块信息列表\r\n\tlet blockDefinition: BlockDefinition;\r\n\tconst pushDic = {};\r\n\r\n\tif (blockDefinitionVec)\r\n\t{\r\n\t\tfor (i = 0; i < blockDefinitionVec.length; i++)\r\n\t\t{\r\n\t\t\tblockDefinition = blockDefinitionVec[i];\r\n\t\t\tobjectBlockInfo = dic[blockDefinition.name];\r\n\t\t\tif (objectIsEmpty(objectBlockInfo))\r\n\t\t\t{\r\n\t\t\t\tobjectBlockInfo = {\r\n\t\t\t\t\tname: blockDefinition.name,\r\n\t\t\t\t\towner: object,\r\n\t\t\t\t\titemList: []\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tobjectBlockInfo.component = blockDefinition.component;\r\n\t\t\tobjectBlockInfo.componentParam = blockDefinition.componentParam;\r\n\t\t\tobjectBlockInfos.push(objectBlockInfo);\r\n\t\t\tpushDic[objectBlockInfo.name] = true;\r\n\t\t}\r\n\t}\r\n\t// 添加剩余的块信息\r\n\tfor (i = 0; i < tempVec.length; i++)\r\n\t{\r\n\t\tif (Boolean(pushDic[tempVec[i].name]) === false)\r\n\t\t{\r\n\t\t\tobjectBlockInfos.push(tempVec[i]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn objectBlockInfos;\r\n}\r\n\r\n/**\r\n * OAV 组件参数映射\r\n * {key: OAV组件名称,value：组件参数类定义}\r\n */\r\nexport interface OAVComponentParamMap extends MixinsOAVComponentParamMap\r\n{\r\n\tOAVEnum: OAVEnumParam;\r\n}\r\n\r\n/**\r\n * OAVEnum 组件参数\r\n */\r\nexport interface OAVEnumParam\r\n{\r\n\tcomponent: 'OAVEnum';\r\n\r\n\tcomponentParam: {\r\n\t\t/**\r\n\t\t * 枚举类型\r\n\t\t */\r\n\t\tenumClass: any,\r\n\t}\r\n}\r\n\r\nexport interface OBVComponentParamMap\r\n{\r\n\t块组件名称: '块组件参数';\r\n\t[component: string]: any;\r\n}\r\n\r\nexport interface OVComponentParamMap\r\n{\r\n\t类组件名称: '类组件参数';\r\n\t[component: string]: any;\r\n}\r\n\r\n/**\r\n * 定义属性\r\n */\r\nexport interface AttributeDefinition\r\n{\r\n\t/**\r\n\t * 属性名称\r\n\t */\r\n\tname: string;\r\n\r\n\t/**\r\n\t * 是否可编辑\r\n\t */\r\n\teditable?: boolean;\r\n\r\n\t/**\r\n\t * 所属块名称\r\n\t */\r\n\tblock?: string;\r\n\r\n\t/**\r\n\t * 提示信息\r\n\t */\r\n\ttooltip?: string;\r\n\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n\r\n\t/**\r\n\t * 优先级，数字越小，显示越靠前，默认为0\r\n\t */\r\n\tpriority?: number;\r\n\r\n\t/**\r\n\t * 是否排除\r\n\t */\r\n\texclude?: boolean;\r\n}\r\n\r\n/**\r\n * 定义特定属性类型默认界面\r\n */\r\nexport interface AttributeTypeDefinition\r\n{\r\n\t/**\r\n\t * 界面类\r\n\t */\r\n\tcomponent: string;\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n}\r\n\r\n/**\r\n * 块定义\r\n */\r\nexport interface BlockDefinition\r\n{\r\n\t/**\r\n\t * 块名称\r\n\t */\r\n\tname: string;\r\n\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n}\r\n\r\n/**\r\n * ObjectView类配置\r\n */\r\nexport interface ClassDefinition\r\n{\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n\r\n\t/**\r\n\t * 自定义对象属性定义字典（key:属性名,value:属性定义）\r\n\t */\r\n\tattributeDefinitionVec: AttributeDefinition[];\r\n\r\n\t/**\r\n\t * 自定义对象属性块界面类定义字典（key:属性块名称,value:自定义对象属性块界面类定义）\r\n\t */\r\n\tblockDefinitionVec: BlockDefinition[];\r\n}\r\n\r\n/**\r\n * 对象属性界面接口\r\n */\r\nexport interface IObjectAttributeView extends MixinsIObjectAttributeView\r\n{\r\n\t/**\r\n\t * 界面所属对象（空间）\r\n\t */\r\n\tspace: any;\r\n\r\n\t/**\r\n\t * 更新界面\r\n\t */\r\n\tupdateView(): void;\r\n\r\n\t/**\r\n\t * 属性名称\r\n\t */\r\n\tattributeName: string;\r\n\r\n\t/**\r\n\t * 属性值\r\n\t */\r\n\tattributeValue: any;\r\n\r\n\t/**\r\n\t * 对象属性界面\r\n\t */\r\n\tobjectView: IObjectView;\r\n\r\n\t/**\r\n\t * 对象属性块界面\r\n\t */\r\n\tobjectBlockView: IObjectBlockView;\r\n}\r\n\r\n/**\r\n * 对象属性块界面接口\r\n */\r\nexport interface IObjectBlockView extends MixinsIObjectBlockView\r\n{\r\n\t/**\r\n\t * 界面所属对象（空间）\r\n\t */\r\n\tspace: any;\r\n\r\n\t/**\r\n\t * 块名称\r\n\t */\r\n\tblockName: string;\r\n\r\n\t/**\r\n\t * 对象属性界面\r\n\t */\r\n\tobjectView: IObjectView;\r\n\r\n\t/**\r\n\t * 更新界面\r\n\t */\r\n\tupdateView(): void;\r\n\r\n\t/**\r\n\t * 获取属性界面\r\n\t * @param attributeName 属性名称\r\n\t */\r\n\tgetAttributeView(attributeName: string): IObjectAttributeView;\r\n}\r\n\r\n/**\r\n * 对象界面接口\r\n */\r\nexport interface IObjectView extends MixinsIObjectView\r\n{\r\n\t/**\r\n\t * 界面所属对象（空间）\r\n\t */\r\n\tspace: any;\r\n\r\n\t/**\r\n\t * 更新界面\r\n\t */\r\n\tupdateView(): void;\r\n\r\n\t/**\r\n\t * 获取块界面\r\n\t * @param blockName 块名称\r\n\t */\r\n\tgetblockView(blockName: string): IObjectBlockView;\r\n\r\n\t/**\r\n\t * 获取属性界面\r\n\t * @param attributeName 属性名称\r\n\t */\r\n\tgetAttributeView(attributeName: string): IObjectAttributeView;\r\n}\r\n\r\n/**\r\n * 对象属性信息\r\n */\r\nexport interface AttributeViewInfo\r\n{\r\n\t/**\r\n\t * 属性名称\r\n\t */\r\n\tname: string;\r\n\r\n\t/**\r\n\t * 属性类型\r\n\t */\r\n\ttype: string;\r\n\r\n\t/**\r\n\t * 是否可写\r\n\t */\r\n\teditable: boolean;\r\n\r\n\t/**\r\n\t * 所属块名称\r\n\t */\r\n\tblock?: string;\r\n\r\n\t/**\r\n\t * 提示信息\r\n\t */\r\n\ttooltip?: string;\r\n\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n\r\n\t/**\r\n\t * 属性所属对象\r\n\t */\r\n\towner: any;\r\n\r\n\t/**\r\n\t * 优先级，数字越小，显示越靠前，默认为0\r\n\t */\r\n\tpriority?: number;\r\n\r\n\t/**\r\n\t * 是否排除\r\n\t */\r\n\texclude?: boolean;\r\n}\r\n\r\n/**\r\n * 对象属性块\r\n */\r\nexport interface BlockViewInfo\r\n{\r\n\t/**\r\n\t * 块名称\r\n\t */\r\n\tname: string;\r\n\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n\r\n\t/**\r\n\t * 属性信息列表\r\n\t */\r\n\titemList: AttributeViewInfo[];\r\n\r\n\t/**\r\n\t * 属性拥有者\r\n\t */\r\n\towner: any;\r\n}\r\n\r\n/**\r\n * 对象信息\r\n */\r\nexport interface ObjectViewInfo\r\n{\r\n\t/**\r\n\t * 组件\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * 组件参数\r\n\t */\r\n\tcomponentParam?: any;\r\n\r\n\t/**\r\n\t * 对象属性列表\r\n\t */\r\n\tobjectAttributeInfos: AttributeViewInfo[];\r\n\r\n\t/**\r\n\t * 对象块信息列表\r\n\t */\r\n\tobjectBlockInfos: BlockViewInfo[];\r\n\r\n\t/**\r\n\t * 保存类的一个实例，为了能够获取动态属性信息\r\n\t */\r\n\towner: any;\r\n\r\n\t/**\r\n\t * 是否可编辑\r\n\t */\r\n\teditable?: boolean;\r\n}\r\n\r\nexport type GetObjectViewParam = {\r\n\t/**\r\n\t * 当对象没有注册属性时是否自动创建属性信息\r\n\t */\r\n\tautocreate?: boolean,\r\n\t/**\r\n\t * 排除属性列表\r\n\t */\r\n\texcludeAttrs?: string[]\r\n\t/**\r\n\t * 是否可编辑\r\n\t */\r\n\teditable?: boolean;\r\n};\r\n\r\n/**\r\n * 属性是否可写\r\n * @param obj 对象\r\n * @param property 属性名称\r\n */\r\nfunction propertyIsWritable(obj: any, property: string): boolean\r\n{\r\n\tconst data = getPropertyDescriptor(obj, property);\r\n\tif (!data) return false;\r\n\tif (data.get && !data.set) return false;\r\n\r\n\treturn true;\r\n}\r\n\r\n/**\r\n * 从对象自身或者对象的原型中获取属性描述\r\n *\r\n * @param object 对象\r\n * @param property 属性名称\r\n */\r\nfunction getPropertyDescriptor(object: any, property: string): PropertyDescriptor | undefined\r\n{\r\n\tconst data = Object.getOwnPropertyDescriptor(object, property);\r\n\tif (data)\r\n\t{\r\n\t\treturn data;\r\n\t}\r\n\tconst prototype = Object.getPrototypeOf(object);\r\n\tif (prototype)\r\n\t{\r\n\t\treturn getPropertyDescriptor(prototype, property);\r\n\t}\r\n\r\n\treturn undefined;\r\n}\r\n\r\nconst tempIKey = '___tempI';\r\nconst protoKey = '__proto__';\r\nconst objectviewKey = '__objectview__';\r\n\r\n/**\r\n * 判断对象是否为null或者undefine\r\n *\r\n * @param obj\r\n * @returns\r\n */\r\nfunction objectIsEmpty(obj: any)\r\n{\r\n\tif (obj === undefined || obj === null)\r\n\t{ return true; }\r\n\r\n\treturn false;\r\n}\r\n","export { };\r\n\r\ndeclare global\r\n{\r\n    interface Array<T>\r\n    {\r\n        /**\r\n         * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n         * @param searchElement The element to search for.\r\n         * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n         */\r\n        includes(searchElement: T, fromIndex?: number): boolean;\r\n    }\r\n}\r\n\r\nif (!Array.prototype.includes)\r\n{\r\n    // eslint-disable-next-line no-extend-native\r\n    Object.defineProperty(Array.prototype, 'includes', {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value(searchElement: any, fromIndex: number)\r\n        {\r\n            for (let i = fromIndex, n = this.length; i < n; i++)\r\n            {\r\n                if (searchElement === this[i]) return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n        writable: true,\r\n    });\r\n}\r\n","export class ArrayUtils\r\n{\r\n    /**\r\n      * 比较两个数组中元素是否相同\r\n      *\r\n      * @param array 被操作数组\r\n      * @param arr 用于比较的数组\r\n      */\r\n    static equal<T>(array: T[], arr: ArrayLike<T>): boolean\r\n    {\r\n        if (array.length !== arr.length) return false;\r\n        const keys = Object.keys(arr);\r\n        for (let i = 0, n = keys.length; i < n; i++)\r\n        {\r\n            const key = keys[i];\r\n            if (array[key] !== arr[key]) return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 连接一个或多个数组到自身\r\n     *\r\n     * @param array 被操作数组\r\n     * @param items 要添加到数组末尾的其他项。\r\n     * @returns 返回自身\r\n     */\r\n    static concatToSelf<T>(array: T[], ...items: (T | ConcatArray<T>)[]): T[]\r\n    {\r\n        let arr: T[] = [];\r\n        items.forEach((v) => { arr = arr.concat(v); });\r\n        arr.forEach((v) => array.push(v));\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 使数组变得唯一，不存在两个相等的元素\r\n     *\r\n     * @param array 被操作数组\r\n     * @param compare 比较函数\r\n     */\r\n    static unique<T>(array: T[], compare = (a: T, b: T) => a === b): T[]\r\n    {\r\n        const keys = Object.keys(array);\r\n        const ids = keys.map((v) => Number(v)).filter((v) => !isNaN(v));\r\n        const deleteMap: { [id: number]: true } = {};\r\n        //\r\n        for (let i = 0, n = ids.length; i < n; i++)\r\n        {\r\n            const ki = ids[i];\r\n            if (deleteMap[ki]) continue;\r\n            for (let j = i + 1; j < n; j++)\r\n            {\r\n                const kj = ids[j];\r\n                if (compare(array[ki], array[kj])) deleteMap[kj] = true;\r\n            }\r\n        }\r\n        //\r\n        for (let i = ids.length - 1; i >= 0; i--)\r\n        {\r\n            const id = ids[i];\r\n            if (deleteMap[id]) array.splice(id, 1);\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 使用b元素替换数组中第一个a元素。\r\n     *\r\n     * @param array 被操作数组\r\n     * @param a 被替换的元素\r\n     * @param b 用于替换的元素\r\n     * @param isAdd 当数组中没有找到a元素时，是否需要把b元素添加到数组尾部。默认值为true。\r\n     */\r\n    static replace<T>(array: T[], a: T, b: T, isAdd = true): T[]\r\n    {\r\n        let isreplace = false;\r\n        for (let i = 0; i < array.length; i++)\r\n        {\r\n            if (array[i] === a)\r\n            {\r\n                array[i] = b;\r\n                isreplace = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!isreplace && isAdd) array.push(b);\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 创建数组\r\n     * @param length 长度\r\n     * @param itemFunc 创建元素方法\r\n     */\r\n    static create<T>(length: number, itemFunc: (index: number) => T): T[]\r\n    {\r\n        const arr: T[] = [];\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            arr[i] = itemFunc(i);\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * 二分查找,如果有多个则返回第一个\r\n     * @param array 数组\r\n     * @param target 寻找的目标\r\n     * @param compare 比较函数\r\n     * @param start 起始位置\r\n     * @param end 结束位置\r\n     * @returns          查找到目标时返回所在位置，否则返回-1\r\n     */\r\n    static binarySearch<T>(array: T[], target: T, compare: (a: T, b: T) => number, start?: number, end?: number): number\r\n    {\r\n        const insert = ArrayUtils.binarySearchInsert(array, target, compare, start, end);\r\n        if (array[insert] === target)\r\n        { return insert; }\r\n\r\n        return -1;\r\n    }\r\n    /**\r\n     * 二分查找插入位置,如果有多个则返回第一个\r\n     * @param array 数组\r\n     * @param target 寻找的目标\r\n     * @param compare 比较函数\r\n     * @param start 起始位置\r\n     * @param end 结束位置\r\n     * @returns          目标所在位置（如果该位置上不是目标对象，则该索引为该目标可插入的位置）\r\n     */\r\n    static binarySearchInsert<T>(array: T[], target: T, compare: (a: T, b: T) => number, start?: number, end?: number): number\r\n    {\r\n        if (start === undefined) start = 0;\r\n        if (end === undefined) end = array.length;\r\n        if (start === end)\r\n        { return start; }\r\n        if (compare(array[start], target) === 0)\r\n        {\r\n            return start;\r\n        }\r\n        const middle = ~~((start + end) / 2);\r\n        if (compare(array[middle], target) < 0)\r\n        {\r\n            start = middle + 1;\r\n        }\r\n        else\r\n        {\r\n            end = middle;\r\n        }\r\n\r\n        return ArrayUtils.binarySearchInsert(array, target, compare, start, end);\r\n    }\r\n\r\n    /**\r\n     * 判断数组是否唯一\r\n     *\r\n     * @param array 被检查数组\r\n     * @param compare 比较函数\r\n     */\r\n    static isUnique<T>(array: T[], compare = (a: T, b: T) => a === b): boolean\r\n    {\r\n        for (let i = array.length - 1; i >= 0; i--)\r\n        {\r\n            for (let j = 0; j < i; j++)\r\n            {\r\n                if (compare(array[i], array[j]))\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 删除元素\r\n     *\r\n     * @param array 被操作数组\r\n     * @param item 被删除元素\r\n     * @returns 被删除元素在数组中的位置\r\n     */\r\n    static deleteItem<T>(array: T[], item: T): number\r\n    {\r\n        const index = array.indexOf(item);\r\n        if (index !== -1) array.splice(index, 1);\r\n\r\n        return index;\r\n    }\r\n}\r\n\r\n","import { ArrayUtils } from './ArrayUtils';\r\nimport { gPartial } from './Types';\r\n\r\n/**\r\n * ObjectUtils.assignDeep 中 转换结果的函数定义\r\n */\r\ninterface AssignDeepHandler\r\n{\r\n    /**\r\n     *\r\n     * @param target 目标对象\r\n     * @param source 源数据\r\n     * @param key 属性名称\r\n     * @param replacers 转换函数\r\n     * @param deep 当前深度\r\n     */\r\n    (target: any, source: any, key: string, replacers: AssignDeepHandler[], deep: number): boolean;\r\n}\r\n\r\nexport class ObjectUtils\r\n{\r\n    /**\r\n     * 判断是否为基础类型 undefined,null,boolean,string,number\r\n     */\r\n    static isBaseType(object: any): boolean\r\n    {\r\n        // 基础类型\r\n        if (\r\n            object === undefined || object === null\r\n            || typeof object === 'boolean'\r\n            || typeof object === 'string'\r\n            || typeof object === 'number'\r\n        )\r\n        { return true; }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 执行方法\r\n     *\r\n     * 用例：\r\n     * 1. 给一个新建的对象进行初始化\r\n     *\r\n     *  ``` startLifetime = ObjectUtils.runFunc(new MinMaxCurve(), (obj) => { obj.mode = MinMaxCurveMode.Constant; (<MinMaxCurveConstant>obj.minMaxCurve).value = 5; }); ```\r\n     *\r\n     * @param obj 对象\r\n     * @param func 被执行的方法\r\n     */\r\n    static runFunc<T>(obj: T, func: (obj: T) => void): T\r\n    {\r\n        func(obj);\r\n\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为Object对象，构造函数是否为Object， 检测 ObjectUtils.constructor === Object\r\n     *\r\n     * @param object 用于判断的对象\r\n     */\r\n    static isObject(object: any): boolean\r\n    {\r\n        return object?.constructor.name === 'Object';\r\n    }\r\n\r\n    /**\r\n     * 获取对象对应属性上的值\r\n     *\r\n     * @param object 对象\r\n     * @param property 属性名称，可以是 \"a\" 或者 \"a.b\" 或者 [\"a\",\"b\"]\r\n     */\r\n    static getPropertyValue(object: any, property: string | string[]): any\r\n    {\r\n        if (typeof property === 'string') property = property.split('.');\r\n        let value = object;\r\n        const len = property.length;\r\n        for (let i = 0; i < len; i++)\r\n        {\r\n            if (ObjectUtils.objectIsEmpty(value)) return undefined;\r\n            value = value[property[i]];\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 获取对象上属性链列表\r\n     *\r\n     * 例如 object值为{ a: { b: { c: 1 }, d: 2 } }时则返回 [\"a.b.c\",\"a.d\"]\r\n     *\r\n     * @param object 对象\r\n     */\r\n    static getPropertyChains(object: any): string[]\r\n    {\r\n        const result: string[] = [];\r\n        // 属性名称列表\r\n        const propertys = Object.keys(object);\r\n        // 属性所属对象列表\r\n        const hosts = new Array(propertys.length).fill(object);\r\n        // 父属性所在编号列表\r\n        const parentPropertyIndices = new Array(propertys.length).fill(-1);\r\n        // 处理到的位置\r\n        let index = 0;\r\n        while (index < propertys.length)\r\n        {\r\n            const host = hosts[index];\r\n            const cp = propertys[index];\r\n            const cv = host[cp];\r\n            let vks: string[];\r\n            if (ObjectUtils.objectIsEmpty(cv) || ObjectUtils.isBaseType(cv) || (vks = Object.keys(cv)).length === 0)\r\n            {\r\n                // 处理叶子属性\r\n                const ps = [cp];\r\n                let ci = index;\r\n                // 查找并组合属性链\r\n                while ((ci = parentPropertyIndices[ci]) !== -1)\r\n                {\r\n                    ps.push(propertys[ci]);\r\n                }\r\n                ps.reverse();\r\n                result.push(ps.join('.'));\r\n            }\r\n            else\r\n            {\r\n                // 处理中间属性\r\n                // eslint-disable-next-line no-loop-func\r\n                vks.forEach((k) =>\r\n                {\r\n                    propertys.push(k);\r\n                    hosts.push(cv);\r\n                    parentPropertyIndices.push(index);\r\n                });\r\n            }\r\n\r\n            index++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 浅赋值\r\n     * 从源数据取所有可枚举属性值赋值给目标对象\r\n     *\r\n     * @param target 目标对象\r\n     * @param source 源数据\r\n     */\r\n    static assignShallow<T>(target: T, source: Partial<T>): T\r\n    {\r\n        if (ObjectUtils.objectIsEmpty(source)) return target;\r\n        const keys = Object.keys(source);\r\n        keys.forEach((k) =>\r\n        {\r\n            target[k] = source[k];\r\n        });\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 深度赋值\r\n     * 从源数据取所有子代可枚举属性值赋值给目标对象\r\n     *\r\n     * @param target 被赋值对象\r\n     * @param source 源数据\r\n     * @param handlers 处理函数列表，先于 ObjectUtils.assignDeepDefaultHandlers 执行。函数返回值为true表示该属性赋值已完成跳过默认属性赋值操作，否则执行默认属性赋值操作。执行在 ObjectUtils.DefaultAssignDeepReplacers 前。\r\n     * @param deep 赋值深度，deep<1时直接返回。\r\n     */\r\n    static assignDeep<T>(target: T, source: gPartial<T>, handlers: AssignDeepHandler[] = [], deep = Number.MAX_SAFE_INTEGER): T\r\n    {\r\n        if (ObjectUtils.objectIsEmpty(source)) return target;\r\n        if (deep < 1) return target;\r\n        const keys = Object.keys(source);\r\n        const concatHandlers = handlers.concat(ObjectUtils.assignDeepDefaultHandlers);\r\n        keys.forEach((k) =>\r\n        {\r\n            //\r\n            for (let i = 0; i < concatHandlers.length; i++)\r\n            {\r\n                if (concatHandlers[i](target, source, k, handlers, deep))\r\n                {\r\n                    return;\r\n                }\r\n            }\r\n            //\r\n            target[k] = source[k];\r\n        });\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 深度比较两个对象子代可枚举属性值\r\n     *\r\n     * @param a 第一个对象\r\n     * @param b 第二个对象\r\n     */\r\n    static equalDeep<T>(a: T, b: T): boolean\r\n    {\r\n        if (a === b) return true;\r\n        if (ObjectUtils.isBaseType(a) || ObjectUtils.isBaseType(b)) return a === b;\r\n        if (typeof a === 'function' || typeof b === 'function') return a === b;\r\n        //\r\n        const akeys = Object.keys(a);\r\n        const bkeys = Object.keys(b);\r\n        if (!ArrayUtils.equal(akeys, bkeys)) return false;\r\n        if (Array.isArray(a) && Array.isArray(b)) return a.length === b.length;\r\n        // 检测所有属性\r\n        for (let i = 0; i < akeys.length; i++)\r\n        {\r\n            const element = akeys[i];\r\n            if (!ObjectUtils.equalDeep(a[element], b[element]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 判断对象是否为null或者undefine\r\n     *\r\n     * @param obj\r\n     * @returns\r\n     */\r\n    static objectIsEmpty(obj: any)\r\n    {\r\n        return (obj === undefined || obj === null);\r\n    }\r\n\r\n    /**\r\n     * 从对象自身或者对象的原型中获取属性描述\r\n     *\r\n     * @param object 对象\r\n     * @param property 属性名称\r\n     */\r\n    static getPropertyDescriptor(object: any, property: string): PropertyDescriptor | undefined\r\n    {\r\n        const data = Object.getOwnPropertyDescriptor(object, property);\r\n        if (data)\r\n        {\r\n            return data;\r\n        }\r\n        const prototype = Object.getPrototypeOf(object);\r\n        if (prototype)\r\n        {\r\n            return ObjectUtils.getPropertyDescriptor(prototype, property);\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * 属性是否可写\r\n     * @param obj 对象\r\n     * @param property 属性名称\r\n     */\r\n    static propertyIsWritable(obj: any, property: string): boolean\r\n    {\r\n        const data = ObjectUtils.getPropertyDescriptor(obj, property);\r\n        if (!data) return false;\r\n        if (data.get && !data.set) return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * ObjectUtils.assignDeep 中 默认转换结果的函数列表\r\n     */\r\n    static assignDeepDefaultHandlers: AssignDeepHandler[] = [\r\n        function (target, source, key)\r\n        {\r\n            if (target[key] === source[key]) return true;\r\n\r\n            return false;\r\n        },\r\n        function (target, source, key)\r\n        {\r\n            if (ObjectUtils.isBaseType(target[key]) || ObjectUtils.isBaseType(source[key]))\r\n            {\r\n                target[key] = source[key];\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n        function (target, source, key, handlers, deep)\r\n        {\r\n            if (Array.isArray(source[key]) || ObjectUtils.isObject(source[key]))\r\n            {\r\n                ObjectUtils.assignDeep(target[key], source[key], handlers, deep - 1);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n    ];\r\n}\r\n","import { ObjectUtils } from './ObjectUtils';\r\nimport { Constructor } from './Types';\r\n\r\nexport const __class__ = '__class__';\r\n\r\n/**\r\n * 类工具\r\n */\r\nexport class ClassUtils\r\n{\r\n    classUtilsHandlers: Function[] = [];\r\n\r\n    /**\r\n     * 返回对象的类名。\r\n     * @param value 需要类名称的对象，可以将任何 JavaScript 值传递给此方法，包括所有可用的 JavaScript 类型、对象实例、原始类型\r\n     * （如number)和类对象\r\n     * @returns 包含类名称的字符串。\r\n     */\r\n    getQualifiedClassName(value: any): string\r\n    {\r\n        if (ObjectUtils.objectIsEmpty(value))\r\n        {\r\n            return 'null';\r\n        }\r\n\r\n        const classUtilsHandlers = classUtils.classUtilsHandlers;\r\n        if (classUtilsHandlers)\r\n        {\r\n            classUtilsHandlers.forEach((element) =>\r\n            {\r\n                element(value);\r\n            });\r\n        }\r\n\r\n        const prototype: any = value.prototype ? value.prototype : Object.getPrototypeOf(value);\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if (prototype.hasOwnProperty(__class__))\r\n        {\r\n            return prototype[__class__];\r\n        }\r\n\r\n        let className: string = prototype.constructor.name;\r\n        if (globalThis[className] === prototype.constructor)\r\n        {\r\n            return className;\r\n        }\r\n        // 在可能的命名空间内查找\r\n        for (let i = 0; i < _classNameSpaces.length; i++)\r\n        {\r\n            const tryClassName = `${_classNameSpaces[i]}.${className}`;\r\n            if (this.getDefinitionByName(tryClassName) === prototype.constructor)\r\n            {\r\n                className = tryClassName;\r\n                registerClass(prototype.constructor, className);\r\n\r\n                return className;\r\n            }\r\n        }\r\n        console.warn(`未在给出的命名空间 ${_classNameSpaces} 内找到 ${value}-${className} 的定义`);\r\n\r\n        return className;\r\n    }\r\n\r\n    /**\r\n     * 返回 name 参数指定的类的类对象引用。\r\n     * @param name 类的名称。\r\n     */\r\n    getDefinitionByName(name: string, readCache = true): any\r\n    {\r\n        if (name === 'null')\r\n        {\r\n            return null;\r\n        }\r\n        if (!name)\r\n        {\r\n            return null;\r\n        }\r\n        if (globalThis[name])\r\n        {\r\n            return globalThis[name];\r\n        }\r\n        if (readCache && _definitionCache[name])\r\n        {\r\n            return _definitionCache[name];\r\n        }\r\n\r\n        const paths = name.split('.');\r\n        const length = paths.length;\r\n        let definition = globalThis;\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            const path = paths[i];\r\n            definition = definition[path];\r\n            if (!definition)\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n        _definitionCache[name] = definition;\r\n\r\n        return definition;\r\n    }\r\n\r\n    private defaultInstMap: { [className: string]: any } = {};\r\n\r\n    /**\r\n     * 获取默认实例\r\n     *\r\n     * @param name 类名称\r\n     */\r\n    getDefaultInstanceByName(name: string)\r\n    {\r\n        if (name === undefined)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        let defaultInst = this.defaultInstMap[name];\r\n        if (defaultInst) return defaultInst;\r\n        //\r\n        defaultInst = this.defaultInstMap[name] = this.getInstanceByName(name);\r\n\r\n        // 冻结对象，防止被修改\r\n        Object.freeze(defaultInst);\r\n\r\n        return defaultInst;\r\n    }\r\n\r\n    /**\r\n     * 获取实例\r\n     *\r\n     * @param name 类名称\r\n     */\r\n    getInstanceByName(name: string)\r\n    {\r\n        const cls = this.getDefinitionByName(name);\r\n        console.assert(cls, `无法获取名称为 ${name} 的实例!`);\r\n        const instance = this.getInstanceByDefinition(cls);\r\n\r\n        return instance;\r\n    }\r\n\r\n    getInstanceByDefinition<T>(cls: Constructor<T>): T\r\n    {\r\n        console.assert(!!cls);\r\n        if (!cls) return undefined;\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        if (cls.__create__)\r\n        {\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            // @ts-ignore\r\n            return cls.__create__();\r\n        }\r\n\r\n        // eslint-disable-next-line new-cap\r\n        return new cls();\r\n    }\r\n\r\n    /**\r\n     * 新增反射对象所在的命名空间，使得getQualifiedClassName能够得到正确的结果\r\n     */\r\n    addClassNameSpace(namespace: string)\r\n    {\r\n        if (_classNameSpaces.indexOf(namespace) === -1)\r\n        {\r\n            _classNameSpaces.push(namespace);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 类工具\r\n */\r\nexport const classUtils = new ClassUtils();\r\n\r\nconst _definitionCache = {};\r\nconst _classNameSpaces = ['feng3d'];\r\n\r\n/**\r\n * 为一个类定义注册类名\r\n * @param constructor 类定义\r\n * @param className 类名\r\n */\r\nexport function registerClass(constructor: Constructor<any>, className?: string): void\r\n{\r\n    const prototype = constructor.prototype;\r\n    if (!className)\r\n    {\r\n        className = prototype.constructor.name;\r\n    }\r\n    _definitionCache[className] = constructor;\r\n    Object.defineProperty(prototype, __class__, { value: className, writable: true, enumerable: false });\r\n}\r\n\r\n/**\r\n * 标记objectview对象界面类\r\n */\r\nexport function decoratorRegisterClass(className?: string)\r\n{\r\n    return (constructor: Constructor<any>) =>\r\n    {\r\n        registerClass(constructor, className);\r\n    };\r\n}\r\n\r\n","/**\r\n * 数据类型转换\r\n * TypeArray、ArrayBuffer、Blob、File、DataURL、canvas的相互转换\r\n * @see http://blog.csdn.net/yinwhm12/article/details/73482904\r\n */\r\nexport class DataTransform\r\n{\r\n    /**\r\n     * Blob to ArrayBuffer\r\n     */\r\n    blobToArrayBuffer(blob: Blob, callback: (arrayBuffer: ArrayBuffer) => void)\r\n    {\r\n        const reader = new FileReader();\r\n        reader.onload = function (e)\r\n        {\r\n            callback(e.target.result as ArrayBuffer);\r\n        };\r\n        reader.readAsArrayBuffer(blob);\r\n    }\r\n\r\n    /**\r\n     * ArrayBuffer to Blob\r\n     */\r\n    arrayBufferToBlob(arrayBuffer: ArrayBuffer)\r\n    {\r\n        const blob = new Blob([arrayBuffer]); // 注意必须包裹[]\r\n\r\n        return blob;\r\n    }\r\n\r\n    /**\r\n     * ArrayBuffer to Uint8\r\n     * Uint8数组可以直观的看到ArrayBuffer中每个字节（1字节 === 8位）的值。一般我们要将ArrayBuffer转成Uint类型数组后才能对其中的字节进行存取操作。\r\n     */\r\n    arrayBufferToUint8(arrayBuffer: ArrayBuffer)\r\n    {\r\n        const u8 = new Uint8Array(arrayBuffer);\r\n\r\n        return u8;\r\n    }\r\n\r\n    /**\r\n     * Uint8 to ArrayBuffer\r\n     * 我们Uint8数组可以直观的看到ArrayBuffer中每个字节（1字节 === 8位）的值。一般我们要将ArrayBuffer转成Uint类型数组后才能对其中的字节进行存取操作。\r\n     */\r\n    uint8ToArrayBuffer(uint8Array: Uint8Array)\r\n    {\r\n        const buffer = uint8Array.buffer as ArrayBuffer;\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * Array to ArrayBuffer\r\n     * @param array 例如：[0x15, 0xFF, 0x01, 0x00, 0x34, 0xAB, 0x11];\r\n     */\r\n    arrayToArrayBuffer(array: number[])\r\n    {\r\n        const uint8 = new Uint8Array(array);\r\n        const buffer = uint8.buffer as ArrayBuffer;\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * TypeArray to Array\r\n     */\r\n    uint8ArrayToArray(u8a: Uint8Array)\r\n    {\r\n        const arr: number[] = [];\r\n        for (let i = 0; i < u8a.length; i++)\r\n        {\r\n            arr.push(u8a[i]);\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    /**\r\n     * canvas转换为dataURL\r\n     */\r\n    canvasToDataURL(canvas: HTMLCanvasElement, type: 'png' | 'jpeg' = 'png', quality = 1)\r\n    {\r\n        if (type === 'png') return canvas.toDataURL('image/png');\r\n\r\n        return canvas.toDataURL('image/jpeg', quality);\r\n    }\r\n\r\n    /**\r\n     * canvas转换为图片\r\n     */\r\n    canvasToImage(canvas: HTMLCanvasElement, type: 'png' | 'jpeg' = 'png', quality = 1, callback: (img: HTMLImageElement) => void)\r\n    {\r\n        const dataURL = this.canvasToDataURL(canvas, type, quality);\r\n        this.dataURLToImage(dataURL, callback);\r\n    }\r\n\r\n    /**\r\n     * File、Blob对象转换为dataURL\r\n     * File对象也是一个Blob对象，二者的处理相同。\r\n     */\r\n    blobToDataURL(blob: Blob, callback: (dataurl: string) => void)\r\n    {\r\n        const a = new FileReader();\r\n        a.onload = function (e)\r\n        {\r\n            callback(e.target.result as any);\r\n        };\r\n        a.readAsDataURL(blob);\r\n    }\r\n\r\n    /**\r\n     * dataURL转换为Blob对象\r\n     */\r\n    dataURLtoBlob(dataurl: string)\r\n    {\r\n        const arr = dataurl.split(','); const mime = (arr[0].match(/:(.*?);/))[1];\r\n        const bstr = atob(arr[1]); let n = bstr.length; const\r\n            u8arr = new Uint8Array(n);\r\n        while (n--)\r\n        {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        const blob = new Blob([u8arr], { type: mime });\r\n\r\n        return blob;\r\n    }\r\n\r\n    /**\r\n     * dataURL图片数据转换为HTMLImageElement\r\n     * dataURL图片数据绘制到canvas\r\n     * 先构造Image对象，src为dataURL，图片onload之后绘制到canvas\r\n     */\r\n    dataURLDrawCanvas(dataurl: string, canvas: HTMLCanvasElement, callback: (img: HTMLImageElement) => void)\r\n    {\r\n        this.dataURLToImage(dataurl, (img) =>\r\n        {\r\n            // canvas.drawImage(img);\r\n            callback(img);\r\n        });\r\n    }\r\n\r\n    dataURLToArrayBuffer(dataurl: string, callback: (arraybuffer: ArrayBuffer) => void)\r\n    {\r\n        const blob = this.dataURLtoBlob(dataurl);\r\n        this.blobToArrayBuffer(blob, callback);\r\n    }\r\n\r\n    arrayBufferToDataURL(arrayBuffer: ArrayBuffer, callback: (dataurl: string) => void)\r\n    {\r\n        const blob = this.arrayBufferToBlob(arrayBuffer);\r\n        this.blobToDataURL(blob, callback);\r\n    }\r\n\r\n    dataURLToImage(dataurl: string, callback: (img: HTMLImageElement) => void)\r\n    {\r\n        const img = new Image();\r\n        img.onload = function ()\r\n        {\r\n            callback(img);\r\n        };\r\n        img.src = dataurl;\r\n    }\r\n\r\n    imageToDataURL(img: HTMLImageElement, quality = 1)\r\n    {\r\n        const canvas = this.imageToCanvas(img);\r\n        const dataurl = this.canvasToDataURL(canvas, 'png', quality);\r\n\r\n        return dataurl;\r\n    }\r\n\r\n    imageToCanvas(img: HTMLImageElement)\r\n    {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        const ctxt = canvas.getContext('2d');\r\n        ctxt.drawImage(img, 0, 0);\r\n\r\n        return canvas;\r\n    }\r\n\r\n    imageToArrayBuffer(img: HTMLImageElement, callback: (arraybuffer: ArrayBuffer) => void)\r\n    {\r\n        if (img.arraybuffer)\r\n        {\r\n            callback(img.arraybuffer);\r\n\r\n            return;\r\n        }\r\n        const dataUrl = this.imageToDataURL(img);\r\n        this.dataURLToArrayBuffer(dataUrl, (arraybuffer) =>\r\n        {\r\n            img.arraybuffer = arraybuffer;\r\n            arraybuffer.image = img;\r\n            callback(arraybuffer);\r\n        });\r\n    }\r\n\r\n    imageDataToDataURL(imageData: ImageData, quality = 1)\r\n    {\r\n        const canvas = this.imageDataToCanvas(imageData);\r\n        const dataurl = this.canvasToDataURL(canvas, 'png', quality);\r\n\r\n        return dataurl;\r\n    }\r\n\r\n    imageDataToCanvas(imageData: ImageData)\r\n    {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = imageData.width;\r\n        canvas.height = imageData.height;\r\n        const ctxt = canvas.getContext('2d');\r\n        ctxt.putImageData(imageData, 0, 0);\r\n\r\n        return canvas;\r\n    }\r\n\r\n    imagedataToImage(imageData: ImageData, quality = 1, callback: (img: HTMLImageElement) => void)\r\n    {\r\n        const dataUrl = this.imageDataToDataURL(imageData, quality);\r\n        this.dataURLToImage(dataUrl, callback);\r\n    }\r\n\r\n    arrayBufferToImage(arrayBuffer: ArrayBuffer, callback: (img: HTMLImageElement) => void)\r\n    {\r\n        if (arrayBuffer.image)\r\n        {\r\n            callback(arrayBuffer.image);\r\n\r\n            return;\r\n        }\r\n\r\n        this.arrayBufferToDataURL(arrayBuffer, (dataurl) =>\r\n        {\r\n            this.dataURLToImage(dataurl, (img) =>\r\n            {\r\n                img.arraybuffer = arrayBuffer;\r\n                arrayBuffer.image = img;\r\n                callback(img);\r\n            });\r\n        });\r\n    }\r\n\r\n    blobToText(blob: Blob, callback: (content: string) => void)\r\n    {\r\n        const a = new FileReader();\r\n        a.onload = function (e) { callback(e.target.result as any); };\r\n        a.readAsText(blob);\r\n    }\r\n\r\n    stringToArrayBuffer(str: string)\r\n    {\r\n        const uint8Array = this.stringToUint8Array(str);\r\n        const buffer = this.uint8ToArrayBuffer(uint8Array);\r\n\r\n        return buffer;\r\n    }\r\n\r\n    arrayBufferToString(arrayBuffer: ArrayBuffer, callback: (content: string) => void)\r\n    {\r\n        const blob = this.arrayBufferToBlob(arrayBuffer);\r\n        this.blobToText(blob, callback);\r\n    }\r\n\r\n    /**\r\n     * ArrayBuffer 转换为 对象\r\n     *\r\n     * @param arrayBuffer\r\n     * @param callback\r\n     */\r\n    arrayBufferToObject(arrayBuffer: ArrayBuffer, callback: (object: any) => void)\r\n    {\r\n        this.arrayBufferToString(arrayBuffer, (str) =>\r\n        {\r\n            const obj = JSON.parse(str);\r\n            callback(obj);\r\n        });\r\n    }\r\n\r\n    stringToUint8Array(str: string)\r\n    {\r\n        const utf8 = unescape(encodeURIComponent(str));\r\n        const uint8Array = new Uint8Array(utf8.split('').map(function (item)\r\n        {\r\n            return item.charCodeAt(0);\r\n        }));\r\n\r\n        return uint8Array;\r\n    }\r\n\r\n    uint8ArrayToString(arr: Uint8Array, callback: (str: string) => void)\r\n    {\r\n        // or [].slice.apply(arr)\r\n        // var utf8 = Array.from(arr).map(function (item)\r\n        const utf8 = [].slice.apply(arr).map(function (item)\r\n        {\r\n            return String.fromCharCode(item);\r\n        }).join('');\r\n\r\n        const str = decodeURIComponent(escape(utf8));\r\n        callback(str);\r\n    }\r\n}\r\n\r\n/**\r\n * 数据类型转换\r\n * TypeArray、ArrayBuffer、Blob、File、DataURL、canvas的相互转换\r\n * @see http://blog.csdn.net/yinwhm12/article/details/73482904\r\n */\r\nexport const dataTransform = new DataTransform();\r\n","export class MapUtils\r\n{\r\n    static getKeys<K, V>(map: Map<K, V>): K[]\r\n    {\r\n        const keys: any[] = [];\r\n        map.forEach((_v, k) =>\r\n        {\r\n            keys.push(k);\r\n        });\r\n\r\n        return keys;\r\n    }\r\n\r\n    static getValues<K, V>(map: Map<K, V>): V[]\r\n    {\r\n        const values: any[] = [];\r\n        map.forEach((v, _k) =>\r\n        {\r\n            values.push(v);\r\n        });\r\n\r\n        return values;\r\n    }\r\n}\r\n","declare global\r\n{\r\n    interface MixinsMathUtil\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface MathUtil extends MixinsMathUtil { }\r\n\r\nexport class MathUtil implements MixinsMathUtil\r\n{\r\n    /**\r\n     * 角度转弧度因子\r\n     */\r\n    DEG2RAD = Math.PI / 180;\r\n\r\n    /**\r\n     * 弧度转角度因子\r\n     */\r\n    RAD2DEG = 180 / Math.PI;\r\n\r\n    /**\r\n     * 默认精度\r\n     */\r\n    PRECISION = 1e-6;\r\n\r\n    /**\r\n     * 获取唯一标识符\r\n     * @see http://www.broofa.com/Tools/Math.uuid.htm\r\n     */\r\n    uuid = (function uuid(length = 36)\r\n    {\r\n        const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n        const id = new Array(length);\r\n        let rnd = 0; let\r\n            r = 0;\r\n\r\n        return function generateUUID()\r\n        {\r\n            for (let i = 0; i < length; i++)\r\n            {\r\n                if (i === 8 || i === 13 || i === 18 || i === 23)\r\n                {\r\n                    id[i] = '-';\r\n                }\r\n                else if (i === 14)\r\n                {\r\n                    id[i] = '4';\r\n                }\r\n                else\r\n                {\r\n                    if (rnd <= 0x02) rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\r\n                    r = rnd & 0xf;\r\n                    rnd = rnd >> 4;\r\n                    id[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\r\n                }\r\n            }\r\n\r\n            return id.join('');\r\n        };\r\n    })();\r\n\r\n    /**\r\n     * （夹紧）计算指定值到区间[edge0 ,edge1]最近的值\r\n     *\r\n     * @param value 指定值\r\n     * @param lowerlimit 区间下界\r\n     * @param upperlimit 区间上界\r\n     */\r\n    clamp(value: number, lowerlimit: number, upperlimit: number)\r\n    {\r\n        if ((value - lowerlimit) * (value - upperlimit) <= 0) return value;\r\n        if (value < lowerlimit) return lowerlimit < upperlimit ? lowerlimit : upperlimit;\r\n\r\n        return lowerlimit > upperlimit ? lowerlimit : upperlimit;\r\n    }\r\n\r\n    /**\r\n     * 计算欧几里得模（整数模） ((n % m) + m) % m\r\n     *\r\n     * @param n 被除数\r\n     * @param m 除数\r\n     * @see https://en.wikipedia.org/wiki/Modulo_operation\r\n     */\r\n    uclideanModulo(n: number, m: number)\r\n    {\r\n        return ((n % m) + m) % m;\r\n    }\r\n\r\n    /**\r\n     * 使 x 值从区间 <a1, a2> 线性映射到区间 <b1, b2>\r\n     *\r\n     * @param x 第一个区间中值\r\n     * @param a1 第一个区间起始值\r\n     * @param a2 第一个区间终止值\r\n     * @param b1 第二个区间起始值\r\n     * @param b2 第二个区间起始值\r\n     */\r\n    mapLinear(x: number, a1: number, a2: number, b1: number, b2: number)\r\n    {\r\n        return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\r\n    }\r\n\r\n    /**\r\n     * 线性插值\r\n     *\r\n     * @param start 起始值\r\n     * @param end 终止值\r\n     * @param t 插值系数 [0 ,1]\r\n     *\r\n     * @see https://en.wikipedia.org/wiki/Linear_interpolation\r\n     */\r\n    lerp(start: number, end: number, t: number)\r\n    {\r\n        return (1 - t) * start + t * end;\r\n    }\r\n\r\n    /**\r\n     * 计算平滑值 3x^2 - 2x^3\r\n     *\r\n     * @param x\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     *\r\n     * @see http://en.wikipedia.org/wiki/Smoothstep\r\n     */\r\n    smoothstep(x: number, min: number, max: number)\r\n    {\r\n        if (x <= min) return 0;\r\n        if (x >= max) return 1;\r\n\r\n        x = (x - min) / (max - min);\r\n\r\n        return x * x * (3 - 2 * x);\r\n    }\r\n\r\n    /**\r\n     * 计算平滑值 6x^5 - 15x^4 + 10x^3\r\n     *\r\n     * @param x\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    smootherstep(x: number, min: number, max: number)\r\n    {\r\n        if (x <= min) return 0;\r\n        if (x >= max) return 1;\r\n\r\n        x = (x - min) / (max - min);\r\n\r\n        return x * x * x * (x * (x * 6 - 15) + 10);\r\n    }\r\n\r\n    /**\r\n     * 从<low, high>获取随机整数\r\n     *\r\n     * @param low 区间起始值\r\n     * @param high 区间终止值\r\n     */\r\n    randInt(low: number, high: number)\r\n    {\r\n        return low + Math.floor(Math.random() * (high - low + 1));\r\n    }\r\n\r\n    /**\r\n     * 从<low, high>获取随机浮点数\r\n     *\r\n     * @param low 区间起始值\r\n     * @param high 区间终止值\r\n     */\r\n    randFloat(low: number, high: number)\r\n    {\r\n        return low + Math.random() * (high - low);\r\n    }\r\n\r\n    /**\r\n     * 从<-range/2, range/2>获取随机浮点数\r\n     *\r\n     * @param range 范围\r\n     */\r\n    randFloatSpread(range: number)\r\n    {\r\n        return range * (0.5 - Math.random());\r\n    }\r\n\r\n    /**\r\n     * 角度转换为弧度\r\n     *\r\n     * @param degrees 角度\r\n     */\r\n    degToRad(degrees: number)\r\n    {\r\n        return degrees * this.DEG2RAD;\r\n    }\r\n\r\n    /**\r\n     * 弧度转换为角度\r\n     *\r\n     * @param radians 弧度\r\n     */\r\n    radToDeg(radians: number)\r\n    {\r\n        return radians * this.RAD2DEG;\r\n    }\r\n\r\n    /**\r\n     * 判断指定整数是否为2的幂\r\n     *\r\n     * @param value 整数\r\n     */\r\n    isPowerOfTwo(value: number)\r\n    {\r\n        return (value & (value - 1)) === 0 && value !== 0;\r\n    }\r\n\r\n    /**\r\n     * 获取离指定整数最近的2的幂\r\n     *\r\n     * @param value 整数\r\n     */\r\n    nearestPowerOfTwo(value: number)\r\n    {\r\n        return Math.pow(2, Math.round(Math.log(value) / Math.LN2));\r\n    }\r\n\r\n    /**\r\n     * 获取指定大于等于整数最小2的幂，3->4,5->8,17->32,33->64\r\n     *\r\n     * @param value 整数\r\n     */\r\n    nextPowerOfTwo(value: number)\r\n    {\r\n        value--;\r\n        value |= value >> 1;\r\n        value |= value >> 2;\r\n        value |= value >> 4;\r\n        value |= value >> 8;\r\n        value |= value >> 16;\r\n        value++;\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 获取目标最近的值\r\n     *\r\n     * source增加或者减少整数倍precision后得到离target最近的值\r\n     *\r\n     * ```\r\n     * mathUtil.toRound(71,0,5);//运算结果为1\r\n     * ```\r\n     *\r\n     * @param source 初始值\r\n     * @param target 目标值\r\n     * @param precision 精度\r\n     */\r\n    toRound(source: number, target: number, precision = 360)\r\n    {\r\n        return source + Math.round((target - source) / precision) * precision;\r\n    }\r\n\r\n    /**\r\n     * 比较两个Number是否相等\r\n     *\r\n     * @param a 数字a\r\n     * @param b 数字b\r\n     * @param precision 进度\r\n     */\r\n    equals(a: number, b: number, precision?: number)\r\n    {\r\n        if (precision === undefined)\r\n        { precision = this.PRECISION; }\r\n\r\n        return Math.abs(a - b) < precision;\r\n    }\r\n\r\n    /**\r\n     * 计算最大公约数\r\n     *\r\n     * @param a 整数a\r\n     * @param b 整数b\r\n     *\r\n     * @see https://en.wikipedia.org/wiki/Greatest_common_divisor\r\n     */\r\n    gcd(a: number, b: number)\r\n    {\r\n        // eslint-disable-next-line no-empty\r\n        if (b) while ((a %= b) && (b %= a)) { }\r\n\r\n        return a + b;\r\n    }\r\n\r\n    /**\r\n     * 计算最小公倍数\r\n     * Least common multiple\r\n     *\r\n     * @param a 整数a\r\n     * @param b 整数b\r\n     *\r\n     * @see https://en.wikipedia.org/wiki/Least_common_multiple\r\n     */\r\n    lcm(a: number, b: number)\r\n    {\r\n        return a * b / this.gcd(a, b);\r\n    }\r\n}\r\n\r\nexport const mathUtil = new MathUtil();\r\n","/**\r\n * 构造函数\r\n */\r\nexport type Constructor<T> = (new (...args: any[]) => T);\r\n\r\n/**\r\n * 让T中以及所有键值中的所有键都是可选的\r\n */\r\nexport type gPartial<T> = {\r\n    [P in keyof T]?: gPartial<T[P]>;\r\n};\r\n\r\n/**\r\n * 获取T类型中除值为KT类型以外的所有键\r\n *\r\n * ```\r\n * class A\r\n * {\r\n *      a = 1;\r\n *      f(){}\r\n * }\r\n *\r\n * var a: NonTypePropertyNames<A, number>; //var a:\"f\"\r\n * var a1: NonTypePropertyNames<A, Function>; //var a:\"a\"\r\n *\r\n * ```\r\n */\r\nexport type NonTypePropertyNames<T, KT> = { [K in keyof T]: T[K] extends KT ? never : K }[keyof T];\r\n\r\n/**\r\n * 剔除T类型中值为KT类型的键\r\n * ```\r\n *     class A\r\n *     {\r\n *         a = 1;\r\n *         f(){}\r\n *     }\r\n *\r\n *     var a: NonTypePropertys<A, number>; //var a: Pick<A, \"f\">\r\n *     var a1: NonTypePropertys<A, Function>; //var a1: Pick<A, \"a\">\r\n * ```\r\n */\r\nexport type NonTypePropertys<T, KT> = Pick<T, NonTypePropertyNames<T, KT>>;\r\n\r\n/**\r\n * 选取T类型中值为KT类型的所有键\r\n *\r\n * ```\r\n *     class A\r\n *     {\r\n *         a = 1;\r\n *         f(){}\r\n *     }\r\n *\r\n *     var a: TypePropertyNames<A, number>; //var a: \"a\"\r\n *     var a1: TypePropertyNames<A, Function>; //var a1: \"f\"\r\n * ```\r\n */\r\nexport type TypePropertyNames<T, KT> = { [K in keyof T]: T[K] extends KT ? K : never }[keyof T];\r\n\r\n/**\r\n * 选取T类型中值为非函数类型的所有键\r\n */\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nexport type PropertyNames<T> = NonTypePropertyNames<T, Function>;\r\n\r\n/**\r\n * 选取T类型中值为函数的所有键\r\n *\r\n * ```\r\n *     class A\r\n *     {\r\n *         a = 1;\r\n *         f(){}\r\n *     }\r\n *\r\n *     var a: FunctionPropertyNames<A>; //var a: \"f\"\r\n * ```\r\n */\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nexport type FunctionPropertyNames<T> = TypePropertyNames<T, Function>;\r\n\r\n/**\r\n * 选取T类型中值为KT类型的键\r\n *\r\n * ```\r\n *     class A\r\n *     {\r\n *         a = 1;\r\n *         f() { }\r\n *     }\r\n *\r\n *     var a: TypePropertys<A, number>; //var a: Pick<A, \"a\">\r\n *     var a1: TypePropertys<A, Function>; //var a1: Pick<A, \"f\">\r\n * ```\r\n */\r\nexport type TypePropertys<T, KT> = Pick<T, TypePropertyNames<T, KT>>;\r\n\r\nexport type Lazy<T> = T | (() => T);\r\n\r\nexport type LazyObject<T> = { [P in keyof T]: Lazy<T[P]>; };\r\n\r\nexport const lazy = {\r\n    getvalue<T>(lazyItem: Lazy<T>): T\r\n    {\r\n        if (typeof lazyItem === 'function')\r\n        { return (lazyItem as any)(); }\r\n\r\n        return lazyItem;\r\n    }\r\n};\r\n\r\n/**\r\n * 可销毁对象\r\n */\r\nexport interface IDisposable\r\n{\r\n    /**\r\n     * 是否已销毁\r\n     */\r\n    readonly disposed: boolean;\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose(): void;\r\n}\r\n","import { gPartial, ObjectUtils, __class__, ArrayUtils, classUtils } from '@feng3d/polyfill';\r\n\r\n/**\r\n * 序列化装饰器\r\n *\r\n * 在属性定义前使用 @serialize 进行标记需要序列化\r\n *\r\n * @param target 序列化原型\r\n * @param propertyKey 序列化属性\r\n */\r\nexport function serialize(target: any, propertyKey: string)\r\n{\r\n    if (!Object.getOwnPropertyDescriptor(target, serializeKey))\r\n    {\r\n        Object.defineProperty(target, serializeKey, { value: [] });\r\n    }\r\n    const serializePropertys: string[] = target[serializeKey];\r\n\r\n    serializePropertys.push(propertyKey);\r\n}\r\n\r\n/**\r\n * 序列化属性函数\r\n *\r\n * 序列化对象时建议使用 serialization.serialize\r\n *\r\n * @param target 序列化后的对象，存放序列化后属性值的对象。\r\n * @param source 被序列化的对象，提供序列化前属性值的对象。\r\n * @param property 序列化属性名称\r\n */\r\nfunction propertyHandler<T extends HandlerParam>(target: any, source: any, property: string, param: T)\r\n{\r\n    const handlers = param.handlers;\r\n\r\n    for (let i = 0; i < handlers.length; i++)\r\n    {\r\n        if (handlers[i](target, source, property, param))\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n// /**\r\n//  * 序列化属性函数\r\n//  *\r\n//  * 序列化对象时建议使用 serialization.serialize\r\n//  *\r\n//  * @param target 序列化后的对象，存放序列化后属性值的对象。\r\n//  * @param source 被序列化的对象，提供序列化前属性值的对象。\r\n//  * @param property 序列化属性名称\r\n//  * @param handlers 序列化属性函数列表\r\n//  * @param beforeHandler 在处理列表前执行\r\n//  * @param affterHandler 在处理列表后执行\r\n//  */\r\n// function propertyHandler(target: Object, source: Object, property: string, handlers: PropertyHandler[], serialization: Serialization)\r\n// {\r\n//     for (let i = 0; i < handlers.length; i++)\r\n//     {\r\n//         if (handlers[i](target, source, property, handlers, serialization))\r\n//         {\r\n//             return true;\r\n//         }\r\n//     }\r\n//     return true;\r\n// }\r\n\r\n// /**\r\n//  * 序列化属性函数\r\n//  *\r\n//  * 序列化对象时建议使用 serialization.serialize\r\n//  *\r\n//  * @param target 序列化后的对象，存放序列化后属性值的对象。\r\n//  * @param source 被序列化的对象，提供序列化前属性值的对象。\r\n//  * @param property 序列化属性名称\r\n//  * @param handlers 序列化属性函数列表\r\n//  */\r\n// function differentPropertyHandler(target: Object, source: Object, property: string, different: Object, handlers: DifferentPropertyHandler[], serialization: Serialization)\r\n// {\r\n//     for (let i = 0; i < handlers.length; i++)\r\n//     {\r\n//         if (handlers[i](target, source, property, different, handlers, serialization))\r\n//         {\r\n//             return true;\r\n//         }\r\n//     }\r\n//     return true;\r\n// }\r\n\r\n/**\r\n * 序列化属性函数项\r\n */\r\ninterface PropertyHandler<T extends HandlerParam>\r\n{\r\n    /**\r\n     * 序列化属性函数项\r\n     *\r\n     * @param target 序列化后的对象，存放序列化后属性值的对象。\r\n     * @param source 被序列化的对象，提供序列化前属性值的对象。\r\n     * @param property 序列化属性名称\r\n     * @param param 参数列表\r\n     *\r\n     * @returns 返回true时结束该属性后续处理。\r\n     */\r\n    (target: any, source: any, property: string, param: T): boolean;\r\n}\r\n\r\n// /**\r\n//  * 序列化属性函数项\r\n//  */\r\n// interface DifferentPropertyHandler\r\n// {\r\n//     /**\r\n//      * 序列化属性函数项\r\n//      *\r\n//      * @param target 序列化后的对象，存放序列化后属性值的对象。\r\n//      * @param source 被序列化的对象，提供序列化前属性值的对象。\r\n//      * @param property 序列化属性名称\r\n//      * @param handlers 序列化属性函数列表\r\n//      * @param serialization 序列化工具自身\r\n//      *\r\n//      * @returns 返回true时结束该属性后续处理。\r\n//      */\r\n//     (target: any, source: any, property: string, different: Object, handlers: DifferentPropertyHandler[], serialization: Serialization): boolean;\r\n// }\r\n\r\ninterface HandlerParam\r\n{\r\n    handlers: PropertyHandler<HandlerParam>[]\r\n    serialization: Serialization\r\n}\r\n\r\ninterface SerializeHandlerParam extends HandlerParam\r\n{\r\n    /**\r\n     * 已经被序列化的列表\r\n     *\r\n     * {key: 被序列化的对象，value：{target:序列化后数据所存储对象,property:序列化后数据所存在属性名称}}\r\n     *\r\n     * 用于处理序列化循环引用以及多次引用的对象\r\n     */\r\n    serializedMap: Map<any, { target: any, property: string }>;\r\n    handlers: PropertyHandler<SerializeHandlerParam>[];\r\n    root: any;\r\n    autoRefID: number;\r\n}\r\n\r\ninterface DeserializeHandlerParam extends HandlerParam\r\n{\r\n    refs: {\r\n        [refid: string]: {\r\n            target: any;\r\n            property: string;\r\n            refs: { target: any, property: string }[];\r\n        }\r\n    };\r\n}\r\n\r\ninterface DifferentHandlerParam extends HandlerParam\r\n{\r\n    handlers: PropertyHandler<DifferentHandlerParam>[];\r\n    /**\r\n     * 当前对象的不同数据\r\n     */\r\n    different: any;\r\n}\r\n\r\n/**\r\n * 序列化\r\n */\r\nexport class Serialization\r\n{\r\n    /**\r\n     * 是否忽略默认值\r\n     */\r\n    omitDefault = true;\r\n\r\n    /**\r\n     * 序列化函数列表\r\n     */\r\n    serializeHandlers: { priority: number, handler: PropertyHandler<SerializeHandlerParam> }[] = [];\r\n\r\n    /**\r\n     * 反序列化函数列表\r\n     */\r\n    deserializeHandlers: { priority: number, handler: PropertyHandler<DeserializeHandlerParam> }[] = [];\r\n\r\n    /**\r\n     * 比较差异函数列表\r\n     */\r\n    differentHandlers: { priority: number, handler: PropertyHandler<DifferentHandlerParam> }[] = [];\r\n\r\n    /**\r\n     * 设置函数列表\r\n     */\r\n    setValueHandlers: { priority: number, handler: PropertyHandler<HandlerParam> }[] = [];\r\n\r\n    /**\r\n     * 序列化对象\r\n     *\r\n     * 过程中使用 different与默认值作比较减少结果中的数据。\r\n     *\r\n     * @param target 被序列化的对象\r\n     *\r\n     * @returns 序列化后简单数据对象（由Object与Array组合可 JSON.stringify 的简单结构）\r\n     */\r\n    serialize<T>(target: T): gPartial<T>\r\n    {\r\n        //\r\n        const handlers = this.serializeHandlers.sort((a, b) => b.priority - a.priority).map((v) => v.handler);\r\n\r\n        const param: SerializeHandlerParam = {\r\n            handlers, serialization: this, root: target as any,\r\n            serializedMap: new Map(),\r\n            autoRefID: 1,\r\n        };\r\n\r\n        const result: any = {};\r\n\r\n        propertyHandler(result, { __root__: target }, rootKey, param);\r\n        const v = result[rootKey];\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 删除 Json 对象中 CLASS_KEY 属性，防止被反序列化。\r\n     *\r\n     * @param obj\r\n     */\r\n    deleteClassKey(obj: any)\r\n    {\r\n        if (ObjectUtils.isBaseType(obj)) return;\r\n\r\n        delete obj[__class__];\r\n\r\n        for (const key in obj)\r\n        {\r\n            this.deleteClassKey(obj[key]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 反序列化对象为基础对象数据（由Object与Array组合）\r\n     *\r\n     * @param object 换为Json的对象\r\n     * @returns 反序列化后的数据\r\n     */\r\n    deserialize<T>(object: gPartial<T>): T\r\n    {\r\n        const handlers = this.deserializeHandlers.sort((a, b) => b.priority - a.priority).map((v) => v.handler);\r\n\r\n        const param: DeserializeHandlerParam = { handlers, serialization: this, refs: {} };\r\n\r\n        const result: any = {};\r\n\r\n        propertyHandler(result, { __root__: object }, rootKey, param);\r\n        const v = result[rootKey];\r\n\r\n        // 处理 循环引用以及多次引用\r\n        Object.keys(param.refs).forEach((refid) =>\r\n        {\r\n            const refs = param.refs[refid];\r\n            const value = refs.target[refs.property];\r\n\r\n            delete value[serializeIsRawKey];\r\n            delete value[serializeRefKey];\r\n            refs.refs.forEach((ref) =>\r\n            {\r\n                ref.target[ref.property] = value;\r\n            });\r\n        });\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 比较两个对象的不同，提取出不同的数据(可能会经过反序列化处理)\r\n     *\r\n     * @param target 用于检测不同的数据\r\n     * @param source 模板（默认）数据\r\n     * @param different 比较得出的不同（简单结构）数据\r\n     *\r\n     * @returns 比较得出的不同数据（由Object与Array组合可 JSON.stringify 的简单结构）\r\n     */\r\n    different<T>(target: T, source: T): gPartial<T>\r\n    {\r\n        const handlers = this.differentHandlers.sort((a, b) => b.priority - a.priority).map((v) => v.handler);\r\n\r\n        const different = { __root__: {} };\r\n\r\n        const param: DifferentHandlerParam = { different, handlers, serialization: this };\r\n\r\n        propertyHandler({ __root__: target }, { __root__: source }, rootKey, param);\r\n\r\n        return different[rootKey];\r\n    }\r\n\r\n    /**\r\n     * 从数据对象中提取数据给目标对象赋值（可能会经过序列化处理）\r\n     *\r\n     * @param target 目标对象\r\n     * @param source 数据对象 可由Object与Array以及自定义类型组合\r\n     */\r\n    setValue<T>(target: T, source: gPartial<T>)\r\n    {\r\n        if (ObjectUtils.isBaseType(source) || target === source) return target;\r\n        const handlers = this.setValueHandlers.sort((a, b) => b.priority - a.priority).map((v) => v.handler);\r\n\r\n        const param: HandlerParam = { handlers, serialization: this };\r\n\r\n        propertyHandler({ __root__: target }, { __root__: source }, rootKey, param);\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     * @param target 被克隆对象\r\n     */\r\n    clone<T>(target: T): T\r\n    {\r\n        return this.deserialize(this.serialize(target));\r\n    }\r\n}\r\n\r\n/**\r\n * 获取序列化属性列表\r\n */\r\nfunction getSerializableMembers(object: any, serializableMembers?: string[])\r\n{\r\n    serializableMembers = serializableMembers || [];\r\n    if (object[protoKey])\r\n    {\r\n        getSerializableMembers(object[protoKey], serializableMembers);\r\n    }\r\n    const serializePropertys = object[serializeKey];\r\n\r\n    if (serializePropertys) ArrayUtils.concatToSelf(serializableMembers, serializePropertys);\r\n    ArrayUtils.unique(serializableMembers);\r\n\r\n    return serializableMembers;\r\n}\r\n\r\nexport interface SerializationTempInfo\r\n{\r\n    loadingNum?: number;\r\n    onLoaded?: () => void;\r\n}\r\n\r\n/**\r\n * 默认序列化工具\r\n */\r\nexport const serialization = new Serialization();\r\n\r\nserialization.serializeHandlers.push(\r\n    // 基础类型\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isBaseType(spv))\r\n            {\r\n                target[property] = spv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理循环引用以及多次引用\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            const serializedMap = param.serializedMap;\r\n\r\n            if (serializedMap.has(spv))\r\n            {\r\n                // 处理已经被序列化的对象\r\n                const value = param.serializedMap.get(spv);\r\n                const tpv = value.target[value.property];\r\n\r\n                if (!ObjectUtils.isBaseType(tpv))\r\n                {\r\n                    if (!tpv[serializeRefKey])\r\n                    {\r\n                        tpv[serializeRefKey] = param.autoRefID++;\r\n                        tpv[serializeIsRawKey] = true;\r\n                    }\r\n                    const newtpv: any = {};\r\n\r\n                    newtpv[serializeRefKey] = tpv[serializeRefKey];\r\n                    newtpv[serializeIsRefKey] = true;\r\n                    target[property] = newtpv;\r\n\r\n                    return true;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // 记录spv 序列化后的数据保存的位置\r\n                serializedMap.set(spv, { target, property });\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理方法\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (spv && typeof spv === 'function')\r\n            {\r\n                const object: any = {};\r\n\r\n                object[__class__] = 'function';\r\n                object.data = spv.toString();\r\n                target[property] = object;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 排除不支持序列化对象 serializable === false 时不进行序列化\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (spv && spv.serializable === false)\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 自定义序列化函数\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (spv && spv.serialize)\r\n            {\r\n                const object = {};\r\n\r\n                target[property] = object;\r\n                object[__class__] = classUtils.getQualifiedClassName(spv);\r\n                spv.serialize(object);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理数组\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (Array.isArray(spv))\r\n            {\r\n                const arr = target[property] || [];\r\n\r\n                target[property] = arr;\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((v) =>\r\n                {\r\n                    propertyHandler(arr, spv, v, param);\r\n                });\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理普通Object\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isObject(spv))\r\n            {\r\n                const object = {};\r\n\r\n                target[property] = object;\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(object, spv, key, param);\r\n                });\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 使用默认序列化\r\n    {\r\n        priority: -10000,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (!param.serialization.omitDefault)\r\n            {\r\n                const object = {};\r\n\r\n                target[property] = object;\r\n                const className = classUtils.getQualifiedClassName(spv);\r\n                const keys = getSerializableMembers(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(object, spv, key, param);\r\n                });\r\n                object[__class__] = className;\r\n\r\n                return true;\r\n            }\r\n\r\n            // 执行默认忽略默认值\r\n            if (ObjectUtils.objectIsEmpty(tpv) || tpv.constructor !== spv.constructor)\r\n            {\r\n                const className = classUtils.getQualifiedClassName(spv);\r\n                // 获取或创建对象默认实例，把默认实例保存在构造函数上省去使用map保存。\r\n                let inst = spv.constructor.inst;\r\n\r\n                if (!inst)\r\n                {\r\n                    inst = spv.constructor.inst = new spv.constructor();\r\n                }\r\n                // .constructor 上的属性会被继承\r\n                if (!(inst instanceof spv.constructor))\r\n                {\r\n                    inst = spv.constructor.inst = new spv.constructor();\r\n                }\r\n                const diff: any = param.serialization.different(spv, inst);\r\n\r\n                diff[__class__] = className;\r\n                target[property] = diff;\r\n            }\r\n            else\r\n            {\r\n                const diff: any = param.serialization.different(spv, tpv);\r\n\r\n                if (diff)\r\n                {\r\n                    target[property] = diff;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n    },\r\n);\r\n\r\nserialization.deserializeHandlers = [\r\n    // 基础类型\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isBaseType(spv))\r\n            {\r\n                target[property] = spv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理循环引用以及多次引用\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            const refs = param.refs;\r\n\r\n            if (spv[serializeRefKey] !== undefined)\r\n            {\r\n                const refid = spv[serializeRefKey];\r\n\r\n                const currentRef = refs[refid] = refs[refid] || { refs: [], target: null, property: null };\r\n\r\n                if (spv[serializeIsRawKey])\r\n                {\r\n                    currentRef.target = target;\r\n                    currentRef.property = property;\r\n                }\r\n                else\r\n                {\r\n                    currentRef.refs.push({ target, property });\r\n\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理方法\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (spv && spv[__class__] === 'function')\r\n            {\r\n                console.warn(`不支持序列化 function ${spv.data}`);\r\n                // target[property] = eval(`(${spv.data})`);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理非原生Object对象\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (!ObjectUtils.isObject(spv) && !Array.isArray(spv))\r\n            {\r\n                target[property] = spv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理数组\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (Array.isArray(spv))\r\n            {\r\n                const arr = target[property] || [];\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(arr, spv, key, param);\r\n                });\r\n                target[property] = arr;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理 没有类名称标记的 普通Object\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isObject(spv) && ObjectUtils.objectIsEmpty(spv[__class__]))\r\n            {\r\n                let obj = {};\r\n\r\n                if (tpv) obj = tpv;\r\n                //\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(obj, spv, key, param);\r\n                });\r\n                target[property] = obj;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理自定义反序列化对象\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n            let inst = classUtils.getInstanceByName(spv[__class__]);\r\n            // 处理自定义反序列化对象\r\n\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            // @ts-ignore\r\n            if (inst && inst.deserialize)\r\n            {\r\n                if (tpv && tpv.constructor === inst.constructor)\r\n                {\r\n                    inst = tpv;\r\n                }\r\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n                // @ts-ignore\r\n                const result = inst.deserialize(spv);\r\n                if (result)\r\n                {\r\n                    inst = result;\r\n                }\r\n                target[property] = inst;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理自定义对象的反序列化\r\n    {\r\n        priority: -10000,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n            let inst = classUtils.getInstanceByName(spv[__class__]);\r\n\r\n            if (inst)\r\n            {\r\n                if (tpv && tpv.constructor === inst.constructor)\r\n                {\r\n                    inst = tpv;\r\n                }\r\n                // 默认反序列\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    if (key !== __class__)\r\n                    { propertyHandler(inst, spv, key, param); }\r\n                });\r\n                target[property] = inst;\r\n\r\n                return true;\r\n            }\r\n            console.warn(`未处理`);\r\n\r\n            return false;\r\n        }\r\n    },\r\n];\r\n\r\nserialization.differentHandlers = [\r\n    // 相等对象\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            if (target[property] === source[property])\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 目标数据为null时\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            if (ObjectUtils.objectIsEmpty(source[property]))\r\n            {\r\n                param.different[property] = param.serialization.serialize(target[property]);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 基础类型\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n\r\n            if (ObjectUtils.isBaseType(tpv))\r\n            {\r\n                param.different[property] = tpv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 数组\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const different = param.different;\r\n\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (Array.isArray(tpv))\r\n            {\r\n                const keys = Object.keys(tpv);\r\n                const diff = [];\r\n                const newParam: DifferentHandlerParam = { different: diff, handlers: param.handlers, serialization: param.serialization };\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(tpv, spv, key, newParam);\r\n                });\r\n                if (Object.keys(diff).length > 0)\r\n                { different[property] = diff; }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 不同对象类型\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (spv.constructor !== tpv.constructor)\r\n            {\r\n                param.different[property] = param.serialization.serialize(tpv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 默认处理\r\n    {\r\n        priority: -10000,\r\n        handler(target, source, property, param)\r\n        {\r\n            const different = param.different;\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            let keys = getSerializableMembers(tpv);\r\n\r\n            if (tpv.constructor === Object)\r\n            {\r\n                keys = Object.keys(tpv);\r\n            }\r\n\r\n            const diff = {};\r\n            const newParam: DifferentHandlerParam = { different: diff, handlers: param.handlers, serialization: param.serialization };\r\n\r\n            keys.forEach((v) =>\r\n            {\r\n                propertyHandler(tpv, spv, v, newParam);\r\n            });\r\n            if (Object.keys(diff).length > 0)\r\n            {\r\n                different[property] = diff;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    },\r\n];\r\n\r\n/**\r\n * 设置函数列表\r\n */\r\nserialization.setValueHandlers = [\r\n    // 值相等时直接返回\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, _handlers)\r\n        {\r\n            if (target[property] === source[property])\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 当原值等于null时直接反序列化赋值\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.objectIsEmpty(tpv))\r\n            {\r\n                target[property] = param.serialization.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理简单类型\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isBaseType(spv))\r\n            {\r\n                target[property] = spv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理数组\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (Array.isArray(spv))\r\n            {\r\n                console.assert(!!tpv);\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(tpv, spv, key, param);\r\n                });\r\n                target[property] = tpv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理非 Object 类型数据\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const spv = source[property];\r\n\r\n            if (!ObjectUtils.isObject(spv))\r\n            {\r\n                target[property] = param.serialization.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理 Object 基础类型数据\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            if (ObjectUtils.isObject(spv) && spv[__class__] === undefined)\r\n            {\r\n                console.assert(!!tpv);\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(tpv, spv, key, param);\r\n                });\r\n                target[property] = tpv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理自定义类型\r\n    {\r\n        priority: -10000,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n\r\n            const targetClassName = classUtils.getQualifiedClassName(target[property]);\r\n            // 相同对象类型\r\n\r\n            if (targetClassName === spv[__class__])\r\n            {\r\n                const keys = Object.keys(spv);\r\n\r\n                keys.forEach((key) =>\r\n                {\r\n                    propertyHandler(tpv, spv, key, param);\r\n                });\r\n                target[property] = tpv;\r\n            }\r\n            else\r\n            {\r\n                // 不同对象类型\r\n                target[property] = param.serialization.deserialize(spv);\r\n            }\r\n\r\n            return true;\r\n        }\r\n    },\r\n];\r\n\r\n[Float32Array, Float64Array, Int8Array, Int16Array, Int32Array, Uint8Array, Uint16Array, Uint32Array, Uint8ClampedArray].forEach((element) =>\r\n{\r\n    element.prototype['serialize'] = function (object: { value: number[] })\r\n    {\r\n        object.value = Array.from(this);\r\n\r\n        return object;\r\n    };\r\n\r\n    element.prototype['deserialize'] = function (object: { value: number[] })\r\n    {\r\n        return new (this.constructor as any)(object.value);\r\n    };\r\n});\r\n\r\nconst serializeRefKey = '__serialize__Ref__';\r\nconst serializeIsRefKey = '__serialize__IsRef__';\r\nconst serializeIsRawKey = '__serialize__IsRaw__';\r\nconst rootKey = '__root__';\r\nconst protoKey = '__proto__';\r\nconst serializeKey = '_serialize__';\r\n","/**\r\n * 观察装饰器，观察被装饰属性的变化\r\n *\r\n * @param onChange 属性变化回调  例如参数为“onChange”时，回调将会调用this.onChange(property, oldValue, newValue)\r\n *\r\n * 使用@watch后会自动生成一个带\"_\"的属性，例如 属性\"a\"会生成\"_a\"\r\n *\r\n * 通过使用 eval 函数 生成出 与自己手动写的set get 一样的函数，性能已经接近 手动写的get set函数。\r\n *\r\n * 性能比Watcher.watch更加高效，但还是建议使用 Watcher.watch 替代 @watch ，由于 @watch 没有对onChange更好的约束 使用 时容易出现运行时报错。\r\n */\r\nexport function watch(onChange: string)\r\n{\r\n    return (target: any, property: string) =>\r\n    {\r\n        const key = `_${property}`;\r\n\r\n        console.assert(target[onChange], `在对象 ${target} 上找不到方法 ${onChange}`);\r\n\r\n        Object.defineProperty(target, property, {\r\n            get() { return this[key]; },\r\n            set(value)\r\n            {\r\n                if (this[key] === value)\r\n                {\r\n                    return;\r\n                }\r\n                const oldValue = this[key];\r\n\r\n                this[key] = value;\r\n                this[onChange](property, oldValue, value);\r\n            },\r\n            enumerable: true,\r\n            configurable: true,\r\n        });\r\n    };\r\n}\r\n\r\nexport class Watcher\r\n{\r\n    /**\r\n     * 监听对象属性的变化\r\n     *\r\n     * 注意：使用watch后获取该属性值的性能将会是原来的1/60，避免在运算密集处使用该函数。\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性\r\n     * @param handler 变化回调函数 (object: T, property: string, oldValue: V) => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    watch<T, K extends PropertyNames<T>, V extends T[K]>(object: T, property: K, handler: (newValue: V, oldValue: V, object: T, property: string) => void, thisObject?: any)\r\n    {\r\n        if (!Object.getOwnPropertyDescriptor(object, __watchs__))\r\n        {\r\n            Object.defineProperty(object, __watchs__, {\r\n                value: {},\r\n                enumerable: false,\r\n                configurable: true,\r\n                writable: false,\r\n            });\r\n        }\r\n        const _property: string = property as any;\r\n        const watchs: Watchs = object[__watchs__];\r\n\r\n        if (!watchs[_property])\r\n        {\r\n            const oldPropertyDescriptor = Object.getOwnPropertyDescriptor(object, _property);\r\n\r\n            watchs[_property] = { value: object[_property], oldPropertyDescriptor, handlers: [] };\r\n            //\r\n            let data = getPropertyDescriptor(object, _property);\r\n\r\n            if (data && data.set && data.get)\r\n            {\r\n                data = { enumerable: data.enumerable, configurable: true, get: data.get, set: data.set };\r\n                const orgSet = data.set;\r\n\r\n                data.set = function (value)\r\n                {\r\n                    const oldValue = this[_property];\r\n\r\n                    if (oldValue !== value)\r\n                    {\r\n                        orgSet && orgSet.call(this, value);\r\n                        notifyListener(value, oldValue, this, _property);\r\n                    }\r\n                };\r\n            }\r\n            else if (!data || (!data.get && !data.set))\r\n            {\r\n                data = { enumerable: true, configurable: true };\r\n                data.get = function ()\r\n                {\r\n                    return this[__watchs__][_property].value;\r\n                };\r\n                data.set = function (value)\r\n                {\r\n                    const oldValue = this[__watchs__][_property].value;\r\n\r\n                    if (oldValue !== value)\r\n                    {\r\n                        this[__watchs__][_property].value = value;\r\n                        notifyListener(value, oldValue, this, _property);\r\n                    }\r\n                };\r\n            }\r\n            else\r\n            {\r\n                console.warn(`watch ${object} . ${_property} 失败！`);\r\n\r\n                return;\r\n            }\r\n            Object.defineProperty(object, _property, data);\r\n        }\r\n\r\n        const propertywatchs = watchs[_property];\r\n        const has = propertywatchs.handlers.reduce((v, item) => v || (item.handler === handler && item.thisObject === thisObject), false);\r\n\r\n        if (!has)\r\n        {\r\n            propertywatchs.handlers.push({ handler, thisObject });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消监听对象属性的变化\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性\r\n     * @param handler 变化回调函数 (object: T, property: string, oldValue: V) => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    unwatch<T, K extends PropertyNames<T>, V extends T[K]>(object: T, property: K, handler?: (newValue: V, oldValue: V, object: T, property: string) => void, thisObject?: any)\r\n    {\r\n        const watchs: Watchs = object[__watchs__];\r\n\r\n        if (!watchs) return;\r\n        const _property: string = property as any;\r\n\r\n        if (watchs[_property])\r\n        {\r\n            const handlers = watchs[_property].handlers;\r\n\r\n            if (handler === undefined)\r\n            {\r\n                handlers.length = 0;\r\n            }\r\n            for (let i = handlers.length - 1; i >= 0; i--)\r\n            {\r\n                if (handlers[i].handler === handler && (handlers[i].thisObject === thisObject || thisObject === undefined))\r\n                {\r\n                    handlers.splice(i, 1);\r\n                }\r\n            }\r\n            if (handlers.length === 0)\r\n            {\r\n                const value = object[_property];\r\n\r\n                delete object[_property];\r\n                if (watchs[_property].oldPropertyDescriptor)\r\n                {\r\n                    Object.defineProperty(object, _property, watchs[_property].oldPropertyDescriptor);\r\n                }\r\n                object[_property] = value;\r\n                delete watchs[_property];\r\n            }\r\n            if (Object.keys(watchs).length === 0)\r\n            {\r\n                delete object[__watchs__];\r\n            }\r\n        }\r\n    }\r\n\r\n    private _binds: [any, string, () => void, any, string, () => void][] = [];\r\n\r\n    /**\r\n     * 绑定两个对象的指定属性，保存两个属性值同步。\r\n     *\r\n     * @param object0 第一个对象。\r\n     * @param property0 第一个对象的属性名称。\r\n     * @param object1 第二个对象。\r\n     * @param property1 第二个对象的属性名称。\r\n     */\r\n    bind<T0, T1, K0 extends PropertyNames<T0>, K1 extends PropertyNames<T1>>(object0: T0, property0: K0, object1: T1, property1: K1)\r\n    {\r\n        const fun0 = () =>\r\n        {\r\n            object1[property1] = object0[property0] as any;\r\n        };\r\n        const fun1 = () =>\r\n        {\r\n            object0[property0] = object1[property1] as any;\r\n        };\r\n\r\n        this.watch(object0, property0, fun0);\r\n        this.watch(object1, property1, fun1);\r\n\r\n        this._binds.push([object0, property0 as any, fun0, object1, property1 as any, fun1]);\r\n    }\r\n\r\n    /**\r\n     * 解除两个对象的指定属性的绑定。\r\n     *\r\n     * @param object0 第一个对象。\r\n     * @param property0 第一个对象的属性名称。\r\n     * @param object1 第二个对象。\r\n     * @param property1 第二个对象的属性名称。\r\n     */\r\n    unbind<T0, T1, K0 extends PropertyNames<T0>, K1 extends PropertyNames<T1>>(object0: T0, property0: K0, object1: T1, property1: K1)\r\n    {\r\n        const binds = this._binds;\r\n\r\n        for (let i = binds.length - 1; i >= 0; i--)\r\n        {\r\n            const v = binds[i];\r\n\r\n            if ((v[1] === property0 && v[4] === property1) || (v[1] === property1 && v[4] === property0))\r\n            {\r\n                if ((v[0] === object0 && v[3] === object1) || (v[0] === object1 && v[3] === object0))\r\n                {\r\n                    this.unwatch(v[0], v[1], v[2]);\r\n                    this.unwatch(v[3], v[4], v[5]);\r\n                    binds.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 监听对象属性链值变化\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性 例如：\"a.b\"\r\n     * @param handler 变化回调函数 (newValue: any, oldValue: any, object: any, property: string) => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    watchchain(object: any, property: string, handler: (newValue: any, oldValue: any, object: any, property: string) => void, thisObject?: any)\r\n    {\r\n        const notIndex = property.indexOf('.');\r\n\r\n        if (notIndex === -1)\r\n        {\r\n            this.watch(object, property, handler, thisObject);\r\n\r\n            return;\r\n        }\r\n        if (!Object.getOwnPropertyDescriptor(object, __watchchains__))\r\n        {\r\n            Object.defineProperty(object, __watchchains__, { value: {}, enumerable: false, writable: false, configurable: true });\r\n        }\r\n        const watchchains: WatchChains = object[__watchchains__];\r\n\r\n        if (!watchchains[property])\r\n        {\r\n            watchchains[property] = [];\r\n        }\r\n\r\n        const propertywatchs = watchchains[property];\r\n        const has = propertywatchs.reduce((v, item) => v || (item.handler === handler && item.thisObject === thisObject), false);\r\n\r\n        if (!has)\r\n        {\r\n            // 添加下级监听链\r\n            const currentp = property.substr(0, notIndex);\r\n            const nextp = property.substr(notIndex + 1);\r\n\r\n            if (object[currentp])\r\n            {\r\n                this.watchchain(object[currentp], nextp, handler, thisObject);\r\n            }\r\n\r\n            // 添加链监听\r\n            const watchchainFun = (newValue: any, oldValue: any) =>\r\n            {\r\n                if (oldValue) this.unwatchchain(oldValue, nextp, handler, thisObject);\r\n                if (newValue) this.watchchain(newValue, nextp, handler, thisObject);\r\n                // 当更换对象且监听值发生改变时触发处理函数\r\n                const ov = getObjectPropertyValue(oldValue, nextp);\r\n                const nv = getObjectPropertyValue(newValue, nextp);\r\n\r\n                if (ov !== nv)\r\n                {\r\n                    handler.call(thisObject, nv, ov, newValue, nextp);\r\n                }\r\n            };\r\n\r\n            this.watch(object, currentp, watchchainFun);\r\n\r\n            // 记录链监听函数\r\n            propertywatchs.push({ handler, thisObject, watchchainFun });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消监听对象属性链值变化\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性 例如：\"a.b\"\r\n     * @param handler 变化回调函数 (object: T, property: string, oldValue: V) => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    unwatchchain(object: any, property: string, handler?: (newValue: any, oldValue: any, object: any, property: string) => void, thisObject?: any)\r\n    {\r\n        const notIndex = property.indexOf('.');\r\n\r\n        if (notIndex === -1)\r\n        {\r\n            this.unwatch(object, property, handler, thisObject);\r\n\r\n            return;\r\n        }\r\n\r\n        const currentp = property.substr(0, notIndex);\r\n        const nextp = property.substr(notIndex + 1);\r\n\r\n        //\r\n        const watchchains: WatchChains = object[__watchchains__];\r\n\r\n        if (!watchchains || !watchchains[property]) return;\r\n\r\n        //\r\n        const propertywatchs = watchchains[property];\r\n\r\n        for (let i = propertywatchs.length - 1; i >= 0; i--)\r\n        {\r\n            const element = propertywatchs[i];\r\n\r\n            if (objectIsEmpty(handler) || (handler === element.handler && thisObject === element.thisObject))\r\n            {\r\n                // 删除下级监听链\r\n                if (object[currentp])\r\n                {\r\n                    this.unwatchchain(object[currentp], nextp, element.handler, element.thisObject);\r\n                }\r\n                // 删除链监听\r\n                this.unwatch(object, currentp, element.watchchainFun);\r\n                // 清理记录链监听函数\r\n                propertywatchs.splice(i, 1);\r\n            }\r\n        }\r\n        // 清理空列表\r\n        if (propertywatchs.length === 0) delete watchchains[property];\r\n        if (Object.keys(watchchains).length === 0)\r\n        {\r\n            delete object[__watchchains__];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 监听对象属性链值变化\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性 例如：{a:{b:null,d:null}} 表示监听 object.a.b 与 object.a.d 值得变化，如果property===object时表示监听对象中所有叶子属性变化。\r\n     * @param handler 变化回调函数 (newValue: any, oldValue: any, host: any, property: string) => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    watchobject<T>(object: T, property: gPartial<T>, handler: (newValue: any, oldValue: any, host: any, property: string) => void, thisObject?: any)\r\n    {\r\n        const chains = getObjectPropertyChains(property);\r\n\r\n        chains.forEach((v) =>\r\n        {\r\n            this.watchchain(object, v, handler, thisObject);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 取消监听对象属性链值变化\r\n     *\r\n     * @param object 被监听对象\r\n     * @param property 被监听属性 例如：{a:{b:null,d:null}} 表示监听 object.a.b 与 object.a.d 值得变化，如果property===object时表示监听对象中所有叶子属性变化。\r\n     * @param handler 变化回调函数 newValue: any, oldValue: any, host: any, property: string => void\r\n     * @param thisObject 变化回调函数 this值\r\n     */\r\n    unwatchobject<T>(object: T, property: gPartial<T>, handler?: (newValue: any, oldValue: any, host: any, property: string) => void, thisObject?: any)\r\n    {\r\n        const chains = getObjectPropertyChains(property);\r\n\r\n        chains.forEach((v) =>\r\n        {\r\n            this.unwatchchain(object, v, handler, thisObject);\r\n        });\r\n    }\r\n}\r\n\r\nexport const watcher = new Watcher();\r\n\r\ninterface Watchs\r\n{\r\n    [property: string]: { value: any, oldPropertyDescriptor: any, handlers: { handler: (newValue: any, oldValue: any, host: any, property: string) => void, thisObject: any }[] };\r\n}\r\n\r\ninterface WatchChains\r\n{\r\n    [property: string]: { handler: (newValue: any, oldValue: any, host: any, property: string) => void, thisObject: any, watchchainFun: (newValue: any, oldValue: any, host: any, property: string) => void }[];\r\n}\r\n\r\nexport const __watchs__ = '__watchs__';\r\nexport const __watchchains__ = '__watchchains__';\r\n\r\nfunction notifyListener(newValue: any, oldValue: any, host: any, property: string): void\r\n{\r\n    const watchs: Watchs = host[__watchs__];\r\n    const handlers = watchs[property].handlers;\r\n\r\n    handlers.forEach((element) =>\r\n    {\r\n        element.handler.call(element.thisObject, newValue, oldValue, host, property);\r\n    });\r\n}\r\n\r\n/**\r\n * 让T中以及所有键值中的所有键都是可选的\r\n */\r\ntype gPartial<T> = {\r\n    [P in keyof T]?: gPartial<T[P]>;\r\n};\r\n\r\n/**\r\n * 从对象自身或者对象的原型中获取属性描述\r\n *\r\n * @param object 对象\r\n * @param property 属性名称\r\n */\r\nfunction getPropertyDescriptor(object: Object, property: string): PropertyDescriptor | undefined\r\n{\r\n    const data = Object.getOwnPropertyDescriptor(object, property);\r\n    if (data)\r\n    {\r\n        return data;\r\n    }\r\n    const prototype = Object.getPrototypeOf(object);\r\n    if (prototype)\r\n    {\r\n        return getPropertyDescriptor(prototype, property);\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * 判断对象是否为null或者undefine\r\n *\r\n * @param obj\r\n * @returns\r\n */\r\nfunction objectIsEmpty(obj: any)\r\n{\r\n    if (obj === undefined || obj === null)\r\n    {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * 选取T类型中值为非函数类型的所有键\r\n */\r\ntype PropertyNames<T> = NonTypePropertyNames<T, Function>;\r\n\r\n/**\r\n * 获取T类型中除值为KT类型以外的所有键\r\n *\r\n * ```\r\n * class A\r\n * {\r\n *      a = 1;\r\n *      f(){}\r\n * }\r\n *\r\n * var a: NonTypePropertyNames<A, number>; //var a:\"f\"\r\n * var a1: NonTypePropertyNames<A, Function>; //var a:\"a\"\r\n *\r\n * ```\r\n */\r\ntype NonTypePropertyNames<T, KT> = { [K in keyof T]: T[K] extends KT ? never : K }[keyof T];\r\n\r\n/**\r\n * 获取对象对应属性上的值\r\n *\r\n * @param object 对象\r\n * @param property 属性名称，可以是 \"a\" 或者 \"a.b\" 或者 [\"a\",\"b\"]\r\n */\r\nfunction getObjectPropertyValue(object: Object, property: string | string[])\r\n{\r\n    if (typeof property === 'string') property = property.split('.');\r\n    let value = object;\r\n    for (let i = 0; i < property.length; i++)\r\n    {\r\n        if (objectIsEmpty(value)) return undefined;\r\n        value = value[property[i]];\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n/**\r\n * 获取对象上属性链列表\r\n *\r\n * 例如 object值为{ a: { b: { c: 1 }, d: 2 } }时则返回 [\"a.b.c\",\"a.d\"]\r\n *\r\n * @param object 对象\r\n */\r\nfunction getObjectPropertyChains(object: Object): string[]\r\n{\r\n    const result: string[] = [];\r\n    // 属性名称列表\r\n    const propertys = Object.keys(object);\r\n    // 属性所属对象列表\r\n    const hosts = new Array(propertys.length).fill(object);\r\n    // 父属性所在编号列表\r\n    const parentPropertyIndices = new Array(propertys.length).fill(-1);\r\n    // 处理到的位置\r\n    let index = 0;\r\n    while (index < propertys.length)\r\n    {\r\n        const host = hosts[index];\r\n        const cp = propertys[index];\r\n        const cv = host[cp];\r\n        let vks: string[];\r\n        if (objectIsEmpty(cv) || isBaseType(cv) || (vks = Object.keys(cv)).length === 0)\r\n        {\r\n            // 处理叶子属性\r\n            const ps = [cp];\r\n            let ci = index;\r\n            // 查找并组合属性链\r\n            while ((ci = parentPropertyIndices[ci]) !== -1)\r\n            {\r\n                ps.push(propertys[ci]);\r\n            }\r\n            ps.reverse();\r\n            result.push(ps.join('.'));\r\n        }\r\n        else\r\n        {\r\n            // 处理中间属性\r\n            // eslint-disable-next-line no-loop-func\r\n            vks.forEach((k) =>\r\n            {\r\n                propertys.push(k);\r\n                hosts.push(cv);\r\n                parentPropertyIndices.push(index);\r\n            });\r\n        }\r\n\r\n        index++;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * 判断是否为基础类型 undefined,null,boolean,string,number\r\n */\r\nfunction isBaseType(object: any): boolean\r\n{\r\n    // 基础类型\r\n    if (\r\n        object === undefined || object === null\r\n        || typeof object === 'boolean'\r\n        || typeof object === 'string'\r\n        || typeof object === 'number'\r\n    )\r\n    { return true; }\r\n\r\n    return false;\r\n}\r\n\r\n","import { IEvent } from './IEvent';\r\nimport { IEventListener } from './IEventListener';\r\nimport { IEventTarget } from './IEventTarget';\r\n\r\n/**\r\n * 事件发射器\r\n */\r\nexport class EventEmitter<T = any>\r\n{\r\n    /**\r\n     * 目标与发射器映射。\r\n     */\r\n    private static targetEmitterMap = new Map<any, EventEmitter>();\r\n\r\n    /**\r\n     * 发射器与目标映射。\r\n     */\r\n    private static emitterTargetMap = new Map<EventEmitter, IEventTarget>();\r\n\r\n    /**\r\n     * 发射器与监听器映射。\r\n     */\r\n    private static emitterListenerMap = new Map<EventEmitter, ObjectListener>();\r\n\r\n    /**\r\n     * 获取事件发射器\r\n     * @param target\r\n     */\r\n    static getEventEmitter(target: any)\r\n    {\r\n        console.assert(target !== undefined && target !== null, `被监听对象无法为undefined或者null！`);\r\n        if (target instanceof EventEmitter)\r\n        {\r\n            return target;\r\n        }\r\n\r\n        return this.targetEmitterMap.get(target);\r\n    }\r\n\r\n    /**\r\n     * 获取事件发射器，当没有找到对应发射器时，返回新建的事件发射器。\r\n     * @param target\r\n     */\r\n    static getOrCreateEventEmitter(target: any)\r\n    {\r\n        let eventEmitter = this.getEventEmitter(target);\r\n\r\n        if (!eventEmitter)\r\n        {\r\n            eventEmitter = new EventEmitter(target);\r\n        }\r\n\r\n        return eventEmitter;\r\n    }\r\n\r\n    constructor(target?: any)\r\n    {\r\n        if (target === undefined)\r\n        {\r\n            target = this;\r\n        }\r\n        console.assert(!EventEmitter.targetEmitterMap.has(target), `同一个 ${target} 对象无法对应两个 EventEmitter！`);\r\n        EventEmitter.targetEmitterMap.set(target, this);\r\n        EventEmitter.emitterTargetMap.set(this, target);\r\n    }\r\n\r\n    /**\r\n     * 返回监听的事件类型列表。\r\n     */\r\n    eventNames<K extends keyof T & string>()\r\n    {\r\n        const names = Object.keys(EventEmitter.emitterListenerMap.get(this)) as K[];\r\n\r\n        return names;\r\n    }\r\n\r\n    /**\r\n     * 返回指定事件类型的监听数量。\r\n     *\r\n     * @param type 事件的类型。\r\n     */\r\n    listenerCount<K extends keyof T & string>(type: K): number\r\n    {\r\n        return EventEmitter.emitterListenerMap.get(this)?.[type]?.length || 0;\r\n    }\r\n\r\n    /**\r\n     * 监听一次事件后将会被移除\r\n     *\r\n     * @param type\t\t\t\t\t\t事件的类型。\r\n     * @param listener\t\t\t\t\t处理事件的侦听器函数。\r\n     * @param thisObject                listener函数作用域\r\n     * @param priority\t\t\t\t\t事件侦听器的优先级。数字越大，优先级越高。默认优先级为 0。\r\n     */\r\n    once<K extends keyof T & string>(type: K, listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority = 0): this\r\n    {\r\n        this.on(type, listener, thisObject, priority, true);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 发射事件。\r\n     *\r\n     * 当事件重复流向一个对象时将不会被处理。\r\n     *\r\n     * @param event   事件对象\r\n     * @returns 返回事件是否被处理\r\n     */\r\n    emitEvent<K extends keyof T & string>(event: IEvent<T[K]>)\r\n    {\r\n        const currentTarget = EventEmitter.emitterTargetMap.get(this);\r\n\r\n        if (event.targets.indexOf(currentTarget) !== -1)\r\n        {\r\n            return event;\r\n        }\r\n\r\n        // 处理事件\r\n        const eventEmitter = EventEmitter.getOrCreateEventEmitter(currentTarget);\r\n        eventEmitter.handleEvent(event);\r\n\r\n        // 向平级分享事件\r\n        eventEmitter.handelEventShare(event);\r\n\r\n        // 向上级报告事件\r\n        eventEmitter.handelEventBubbles(event);\r\n\r\n        // 向下级广播事件\r\n        eventEmitter.handelEventBroadcast(event);\r\n\r\n        return event; // 当处理次数大于0时表示已被处理。\r\n    }\r\n\r\n    /**\r\n     * 发射事件。\r\n     *\r\n     * @param type 事件的类型。类型区分大小写。\r\n     * @param data 事件携带的自定义数据。\r\n     * @param bubbles 是否向上级报告事件。默认为`false`。\r\n     * @param broadcast 是否向下级广播事件。默认为`false`。\r\n     * @param share 是否向平级分享事件。默认为`true`。\r\n     *\r\n     * @returns 返回发射后的事件。\r\n     */\r\n    emit<K extends keyof T & string>(type: K, data?: T[K], bubbles = false, broadcast = false, share = true)\r\n    {\r\n        const event: IEvent<T[K]> = {\r\n            type,\r\n            data,\r\n            share,\r\n            bubbles,\r\n            broadcast,\r\n            target: undefined,\r\n            currentTarget: undefined,\r\n            isStopShare: false,\r\n            isStopBubbles: false,\r\n            isStopBroadcast: false,\r\n            isStopTransmit: false,\r\n            isStop: false,\r\n            targets: [],\r\n            handles: [],\r\n        };\r\n        this.emitEvent(event);\r\n\r\n        return event;\r\n    }\r\n\r\n    /**\r\n     * 将事件广播到下级对象中。\r\n     *\r\n     * @param type                      事件的类型。类型区分大小写。\r\n     * @param data                      事件携带的自定义数据。\r\n     *\r\n     * @returns 返回广播后的事件。\r\n     */\r\n    broadcast<K extends keyof T & string>(type: K, data?: T[K])\r\n    {\r\n        return this.emit(type, data, false, true);\r\n    }\r\n\r\n    /**\r\n     * 将事件冒泡到上级对象中。\r\n     *\r\n     * @param type                      事件的类型。类型区分大小写。\r\n     * @param data                      事件携带的自定义数据。\r\n     *\r\n     * @returns 返回冒泡后的事件。\r\n     */\r\n    bubbles<K extends keyof T & string>(type: K, data?: T[K])\r\n    {\r\n        return this.emit(type, data, true, false);\r\n    }\r\n\r\n    /**\r\n     * 检查 Event 对象是否为特定事件类型注册了任何侦听器.\r\n     *\r\n     * @param type\t\t事件的类型。\r\n     * @return \t\t\t如果指定类型的侦听器已注册，则值为 true；否则，值为 false。\r\n     */\r\n    has<K extends keyof T & string>(type: K): boolean\r\n    {\r\n        return this.listenerCount(type) > 0;\r\n    }\r\n\r\n    /**\r\n     * 为监听对象新增指定类型的事件监听。\r\n     *\r\n     * @param type\t\t\t\t\t\t事件的类型。\r\n     * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n     * @param once                      值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n     */\r\n    on<K extends keyof T & string>(type: K, listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority = 0, once = false): this\r\n    {\r\n        if (listener === null) return this;\r\n\r\n        let objectListener = EventEmitter.emitterListenerMap.get(this);\r\n\r\n        if (!objectListener)\r\n        {\r\n            objectListener = { __anyEventType__: [] };\r\n            EventEmitter.emitterListenerMap.set(this, objectListener);\r\n        }\r\n\r\n        thisObject = thisObject || this;\r\n        const listeners: IEventListener[] = objectListener[type] = objectListener[type] || [];\r\n\r\n        let i = 0;\r\n\r\n        for (i = 0; i < listeners.length; i++)\r\n        {\r\n            const element = listeners[i];\r\n\r\n            if (element.listener === listener && element.thisObject === thisObject)\r\n            {\r\n                listeners.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        listeners.push({ listener, thisObject, priority, once });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除监听\r\n     *\r\n     * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n     * @param listener\t\t\t\t\t要删除的监听器对象。可选。该值为空时所有指定类型的监听均将被移除。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     */\r\n    off<K extends keyof T & string>(type?: K, listener?: (event: IEvent<T[K]>) => void, thisObject?: any): this\r\n    {\r\n        if (!type)\r\n        {\r\n            EventEmitter.emitterListenerMap.delete(this);\r\n\r\n            return this;\r\n        }\r\n\r\n        const objectListener = EventEmitter.emitterListenerMap.get(this);\r\n\r\n        if (!objectListener) return this;\r\n\r\n        if (!listener)\r\n        {\r\n            delete objectListener[type];\r\n\r\n            return this;\r\n        }\r\n\r\n        thisObject = thisObject || this;\r\n\r\n        const listeners = objectListener[type];\r\n\r\n        if (listeners)\r\n        {\r\n            for (let i = listeners.length - 1; i >= 0; i--)\r\n            {\r\n                const element = listeners[i];\r\n\r\n                if (element.listener === listener && element.thisObject === thisObject)\r\n                {\r\n                    listeners.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            if (listeners.length === 0)\r\n            {\r\n                delete objectListener[type];\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除所有监听\r\n     *\r\n     * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n     */\r\n    offAll<K extends keyof T & string>(type?: K)\r\n    {\r\n        this.off(type);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 监听对象的任意事件，该对象的任意事件都将触发该监听器的调用。\r\n     *\r\n     * @param listener                  处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     * @param priority                  事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n     * @param once                      值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n     */\r\n    onAny<K extends keyof T & string>(listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority = 0, once = false)\r\n    {\r\n        let objectListener = EventEmitter.emitterListenerMap.get(this);\r\n\r\n        if (!objectListener)\r\n        {\r\n            objectListener = { __anyEventType__: [] };\r\n            EventEmitter.emitterListenerMap.set(this, objectListener);\r\n        }\r\n\r\n        const listeners = objectListener.__anyEventType__;\r\n\r\n        let i = 0;\r\n\r\n        for (i = 0; i < listeners.length; i++)\r\n        {\r\n            const element = listeners[i];\r\n\r\n            if (element.listener === listener && element.thisObject === thisObject)\r\n            {\r\n                listeners.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n        listeners.push({ listener, thisObject, priority, once });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除监听对象的任意事件。\r\n     *\r\n     * @param listener                  处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     */\r\n    offAny<K extends keyof T & string>(listener?: (event: IEvent<T[K]>) => void, thisObject?: any)\r\n    {\r\n        const objectListener = EventEmitter.emitterListenerMap.get(this);\r\n\r\n        if (!listener)\r\n        {\r\n            if (objectListener)\r\n            {\r\n                objectListener.__anyEventType__.length = 0;\r\n            }\r\n\r\n            return;\r\n        }\r\n        if (objectListener)\r\n        {\r\n            const listeners = objectListener.__anyEventType__;\r\n\r\n            for (let i = listeners.length - 1; i >= 0; i--)\r\n            {\r\n                const element = listeners[i];\r\n\r\n                if (element.listener === listener && element.thisObject === thisObject)\r\n                {\r\n                    listeners.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 处理事件\r\n     * @param e 事件\r\n     */\r\n    protected handleEvent<K extends keyof T & string>(e: IEvent<T[K]>)\r\n    {\r\n        // 设置目标\r\n        const eventTarget = EventEmitter.emitterTargetMap.get(this);\r\n        e.target = e.target || eventTarget;\r\n        e.currentTarget = eventTarget;\r\n        e.targets.push(eventTarget);\r\n        //\r\n        const objectListener = EventEmitter.emitterListenerMap.get(this);\r\n\r\n        if (!objectListener) return;\r\n\r\n        let listeners = objectListener[e.type];\r\n\r\n        const callListeners: IEventListener[] = [];\r\n        if (listeners)\r\n        {\r\n            // 遍历调用事件回调函数\r\n            listeners.forEach((v) => callListeners.push(v));\r\n\r\n            for (let i = listeners.length - 1; i >= 0; i--)\r\n            {\r\n                if (listeners[i].once)\r\n                {\r\n                    listeners.splice(i, 1);\r\n                }\r\n            }\r\n            if (listeners.length === 0)\r\n            {\r\n                delete objectListener[e.type];\r\n            }\r\n        }\r\n        // Any_EVENT_Type\r\n        listeners = objectListener.__anyEventType__;\r\n        if (listeners)\r\n        {\r\n            // 遍历调用事件回调函数\r\n            listeners.forEach((v) => callListeners.push(v));\r\n\r\n            for (let i = listeners.length - 1; i >= 0; i--)\r\n            {\r\n                if (listeners[i].once)\r\n                {\r\n                    listeners.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 按优先级从高到底排序进行执行监听器。\r\n        callListeners.sort((a, b) => b.priority - a.priority);\r\n        for (let i = 0; i < callListeners.length && !e.isStop; i++)\r\n        {\r\n            callListeners[i].listener.call(callListeners[i].thisObject, e);\r\n            e.handles.push(callListeners[i]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 向平级分享事件\r\n     *\r\n     * @param event 事件\r\n     */\r\n    protected handelEventShare<K extends keyof T & string>(event: IEvent<T[K]>)\r\n    {\r\n        if (!event.share || event.isStopShare || event.isStop || event.isStopTransmit) return;\r\n\r\n        const eventTarget = EventEmitter.emitterTargetMap.get(this);\r\n        if (typeof eventTarget?.getShareTargets === 'function')\r\n        {\r\n            const bubbleTargets = eventTarget.getShareTargets();\r\n            bubbleTargets?.forEach((v) =>\r\n            {\r\n                if (v === undefined || event.targets.indexOf(v) !== -1) return;\r\n\r\n                // 处理事件\r\n                const eventEmitter = EventEmitter.getOrCreateEventEmitter(v);\r\n                eventEmitter.handleEvent(event);\r\n                // 继续分享事件\r\n                eventEmitter.handelEventShare(event);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 向上级报告事件\r\n     *\r\n     * @param event 事件\r\n     */\r\n    protected handelEventBubbles<K extends keyof T & string>(event: IEvent<T[K]>)\r\n    {\r\n        if (!event.bubbles || event.isStopBubbles || event.isStop || event.isStopTransmit) return;\r\n\r\n        const eventTarget = EventEmitter.emitterTargetMap.get(this);\r\n        let bubbleTargets: IEventTarget[] = [];\r\n        if (typeof eventTarget?.getBubbleTargets === 'function')\r\n        {\r\n            bubbleTargets = eventTarget.getBubbleTargets();\r\n        }\r\n        else if (eventTarget['parent'])\r\n        {\r\n            bubbleTargets = [eventTarget['parent']];\r\n        }\r\n        bubbleTargets?.forEach((v) =>\r\n        {\r\n            if (v === undefined || event.targets.indexOf(v) !== -1) return;\r\n\r\n            // 处理事件\r\n            const eventEmitter = EventEmitter.getOrCreateEventEmitter(v);\r\n            eventEmitter.handleEvent(event);\r\n            // 向平级分享事件\r\n            eventEmitter.handelEventShare(event);\r\n            // 向上级报告事件\r\n            eventEmitter.handelEventBubbles(event);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 向下级广播事件\r\n     *\r\n     * @param event 事件\r\n     */\r\n    protected handelEventBroadcast<K extends keyof T & string>(event: IEvent<T[K]>)\r\n    {\r\n        if (!event.broadcast || event.isStopBroadcast || event.isStop || event.isStopTransmit) return;\r\n\r\n        const eventTarget = EventEmitter.emitterTargetMap.get(this);\r\n        let broadcastTargets: IEventTarget[] = [];\r\n        if (typeof eventTarget?.getBroadcastTargets === 'function')\r\n        {\r\n            broadcastTargets = eventTarget.getBroadcastTargets();\r\n        }\r\n        else if (eventTarget['children'] && Array.isArray(eventTarget['children']))\r\n        {\r\n            broadcastTargets = eventTarget['children'];\r\n        }\r\n        broadcastTargets?.forEach((v) =>\r\n        {\r\n            if (v === undefined || event.targets.indexOf(v) !== -1) return;\r\n\r\n            // 处理事件\r\n            const eventEmitter = EventEmitter.getOrCreateEventEmitter(v);\r\n            eventEmitter.handleEvent(event);\r\n            // 向平级分享事件\r\n            eventEmitter.handelEventShare(event);\r\n            // 继续向下级广播事件\r\n            eventEmitter.handelEventBroadcast(event);\r\n        });\r\n    }\r\n}\r\n\r\ninterface ObjectListener\r\n{\r\n    [type: string]: IEventListener[];\r\n    __anyEventType__: IEventListener[];\r\n}\r\n","import { EventEmitter } from './EventEmitter';\r\nimport { IEvent } from './IEvent';\r\n\r\n/**\r\n * 任意事件发射器。\r\n *\r\n * 可以为任何对象甚至基础类型发射事件。\r\n *\r\n * 可针对（除undefined、null、Symbol外）的任意对象（0, 1, true, false, \"1\", {}）发射事件\r\n */\r\nexport class AnyEmitter<O = any, T = any>\r\n{\r\n    /**\r\n     * Return an array listing the events for which the emitter has registered\r\n     * listeners.\r\n     */\r\n    eventNames(obj: O)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        const names = EventEmitter.getEventEmitter(obj)?.eventNames() || [];\r\n\r\n        return names;\r\n    }\r\n\r\n    /**\r\n     * Return the number of listeners listening to a given event.\r\n     */\r\n    listenerCount<K extends keyof T & string>(obj: O, type: K)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        const count = EventEmitter.getEventEmitter(obj)?.listenerCount(type) || 0;\r\n\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * 监听一次事件后将会被移除\r\n     * @param type\t\t\t\t\t\t事件的类型。\r\n     * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n     * @param thisObject                listener函数作用域\r\n     * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n     */\r\n    once<K extends keyof T & string>(obj: O, type: K, listener: (event: IEvent<T[K]>) => void, thisObject = null, priority = 0)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getOrCreateEventEmitter(obj).once(type, listener, thisObject, priority);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 发射事件\r\n     *\r\n     * 当事件重复流向一个对象时将不会被处理。\r\n     *\r\n     * @param event                 事件对象。\r\n     * @returns                 返回事件是否被该对象处理。\r\n     */\r\n    emitEvent<K extends keyof T & string>(obj: O, event: IEvent<T[K]>)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getOrCreateEventEmitter(obj).emitEvent(event);\r\n\r\n        return event;\r\n    }\r\n\r\n    /**\r\n     * 将事件调度到事件流中. 事件目标是对其调用 emitEvent() 方法的 IEvent 对象。\r\n     *\r\n     * @param type 事件的类型。类型区分大小写。\r\n     * @param data 事件携带的自定义数据。\r\n     * @param bubbles 是否向上级报告事件。默认为`false`。\r\n     * @param broadcast 是否向下级广播事件。默认为`false`。\r\n     * @param share 是否向平级分享事件。默认为`true`。\r\n     */\r\n    emit<K extends keyof T & string>(obj: O, type: K, data?: T[K], bubbles = false, broadcast = false, share = true)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        const event: IEvent<T[K]> = EventEmitter.getOrCreateEventEmitter(obj).emit(type, data, bubbles, broadcast, share);\r\n\r\n        return event;\r\n    }\r\n\r\n    /**\r\n     * 检查 被监听对象 是否为特定事件类型注册了任何监听器.\r\n     *\r\n     * @param obj                       被监听对象。\r\n     * @param type\t\t                事件的类型。\r\n     * @return \t\t\t                如果指定类型的监听器已注册，则值为 true；否则，值为 false。\r\n     */\r\n    has<K extends keyof T & string>(obj: O, type: K)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        const result = EventEmitter.getEventEmitter(obj)?.has(type) || false;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 为监听对象新增指定类型的事件监听。\r\n     *\r\n     * @param obj                       被监听对象。\r\n     * @param type\t\t\t\t\t\t事件的类型。\r\n     * @param listener\t\t\t\t\t处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     * @param priority\t\t\t\t\t事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n     * @param once                      值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n     */\r\n    on<K extends keyof T & string>(obj: O, type: K, listener: (event: IEvent<T[K]>) => any, thisObject?: any, priority = 0, once = false)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getOrCreateEventEmitter(obj).on(type, listener, thisObject, priority, once);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除监听\r\n     *\r\n     * @param obj                       被监听对象。\r\n     * @param type\t\t\t\t\t\t事件的类型。可选。该值为空时所有被监听对象上的监听均将被移除。\r\n     * @param listener\t\t\t\t\t要删除的监听器对象。可选。该值为空时所有指定类型的监听均将被移除。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     */\r\n    off<K extends keyof T & string>(obj: O, type?: K, listener?: (event: IEvent<T[K]>) => any, thisObject?: any)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getEventEmitter(obj)?.off(type, listener, thisObject);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove all listeners, or those of the specified event.\r\n     */\r\n    offAll<K extends keyof T & string>(obj: O, type?: K)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getEventEmitter(obj)?.offAll(type);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 监听对象的任意事件，该对象的任意事件都将触发该监听器的调用。\r\n     *\r\n     * @param obj                       被监听对象。\r\n     * @param listener                  处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     * @param priority                  事件监听器的优先级。数字越大，优先级越高。默认为0。\r\n     * @param once                      值为true时在监听一次事件后该监听器将被移除。默认为false。\r\n     */\r\n    onAny<K extends keyof T & string>(obj: O, listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority = 0, once = false)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getOrCreateEventEmitter(obj).onAny(listener, thisObject, priority, once);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除监听对象的任意事件。\r\n     *\r\n     * @param obj                       被监听对象。\r\n     * @param listener                  处理事件的监听器函数。\r\n     * @param thisObject                监听器的上下文。可选。\r\n     */\r\n    offAny<K extends keyof T & string>(obj: O, listener?: (event: IEvent<T[K]>) => void, thisObject?: any)\r\n    {\r\n        console.assert(obj !== undefined && obj !== null, `被监听对象无法为undefined或者null！`);\r\n        EventEmitter.getEventEmitter(obj)?.offAny(listener, thisObject);\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\n/**\r\n * 事件\r\n */\r\nexport const anyEmitter = new AnyEmitter();\r\n","import { EventEmitter } from './EventEmitter';\r\n\r\ndeclare global\r\n{\r\n    /**\r\n     * 事件列表\r\n     */\r\n    export interface MixinsGlobalEvents\r\n    {\r\n    }\r\n}\r\n\r\n/**\r\n * 全局事件发射器。\r\n */\r\nexport const globalEmitter = new EventEmitter<MixinsGlobalEvents>();\r\n","import { AnyEmitter, anyEmitter } from './AnyEmitter';\r\n\r\n/**\r\n * 只针对Object的事件\r\n */\r\nexport const objectEmitter: AnyEmitter<any, ObjectEventType> = anyEmitter;\r\n\r\n/**\r\n * Object 事件类型\r\n */\r\nexport interface ObjectEventType\r\n{\r\n    /**\r\n     * 属性值变化\r\n     */\r\n    propertyValueChanged: { property: string, oldValue: any, newValue: any };\r\n}\r\n","/**\r\n * 方程求解\r\n *\r\n * 求解方程 f(x) == 0 在[a, b]上的解\r\n *\r\n * 参考：高等数学 第七版上册 第三章第八节 方程的近似解\r\n * 当f(x)在区间 [a, b] 上连续，且f(a) * f(b) <= 0 时，f(x)在区间 [a, b] 上至少存在一个解使得 f(x) == 0\r\n *\r\n * 当f(x)在区间 [a, b] 上连续，且 (f(a) - y) * (f(b) - y) < 0 时，f(x)在区间 [a, b] 上至少存在一个解使得 f(x) == y\r\n *\r\n * @author feng / http://feng3d.com 05/06/2018\r\n */\r\nexport class EquationSolving\r\n{\r\n    /**\r\n     * 获取数字的(正负)符号\r\n     * @param n 数字\r\n     */\r\n    private getSign(n: number)\r\n    {\r\n        return n > 0 ? '+' : '-';\r\n    }\r\n\r\n    /**\r\n     * 比较 a 与 b 是否相等\r\n     * @param a 值a\r\n     * @param b 值b\r\n     * @param precision 比较精度\r\n     */\r\n    private equalNumber(a: number, b: number, precision = 0.0000001)\r\n    {\r\n        return Math.abs(a - b) < precision;\r\n    }\r\n\r\n    /**\r\n     * 获取近似导函数 f'(x)\r\n     *\r\n     * 导函数定义\r\n     * f'(x) = (f(x + Δx) - f(x)) / Δx , Δx → 0\r\n     *\r\n     * 注：通过测试Δx不能太小，由于方程内存在x的n次方问题（比如0.000000000000001的10次方为0），过小会导致计算机计算进度不够反而导致求导不准确！\r\n     *\r\n     * 另外一种办法是还原一元多次函数，然后求出导函数。\r\n     *\r\n     * @param f 函数\r\n     * @param delta Δx，进过测试该值太小或者过大都会导致求导准确率降低（个人猜测是计算机计算精度问题导致）\r\n     */\r\n    getDerivative(f: (x) => number, delta = 0.000000001)\r\n    {\r\n        return (x) =>\r\n        {\r\n            const d = (f(x + delta) - f(x)) / delta;\r\n\r\n            return d;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 函数是否连续\r\n     * @param f 函数\r\n     */\r\n    isContinuous(_f: (x: number) => number)\r\n    {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 方程 f(x) == 0 在 [a, b] 区间内是否有解\r\n     *\r\n     * 当f(x)在区间 [a, b] 上连续，且f(a) * f(b) <= 0 时，f(x)在区间 [a, b] 上至少存在一个解使得 f(x) == 0\r\n     *\r\n     * @param f 函数f(x)\r\n     * @param a 区间起点\r\n     * @param b 区间终点\r\n     * @param errorcallback  错误回调函数\r\n     *\r\n     * @returns 是否有解\r\n     */\r\n    hasSolution(f: (x) => number, a: number, b: number, errorcallback?: (err: Error) => void)\r\n    {\r\n        if (!this.isContinuous(f))\r\n        {\r\n            errorcallback && errorcallback(new Error(`函数 ${f} 在 [${a} ,${b}] 区间内不连续，无法为其求解！`));\r\n\r\n            return false;\r\n        }\r\n        const fa = f(a);\r\n        const fb = f(b);\r\n        if (fa * fb > 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`f(a) * f(b) 值为 ${fa * fb}，不满足 f(a) * f(b) <= 0，无法为其求解！`));\r\n\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 二分法 求解 f(x) == 0\r\n     *\r\n     * 通过区间中点作为边界来逐步缩小求解区间，最终获得解\r\n     *\r\n     * @param f 函数f(x)\r\n     * @param a 区间起点\r\n     * @param b 区间终点\r\n     * @param precision 求解精度\r\n     * @param errorcallback  错误回调函数\r\n     *\r\n     * @returns 不存在解时返回 undefined ，存在时返回 解\r\n     */\r\n    binary(f: (x: number) => number, a: number, b: number, precision = 0.0000001, errorcallback?: (err: Error) => void)\r\n    {\r\n        if (!this.hasSolution(f, a, b, errorcallback)) return undefined;\r\n\r\n        let fa = f(a);\r\n        let fb = f(b);\r\n        if (this.equalNumber(fa, 0, precision))\r\n        {\r\n            return a;\r\n        }\r\n        if (this.equalNumber(fb, 0, precision))\r\n        {\r\n            return b;\r\n        }\r\n\r\n        let x: number;\r\n        let fr: number;\r\n        do\r\n        {\r\n            x = (a + b) / 2;\r\n            fr = f(x);\r\n            if (fa * fr < 0)\r\n            {\r\n                b = x;\r\n                fb = fr;\r\n            }\r\n            else\r\n            {\r\n                a = x;\r\n                fa = fr;\r\n            }\r\n        } while (!this.equalNumber(fr, 0, precision));\r\n\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * 连线法 求解 f(x) == 0\r\n     *\r\n     * 连线法是我自己想的方法，自己取的名字，目前没有找到相应的资料（这方法大家都能够想得到。）\r\n     *\r\n     * 用曲线弧两端的连线来代替曲线弧与X轴交点作为边界来逐步缩小求解区间，最终获得解\r\n     *\r\n     * 通过 A，B两点连线与x轴交点来缩小求解区间最终获得解\r\n     *\r\n     * A，B两点直线方程 f(x) = f(a) + (f(b) - f(a)) / (b - a) * (x-a) ,求 f(x) == 0 解得 x = a - fa * (b - a)/ (fb - fa)\r\n     *\r\n     * @param f 函数f(x)\r\n     * @param a 区间起点\r\n     * @param b 区间终点\r\n     * @param precision 求解精度\r\n     * @param errorcallback  错误回调函数\r\n     *\r\n     * @returns 不存在解时返回 undefined ，存在时返回 解\r\n     */\r\n    line(f: (x: number) => number, a: number, b: number, precision = 0.0000001, errorcallback?: (err: Error) => void)\r\n    {\r\n        if (!this.hasSolution(f, a, b, errorcallback)) return undefined;\r\n\r\n        let fa = f(a);\r\n        let fb = f(b);\r\n        if (this.equalNumber(fa, 0, precision))\r\n        {\r\n            return a;\r\n        }\r\n        if (this.equalNumber(fb, 0, precision))\r\n        {\r\n            return b;\r\n        }\r\n        let x: number;\r\n        let fr: number;\r\n        do\r\n        {\r\n            //\r\n            x = a - fa * (b - a) / (fb - fa);\r\n            fr = f(x);\r\n            if (fa * fr < 0)\r\n            {\r\n                b = x;\r\n                fb = fr;\r\n            }\r\n            else\r\n            {\r\n                a = x;\r\n                fa = fr;\r\n            }\r\n        } while (!this.equalNumber(fr, 0, precision));\r\n\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * 切线法 求解 f(x) == 0\r\n     *\r\n     * 用曲线弧一端的切线来代替曲线弧，从而求出方程实根的近似解。\r\n     *\r\n     * 迭代公式： Xn+1 = Xn - f(Xn) / f'(Xn)\r\n     *\r\n     * #### 额外需求\r\n     * 1. f(x)在[a, b]上具有一阶导数 f'(x)\r\n     * 1. f'(x)在[a, b]上保持定号；意味着f(x)在[a, b]上单调\r\n     * 1. f''(x)在[a, b]上保持定号；意味着f'(x)在[a, b]上单调\r\n     *\r\n     * 切记，当无法满足这些额外要求时，该函数将找不到[a, b]上的解！！！！！！！！！！！\r\n     *\r\n     * @param f 函数f(x)\r\n     * @param f1 一阶导函数 f'(x)\r\n     * @param f2 二阶导函数 f''(x)\r\n     * @param a 区间起点\r\n     * @param b 区间终点\r\n     * @param precision 求解精度\r\n     * @param errorcallback  错误回调函数\r\n     *\r\n     * @returns 不存在解与无法使用该函数求解时返回 undefined ，否则返回 解\r\n     */\r\n    tangent(f: (x) => number, f1: (x) => number, f2: (x) => number, a: number, b: number, precision = 0.0000001, errorcallback?: (err: Error) => void)\r\n    {\r\n        if (!this.hasSolution(f, a, b, errorcallback)) return undefined;\r\n\r\n        const fa = f(a);\r\n        const fb = f(b);\r\n        if (this.equalNumber(fa, 0, precision))\r\n        {\r\n            return a;\r\n        }\r\n        if (this.equalNumber(fb, 0, precision))\r\n        {\r\n            return b;\r\n        }\r\n\r\n        const f1Sign = fb - fa; // f'(x)在[a, b]上保持的定号\r\n        const f1a = f1(a);\r\n        const f1b = f1(b);\r\n\r\n        // f'(x)在[a, b]上保持定号\r\n        if (f1a * f1Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${a}) = ${f1a} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n        if (f1b * f1Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${b}) = ${f1b} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n\r\n        const f2Sign = fb - fa; // f''(x)在[a, b]上保持的定号\r\n        const f2a = f2(a);\r\n        const f2b = f2(b);\r\n        // f''(x)在[a, b]上保持定号\r\n        if (f2a * f2Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${a}) = ${f2a} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n        if (f2b * f2Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${b}) = ${f2b} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n\r\n        let x: number;\r\n        if (f1Sign > 0)\r\n        {\r\n            if (f2Sign > 0)\r\n            { x = b; }\r\n            else\r\n            { x = a; }\r\n        }\r\n        else if (f2Sign > 0)\r\n        {\r\n            x = a;\r\n        }\r\n        else\r\n        {\r\n            x = b;\r\n        }\r\n\r\n        let fx: number;\r\n        do\r\n        {\r\n            fx = f(x);\r\n            const f1x = f1(x);\r\n            const f2x = f2(x);\r\n            // f'(x)在[a, b]上保持定号\r\n            if (f1x * f1Sign <= 0)\r\n            {\r\n                errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${x}) = ${f1x} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n                return undefined;\r\n            }\r\n            // f''(x)在[a, b]上保持定号\r\n            if (f2x * f2Sign <= 0)\r\n            {\r\n                errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${x}) = ${f2x} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n                return undefined;\r\n            }\r\n            // 迭代 Xn+1 = Xn - f(Xn) / f'(Xn)\r\n            x = x - fx / f1x;\r\n        } while (!this.equalNumber(fx, 0, precision));\r\n\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * 割线法（弦截法） 求解 f(x) == 0\r\n     *\r\n     * 使用 (f(Xn) - f(Xn-1)) / (Xn - Xn-1) 代替切线法迭代公式 Xn+1 = Xn - f(Xn) / f'(Xn) 中的 f'(x)\r\n     *\r\n     * 迭代公式：Xn+1 = Xn - f(Xn) * (Xn - Xn-1) / (f(Xn) - f(Xn-1));\r\n     *\r\n     * 用过点(Xn-1,f(Xn-1))和点(Xn,f(Xn))的割线来近似代替(Xn,f(Xn))处的切线，将这条割线与X轴交点的横坐标作为新的近似解。\r\n     *\r\n     * #### 额外需求\r\n     * 1. f(x)在[a, b]上具有一阶导数 f'(x)\r\n     * 1. f'(x)在[a, b]上保持定号；意味着f(x)在[a, b]上单调\r\n     * 1. f''(x)在[a, b]上保持定号；意味着f'(x)在[a, b]上单调\r\n     *\r\n     * 切记，当无法满足这些额外要求时，该函数将找不到[a, b]上的解！！！！！！！！！！！\r\n     *\r\n     * @param f 函数f(x)\r\n     * @param a 区间起点\r\n     * @param b 区间终点\r\n     * @param precision 求解精度\r\n     * @param errorcallback  错误回调函数\r\n     *\r\n     * @returns 不存在解与无法使用该函数求解时返回 undefined ，否则返回 解\r\n     */\r\n    secant(f: (x) => number, a: number, b: number, precision = 0.0000001, errorcallback?: (err: Error) => void)\r\n    {\r\n        if (!this.hasSolution(f, a, b, errorcallback)) return undefined;\r\n\r\n        const fa = f(a);\r\n        const fb = f(b);\r\n        if (this.equalNumber(fa, 0, precision))\r\n        {\r\n            return a;\r\n        }\r\n        if (this.equalNumber(fb, 0, precision))\r\n        {\r\n            return b;\r\n        }\r\n\r\n        // 此处创建近似导函数以及二次导函数，其实割线法使用在计算f'(x)困难时的，但是 getDerivative 方法解决了这个困难。。。。\r\n        const f1 = this.getDerivative(f, precision);\r\n        const f2 = this.getDerivative(f1, precision);\r\n\r\n        const f1Sign = fb - fa; // f'(x)在[a, b]上保持的定号\r\n        //\r\n        const f1a = f1(a);\r\n        const f1b = f1(b);\r\n\r\n        // f'(x)在[a, b]上保持定号\r\n        if (f1a * f1Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${a}) = ${f1a} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n        if (f1b * f1Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${b}) = ${f1b} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n\r\n        const f2Sign = fb - fa; // f''(x)在[a, b]上保持的定号\r\n        const f2a = f2(a);\r\n        const f2b = f2(b);\r\n        // f''(x)在[a, b]上保持定号\r\n        if (f2a * f2Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${a}) = ${f2a} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n        if (f2b * f2Sign <= 0)\r\n        {\r\n            errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${b}) = ${f2b} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n            return undefined;\r\n        }\r\n\r\n        let x: number;\r\n        if (f1Sign > 0)\r\n        {\r\n            if (f2Sign > 0)\r\n            { x = b; }\r\n            else\r\n            { x = a; }\r\n        }\r\n        else if (f2Sign > 0)\r\n        {\r\n            x = a;\r\n        }\r\n        else\r\n        {\r\n            x = b;\r\n        }\r\n\r\n        // Xn-1\r\n        let xn1 = x;\r\n        let fxn1 = f(xn1);\r\n        // Xn\r\n        let xn = xn1 - precision * f2Sign / Math.abs(f2Sign);\r\n        let fxn = f(xn);\r\n        //\r\n        if (fxn * fxn1 < 0)\r\n        {\r\n            return xn;\r\n        }\r\n        // Xn+1\r\n        let xn$1: number;\r\n        do\r\n        {\r\n            const f1xn = f1(xn);\r\n            // f'(x)在[a, b]上保持定号\r\n            if (f1xn * f1Sign <= 0)\r\n            {\r\n                errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f'(${xn}) = ${f1xn} 在[a, b]上没有保持定号 ${this.getSign(f1Sign)} ，无法使用切线法求解`));\r\n\r\n                return undefined;\r\n            }\r\n            const f2xn = f2(xn);\r\n            // f''(x)在[a, b]上保持定号\r\n            if (f2xn * f2Sign <= 0)\r\n            {\r\n                errorcallback && errorcallback(new Error(`[${a}, ${b}] 上存在解，由于f''(${xn}) = ${f2xn} 在[a, b]上没有保持定号 ${this.getSign(f2Sign)} ，无法使用切线法求解`));\r\n\r\n                return undefined;\r\n            }\r\n            // 迭代 Xn+1 = Xn - f(Xn) * (Xn - Xn-1) / (f(Xn) - f(Xn-1));\r\n            xn$1 = xn - fxn * (xn - xn1) / (fxn - fxn1);\r\n            //\r\n            xn1 = xn;\r\n            fxn1 = fxn;\r\n            xn = xn$1;\r\n            fxn = f(xn);\r\n        } while (!this.equalNumber(fxn, 0, precision));\r\n\r\n        return xn;\r\n    }\r\n}\r\n\r\n/**\r\n * 方程求解\r\n */\r\nexport const equationSolving = new EquationSolving();\r\n\r\n","import { equationSolving } from './EquationSolving';\r\n\r\n/**\r\n * Bézier曲线\r\n * @see https://en.wikipedia.org/wiki/B%C3%A9zier_curve\r\n *\r\n * @author feng / http://feng3d.com 03/06/2018\r\n */\r\nexport class Bezier\r\n{\r\n    /**\r\n     * 线性Bézier曲线\r\n     * 给定不同的点P0和P1，线性Bézier曲线就是这两个点之间的直线。曲线由下式给出\r\n     * ```\r\n     * B(t) = p0 + t * (p1 - p0) = (1 - t) * p0 + t * p1 , 0 <= t && t <= 1\r\n     * ```\r\n     * 相当于线性插值\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     */\r\n    linear(t: number, p0: number, p1: number)\r\n    {\r\n        return p0 + t * (p1 - p0);\r\n        // return (1 - t) * p0 + t * p1;\r\n    }\r\n\r\n    /**\r\n     * 线性Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     */\r\n    linearDerivative(t: number, p0: number, p1: number)\r\n    {\r\n        return p1 - p0;\r\n    }\r\n\r\n    /**\r\n     * 线性Bézier曲线关于t的二阶导数\r\n     * @param _t 插值度\r\n     * @param _p0 点0\r\n     * @param _p1 点1\r\n     */\r\n    linearSecondDerivative(_t: number, _p0: number, _p1: number)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线\r\n     *\r\n     * 二次Bézier曲线是由函数B（t）跟踪的路径，给定点P0，P1和P2，\r\n     * ```\r\n     * B(t) = (1 - t) * ((1 - t) * p0 + t * p1) + t * ((1 - t) * p1 + t * p2) , 0 <= t && t <= 1\r\n     * ```\r\n     * 这可以解释为分别从P0到P1和从P1到P2的线性Bézier曲线上相应点的线性插值。重新排列前面的等式得出：\r\n     * ```\r\n     * B(t) = (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2 , 0 <= t && t <= 1\r\n     * ```\r\n     * Bézier曲线关于t的导数是\r\n     * ```\r\n     * B'(t) = 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1)\r\n     * ```\r\n     * 从中可以得出结论：在P0和P2处曲线的切线在P 1处相交。随着t从0增加到1，曲线沿P1的方向从P0偏离，然后从P1的方向弯曲到P2。\r\n     *\r\n     * Bézier曲线关于t的二阶导数是\r\n     * ```\r\n     * B''(t) = 2 * (p2 - 2 * p1 + p0)\r\n     * ```\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadratic(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return this.linear(t, this.linear(t, p0, p1), this.linear(t, p1, p2));\r\n        // return (1 - t) * ((1 - t) * p0 + t * p1) + t * ((1 - t) * p1 + t * p2);\r\n        return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadraticDerivative(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return 2 * this.linear(t, this.linearDerivative(t, p0, p1), this.linearDerivative(t, p1, p2));\r\n        return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线关于t的二阶导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadraticSecondDerivative(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return 1 * 2 * this.linearDerivative(t, p1 - p0, p2 - p1)\r\n        // return 1 * 2 * ((p2 - p1) - (p1 - p0));\r\n        return 2 * (p2 - 2 * p1 + p0);\r\n    }\r\n\r\n    /**\r\n     * 立方Bézier曲线\r\n     *\r\n     * 平面中或高维空间中（其实一维也是成立的，这里就是使用一维计算）的四个点P0，P1，P2和P3定义了三次Bézier曲线。\r\n     * 曲线开始于P0朝向P1并且从P2的方向到达P3。通常不会通过P1或P2; 这些点只是为了提供方向信息。\r\n     * P1和P2之间的距离在转向P2之前确定曲线向P1移动的“多远”和“多快” 。\r\n     *\r\n     * 对于由点Pi，Pj和Pk定义的二次Bézier曲线，可以将Bpipjpk(t)写成三次Bézier曲线，它可以定义为两条二次Bézier曲线的仿射组合：\r\n     * ```\r\n     * B(t) = (1 - t) * Bp0p1p2(t) + t * Bp1p2p3(t) , 0 <= t && t <= 1\r\n     * ```\r\n     * 曲线的显式形式是：\r\n     * ```\r\n     * B(t) = (1 - t) * (1 - t) * (1 - t) * p0 + 3 * (1 - t) * (1 - t) * t * p1 + 3 * (1 - t) * t * t * p2 + t * t * t * p3 , 0 <= t && t <= 1\r\n     * ```\r\n     * 对于P1和P2的一些选择，曲线可以相交，或者包含尖点。\r\n     *\r\n     * 三次Bézier曲线相对于t的导数是\r\n     * ```\r\n     * B'(t) = 3 * (1 - t) * (1 - t) * (p1 - p0) + 6 * (1 - t) * t * (p2 - p1) + 3 * t * t * (p3 - p2);\r\n     * ```\r\n     * 三次Bézier曲线关于t的二阶导数是\r\n     * ```\r\n     * 6 * (1 - t) * (p2 - 2 * p1 + p0) + 6 * t * (p3 - 2 * p2 + p1);\r\n     * ```\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     * @param p3 点3\r\n     */\r\n    cubic(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return this.linear(t, this.quadratic(t, p0, p1, p2), this.quadratic(t, p1, p2, p3));\r\n        return (1 - t) * (1 - t) * (1 - t) * p0 + 3 * (1 - t) * (1 - t) * t * p1 + 3 * (1 - t) * t * t * p2 + t * t * t * p3;\r\n    }\r\n\r\n    /**\r\n     * 三次Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     * @param p3 点3\r\n     */\r\n    cubicDerivative(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return 3 * this.linear(t, this.quadraticDerivative(t, p0, p1, p2), this.quadraticDerivative(t, p1, p2, p3));\r\n        return 3 * (1 - t) * (1 - t) * (p1 - p0) + 6 * (1 - t) * t * (p2 - p1) + 3 * t * t * (p3 - p2);\r\n    }\r\n\r\n    /**\r\n     * 三次Bézier曲线关于t的二阶导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    cubicSecondDerivative(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return 3 * this.linear(t, this.quadraticSecondDerivative(t, p0, p1, p2), this.quadraticSecondDerivative(t, p1, p2, p3));\r\n        return 6 * (1 - t) * (p2 - 2 * p1 + p0) + 6 * t * (p3 - 2 * p2 + p1);\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length == n+1\r\n     * @param processs 收集中间过程数据，可用作Bézier曲线动画数据\r\n     */\r\n    bn(t: number, ps: number[], processs: number[][] = null)\r\n    {\r\n        ps = ps.concat();\r\n        if (processs)\r\n        {\r\n            processs.push(ps.concat());\r\n        }\r\n        // n次Bézier递推\r\n        for (let i = ps.length - 1; i > 0; i--)\r\n        {\r\n            for (let j = 0; j < i; j++)\r\n            {\r\n                ps[j] = (1 - t) * ps[j] + t * ps[j + 1];\r\n            }\r\n            if (processs)\r\n            {\r\n                ps.length = ps.length - 1;\r\n                processs.push(ps.concat());\r\n            }\r\n        }\r\n\r\n        return ps[0];\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的导数\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length == n+1\r\n     */\r\n    bnDerivative(t: number, ps: number[])\r\n    {\r\n        if (ps.length < 2)\r\n        {\r\n            return 0;\r\n        }\r\n        ps = ps.concat();\r\n        // 进行\r\n        for (let i = 0, n = ps.length - 1; i < n; i++)\r\n        {\r\n            ps[i] = ps[i + 1] - ps[i];\r\n        }\r\n        //\r\n        ps.length = ps.length - 1;\r\n        const v = ps.length * this.bn(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的二阶导数\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length == n+1\r\n     */\r\n    bnSecondDerivative(t: number, ps: number[])\r\n    {\r\n        if (ps.length < 3)\r\n        {\r\n            return 0;\r\n        }\r\n        ps = ps.concat();\r\n        // 进行\r\n        for (let i = 0, n = ps.length - 1; i < n; i++)\r\n        {\r\n            ps[i] = ps[i + 1] - ps[i];\r\n        }\r\n        //\r\n        ps.length = ps.length - 1;\r\n        const v = ps.length * this.bnDerivative(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的dn阶导数\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param dn 求导次数\r\n     * @param ps 点列表     ps.length == n+1\r\n     */\r\n    bnND(t: number, dn: number, ps: number[])\r\n    {\r\n        if (ps.length < dn + 1)\r\n        {\r\n            return 0;\r\n        }\r\n        let factorial = 1;\r\n        ps = ps.concat();\r\n        for (let j = 0; j < dn; j++)\r\n        {\r\n            // 进行\r\n            for (let i = 0, n = ps.length - 1; i < n; i++)\r\n            {\r\n                ps[i] = ps[i + 1] - ps[i];\r\n            }\r\n            //\r\n            ps.length = ps.length - 1;\r\n            factorial *= ps.length;\r\n        }\r\n        const v = factorial * this.bn(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的值\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getValue(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linear(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadratic(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubic(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bn(t, ps);\r\n        // var t1 = 1 - t;\r\n        // return t1 * t1 * t1 * ps[0] + 3 * t1 * t1 * t * ps[1] + 3 * t1 * t * t * ps[2] + t * t * t * ps[3];\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的导数(斜率)\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getDerivative(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linearDerivative(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadraticDerivative(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubicDerivative(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bnDerivative(t, ps);\r\n        // return 3 * (1 - t) * (1 - t) * (ps[1] - ps[0]) + 6 * (1 - t) * t * (ps[2] - ps[1]) + 3 * t * t * (ps[3] - ps[2]);\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的二阶导数\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getSecondDerivative(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linearSecondDerivative(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadraticSecondDerivative(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubicSecondDerivative(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bnSecondDerivative(t, ps);\r\n        // return 3 * (1 - t) * (1 - t) * (ps[1] - ps[0]) + 6 * (1 - t) * t * (ps[2] - ps[1]) + 3 * t * t * (ps[3] - ps[2]);\r\n    }\r\n\r\n    /**\r\n     * 查找区间内极值列表\r\n     *\r\n     * @param ps 点列表\r\n     * @param numSamples 采样次数，用于分段查找极值\r\n     * @param precision  查找精度\r\n     *\r\n     * @returns 极值列表 {} {ts: 极值插值度列表,vs: 极值值列表}\r\n     */\r\n    getExtremums(ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        const samples: number[] = [];\r\n        for (let i = 0; i <= numSamples; i++)\r\n        {\r\n            samples.push(this.getDerivative(i / numSamples, ps));\r\n        }\r\n        // 查找存在解的分段\r\n        //\r\n        const resultTs: number[] = [];\r\n        const resultVs: number[] = [];\r\n        for (let i = 0, n = numSamples; i < n; i++)\r\n        {\r\n            if (samples[i] * samples[i + 1] < 0)\r\n            {\r\n                const guessT = equationSolving.line((x) => this.getDerivative(x, ps), i / numSamples, (i + 1) / numSamples, precision);\r\n                resultTs.push(guessT);\r\n                resultVs.push(this.getValue(guessT, ps));\r\n            }\r\n        }\r\n\r\n        return { ts: resultTs, vs: resultVs };\r\n    }\r\n\r\n    /**\r\n     * 获取单调区间列表\r\n     * @returns {} {ts: 区间节点插值度列表,vs: 区间节点值列表}\r\n     */\r\n    getMonotoneIntervals(ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        // 区间内的单调区间\r\n        const monotoneIntervalTs = [0, 1];\r\n        const monotoneIntervalVs = [ps[0], ps[ps.length - 1]];\r\n        // 预先计算好极值\r\n        const extremums = this.getExtremums(ps, numSamples, precision);\r\n        for (let i = 0; i < extremums.ts.length; i++)\r\n        {\r\n            // 增加单调区间\r\n            monotoneIntervalTs.splice(i + 1, 0, extremums.ts[i]);\r\n            monotoneIntervalVs.splice(i + 1, 0, extremums.vs[i]);\r\n        }\r\n\r\n        return { ts: monotoneIntervalTs, vs: monotoneIntervalVs };\r\n    }\r\n\r\n    /**\r\n     * 获取目标值所在的插值度T\r\n     *\r\n     * @param targetV 目标值\r\n     * @param ps 点列表\r\n     * @param numSamples 分段数量，用于分段查找，用于解决寻找多个解、是否无解等问题；过少的分段可能会造成找不到存在的解决，过多的分段将会造成性能很差。\r\n     * @param precision  查找精度\r\n     *\r\n     * @returns 返回解数组\r\n     */\r\n    getTFromValue(targetV: number, ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        // 获取单调区间\r\n        const monotoneIntervals = this.getMonotoneIntervals(ps, numSamples, precision);\r\n        const monotoneIntervalTs = monotoneIntervals.ts;\r\n        const monotoneIntervalVs = monotoneIntervals.vs;\r\n\r\n        // 存在解的单调区间\r\n        const results: number[] = [];\r\n        // 遍历单调区间\r\n        for (let i = 0, n = monotoneIntervalVs.length - 1; i < n; i++)\r\n        {\r\n            if ((monotoneIntervalVs[i] - targetV) * (monotoneIntervalVs[i + 1] - targetV) <= 0)\r\n            {\r\n                const fx = (x) => this.getValue(x, ps) - targetV;\r\n\r\n                // 连线法\r\n                const result = equationSolving.line(fx, monotoneIntervalTs[i], monotoneIntervalTs[i + 1], precision);\r\n                results.push(result);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * 分割曲线\r\n     *\r\n     * 在曲线插值度t位置分割为两条连接起来与原曲线完全重合的曲线\r\n     *\r\n     * @param t 分割位置（插值度）\r\n     * @param ps 被分割曲线点列表\r\n     * @returns 返回两条曲线组成的数组\r\n     */\r\n    split(t: number, ps: number[])\r\n    {\r\n        // 获取曲线的动画过程\r\n        const processs: number[][] = [];\r\n        bezier.bn(t, ps, processs);\r\n\r\n        // 第一条曲线\r\n        const fps: number[] = [];\r\n        // 第二条曲线\r\n        const sps: number[] = [];\r\n        // 使用当前t值进行分割曲线\r\n        for (let i = processs.length - 1; i >= 0; i--)\r\n        {\r\n            if (i === processs.length - 1)\r\n            {\r\n                // 添加关键点\r\n                fps.push(processs[i][0]);\r\n                fps.push(processs[i][0]);\r\n            }\r\n            else\r\n            {\r\n                // 添加左右控制点\r\n                fps.unshift(processs[i][0]);\r\n                sps.push(processs[i].pop());\r\n            }\r\n        }\r\n\r\n        return [fps, sps];\r\n    }\r\n\r\n    /**\r\n     * 合并曲线\r\n     *\r\n     * 合并两条连接的曲线为一条曲线并且可以还原为分割前的曲线\r\n     *\r\n     * @param fps 第一条曲线点列表\r\n     * @param sps 第二条曲线点列表\r\n     * @param mergeType 合并方式。mergeType = 0时进行还原合并，还原拆分之前的曲线；mergeType = 1时进行拟合合并，合并后的曲线会经过两条曲线的连接点；\r\n     */\r\n    merge(fps: number[], sps: number[], mergeType = 0)\r\n    {\r\n        fps = fps.concat();\r\n        sps = sps.concat();\r\n        const processs: number[][] = [];\r\n        let t: number;\r\n        // 上条曲线\r\n        let pps: number[];\r\n        // 当前曲线\r\n        let ps: number[];\r\n        for (let i = 0, n = fps.length; i < n; i++)\r\n        {\r\n            ps = processs[i] = [];\r\n            if (i === 0)\r\n            {\r\n                processs[i][0] = fps.pop();\r\n                sps.shift();\r\n            }\r\n            else if (i === 1)\r\n            {\r\n                // 计算t值\r\n                processs[i][0] = fps.pop();\r\n                processs[i][1] = sps.shift();\r\n                t = (processs[i - 1][0] - processs[i][0]) / (processs[i][1] - processs[i][0]);\r\n            }\r\n            else\r\n            {\r\n                pps = processs[i - 1];\r\n                // 前面增加点\r\n                const nfp = fps.pop();\r\n                // 后面增加点\r\n                const nsp = sps.shift();\r\n                // 从前往后计算\r\n                const ps0: number[] = [];\r\n                ps0[0] = nfp;\r\n                for (let j = 0, n = pps.length; j < n; j++)\r\n                {\r\n                    ps0[j + 1] = ps0[j] + (pps[j] - ps0[j]) / t;\r\n                }\r\n                // 从后往前计算\r\n                const ps1: number[] = [];\r\n                ps1[pps.length] = nsp;\r\n                for (let j = pps.length - 1; j >= 0; j--)\r\n                {\r\n                    ps1[j] = ps1[j + 1] - (ps1[j + 1] - pps[j]) / (1 - t);\r\n                }\r\n                // 拟合合并,合并前后两个方向的计算\r\n                if (mergeType === 1)\r\n                {\r\n                    for (let j = 0, n = ps0.length - 1; j <= n; j++)\r\n                    {\r\n                        ps[j] = (ps0[j] * (n - j) + ps1[j] * j) / n;\r\n                    }\r\n                }\r\n                else if (mergeType === 0)\r\n                {\r\n                    // 还原合并，前半段使用从前往后计算，后半段使用从后往前计算\r\n                    for (let j = 0, n = ps0.length - 1; j <= n; j++)\r\n                    {\r\n                        if (j < n / 2)\r\n                        {\r\n                            ps[j] = ps0[j];\r\n                        }\r\n                        else if (j > n / 2)\r\n                        {\r\n                            ps[j] = ps1[j];\r\n                        }\r\n                        else\r\n                        {\r\n                            ps[j] = (ps0[j] + ps1[j]) / 2;\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    throw `合并类型 mergeType ${mergeType} 错误!`;\r\n                }\r\n            }\r\n        }\r\n\r\n        return processs.pop();\r\n    }\r\n\r\n    /**\r\n     * 获取曲线样本数据\r\n     *\r\n     * 这些点可用于连线来拟合曲线。\r\n     *\r\n     * @param ps 点列表\r\n     * @param num 采样次数 ，采样点分别为[0,1/num,2/num,....,(num-1)/num,1]\r\n     */\r\n    getSamples(ps: number[], num = 100)\r\n    {\r\n        const results: number[] = [];\r\n        for (let i = 0; i <= num; i++)\r\n        {\r\n            const p = this.getValue(i / num, ps);\r\n            results.push(p);\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n\r\n/**\r\n * Bézier曲线\r\n */\r\nexport const bezier = new Bezier();\r\n","/**\r\n * 高次函数\r\n *\r\n * 处理N次函数定义，求值，方程求解问题\r\n *\r\n * n次函数定义\r\n * f(x) = a0 * pow(x, n) + a1 * pow(x, n - 1) +.....+ an_1 * pow(x, 1) + an\r\n *\r\n * 0次 f(x) = a0;\r\n * 1次 f(x) = a0 * x + a1;\r\n * 2次 f(x) = a0 * x * x + a1 * x + a2;\r\n * ......\r\n *\r\n * @author feng / http://feng3d.com 05/06/2018\r\n */\r\nexport class HighFunction\r\n{\r\n    private as: number[];\r\n\r\n    /**\r\n     * 构建函数\r\n     * @param as 函数系数 a0-an 数组\r\n     */\r\n    constructor(as: number[])\r\n    {\r\n        this.as = as;\r\n    }\r\n\r\n    /**\r\n     * 获取函数 f(x) 的值\r\n     * @param x x坐标\r\n     */\r\n    getValue(x: number)\r\n    {\r\n        let v = 0;\r\n        const as = this.as;\r\n        for (let i = 0, n = as.length; i < n; i++)\r\n        {\r\n            v = v * x + as[i];\r\n        }\r\n\r\n        return v;\r\n    }\r\n}\r\n","/**\r\n * 构建线条几何数据\r\n *\r\n * @param lineData - The graphics object containing all the necessary properties\r\n * @param geometry - Geometry where to append output\r\n *\r\n * @see pixi.js https://github.com/pixijs/pixijs/blob/dev/packages/graphics/src/utils/buildLine.ts\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash\r\n */\r\nexport function buildLineGeometry(lineData: {\r\n    /**\r\n     * Minimal distance between points that are considered different.\r\n     * Affects line tesselation.\r\n     *\r\n     * @default 1e-4\r\n     */\r\n    epsilon?: number;\r\n\r\n    /**\r\n     * 是否首尾相连。\r\n     *\r\n     * @default false\r\n     */\r\n    close?: boolean;\r\n\r\n    /**\r\n     * The style of the line.\r\n     */\r\n    lineStyle?: LineStyle;\r\n\r\n    /**\r\n     * The collection of points.\r\n     */\r\n    points: number[];\r\n}, geometry: {\r\n    /**\r\n     * An array of points to draw, 2 numbers per point\r\n     */\r\n    points: number[];\r\n    /**\r\n     * The indices of the vertices\r\n     */\r\n    indices: number[];\r\n} = { points: [], indices: [] })\r\n{\r\n    lineData = Object.assign({}, { epsilon: 1e-4, closeStroke: false }, lineData);\r\n    lineData.lineStyle = Object.assign({}, { width: 1, alignment: 0.5, cap: 'butt', join: 'miter', miterLimit: 10, dashedLinePatternUnit: 1 }, lineData.lineStyle);\r\n    //\r\n    const dashedLineData = transformDashedLine(lineData.points, lineData.lineStyle.dashedLinePatternUnit, lineData.lineStyle.dashedLinePattern);\r\n    dashedLineData.forEach((v) =>\r\n    {\r\n        lineData.points = v;\r\n        buildSingleLineGeometry(lineData, geometry);\r\n    });\r\n\r\nreturn geometry;\r\n}\r\n\r\n/**\r\n * Builds a line to draw using the polygon method.\r\n *\r\n * @param lineData - The graphics object containing all the necessary properties\r\n * @param geometry - Geometry where to append output\r\n *\r\n * @see pixi.js https://github.com/pixijs/pixijs/blob/dev/packages/graphics/src/utils/buildLine.ts\r\n */\r\nfunction buildSingleLineGeometry(lineData: {\r\n    /**\r\n     * Minimal distance between points that are considered different.\r\n     * Affects line tesselation.\r\n     *\r\n     * @default 1e-4\r\n     */\r\n    epsilon?: number;\r\n\r\n    /**\r\n     * 是否首尾相连。\r\n     *\r\n     * @default false\r\n     */\r\n    close?: boolean;\r\n\r\n    /**\r\n     * The style of the line.\r\n     */\r\n    lineStyle?: LineStyle;\r\n\r\n    /**\r\n     * The collection of points.\r\n     */\r\n    points: number[];\r\n}, geometry: {\r\n    /**\r\n     * An array of points to draw, 2 numbers per point\r\n     */\r\n    points: number[];\r\n    /**\r\n     * The indices of the vertices\r\n     */\r\n    indices: number[];\r\n} = { points: [], indices: [] })\r\n{\r\n    let points = lineData.points;\r\n    const eps = lineData.epsilon;\r\n\r\n    if (points.length === 0)\r\n    {\r\n        return geometry;\r\n    }\r\n\r\n    const style = lineData.lineStyle;\r\n\r\n    // get first and last point.. figure out the middle!\r\n    const firstPoint = { x: points[0], y: points[1] };\r\n    const lastPoint = { x: points[points.length - 2], y: points[points.length - 1] };\r\n    const closedShape = lineData.close;\r\n    const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps\r\n        && Math.abs(firstPoint.y - lastPoint.y) < eps;\r\n\r\n    // if the first point is the last point - gonna have issues :)\r\n    if (closedShape)\r\n    {\r\n        // need to clone as we are going to slightly modify the shape..\r\n        points = points.slice();\r\n\r\n        if (closedPath)\r\n        {\r\n            points.pop();\r\n            points.pop();\r\n            lastPoint.x = points[points.length - 2];\r\n            lastPoint.y = points[points.length - 1];\r\n        }\r\n\r\n        const midPointX = (firstPoint.x + lastPoint.x) * 0.5;\r\n        const midPointY = (lastPoint.y + firstPoint.y) * 0.5;\r\n\r\n        points.unshift(midPointX, midPointY);\r\n        points.push(midPointX, midPointY);\r\n    }\r\n\r\n    const verts = geometry.points;\r\n    const length = points.length / 2;\r\n    let indexCount = points.length;\r\n    const indexStart = verts.length / 2;\r\n\r\n    // Max. inner and outer width\r\n    const width = style.width / 2;\r\n    const widthSquared = width * width;\r\n    const miterLimitSquared = style.miterLimit * style.miterLimit;\r\n\r\n    /* Line segments of interest where (x1,y1) forms the corner. */\r\n    let x0 = points[0];\r\n    let y0 = points[1];\r\n    let x1 = points[2];\r\n    let y1 = points[3];\r\n    let x2 = 0;\r\n    let y2 = 0;\r\n\r\n    /* perp[?](x|y) = the line normal with magnitude lineWidth. */\r\n    let perpx = -(y0 - y1);\r\n    let perpy = x0 - x1;\r\n    let perp1x = 0;\r\n    let perp1y = 0;\r\n\r\n    let dist = Math.sqrt((perpx * perpx) + (perpy * perpy));\r\n\r\n    perpx /= dist;\r\n    perpy /= dist;\r\n    perpx *= width;\r\n    perpy *= width;\r\n\r\n    const ratio = style.alignment;\r\n    const innerWeight = (1 - ratio) * 2;\r\n    const outerWeight = ratio * 2;\r\n\r\n    if (!closedShape)\r\n    {\r\n        if (style.cap === 'round')\r\n        {\r\n            indexCount += round(\r\n                x0 - (perpx * (innerWeight - outerWeight) * 0.5),\r\n                y0 - (perpy * (innerWeight - outerWeight) * 0.5),\r\n                x0 - (perpx * innerWeight),\r\n                y0 - (perpy * innerWeight),\r\n                x0 + (perpx * outerWeight),\r\n                y0 + (perpy * outerWeight),\r\n                verts,\r\n                true,\r\n            ) + 2;\r\n        }\r\n        else if (style.cap === 'square')\r\n        {\r\n            indexCount += square(x0, y0, perpx, perpy, innerWeight, outerWeight, true, verts);\r\n        }\r\n    }\r\n\r\n    // Push first point (below & above vertices)\r\n    verts.push(\r\n        x0 - (perpx * innerWeight),\r\n        y0 - (perpy * innerWeight));\r\n    verts.push(\r\n        x0 + (perpx * outerWeight),\r\n        y0 + (perpy * outerWeight));\r\n\r\n    for (let i = 1; i < length - 1; ++i)\r\n    {\r\n        x0 = points[(i - 1) * 2];\r\n        y0 = points[((i - 1) * 2) + 1];\r\n\r\n        x1 = points[i * 2];\r\n        y1 = points[(i * 2) + 1];\r\n\r\n        x2 = points[(i + 1) * 2];\r\n        y2 = points[((i + 1) * 2) + 1];\r\n\r\n        perpx = -(y0 - y1);\r\n        perpy = x0 - x1;\r\n\r\n        dist = Math.sqrt((perpx * perpx) + (perpy * perpy));\r\n        perpx /= dist;\r\n        perpy /= dist;\r\n        perpx *= width;\r\n        perpy *= width;\r\n\r\n        perp1x = -(y1 - y2);\r\n        perp1y = x1 - x2;\r\n\r\n        dist = Math.sqrt((perp1x * perp1x) + (perp1y * perp1y));\r\n        perp1x /= dist;\r\n        perp1y /= dist;\r\n        perp1x *= width;\r\n        perp1y *= width;\r\n\r\n        /* d[x|y](0|1) = the component displacement between points p(0,1|1,2) */\r\n        const dx0 = x1 - x0;\r\n        const dy0 = y0 - y1;\r\n        const dx1 = x1 - x2;\r\n        const dy1 = y2 - y1;\r\n\r\n        /* +ve if internal angle counterclockwise, -ve if internal angle clockwise. */\r\n        const cross = (dy0 * dx1) - (dy1 * dx0);\r\n        const clockwise = (cross < 0);\r\n\r\n        /* Going nearly straight? */\r\n        if (Math.abs(cross) < 0.1)\r\n        {\r\n            verts.push(\r\n                x1 - (perpx * innerWeight),\r\n                y1 - (perpy * innerWeight));\r\n            verts.push(\r\n                x1 + (perpx * outerWeight),\r\n                y1 + (perpy * outerWeight));\r\n\r\n            continue;\r\n        }\r\n\r\n        /* p[x|y] is the miter point. pdist is the distance between miter point and p1. */\r\n        const c1 = ((-perpx + x0) * (-perpy + y1)) - ((-perpx + x1) * (-perpy + y0));\r\n        const c2 = ((-perp1x + x2) * (-perp1y + y1)) - ((-perp1x + x1) * (-perp1y + y2));\r\n        const px = ((dx0 * c2) - (dx1 * c1)) / cross;\r\n        const py = ((dy1 * c1) - (dy0 * c2)) / cross;\r\n        const pdist = ((px - x1) * (px - x1)) + ((py - y1) * (py - y1));\r\n\r\n        /* Inner miter point */\r\n        const imx = x1 + ((px - x1) * innerWeight);\r\n        const imy = y1 + ((py - y1) * innerWeight);\r\n        /* Outer miter point */\r\n        const omx = x1 - ((px - x1) * outerWeight);\r\n        const omy = y1 - ((py - y1) * outerWeight);\r\n\r\n        /* Is the inside miter point too far away, creating a spike? */\r\n        const smallerInsideSegmentSq = Math.min((dx0 * dx0) + (dy0 * dy0), (dx1 * dx1) + (dy1 * dy1));\r\n        const insideWeight = clockwise ? innerWeight : outerWeight;\r\n        const smallerInsideDiagonalSq = smallerInsideSegmentSq + (insideWeight * insideWeight * widthSquared);\r\n        const insideMiterOk = pdist <= smallerInsideDiagonalSq;\r\n\r\n        if (insideMiterOk)\r\n        {\r\n            if (style.join === 'bevel' || pdist / widthSquared > miterLimitSquared)\r\n            {\r\n                if (clockwise) /* rotating at inner angle */\r\n                {\r\n                    verts.push(imx, imy);// inner miter point\r\n                    verts.push(x1 + (perpx * outerWeight), y1 + (perpy * outerWeight));// first segment's outer vertex\r\n                    verts.push(imx, imy);// inner miter point\r\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight));// second segment's outer vertex\r\n                }\r\n                else /* rotating at outer angle */\r\n                {\r\n                    verts.push(x1 - (perpx * innerWeight), y1 - (perpy * innerWeight));// first segment's inner vertex\r\n                    verts.push(omx, omy);// outer miter point\r\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight));// second segment's outer vertex\r\n                    verts.push(omx, omy);// outer miter point\r\n                }\r\n\r\n                indexCount += 2;\r\n            }\r\n            else if (style.join === 'round')\r\n            {\r\n                if (clockwise) /* arc is outside */\r\n                {\r\n                    verts.push(imx, imy);\r\n                    verts.push(x1 + (perpx * outerWeight), y1 + (perpy * outerWeight));\r\n\r\n                    indexCount += round(\r\n                        x1, y1,\r\n                        x1 + (perpx * outerWeight), y1 + (perpy * outerWeight),\r\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\r\n                        verts, true\r\n                    ) + 4;\r\n\r\n                    verts.push(imx, imy);\r\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight));\r\n                }\r\n                else /* arc is inside */\r\n                {\r\n                    verts.push(x1 - (perpx * innerWeight), y1 - (perpy * innerWeight));\r\n                    verts.push(omx, omy);\r\n\r\n                    indexCount += round(\r\n                        x1, y1,\r\n                        x1 - (perpx * innerWeight), y1 - (perpy * innerWeight),\r\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\r\n                        verts, false\r\n                    ) + 4;\r\n\r\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight));\r\n                    verts.push(omx, omy);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                verts.push(imx, imy);\r\n                verts.push(omx, omy);\r\n            }\r\n        }\r\n        else // inside miter is NOT ok\r\n        {\r\n            verts.push(x1 - (perpx * innerWeight), y1 - (perpy * innerWeight)); // first segment's inner vertex\r\n            verts.push(x1 + (perpx * outerWeight), y1 + (perpy * outerWeight)); // first segment's outer vertex\r\n            if (style.join === 'bevel' || pdist / widthSquared > miterLimitSquared)\r\n            {\r\n                // Nothing needed\r\n            }\r\n            else if (style.join === 'round')\r\n            {\r\n                if (clockwise) /* arc is outside */\r\n                {\r\n                    indexCount += round(\r\n                        x1, y1,\r\n                        x1 + (perpx * outerWeight), y1 + (perpy * outerWeight),\r\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\r\n                        verts, true\r\n                    ) + 2;\r\n                }\r\n                else /* arc is inside */\r\n                {\r\n                    indexCount += round(\r\n                        x1, y1,\r\n                        x1 - (perpx * innerWeight), y1 - (perpy * innerWeight),\r\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\r\n                        verts, false\r\n                    ) + 2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (clockwise)\r\n                {\r\n                    verts.push(omx, omy); // inner miter point\r\n                    verts.push(omx, omy); // inner miter point\r\n                }\r\n                else\r\n                {\r\n                    verts.push(imx, imy); // outer miter point\r\n                    verts.push(imx, imy); // outer miter point\r\n                }\r\n                indexCount += 2;\r\n            }\r\n            verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight)); // second segment's inner vertex\r\n            verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight)); // second segment's outer vertex\r\n            indexCount += 2;\r\n        }\r\n    }\r\n\r\n    x0 = points[(length - 2) * 2];\r\n    y0 = points[((length - 2) * 2) + 1];\r\n\r\n    x1 = points[(length - 1) * 2];\r\n    y1 = points[((length - 1) * 2) + 1];\r\n\r\n    perpx = -(y0 - y1);\r\n    perpy = x0 - x1;\r\n\r\n    dist = Math.sqrt((perpx * perpx) + (perpy * perpy));\r\n    perpx /= dist;\r\n    perpy /= dist;\r\n    perpx *= width;\r\n    perpy *= width;\r\n\r\n    verts.push(x1 - (perpx * innerWeight), y1 - (perpy * innerWeight));\r\n    verts.push(x1 + (perpx * outerWeight), y1 + (perpy * outerWeight));\r\n\r\n    if (!closedShape)\r\n    {\r\n        if (style.cap === 'round')\r\n        {\r\n            indexCount += round(\r\n                x1 - (perpx * (innerWeight - outerWeight) * 0.5),\r\n                y1 - (perpy * (innerWeight - outerWeight) * 0.5),\r\n                x1 - (perpx * innerWeight),\r\n                y1 - (perpy * innerWeight),\r\n                x1 + (perpx * outerWeight),\r\n                y1 + (perpy * outerWeight),\r\n                verts,\r\n                false\r\n            ) + 2;\r\n        }\r\n        else if (style.cap === 'square')\r\n        {\r\n            indexCount += square(x1, y1, perpx, perpy, innerWeight, outerWeight, false, verts);\r\n        }\r\n    }\r\n\r\n    const indices = geometry.indices;\r\n    const eps2 = lineData.epsilon * lineData.epsilon;\r\n\r\n    // indices.push(indexStart);\r\n    for (let i = indexStart; i < indexCount + indexStart - 2; ++i)\r\n    {\r\n        x0 = verts[(i * 2)];\r\n        y0 = verts[(i * 2) + 1];\r\n\r\n        x1 = verts[(i + 1) * 2];\r\n        y1 = verts[((i + 1) * 2) + 1];\r\n\r\n        x2 = verts[(i + 2) * 2];\r\n        y2 = verts[((i + 2) * 2) + 1];\r\n\r\n        /* Skip zero area triangles */\r\n        if (Math.abs((x0 * (y1 - y2)) + (x1 * (y2 - y0)) + (x2 * (y0 - y1))) < eps2)\r\n        {\r\n            continue;\r\n        }\r\n\r\n        indices.push(i, i + 1, i + 2);\r\n    }\r\n\r\nreturn geometry;\r\n}\r\n\r\n/**\r\n * 转换一条线条为一组线条构成的虚线条\r\n *\r\n * @param linePoints 线条顶点坐标列表\r\n * @param unit 虚线模式中单位长度，通常被设置为线条宽度\r\n * @param pattern 虚线模式\r\n * @returns 由一组线条构成的虚线条\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash\r\n */\r\nfunction transformDashedLine(linePoints: number[], unit: number, pattern: number[] = [])\r\n{\r\n    if (!pattern || pattern.length === 0)\r\n    {\r\n        return [linePoints];\r\n    }\r\n    /**\r\n     * 当前虚线条中线条数据\r\n     */\r\n    let currentStepDashedLinePoints: number[] = [linePoints[0], linePoints[1]];\r\n    /**\r\n     * 虚线条数据\r\n     */\r\n    const dashedLinePoints: number[][] = [currentStepDashedLinePoints];\r\n    /**\r\n     * 模式索引\r\n     */\r\n    let patternIndex = 0;\r\n    /**\r\n     * 是否为填充的部分\r\n     */\r\n    let isFill = true;\r\n    /**\r\n     * 当前模式宽度\r\n     */\r\n    let currentPartternWidth = pattern[0] * unit;\r\n    /**\r\n     * 当前节点\r\n     */\r\n    let currentPoint: [number, number] = [linePoints[0], linePoints[1]];\r\n\r\n    for (let i = 2; i < linePoints.length; i += 2)\r\n    {\r\n        /**\r\n         * 线段下个节点\r\n         */\r\n        const nextPoint: [number, number] = [linePoints[i], linePoints[i + 1]];\r\n        /**\r\n         * 当前线条宽度\r\n         */\r\n        const currentSegmentWidth = Math.sqrt(\r\n            ((nextPoint[0] - currentPoint[0]) * (nextPoint[0] - currentPoint[0]))\r\n            + ((nextPoint[1] - currentPoint[1]) * (nextPoint[1] - currentPoint[1]))\r\n        );\r\n        /**\r\n         * 剩余线条宽度\r\n         */\r\n        let leftSegmentWidth = currentSegmentWidth;\r\n        while (leftSegmentWidth > 0 && currentPartternWidth > 0)\r\n        {\r\n            if (currentPartternWidth > leftSegmentWidth)\r\n            {\r\n                if (isFill)\r\n                {\r\n                    currentStepDashedLinePoints.push(nextPoint[0], nextPoint[1]);\r\n                }\r\n                currentPartternWidth = currentPartternWidth - leftSegmentWidth;\r\n                // 跳转到下个线段\r\n                leftSegmentWidth = 0;\r\n            }\r\n else if (currentPartternWidth === leftSegmentWidth)\r\n            {\r\n                if (isFill)\r\n                {\r\n                    currentStepDashedLinePoints.push(nextPoint[0], nextPoint[1]);\r\n                }\r\n                // 跳转到下个线段\r\n                leftSegmentWidth = 0;\r\n                // 跳转到下个模式\r\n                isFill = !isFill;\r\n                if (isFill)\r\n                {\r\n                    currentStepDashedLinePoints = [nextPoint[0], nextPoint[1]];\r\n                    dashedLinePoints.push(currentStepDashedLinePoints);\r\n                }\r\n                currentPartternWidth = pattern[++patternIndex % pattern.length] * unit;\r\n            }\r\n else\r\n            {\r\n                leftSegmentWidth = leftSegmentWidth - currentPartternWidth;\r\n                /**\r\n                 * 模式切割当前线段的位置\r\n                 */\r\n                const alpha = 1 - leftSegmentWidth / currentSegmentWidth;\r\n                const alphaX = currentPoint[0] + (alpha * (nextPoint[0] - currentPoint[0]));\r\n                const alphaY = currentPoint[1] + (alpha * (nextPoint[1] - currentPoint[1]));\r\n                if (isFill)\r\n                {\r\n                    currentStepDashedLinePoints.push(alphaX, alphaY);\r\n                }\r\n                // 跳转到下个模式\r\n                isFill = !isFill;\r\n                if (isFill)\r\n                {\r\n                    currentStepDashedLinePoints = [alphaX, alphaY];\r\n                    dashedLinePoints.push(currentStepDashedLinePoints);\r\n                }\r\n                currentPartternWidth = pattern[++patternIndex % pattern.length] * unit;\r\n            }\r\n        }\r\n        currentPoint = nextPoint;\r\n    }\r\n\r\nreturn dashedLinePoints;\r\n}\r\n\r\n/**\r\n * Buffers vertices to draw a square cap.\r\n *\r\n * Ignored from docs since it is not directly exposed.\r\n *\r\n * @ignore\r\n * @private\r\n * @param {number} x - X-coord of end point\r\n * @param {number} y - Y-coord of end point\r\n * @param {number} nx - X-coord of line normal pointing inside\r\n * @param {number} ny - Y-coord of line normal pointing inside\r\n * @param {Array<number>} verts - vertex buffer\r\n * @returns {}\r\n */\r\nfunction square(\r\n    x: number,\r\n    y: number,\r\n    nx: number,\r\n    ny: number,\r\n    innerWeight: number,\r\n    outerWeight: number,\r\n    clockwise: boolean, /* rotation for square (true at left end, false at right end) */\r\n    verts: Array<number>\r\n): number\r\n{\r\n    const ix = x - (nx * innerWeight);\r\n    const iy = y - (ny * innerWeight);\r\n    const ox = x + (nx * outerWeight);\r\n    const oy = y + (ny * outerWeight);\r\n\r\n    /* Rotate nx,ny for extension vector */\r\n    let exx; let\r\n        eyy;\r\n\r\n    if (clockwise)\r\n    {\r\n        exx = ny;\r\n        eyy = -nx;\r\n    }\r\n    else\r\n    {\r\n        exx = -ny;\r\n        eyy = nx;\r\n    }\r\n\r\n    /* [i|0]x,y extended at cap */\r\n    const eix = ix + exx;\r\n    const eiy = iy + eyy;\r\n    const eox = ox + exx;\r\n    const eoy = oy + eyy;\r\n\r\n    /* Square itself must be inserted clockwise*/\r\n    verts.push(eix, eiy);\r\n    verts.push(eox, eoy);\r\n\r\n    return 2;\r\n}\r\n\r\n/**\r\n * Buffers vertices to draw an arc at the line joint or cap.\r\n *\r\n * Ignored from docs since it is not directly exposed.\r\n *\r\n * @ignore\r\n * @private\r\n * @param {number} cx - X-coord of center\r\n * @param {number} cy - Y-coord of center\r\n * @param {number} sx - X-coord of arc start\r\n * @param {number} sy - Y-coord of arc start\r\n * @param {number} ex - X-coord of arc end\r\n * @param {number} ey - Y-coord of arc end\r\n * @param {Array<number>} verts - buffer of vertices\r\n * @param {boolean} clockwise - orientation of vertices\r\n * @returns {number} - no. of vertices pushed\r\n */\r\nfunction round(\r\n    cx: number,\r\n    cy: number,\r\n    sx: number,\r\n    sy: number,\r\n    ex: number,\r\n    ey: number,\r\n    verts: Array<number>,\r\n    clockwise: boolean, /* if not cap, then clockwise is turn of joint, otherwise rotation from angle0 to angle1 */\r\n): number\r\n{\r\n    const cx2p0x = sx - cx;\r\n    const cy2p0y = sy - cy;\r\n\r\n    let angle0 = Math.atan2(cx2p0x, cy2p0y);\r\n    let angle1 = Math.atan2(ex - cx, ey - cy);\r\n\r\n    if (clockwise && angle0 < angle1)\r\n    {\r\n        angle0 += Math.PI * 2;\r\n    }\r\n    else if (!clockwise && angle0 > angle1)\r\n    {\r\n        angle1 += Math.PI * 2;\r\n    }\r\n\r\n    let startAngle = angle0;\r\n    const angleDiff = angle1 - angle0;\r\n    const absAngleDiff = Math.abs(angleDiff);\r\n\r\n    /* if (absAngleDiff >= PI_LBOUND && absAngleDiff <= PI_UBOUND)\r\n    {\r\n        const r1x = cx - nxtPx;\r\n        const r1y = cy - nxtPy;\r\n\r\n        if (r1x === 0)\r\n        {\r\n            if (r1y > 0)\r\n            {\r\n                angleDiff = -angleDiff;\r\n            }\r\n        }\r\n        else if (r1x >= -GRAPHICS_CURVES.epsilon)\r\n        {\r\n            angleDiff = -angleDiff;\r\n        }\r\n    }*/\r\n\r\n    const radius = Math.sqrt((cx2p0x * cx2p0x) + (cy2p0y * cy2p0y));\r\n    const segCount = ((15 * absAngleDiff * Math.sqrt(radius) / Math.PI) >> 0) + 1;\r\n    const angleInc = angleDiff / segCount;\r\n\r\n    startAngle += angleInc;\r\n\r\n    if (clockwise)\r\n    {\r\n        verts.push(cx, cy);\r\n        verts.push(sx, sy);\r\n\r\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\r\n        {\r\n            verts.push(cx, cy);\r\n            verts.push(cx + ((Math.sin(angle) * radius)),\r\n                cy + ((Math.cos(angle) * radius)));\r\n        }\r\n\r\n        verts.push(cx, cy);\r\n        verts.push(ex, ey);\r\n    }\r\n    else\r\n    {\r\n        verts.push(sx, sy);\r\n        verts.push(cx, cy);\r\n\r\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\r\n        {\r\n            verts.push(cx + ((Math.sin(angle) * radius)),\r\n                cy + ((Math.cos(angle) * radius)));\r\n            verts.push(cx, cy);\r\n        }\r\n\r\n        verts.push(ex, ey);\r\n        verts.push(cx, cy);\r\n    }\r\n\r\n    return segCount * 2;\r\n}\r\n\r\n/**\r\n * Represents the line style for Graphics.\r\n */\r\ninterface LineStyle\r\n{\r\n    /**\r\n     * The width (thickness) of any lines drawn.\r\n     *\r\n     * @default 1\r\n     */\r\n    width?: number;\r\n\r\n    /**\r\n     * The alignment of any lines drawn (0.5 = middle, 1 = outer, 0 = inner). WebGL only.\r\n     *\r\n     * @default 0.5\r\n     */\r\n    alignment?: number;\r\n\r\n    /**\r\n     * Line cap style.\r\n     *\r\n     * 'butt': don't add any cap at line ends (leaves orthogonal edges)\r\n     *\r\n     * 'round': add semicircle at ends\r\n     *\r\n     * 'square': add square at end (like `BUTT` except more length at end)\r\n     *\r\n     * @default  'butt'\r\n     */\r\n    cap?: 'butt' | 'round' | 'square';\r\n\r\n    /**\r\n     * Line join style.\r\n     *\r\n     * 'miter': make a sharp corner where outer part of lines meet\r\n     *\r\n     * 'bevel': add a square butt at each end of line segment and fill the triangle at turn\r\n     *\r\n     * 'round': add an arc at the joint\r\n     *\r\n     * @default 'miter'\r\n     *\r\n     * @see https://graphicdesign.stackexchange.com/questions/59018/what-is-a-bevel-join-of-two-lines-exactly-illustrator\r\n     */\r\n    join?: 'miter' | 'bevel' | 'round';\r\n\r\n    /**\r\n     * Miter limit.\r\n     *\r\n     * @default 10\r\n     */\r\n    miterLimit?: number;\r\n\r\n    /**\r\n     * 虚线模式中单位长度，通常被设置为线条宽度\r\n     *\r\n     * @default 1\r\n     */\r\n    dashedLinePatternUnit?: number;\r\n\r\n    /**\r\n     * 虚线模式\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash\r\n     */\r\n    dashedLinePattern?: number[];\r\n}\r\n","// The interface to get time information from Unity.\r\nexport class Time\r\n{\r\n    // The time this frame has started (RO). This is the time in seconds since the start of the game.\r\n    static get time(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The time this frame has started (RO). This is the time in seconds since the start of the game. Double precision version of time, please prefer to use it instead of single precision (float).\r\n    static get timeAsDouble()\r\n    {\r\n        return Time.time;\r\n    }\r\n\r\n    // The time this frame has started (RO). This is the time in seconds since the last level has been loaded.\r\n    static get timeSinceLevelLoad(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The time this frame has started (RO). This is the time in seconds since the last level has been loaded. Double precision version of timeSinceLevelLoad, please prefer to use it instead of single precision (float).\r\n    static get timeSinceLevelLoadAsDouble()\r\n    {\r\n        return Time.timeSinceLevelLoad;\r\n    }\r\n\r\n    // The time in seconds it took to complete the last frame (RO).\r\n    static get deltaTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The time the latest MonoBehaviour::pref::FixedUpdate has started (RO). This is the time in seconds since the start of the game.\r\n    static get fixedTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The time the latest MonoBehaviour::pref::FixedUpdate has started (RO). This is the time in seconds since the start of the game.\r\n    // Double precision version of unscaledTime, please prefer to use it instead of single precision (float).\r\n    static get fixedTimeAsDouble()\r\n    {\r\n        return Time.fixedTime;\r\n    }\r\n\r\n    // The cached real time (realTimeSinceStartup) at the start of this frame\r\n    static get unscaledTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The cached real time (realTimeSinceStartup) at the start of this frame. Double precision version of unscaledTime, please prefer to use it instead of single precision (float).\r\n    static get unscaledTimeAsDouble()\r\n    {\r\n        return Time.unscaledTime;\r\n    }\r\n\r\n    // The real time corresponding to this fixed frame\r\n    static get fixedUnscaledTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The real time corresponding to this fixed frame. Double precision version of unscaledTime, please prefer to use it instead of single precision (float).\r\n    static get fixedUnscaledTimeAsDouble()\r\n    {\r\n        return Time.fixedUnscaledTime;\r\n    }\r\n\r\n    // The delta time based upon the realTime\r\n    static get unscaledDeltaTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The delta time based upon the realTime\r\n    static get fixedUnscaledDeltaTime()\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The interval in seconds at which physics and other fixed frame rate updates (like MonoBehaviour's MonoBehaviour::pref::FixedUpdate) are performed.\r\n    static fixedDeltaTime: number;\r\n\r\n    // The maximum time a frame can take. Physics and other fixed frame rate updates (like MonoBehaviour's MonoBehaviour::pref::FixedUpdate)\r\n    static maximumDeltaTime: number;\r\n\r\n    // A smoothed out Time.deltaTime (RO).\r\n    static get smoothDeltaTime(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The maximum time a frame can spend on particle updates. If the frame takes longer than this, then updates are split into multiple smaller updates.\r\n    static maximumParticleDeltaTime: number;\r\n\r\n    // The scale at which the time is passing. This can be used for slow motion effects.\r\n    static timeScale: number;\r\n\r\n    // The total number of frames that have passed (RO).\r\n    static get frameCount(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // *undocumented*\r\n    static get renderedFrameCount(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The real time in seconds since the game started (RO).\r\n    static get realtimeSinceStartup(): number\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    // The real time in seconds since the game started (RO). Double precision version of realtimeSinceStartup, please prefer to use it instead of single precision (float).\r\n    static get realtimeSinceStartupAsDouble()\r\n    {\r\n        return Time.realtimeSinceStartup;\r\n    }\r\n\r\n    // If /captureDeltaTime/ is set to a value larger than 0, time will advance by that increment.\r\n    static captureDeltaTime: number;\r\n\r\n    // /captureFramerate/ is a convenience (and backwards compatible) accessor for the reciprocal of /captureDeltaTime/ rounded to the nearest integer.\r\n    static get captureFramerate()\r\n    {\r\n        return Time.captureDeltaTime === 0.0 ? 0 : Math.round(1.0 / Time.captureDeltaTime);\r\n    }\r\n\r\n    static set captureFramerate(value)\r\n    {\r\n        Time.captureDeltaTime = value === 0 ? 0.0 : 1.0 / value;\r\n    }\r\n\r\n    // Returns true if inside a fixed time step callback such as FixedUpdate, otherwise false.\r\n    static get inFixedTimeStep(): boolean\r\n    {\r\n        throw `未实现`;\r\n    }\r\n}\r\n","import { Vector2 } from './geom/Vector2';\r\nimport { Time } from './Time';\r\n\r\nexport class Mathf\r\n{\r\n    /**\r\n     * Returns the sine of angle `f` in radians.\r\n     */\r\n    static Sin(f: number)\r\n    {\r\n        return Math.sin(f);\r\n    }\r\n\r\n    /**\r\n     * Returns the cosine of angle `f` in radians.\r\n     */\r\n    static Cos(f: number)\r\n    {\r\n        return Math.cos(f);\r\n    }\r\n\r\n    // Returns the tangent of angle /f/ in radians.\r\n    static Tan(f: number) { return Math.tan(f); }\r\n\r\n    // Returns the arc-sine of /f/ - the angle in radians whose sine is /f/.\r\n    static Asin(f: number) { return Math.asin(f); }\r\n\r\n    // Returns the arc-cosine of /f/ - the angle in radians whose cosine is /f/.\r\n    static Acos(f: number) { return Math.acos(f); }\r\n\r\n    // Returns the arc-tangent of /f/ - the angle in radians whose tangent is /f/.\r\n    static Atan(f: number) { return Math.atan(f); }\r\n\r\n    // Returns the angle in radians whose ::ref::Tan is @@y/x@@.\r\n    static Atan2(y: number, x: number) { return Math.atan2(y, x); }\r\n\r\n    // Returns square root of /f/.\r\n    static Sqrt(f: number) { return Math.sqrt(f); }\r\n\r\n    // Returns the absolute value of /f/.\r\n    static Abs(f: number) { return Math.abs(f); }\r\n\r\n    static Min(a: number, b: number): number;\r\n    // Returns the smallest of two or more values.\r\n    static Min(values: number[]): number;\r\n    static Min(...args: any[])\r\n    {\r\n        if (Array.isArray(args[0]))\r\n        {\r\n            const values = args[0];\r\n            const len = values.length;\r\n            if (len === 0)\r\n            {\r\n                return 0;\r\n            }\r\n            let m = values[0];\r\n            for (let i = 1; i < len; i++)\r\n            {\r\n                if (values[i] < m)\r\n                { m = values[i]; }\r\n            }\r\n\r\n            return m;\r\n        }\r\n        const a: number = args[0];\r\n        const b: number = args[1];\r\n\r\n        return a < b ? a : b;\r\n    }\r\n\r\n    static Max(a: number, b: number): number;\r\n    // Returns largest of two or more values.\r\n    static Max(values: number[]): number;\r\n    static Max(...args: any[])\r\n    {\r\n        if (Array.isArray(args[0]))\r\n        {\r\n            const values = args[0];\r\n            const len = values.length;\r\n            if (len === 0)\r\n            { return 0; }\r\n            let m = values[0];\r\n            for (let i = 1; i < len; i++)\r\n            {\r\n                if (values[i] > m)\r\n                { m = values[i]; }\r\n            }\r\n\r\n            return m;\r\n        }\r\n        const a: number = args[0];\r\n        const b: number = args[1];\r\n\r\n        return a > b ? a : b;\r\n    }\r\n\r\n    // Returns /f/ raised to power /p/.\r\n    static Pow(f: number, p: number) { return Math.pow(f, p); }\r\n\r\n    // Returns e raised to the specified power.\r\n    static Exp(power: number) { return Math.exp(power); }\r\n\r\n    // Returns the natural (base e) logarithm of a specified number.\r\n    static Log(f: number) { return Math.log(f); }\r\n\r\n    // Returns the base 10 logarithm of a specified number.\r\n    static Log10(f: number) { return Math.log10(f); }\r\n\r\n    // Returns the smallest integer greater to or equal to /f/.\r\n    static Ceil(f: number) { return Math.ceil(f); }\r\n\r\n    // Returns the largest integer smaller to or equal to /f/.\r\n    static Floor(f: number) { return Math.floor(f); }\r\n\r\n    // Returns /f/ rounded to the nearest integer.\r\n    static Round(f: number) { return Math.round(f); }\r\n\r\n    // Returns the smallest integer greater to or equal to /f/.\r\n    static CeilToInt(f: number) { return Math.ceil(f); }\r\n\r\n    // Returns the largest integer smaller to or equal to /f/.\r\n    static FloorToInt(f: number) { return Math.floor(f); }\r\n\r\n    // Returns /f/ rounded to the nearest integer.\r\n    static RoundToInt(f: number) { return Math.round(f); }\r\n\r\n    // Returns the sign of /f/.\r\n    static Sign(f: number) { return f >= 0 ? 1 : -1; }\r\n\r\n    // The infamous ''3.14159265358979...'' value (RO).\r\n    static readonly PI = Math.PI;\r\n\r\n    // A representation of positive infinity (RO).\r\n    static readonly Infinity = Infinity;\r\n\r\n    // A representation of negative infinity (RO).\r\n    static readonly NegativeInfinity = -Infinity;\r\n\r\n    // Degrees-to-radians conversion constant (RO).\r\n    static readonly Deg2Rad = Mathf.PI * 2 / 360;\r\n\r\n    // Radians-to-degrees conversion constant (RO).\r\n    static readonly Rad2Deg = 1 / Mathf.Deg2Rad;\r\n\r\n    // We cannot round to more decimals than 15 according to docs for System.Math.Round.\r\n    private static readonly kMaxDecimals = 15;\r\n\r\n    // A tiny floating point value (RO).\r\n    static readonly Epsilon = 1.401298e-45;\r\n\r\n    // Clamps a value between a minimum float and maximum float value.\r\n    static Clamp(value: number, min: number, max: number)\r\n    {\r\n        if (value < min)\r\n        { value = min; }\r\n        else if (value > max)\r\n        { value = max; }\r\n\r\n        return value;\r\n    }\r\n\r\n    // Clamps value between 0 and 1 and returns value\r\n    static Clamp01(value: number)\r\n    {\r\n        if (value < 0)\r\n        { return 0; }\r\n        else if (value > 1)\r\n        { return 1; }\r\n\r\n        return value;\r\n    }\r\n\r\n    // Interpolates between /a/ and /b/ by /t/. /t/ is clamped between 0 and 1.\r\n    static Lerp(a: number, b: number, t: number)\r\n    {\r\n        return a + (b - a) * Mathf.Clamp01(t);\r\n    }\r\n\r\n    // Interpolates between /a/ and /b/ by /t/ without clamping the interpolant.\r\n    static LerpUnclamped(a: number, b: number, t: number)\r\n    {\r\n        return a + (b - a) * t;\r\n    }\r\n\r\n    // Same as ::ref::Lerp but makes sure the values interpolate correctly when they wrap around 360 degrees.\r\n    static LerpAngle(a: number, b: number, t: number)\r\n    {\r\n        let delta = Mathf.Repeat((b - a), 360);\r\n        if (delta > 180)\r\n        { delta -= 360; }\r\n\r\n        return a + delta * Mathf.Clamp01(t);\r\n    }\r\n\r\n    // Moves a value /current/ towards /target/.\r\n    static MoveTowards(current: number, target: number, maxDelta: number)\r\n    {\r\n        if (Mathf.Abs(target - current) <= maxDelta)\r\n        { return target; }\r\n\r\n        return current + Mathf.Sign(target - current) * maxDelta;\r\n    }\r\n\r\n    // Same as ::ref::MoveTowards but makes sure the values interpolate correctly when they wrap around 360 degrees.\r\n    static MoveTowardsAngle(current: number, target: number, maxDelta: number)\r\n    {\r\n        const deltaAngle = Mathf.DeltaAngle(current, target);\r\n        if (-maxDelta < deltaAngle && deltaAngle < maxDelta)\r\n        { return target; }\r\n        target = current + deltaAngle;\r\n\r\n        return Mathf.MoveTowards(current, target, maxDelta);\r\n    }\r\n\r\n    // Interpolates between /min/ and /max/ with smoothing at the limits.\r\n    static SmoothStep(from: number, to: number, t: number)\r\n    {\r\n        t = Mathf.Clamp01(t);\r\n        t = -2.0 * t * t * t + 3.0 * t * t;\r\n\r\n        return to * t + from * (1 - t);\r\n    }\r\n\r\n    //* undocumented\r\n    static Gamma(value: number, absmax: number, gamma: number)\r\n    {\r\n        const negative = value < 0;\r\n        const absval = Mathf.Abs(value);\r\n        if (absval > absmax)\r\n        { return negative ? -absval : absval; }\r\n\r\n        const result = Mathf.Pow(absval / absmax, gamma) * absmax;\r\n\r\n        return negative ? -result : result;\r\n    }\r\n\r\n    // Compares two floating point values if they are similar.\r\n    static Approximately(a: number, b: number)\r\n    {\r\n        // If a or b is zero, compare that the other is less or equal to epsilon.\r\n        // If neither a or b are 0, then find an epsilon that is good for\r\n        // comparing numbers at the maximum magnitude of a and b.\r\n        // Floating points have about 7 significant digits, so\r\n        // 1.000001f can be represented while 1.0000001f is rounded to zero,\r\n        // thus we could use an epsilon of 0.000001f for comparing values close to 1.\r\n        // We multiply this epsilon by the biggest magnitude of a and b.\r\n        return Mathf.Abs(b - a) < Mathf.Max(0.000001 * Mathf.Max(Mathf.Abs(a), Mathf.Abs(b)), Mathf.Epsilon * 8);\r\n    }\r\n\r\n    static SmoothDamp(current: number, target: number, currentVelocity: number, smoothTime: number, maxSpeed: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n\r\n        return Mathf.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    static SmoothDamp1(current: number, target: number, currentVelocity: number, smoothTime: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n        const maxSpeed = Mathf.Infinity;\r\n\r\n        return Mathf.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    // Gradually changes a value towards a desired goal over time.\r\n    static SmoothDamp2(current: number, target: number, currentVelocity: number, smoothTime: number, maxSpeed = Mathf.Infinity, deltaTime = Time.deltaTime)\r\n    {\r\n        // Based on Game Programming Gems 4 Chapter 1.10\r\n        smoothTime = Mathf.Max(0.0001, smoothTime);\r\n        const omega = 2 / smoothTime;\r\n\r\n        const x = omega * deltaTime;\r\n        const exp = 1 / (1 + x + 0.48 * x * x + 0.235 * x * x * x);\r\n        let change = current - target;\r\n        const originalTo = target;\r\n\r\n        // Clamp maximum speed\r\n        const maxChange = maxSpeed * smoothTime;\r\n        change = Mathf.Clamp(change, -maxChange, maxChange);\r\n        target = current - change;\r\n\r\n        const temp = (currentVelocity + omega * change) * deltaTime;\r\n        currentVelocity = (currentVelocity - omega * temp) * exp;\r\n        let output = target + (change + temp) * exp;\r\n\r\n        // Prevent overshooting\r\n        if (originalTo - current > 0.0 === output > originalTo)\r\n        {\r\n            output = originalTo;\r\n            currentVelocity = (output - originalTo) / deltaTime;\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    static SmoothDampAngle(current: number, target: number, currentVelocity: number, smoothTime: number, maxSpeed: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n\r\n        return Mathf.SmoothDampAngle2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    static SmoothDampAngle1(current: number, target: number, currentVelocity: number, smoothTime: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n        const maxSpeed = Mathf.Infinity;\r\n\r\n        return Mathf.SmoothDampAngle2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    // Gradually changes an angle given in degrees towards a desired goal angle over time.\r\n    static SmoothDampAngle2(current: number, target: number, currentVelocity: number, smoothTime: number, maxSpeed = Mathf.Infinity, deltaTime = Time.deltaTime)\r\n    {\r\n        target = current + Mathf.DeltaAngle(current, target);\r\n\r\n        return Mathf.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    // Loops the value t, so that it is never larger than length and never smaller than 0.\r\n    static Repeat(t: number, length: number)\r\n    {\r\n        return Mathf.Clamp(t - Mathf.Floor(t / length) * length, 0.0, length);\r\n    }\r\n\r\n    // PingPongs the value t, so that it is never larger than length and never smaller than 0.\r\n    static PingPong(t: number, length: number)\r\n    {\r\n        t = Mathf.Repeat(t, length * 2);\r\n\r\n        return length - Mathf.Abs(t - length);\r\n    }\r\n\r\n    // Calculates the ::ref::Lerp parameter between of two values.\r\n    static InverseLerp(a: number, b: number, value: number)\r\n    {\r\n        if (a !== b)\r\n        {\r\n            return Mathf.Clamp01((value - a) / (b - a));\r\n        }\r\n\r\n        return 0.0;\r\n    }\r\n\r\n    // Calculates the shortest difference between two given angles.\r\n    static DeltaAngle(current: number, target: number)\r\n    {\r\n        let delta = Mathf.Repeat((target - current), 360.0);\r\n        if (delta > 180.0)\r\n        { delta -= 360.0; }\r\n\r\n        return delta;\r\n    }\r\n\r\n    // Infinite Line Intersection (line1 is p1-p2 and line2 is p3-p4)\r\n    static LineIntersection(p1: Vector2, p2: Vector2, p3: Vector2, p4: Vector2, result: Vector2)\r\n    {\r\n        const bx = p2.x - p1.x;\r\n        const by = p2.y - p1.y;\r\n        const dx = p4.x - p3.x;\r\n        const dy = p4.y - p3.y;\r\n        const bDotDPerp = bx * dy - by * dx;\r\n        if (bDotDPerp === 0)\r\n        {\r\n            return false;\r\n        }\r\n        const cx = p3.x - p1.x;\r\n        const cy = p3.y - p1.y;\r\n        const t = (cx * dy - cy * dx) / bDotDPerp;\r\n\r\n        result.x = p1.x + t * bx;\r\n        result.y = p1.y + t * by;\r\n\r\n        return true;\r\n    }\r\n\r\n    // Line Segment Intersection (line1 is p1-p2 and line2 is p3-p4)\r\n    static LineSegmentIntersection(p1: Vector2, p2: Vector2, p3: Vector2, p4: Vector2, result: Vector2)\r\n    {\r\n        const bx = p2.x - p1.x;\r\n        const by = p2.y - p1.y;\r\n        const dx = p4.x - p3.x;\r\n        const dy = p4.y - p3.y;\r\n        const bDotDPerp = bx * dy - by * dx;\r\n        if (bDotDPerp === 0)\r\n        {\r\n            return false;\r\n        }\r\n        const cx = p3.x - p1.x;\r\n        const cy = p3.y - p1.y;\r\n        const t = (cx * dy - cy * dx) / bDotDPerp;\r\n        if (t < 0 || t > 1)\r\n        {\r\n            return false;\r\n        }\r\n        const u = (cx * by - cy * bx) / bDotDPerp;\r\n        if (u < 0 || u > 1)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        result.x = p1.x + t * bx;\r\n        result.y = p1.y + t * by;\r\n\r\n        return true;\r\n    }\r\n\r\n    // static RandomToLong(System.Random r)\r\n    // {\r\n    //     var buffer = new byte[8];\r\n    //     r.NextBytes(buffer);\r\n    //     return (long)(System.BitConverter.ToUInt64(buffer, 0) & System.Int64.MaxValue);\r\n    // }\r\n\r\n    // static ClampToFloat(value: number)\r\n    // {\r\n    //     if (Mathf.Infinity === value)\r\n    //         return Mathf.Infinity;\r\n\r\n    //     if (Mathf.NegativeInfinity === value)\r\n    //         return Mathf.NegativeInfinity;\r\n\r\n    //     if (value < float.MinValue)\r\n    //         return float.MinValue;\r\n\r\n    //     if (value > float.MaxValue)\r\n    //         return float.MaxValue;\r\n\r\n    //     return (float)value;\r\n    // }\r\n\r\n    // //         internal static int ClampToInt(long value)\r\n    // // {\r\n    // //     if (value < int.MinValue)\r\n    // //         return int.MinValue;\r\n\r\n    // //     if (value > int.MaxValue)\r\n    // //         return int.MaxValue;\r\n\r\n    // //     return (int)value;\r\n    // // }\r\n\r\n    static RoundToMultipleOf(value: number, roundingValue: number)\r\n    {\r\n        if (roundingValue === 0)\r\n        {\r\n            return value;\r\n        }\r\n\r\n        return Mathf.Round(value / roundingValue) * roundingValue;\r\n    }\r\n\r\n    static GetClosestPowerOfTen(positiveNumber: number)\r\n    {\r\n        if (positiveNumber <= 0)\r\n        {\r\n            return 1;\r\n        }\r\n\r\n        return Mathf.Pow(10, Mathf.RoundToInt(Mathf.Log10(positiveNumber)));\r\n    }\r\n\r\n    static GetNumberOfDecimalsForMinimumDifference(minDifference: number)\r\n    {\r\n        return Mathf.Clamp(-Mathf.FloorToInt(Mathf.Log10(Mathf.Abs(minDifference))), 0, Mathf.kMaxDecimals);\r\n    }\r\n\r\n    static GetNumberOfDecimalsForMinimumDifference1(minDifference: number)\r\n    {\r\n        return Math.max(0.0, -Math.floor(Math.log10(Math.abs(minDifference))));\r\n    }\r\n\r\n    // static RoundBasedOnMinimumDifference(valueToRound: number, minDifference: number)\r\n    // {\r\n    //     if (minDifference === 0)\r\n    //     {\r\n    //         return Mathf.DiscardLeastSignificantDecimal(valueToRound);\r\n    //     }\r\n\r\n    //     return Math.round(valueToRound, Mathf.GetNumberOfDecimalsForMinimumDifference(minDifference),\r\n    //         System.MidpointRounding.AwayFromZero);\r\n    // }\r\n\r\n    // static RoundBasedOnMinimumDifference1(valueToRound: number, minDifference: number)\r\n    // {\r\n    //     if (minDifference === 0)\r\n    //     {\r\n    //         return Mathf.DiscardLeastSignificantDecimal(valueToRound);\r\n    //     }\r\n\r\n    //     return Math.Round(valueToRound, Mathf.GetNumberOfDecimalsForMinimumDifference(minDifference),\r\n    //         System.MidpointRounding.AwayFromZero);\r\n    // }\r\n\r\n    // static DiscardLeastSignificantDecimal(v: number)\r\n    // {\r\n    //     const decimals = Mathf.Clamp((5 - Mathf.Log10(Mathf.Abs(v))), 0, Mathf.kMaxDecimals);\r\n\r\n    //     return Math.round(v, decimals, System.MidpointRounding.AwayFromZero);\r\n    // }\r\n\r\n    // static DiscardLeastSignificantDecimal1(v: number)\r\n    // {\r\n    //     const decimals = Math.max(0, (5 - Math.log10(Math.abs(v))));\r\n    //     try\r\n    //     {\r\n    //         return Math.Round(v, decimals);\r\n    //     }\r\n    //     catch (System.ArgumentOutOfRangeException)\r\n    //     {\r\n    //         // This can happen for very small numbers.\r\n    //         return 0;\r\n    //     }\r\n    // }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { Mathf } from '../MathF';\r\nimport { Time } from '../Time';\r\nimport { Vector } from './Vector';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * Representation of 2D vectors and points.\r\n */\r\n/**\r\n * 二维向量和点的表示。\r\n */\r\nexport class Vector2 implements Vector\r\n{\r\n    __class__: 'Vector2';\r\n\r\n    /**\r\n     * X component of the vector.\r\n     */\r\n    /**\r\n     * 向量的X分量。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    x: number;\r\n\r\n    /**\r\n     * Y component of the vector.\r\n     */\r\n    /**\r\n     * 向量的Y分量。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    y: number;\r\n\r\n    /**\r\n     * The length of this vector.\r\n     */\r\n    /**\r\n     * 向量的长度。\r\n     */\r\n    get length(): number\r\n    {\r\n        return Math.sqrt((this.x * this.x) + (this.y * this.y));\r\n    }\r\n\r\n    /**\r\n     * The squared length of this vector.\r\n     */\r\n    /**\r\n     * 向量长度的平方。\r\n     */\r\n    get lengthSquared(): number\r\n    {\r\n        return (this.x * this.x) + (this.y * this.y);\r\n    }\r\n\r\n    /**\r\n     * The length of this vector.\r\n     */\r\n    /**\r\n     * 向量的长度。\r\n     */\r\n    get magnitude()\r\n    {\r\n        return this.length;\r\n    }\r\n\r\n    /**\r\n     * The squared length of this vector.\r\n     */\r\n    /**\r\n     * 向量长度的平方。\r\n     */\r\n    get sqrMagnitude(): number\r\n    {\r\n        return (this.x * this.x) + (this.y * this.y);\r\n    }\r\n\r\n    /**\r\n     * 返回大小为 1 的此向量（只读）。\r\n     *\r\n     * 归一化后，向量保持相同的方向，但其长度为 1.0。\r\n     *\r\n     * 请注意，当前向量不变，并返回一个新的归一化向量。如果要对当前向量进行归一化，请使用Normalize函数。\r\n     *\r\n     * 如果向量太小而无法归一化，则将返回零向量。\r\n     */\r\n    /**\r\n     * Returns this vector with a magnitude of 1 (Read Only).\r\n     *\r\n     * When normalized, a vector keeps the same direction but its length is 1.0.\r\n     *\r\n     * Note that the current vector is unchanged and a new normalized vector is returned. If you want to normalize the current vector, use Normalize function.\r\n     *\r\n     * If the vector is too small to be normalized a zero vector will be returned.\r\n     */\r\n    get normalized()\r\n    {\r\n        const v = new Vector2(this.x, this.y);\r\n        v.normalize();\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * Constructs a new vector with given x, y components.\r\n     *\r\n     * @param x X component of the vector.\r\n     * @param y Y component of the vector.\r\n     */\r\n    /**\r\n     * 用给定的 x, y 分量构造一个新向量。\r\n     *\r\n     * @param x 向量的X分量。\r\n     * @param y 向量的Y分量。\r\n     */\r\n    constructor(x = 0, y = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    /**\r\n     * Set x and y components of an existing Vector2.\r\n     *\r\n     * @param x The new X component of the vector\r\n     * @param y The new Y component of the vector\r\n     */\r\n    /**\r\n     * 设置现有Vector2的x和y分量。\r\n     *\r\n     * @param x 向量的新的X分量\r\n     * @param y 向量的新的Y分量\r\n     */\r\n    set(x: number, y: number)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Determine if it is equal to the given vector.\r\n     *\r\n     * @param other the given vector.\r\n     * @param precision comparative precision.\r\n     * @returns Returns true if the given vector is exactly equal to this vector.\r\n     */\r\n    /**\r\n     * 判断与给定向量是否相等。\r\n     *\r\n     * @param other 给定的向量。\r\n     * @param precision 比较精度。\r\n     * @returns 如果给定向量完全等于该向量，则返回 true。\r\n     */\r\n    equals(other: Vector2, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.x - other.x, 0, precision))\r\n        {\r\n            return false;\r\n        }\r\n        if (!mathUtil.equals(this.y - other.y, 0, precision))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Makes this vector have a magnitude of 1.\r\n     *\r\n     * When normalized, a vector keeps the same direction but its length is 1.0.\r\n     *\r\n     * Note that this function will change the current vector. If you want to keep the current vector unchanged, use normalized variable.\r\n     *\r\n     * If this vector is too small to be normalized it will be set to zero.\r\n     *\r\n     */\r\n    /**\r\n     * 使该向量的大小为 1。\r\n     *\r\n     * 归一化后，向量保持相同的方向，但其长度为 1.0。\r\n     *\r\n     * 请注意，此函数将更改当前向量。如果要保持当前向量不变，请使用归一化变量。\r\n     *\r\n     * 如果这个向量太小而无法归一化，它将被设置为零。\r\n     */\r\n    normalize()\r\n    {\r\n        const length = this.length;\r\n        if (this.length > Vector2.kEpsilon)\r\n        {\r\n            this.x /= length;\r\n            this.y /= length;\r\n        }\r\n        else\r\n        {\r\n            this.x = 0;\r\n            this.y = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 克隆点对象\r\n     */\r\n    clone(): Vector2\r\n    {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n\r\n    /**\r\n     * 返回此向量的格式化字符串。\r\n     */\r\n    /**\r\n     * Returns a formatted string for this vector.\r\n     */\r\n    toString(): string\r\n    {\r\n        return `(${this.x}, ${this.y})`;\r\n    }\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(0, 0).\r\n     */\r\n    /**\r\n     * 零向量`Vector2(0, 0)`。\r\n     */\r\n    static readonly zero = Object.freeze(new Vector2());\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(1, 1).\r\n     */\r\n    /**\r\n     * 单元向量`Vector2(1, 1)`。\r\n     */\r\n    static readonly one = Object.freeze(new Vector2(1, 1));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(0, 1).\r\n     */\r\n    static readonly up = Object.freeze(new Vector2(0, 1));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(0, -1).\r\n     */\r\n    static readonly down = Object.freeze(new Vector2(0, -1));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(-1, 0).\r\n     */\r\n    static readonly left = Object.freeze(new Vector2(-1, 0));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(1, 0).\r\n     */\r\n    static readonly right = Object.freeze(new Vector2(1, 0));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(Infinity, Infinity).\r\n     */\r\n    static readonly positiveInfinity = Object.freeze(new Vector2(Infinity, Infinity));\r\n\r\n    /**\r\n     * Shorthand for writing Vector2(-Infinity, -Infinity).\r\n     */\r\n    static readonly negativeInfinity = Object.freeze(new Vector2(-Infinity, -Infinity));\r\n\r\n    /**\r\n     * 可允许误差。\r\n     */\r\n    static readonly kEpsilon = 0.00001;\r\n\r\n    /**\r\n     * 可允许误差平方。\r\n     */\r\n    static readonly kEpsilonNormalSqrt = 1e-15;\r\n\r\n    /**\r\n     * Linearly interpolates between vectors a and b by t.\r\n     *\r\n     * The parameter t is clamped to the range [0, 1].\r\n     *\r\n     * When t = 0 returns a.\r\n     * When t = 1 return b.\r\n     * When t = 0.5 returns the midpoint of a and b.\r\n     *\r\n     * @param a Start point.\r\n     * @param b End point.\r\n     * @param t Interpolated coefficient.\r\n     */\r\n    /**\r\n     * 返回起始向量`a`与终止向量`b`在`t`位置的线性插值。\r\n     *\r\n     * 参数`t`将被裁减到[0, 1]的范围内。\r\n     *\r\n     * 当 t = 0 时返回`a`.\r\n     * 当 t = 1 时返回`b`.\r\n     * 当 t = 0.5 时返回`a`与`b`的中间值.\r\n     *\r\n     * @param a 起始点。\r\n     * @param b 终止点。\r\n     * @param t 插值系数。\r\n     */\r\n    static Lerp(a: Vector2, b: Vector2, t: number)\r\n    {\r\n        t = mathUtil.clamp(t, 0, 1);\r\n\r\n        return new Vector2(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Linearly interpolates between vectors a and b by t.\r\n     *\r\n     * When t = 0 returns a.\r\n     * When t = 1 return b.\r\n     * When t = 0.5 returns the midpoint of a and b.\r\n     *\r\n     * @param a Start point.\r\n     * @param b End point.\r\n     * @param t Interpolated coefficient.\r\n     */\r\n    /**\r\n     * 返回起始向量`a`与终止向量`b`在`t`位置的线性插值。\r\n     *\r\n     * 当 t = 0 时返回`a`.\r\n     * 当 t = 1 时返回`b`.\r\n     * 当 t = 0.5 时返回`a`与`b`的中间值.\r\n     *\r\n     * @param a 起始点。\r\n     * @param b 终止点。\r\n     * @param t 插值系数。\r\n     */\r\n    static LerpUnclamped(a: Vector2, b: Vector2, t: number)\r\n    {\r\n        return new Vector2(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t\r\n        );\r\n    }\r\n\r\n    // Moves a point /current/ towards /target/.\r\n    static MoveTowards(current: Vector2, target: Vector2, maxDistanceDelta: number)\r\n    {\r\n        // avoid vector ops because current scripting backends are terrible at inlining\r\n        const toVectorX = target.x - current.x;\r\n        const toVectorY = target.y - current.y;\r\n\r\n        const sqDist = toVectorX * toVectorX + toVectorY * toVectorY;\r\n\r\n        if (sqDist === 0 || (maxDistanceDelta >= 0 && sqDist <= maxDistanceDelta * maxDistanceDelta))\r\n        {\r\n            return target;\r\n        }\r\n\r\n        const dist = Math.sqrt(sqDist);\r\n\r\n        return new Vector2(current.x + toVectorX / dist * maxDistanceDelta,\r\n            current.y + toVectorY / dist * maxDistanceDelta);\r\n    }\r\n\r\n    // Multiplies two vectors component-wise.\r\n    static Scale(a: Vector2, b: Vector2)\r\n    {\r\n        return new Vector2(a.x * b.x, a.y * b.y);\r\n    }\r\n\r\n    static Reflect(inDirection: Vector2, inNormal: Vector2)\r\n    {\r\n        const factor = -2 * Vector2.Dot(inNormal, inDirection);\r\n\r\n        return new Vector2(factor * inNormal.x + inDirection.x, factor * inNormal.y + inDirection.y);\r\n    }\r\n\r\n    static Perpendicular(inDirection: Vector2)\r\n    {\r\n        return new Vector2(-inDirection.y, inDirection.x);\r\n    }\r\n\r\n    /**\r\n     * Dot Product of two vectors.\r\n     *\r\n     * For normalized vectors Dot returns 1 if they point in exactly the same direction; -1 if they point in completely opposite directions; and a number in between for other cases (e.g. Dot returns zero if vectors are perpendicular).\r\n     *\r\n     * @param lhs The left-hand vector.\r\n     * @param rhs The right-hand vector.\r\n     * @returns Dot Product of two vectors.\r\n     */\r\n    /**\r\n     * 两个向量的点乘值。\r\n     *\r\n     * 对于归一化向量，如果它们指向完全相同的方向，则 Dot 返回 1；如果它们指向完全相反的方向则返回 -1；其他情况返回-1与1之间的数字（例如，如果向量垂直，则 Dot 返回零）。\r\n     *\r\n     * @param lhs 左侧向量。\r\n     * @param rhs 右侧向量。\r\n     * @returns 两个向量的点乘值。\r\n     */\r\n    static Dot(lhs: Vector2, rhs: Vector2)\r\n    {\r\n        return lhs.x * rhs.x + lhs.y * rhs.y;\r\n    }\r\n\r\n    /**\r\n     * Gets the unsigned angle in degrees between from and to.\r\n     *\r\n     * The angle returned is the unsigned angle between the two vectors.\r\n     * Note: The angle returned will always be between 0 and 180 degrees, because the method returns the smallest angle between the vectors. That is, it will never return a reflex angle. Angles are calculated from world origin point (0,0,0) as the vertex.\r\n     *\r\n     * @param from \tThe vector from which the angular difference is measured.\r\n     * @param to The vector to which the angular difference is measured.\r\n     * @returns The unsigned angle in degrees between the two vectors.\r\n     */\r\n    /**\r\n     * 获取从起始向量和终止向量之间的无符号角度。\r\n     *\r\n     * 返回的角度是两个向量之间的无符号角度。\r\n     * 注意：返回的角度总是在 0 到 180 度之间，因为该方法返回向量之间的最小角度。也就是说，它永远不会返回反射角。角度是从世界原点 (0,0,0) 作为顶点计算的。\r\n     *\r\n     * @param from 测量角度差的起始向量。\r\n     * @param to 测量角度差的终止向量。\r\n     * @returns 两个向量之间的无符号角度，以度为单位。\r\n     */\r\n    static Angle(from: Vector2, to: Vector2)\r\n    {\r\n        // sqrt(a) * sqrt(b) = sqrt(a * b) -- valid for real numbers\r\n        const denominator = Math.sqrt(from.sqrMagnitude * to.sqrMagnitude);\r\n        if (denominator < Vector2.kEpsilonNormalSqrt)\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        const dot = mathUtil.clamp(Vector2.Dot(from, to) / denominator, -1, 1);\r\n\r\n        return Math.acos(dot) * mathUtil.RAD2DEG;\r\n    }\r\n\r\n    static SignedAngle(from: Vector2, to: Vector2)\r\n    {\r\n        const unsignedAngle = Vector2.Angle(from, to);\r\n        const sign = Mathf.Sign(from.x * to.y - from.y * to.x);\r\n\r\n        return unsignedAngle * sign;\r\n    }\r\n\r\n    /**\r\n     * Returns the distance between a and b.\r\n     *\r\n     * @param a Start point.\r\n     * @param b End point.\r\n     * @returns The distance between a and b.\r\n     */\r\n    /**\r\n     * 返回两点的距离。\r\n     *\r\n     * @param a 起始点。\r\n     * @param b 终止点。\r\n     * @returns 两点的距离。\r\n     */\r\n    static Distance(a: Vector2, b: Vector2)\r\n    {\r\n        return a.distance(b);\r\n    }\r\n\r\n    /**\r\n     * Returns a copy of vector with its magnitude clamped to maxLength.\r\n     *\r\n     * @param vector Restricted vector.\r\n     * @param maxLength The maximum length to be restricted.\r\n     * @returns A copy of vector with its magnitude clamped to maxLength.\r\n     */\r\n    /**\r\n     * 返回其长度被限制最大值为`maxLength`的向量副本。\r\n     *\r\n     * @param vector 被限制的向量。\r\n     * @param maxLength 被限制的最大长度。\r\n     * @returns 限制后的向量副本。\r\n     */\r\n    static ClampMagnitude(vector: Vector2, maxLength: number)\r\n    {\r\n        const sqrMagnitude = vector.sqrMagnitude;\r\n        if (sqrMagnitude > maxLength * maxLength)\r\n        {\r\n            const mag = Math.sqrt(sqrMagnitude);\r\n\r\n            // these intermediate variables force the intermediate result to be\r\n            // of float precision. without this, the intermediate result can be of higher\r\n            // precision, which changes behavior.\r\n            const normalizedX = vector.x / mag;\r\n            const normalizedY = vector.y / mag;\r\n\r\n            return new Vector2(normalizedX * maxLength, normalizedY * maxLength);\r\n        }\r\n\r\n        return vector.clone();\r\n    }\r\n\r\n    // Returns a vector that is made from the smallest components of two vectors.\r\n    static Min(lhs: Vector2, rhs: Vector2)\r\n    {\r\n        return new Vector2(Mathf.Min(lhs.x, rhs.x), Mathf.Min(lhs.y, rhs.y));\r\n    }\r\n\r\n    // Returns a vector that is made from the largest components of two vectors.\r\n    static Max(lhs: Vector2, rhs: Vector2)\r\n    {\r\n        return new Vector2(Mathf.Max(lhs.x, rhs.x), Mathf.Max(lhs.y, rhs.y));\r\n    }\r\n\r\n    static SmoothDamp(current: Vector2, target: Vector2, currentVelocity: Vector2, smoothTime: number, maxSpeed: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n\r\n        return Vector2.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    static SmoothDamp1(current: Vector2, target: Vector2, currentVelocity: Vector2, smoothTime: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n        const maxSpeed = Mathf.Infinity;\r\n\r\n        return Vector2.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    static SmoothDamp2(current: Vector2, target: Vector2, currentVelocity: Vector2, smoothTime: number, maxSpeed = Mathf.Infinity, deltaTime = Time.deltaTime)\r\n    {\r\n        // Based on Game Programming Gems 4 Chapter 1.10\r\n        smoothTime = Mathf.Max(0.0001, smoothTime);\r\n        const omega = 2 / smoothTime;\r\n\r\n        const x = omega * deltaTime;\r\n        const exp = 1 / (1 + x + 0.48 * x * x + 0.235 * x * x * x);\r\n\r\n        let changeX = current.x - target.x;\r\n        let changeY = current.y - target.y;\r\n        const originalTo = target;\r\n\r\n        // Clamp maximum speed\r\n        const maxChange = maxSpeed * smoothTime;\r\n\r\n        const maxChangeSq = maxChange * maxChange;\r\n        const sqDist = changeX * changeX + changeY * changeY;\r\n        if (sqDist > maxChangeSq)\r\n        {\r\n            const mag = Mathf.Sqrt(sqDist);\r\n            changeX = changeX / mag * maxChange;\r\n            changeY = changeY / mag * maxChange;\r\n        }\r\n\r\n        target.x = current.x - changeX;\r\n        target.y = current.y - changeY;\r\n\r\n        const tempX = (currentVelocity.x + omega * changeX) * deltaTime;\r\n        const tempY = (currentVelocity.y + omega * changeY) * deltaTime;\r\n\r\n        currentVelocity.x = (currentVelocity.x - omega * tempX) * exp;\r\n        currentVelocity.y = (currentVelocity.y - omega * tempY) * exp;\r\n\r\n        let outputX = target.x + (changeX + tempX) * exp;\r\n        let outputY = target.y + (changeY + tempY) * exp;\r\n\r\n        // Prevent overshooting\r\n        const origMinusCurrentX = originalTo.x - current.x;\r\n        const origMinusCurrentY = originalTo.y - current.y;\r\n        const outMinusOrigX = outputX - originalTo.x;\r\n        const outMinusOrigY = outputY - originalTo.y;\r\n\r\n        if (origMinusCurrentX * outMinusOrigX + origMinusCurrentY * outMinusOrigY > 0)\r\n        {\r\n            outputX = originalTo.x;\r\n            outputY = originalTo.y;\r\n\r\n            currentVelocity.x = (outputX - originalTo.x) / deltaTime;\r\n            currentVelocity.y = (outputY - originalTo.y) / deltaTime;\r\n        }\r\n\r\n        return new Vector2(outputX, outputY);\r\n    }\r\n\r\n    /**\r\n     * 将一对极坐标转换为笛卡尔点坐标。\r\n     * @param len 极坐标对的长度。\r\n     * @param angle 极坐标对的角度（以弧度表示）。\r\n     */\r\n    static polar(len: number, angle: number): Vector2\r\n    {\r\n        return new Vector2(len * Math.cos(angle * mathUtil.RAD2DEG), len * Math.sin(angle * mathUtil.RAD2DEG));\r\n    }\r\n\r\n    /**\r\n     * 将另一个点的坐标添加到此点的坐标。\r\n     * @param v 要添加的点。\r\n     */\r\n    add(v: Vector2): Vector2\r\n    {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 将另一个点的坐标添加到此点的坐标以创建一个新点。\r\n     * @param v 要添加的点。\r\n     * @returns 新点。\r\n     */\r\n    addTo(v: Vector2, vout = new Vector2())\r\n    {\r\n        vout.x = this.x + v.x;\r\n        vout.y = this.y + v.y;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 从此点的坐标中减去另一个点的坐标以创建一个新点。\r\n     * @param v 要减去的点。\r\n     * @returns 新点。\r\n     */\r\n    sub(v: Vector2)\r\n    {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 减去向量返回新向量\r\n     * @param v 减去的向量\r\n     * @returns 返回的新向量\r\n     */\r\n    subTo(v: Vector2, vout = new Vector2())\r\n    {\r\n        vout.x = this.x - v.x;\r\n        vout.y = this.y - v.y;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 乘以向量\r\n     * @param v 向量\r\n     */\r\n    multiply(v: Vector2)\r\n    {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 乘以向量\r\n     * @param v 向量\r\n     * @param vout 输出向量\r\n     */\r\n    multiplyTo(v: Vector2, vout = new Vector2())\r\n    {\r\n        vout.x = this.x * v.x;\r\n        vout.y = this.y * v.y;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 除以向量\r\n     * @param v 向量\r\n     */\r\n    divide(v: Vector2)\r\n    {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 除以向量\r\n     * @param v 向量\r\n     * @param vout 输出向量\r\n     */\r\n    divideTo(v: Vector2, vout = new Vector2())\r\n    {\r\n        vout.x = this.x / v.x;\r\n        vout.y = this.y / v.y;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 将源 Vector2 对象中的所有点数据复制到调用方 Vector2 对象中。\r\n     * @param source 要从中复制数据的 Vector2 对象。\r\n     */\r\n    copy(source: Vector2)\r\n    {\r\n        this.x = source.x;\r\n        this.y = source.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 返回与目标点之间的距离。\r\n     * @param p 目标点\r\n     * @returns 与目标点之间的距离。\r\n     */\r\n    distance(p: Vector2)\r\n    {\r\n        const dx = this.x - p.x;\r\n        const dy = this.y - p.y;\r\n\r\n        return Math.sqrt((dx * dx) + (dy * dy));\r\n    }\r\n\r\n    /**\r\n     * 与目标点之间的距离平方\r\n     * @param p 目标点\r\n     */\r\n    distanceSquared(p: Vector3)\r\n    {\r\n        const dx = this.x - p.x;\r\n        const dy = this.y - p.y;\r\n\r\n        return (dx * dx) + (dy * dy);\r\n    }\r\n\r\n    /**\r\n     * 负向量\r\n     */\r\n    negate()\r\n    {\r\n        this.x *= -1;\r\n        this.y *= -1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 倒数向量。\r\n     * (x,y) -> (1/x,1/y)\r\n     */\r\n    reciprocal()\r\n    {\r\n        this.x = 1 / this.x;\r\n        this.y = 1 / this.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 倒数向量。\r\n     * (x,y) -> (1/x,1/y)\r\n     */\r\n    reciprocalTo(out = new Vector2())\r\n    {\r\n        out.copy(this).reciprocal();\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * 按标量（大小）缩放当前的 Vector3 对象。\r\n     */\r\n    scaleNumber(s: number): Vector2\r\n    {\r\n        this.x *= s;\r\n        this.y *= s;\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 按标量（大小）缩放当前的 Vector2 对象。\r\n     */\r\n    scaleNumberTo(s: number, vout = new Vector2())\r\n    {\r\n        return vout.copy(this).scaleNumber(s);\r\n    }\r\n\r\n    /**\r\n     * 缩放\r\n     * @param s 缩放量\r\n     */\r\n    scale(s: Vector2)\r\n    {\r\n        this.x *= s.x;\r\n        this.y *= s.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 缩放\r\n     * @param s 缩放量\r\n     */\r\n    scaleTo(s: Vector2, vout = new Vector2())\r\n    {\r\n        if (s === vout) s = s.clone();\r\n\r\n        return vout.copy(this).scale(s);\r\n    }\r\n\r\n    /**\r\n     * 按指定量偏移 Vector2 对象。dx 的值将添加到 x 的原始值中以创建新的 x 值。dy 的值将添加到 y 的原始值中以创建新的 y 值。\r\n     * @param dx 水平坐标 x 的偏移量。\r\n     * @param dy 水平坐标 y 的偏移量。\r\n     */\r\n    offset(dx: number, dy: number): Vector2\r\n    {\r\n        this.x += dx;\r\n        this.y += dy;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerp(p: Vector2, alpha: Vector2): Vector2\r\n    {\r\n        this.x += (p.x - this.x) * alpha.x;\r\n        this.y += (p.y - this.y) * alpha.y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回新向量\r\n     */\r\n    lerpTo(v: Vector2, alpha: Vector2, vout = new Vector2())\r\n    {\r\n        return vout.copy(this).lerp(v, alpha);\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerpNumber(v: Vector2, alpha: number)\r\n    {\r\n        this.x += (v.x - this.x) * alpha;\r\n        this.y += (v.y - this.y) * alpha;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerpNumberTo(v: Vector2, alpha: number, vout = new Vector2())\r\n    {\r\n        return vout.copy(this).lerpNumber(v, alpha);\r\n    }\r\n\r\n    /**\r\n     * 夹紧？\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    clamp(min: Vector2, max: Vector2)\r\n    {\r\n        this.x = mathUtil.clamp(this.x, min.x, max.x);\r\n        this.y = mathUtil.clamp(this.y, min.y, max.y);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 夹紧？\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    clampTo(min: Vector2, max: Vector2, vout = new Vector2())\r\n    {\r\n        return vout.copy(this).clamp(min, max);\r\n    }\r\n\r\n    /**\r\n     * 取最小元素\r\n     * @param v 向量\r\n     */\r\n    min(v: Vector2)\r\n    {\r\n        this.x = Math.min(this.x, v.x);\r\n        this.y = Math.min(this.y, v.y);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 取最大元素\r\n     * @param v 向量\r\n     */\r\n    max(v: Vector2)\r\n    {\r\n        this.x = Math.max(this.x, v.x);\r\n        this.y = Math.max(this.y, v.y);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 各分量均取最近的整数\r\n     */\r\n    round()\r\n    {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     * @returns 返回数组\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.x;\r\n        array[offset + 1] = this.y;\r\n\r\n        return array;\r\n    }\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Mathf } from '../MathF';\r\nimport { Time } from '../Time';\r\nimport { Matrix3x3 } from './Matrix3x3';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Vector } from './Vector';\r\nimport { Vector2 } from './Vector2';\r\nimport { Vector4 } from './Vector4';\r\n\r\nexport interface Vector3Like\r\n{\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n}\r\n\r\n/**\r\n * Vector3 类使用笛卡尔坐标 x、y 和 z 表示三维空间中的点或位置\r\n */\r\nexport class Vector3 implements Vector, Vector3Like\r\n{\r\n    __class__: 'feng3d.Vector3';\r\n\r\n    /**\r\n    * 定义为 Vector3 对象的 x 轴，坐标为 (1,0,0)。\r\n    */\r\n    static X_AXIS = Object.freeze(new Vector3(1, 0, 0));\r\n\r\n    /**\r\n    * 定义为 Vector3 对象的 y 轴，坐标为 (0,1,0)\r\n    */\r\n    static Y_AXIS = Object.freeze(new Vector3(0, 1, 0));\r\n\r\n    /**\r\n    * 定义为 Vector3 对象的 z 轴，坐标为 (0,0,1)\r\n    */\r\n    static Z_AXIS = Object.freeze(new Vector3(0, 0, 1));\r\n\r\n    /**\r\n     * 原点 Vector3(0,0,0)\r\n     */\r\n    static ZERO = Object.freeze(new Vector3());\r\n\r\n    /**\r\n     * Vector3(1, 1, 1)\r\n     */\r\n    static ONE = Object.freeze(new Vector3(1, 1, 1));\r\n\r\n    /**\r\n     * 从数组中初始化向量\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     * @returns 返回新向量\r\n     */\r\n    static fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        return new Vector3().fromArray(array, offset);\r\n    }\r\n\r\n    /**\r\n     * 随机三维向量\r\n     *\r\n     * @param size 尺寸\r\n     * @param double 如果值为false，随机范围在[0,size],否则[-size,size]。默认为false。\r\n     */\r\n    static random(size = 1, double = false)\r\n    {\r\n        const v = new Vector3(Math.random(), Math.random(), Math.random());\r\n\r\n        if (double) v.scaleNumber(2).subNumber(1);\r\n        v.scaleNumber(size);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 从Vector2初始化\r\n     */\r\n    static fromVector2(vector: Vector2, z = 0)\r\n    {\r\n        return new Vector3().fromVector2(vector, z);\r\n    }\r\n\r\n    /**\r\n    * Vector3 对象中的第一个元素，例如，三维空间中某个点的 x 坐标。默认值为 0\r\n    */\r\n    @serialize\r\n    @oav()\r\n    x = 0;\r\n\r\n    /**\r\n     * Vector3 对象中的第二个元素，例如，三维空间中某个点的 y 坐标。默认值为 0\r\n     */\r\n    @serialize\r\n    @oav()\r\n    y = 0;\r\n\r\n    /**\r\n     * Vector3 对象中的第三个元素，例如，三维空间中某个点的 z 坐标。默认值为 0\r\n     */\r\n    @serialize\r\n    @oav()\r\n    z = 0;\r\n\r\n    /**\r\n    * 当前 Vector3 对象的长度（大小），即从原点 (0,0,0) 到该对象的 x、y 和 z 坐标的距离。w 属性将被忽略。单位矢量具有的长度或大小为一。\r\n    */\r\n    get length(): number\r\n    {\r\n        return Math.sqrt(this.lengthSquared);\r\n    }\r\n\r\n    /**\r\n    * 当前 Vector3 对象长度的平方，它是使用 x、y 和 z 属性计算出来的。w 属性将被忽略。尽可能使用 lengthSquared() 方法，而不要使用 Vector3.length() 方法的 Math.sqrt() 方法调用，后者速度较慢。\r\n    */\r\n    get lengthSquared(): number\r\n    {\r\n        return (this.x * this.x) + (this.y * this.y) + (this.z * this.z);\r\n    }\r\n\r\n    /**\r\n     * 创建 Vector3 对象的实例。如果未指定构造函数的参数，则将使用元素 (0,0,0,0) 创建 Vector3 对象。\r\n     * @param x 第一个元素，例如 x 坐标。\r\n     * @param y 第二个元素，例如 y 坐标。\r\n     * @param z 第三个元素，例如 z 坐标。\r\n     */\r\n    constructor(x = 0, y = 0, z = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    /**\r\n     * 将 Vector3 的成员设置为指定值\r\n     */\r\n    set(x: number, y: number, z: number)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 把所有分量都设为零\r\n     */\r\n    setZero()\r\n    {\r\n        this.x = this.y = this.z = 0;\r\n    }\r\n\r\n    /**\r\n     * 从Vector2初始化\r\n     */\r\n    fromVector2(vector: Vector2, z = 0)\r\n    {\r\n        this.x = vector.x;\r\n        this.y = vector.y;\r\n        this.z = z;\r\n\r\n        return this;\r\n    }\r\n\r\n    fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        this.x = array[offset];\r\n        this.y = array[offset + 1];\r\n        this.z = array[offset + 2];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为Vector2\r\n     */\r\n    toVector2(vector = new Vector2())\r\n    {\r\n        return vector.set(this.x, this.y);\r\n    }\r\n\r\n    /**\r\n     * 加上指定向量\r\n     * @param v 加向量\r\n     */\r\n    add(v: Vector3)\r\n    {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 加上指定向量得到新向量\r\n     * @param v 加向量\r\n     * @returns 返回新向量\r\n     */\r\n    addTo(v: Vector3, vout = new Vector3())\r\n    {\r\n        vout.x = this.x + v.x;\r\n        vout.y = this.y + v.y;\r\n        vout.z = this.z + v.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 减去向量\r\n     * @param a 减去的向量\r\n     * @returns 返回新向量\r\n     */\r\n    sub(a: Vector3)\r\n    {\r\n        this.x -= a.x;\r\n        this.y -= a.y;\r\n        this.z -= a.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 减去向量返回新向量\r\n     * @param v 减去的向量\r\n     * @returns 返回的新向量\r\n     */\r\n    subTo(v: Vector3, vout = new Vector3())\r\n    {\r\n        vout.x = this.x - v.x;\r\n        vout.y = this.y - v.y;\r\n        vout.z = this.z - v.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 乘以向量\r\n     * @param v 向量\r\n     */\r\n    multiply(v: Vector3)\r\n    {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        this.z *= v.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 乘以向量\r\n     * @param v 向量\r\n     * @param vout 输出向量\r\n     */\r\n    multiplyTo(v: Vector3, vout = new Vector3())\r\n    {\r\n        vout.x = this.x * v.x;\r\n        vout.y = this.y * v.y;\r\n        vout.z = this.z * v.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 除以向量\r\n     * @param a 向量\r\n     */\r\n    divide(a: Vector3)\r\n    {\r\n        this.x /= a.x;\r\n        this.y /= a.y;\r\n        this.z /= a.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 除以向量\r\n     * @param a 向量\r\n     * @param vout 输出向量\r\n     */\r\n    divideTo(a: Vector3Like, vout = new Vector3())\r\n    {\r\n        vout.x = this.x / a.x;\r\n        vout.y = this.y / a.y;\r\n        vout.z = this.z / a.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 通过将当前 Vector3 对象的 x、y 和 z 元素与指定的 Vector3 对象的 x、y 和 z 元素进行比较，确定这两个对象是否相等。\r\n     */\r\n    equals(v: Vector3Like, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.x - v.x, 0, precision))\r\n        {\r\n            return false;\r\n        }\r\n        if (!mathUtil.equals(this.y - v.y, 0, precision))\r\n        {\r\n            return false;\r\n        }\r\n        if (!mathUtil.equals(this.z - v.z, 0, precision))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 将源 Vector3 对象中的所有矢量数据复制到调用方 Vector3 对象中。\r\n     * @returns 要从中复制数据的 Vector3 对象。\r\n     */\r\n    copy(v: Vector3Like)\r\n    {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与目标点之间的距离\r\n     * @param p 目标点\r\n     */\r\n    distance(p: Vector3Like)\r\n    {\r\n        const dx = this.x - p.x;\r\n        const dy = this.y - p.y;\r\n        const dz = this.z - p.z;\r\n\r\n        return Math.sqrt((dx * dx) + (dy * dy) + (dz * dz));\r\n    }\r\n\r\n    /**\r\n     * 与目标点之间的距离平方\r\n     * @param p 目标点\r\n     */\r\n    distanceSquared(p: Vector3Like)\r\n    {\r\n        const dx = this.x - p.x;\r\n        const dy = this.y - p.y;\r\n        const dz = this.z - p.z;\r\n\r\n        return (dx * dx) + (dy * dy) + (dz * dz);\r\n    }\r\n\r\n    /**\r\n     * 通过将最前面的三个元素（x、y、z）除以矢量的长度可将 Vector3 对象转换为单位矢量。\r\n     */\r\n    normalize(thickness = 1)\r\n    {\r\n        let length = this.lengthSquared;\r\n\r\n        if (length > 0)\r\n        {\r\n            length = Math.sqrt(length);\r\n            const invLength = thickness / length;\r\n\r\n            this.x *= invLength;\r\n            this.y *= invLength;\r\n            this.z *= invLength;\r\n        }\r\n        else\r\n        {\r\n            // Make something up\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Scale a vector and add it to this vector. Save the result in \"this\". (this = this + vector * scalar)\r\n     * @param scalar\r\n     * @param vector\r\n     */\r\n    addScaledVector(scalar: number, vector: Vector3)\r\n    {\r\n        this.x = this.x + (scalar * vector.x);\r\n        this.y = this.y + (scalar * vector.y);\r\n        this.z = this.z + (scalar * vector.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Scale a vector and add it to this vector. Save the result in \"target\". (target = this + vector * scalar)\r\n     * @param scalar\r\n     * @param vector\r\n     * @param target The vector to save the result in.\r\n     */\r\n    addScaledVectorTo(scalar: number, vector: Vector3Like, target = new Vector3())\r\n    {\r\n        target.x = this.x + (scalar * vector.x);\r\n        target.y = this.y + (scalar * vector.y);\r\n        target.z = this.z + (scalar * vector.z);\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 叉乘向量\r\n     * @param a 向量\r\n     */\r\n    cross(a: Vector3Like): Vector3\r\n    {\r\n        return this.set((this.y * a.z) - (this.z * a.y), (this.z * a.x) - (this.x * a.z), (this.x * a.y) - (this.y * a.x));\r\n    }\r\n\r\n    /**\r\n     * 叉乘向量\r\n     * @param a 向量\r\n     * @param vout 输出向量\r\n     */\r\n    crossTo(a: Vector3Like, vout = new Vector3())\r\n    {\r\n        vout.x = (this.y * a.z) - (this.z * a.y);\r\n        vout.y = (this.z * a.x) - (this.x * a.z);\r\n        vout.z = (this.x * a.y) - (this.y * a.x);\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 如果当前 Vector3 对象和作为参数指定的 Vector3 对象均为单位顶点，此方法将返回这两个顶点之间所成角的余弦值。\r\n     */\r\n    dot(a: Vector3Like)\r\n    {\r\n        return (this.x * a.x) + (this.y * a.y) + (this.z * a.z);\r\n    }\r\n\r\n    /**\r\n     * 是否为零向量\r\n     */\r\n    isZero()\r\n    {\r\n        return this.x === 0 && this.y === 0 && this.z === 0;\r\n    }\r\n\r\n    tangents(t1: Vector3, t2: Vector3)\r\n    {\r\n        const norm = this.length;\r\n        if (norm > 0.0)\r\n        {\r\n            const n = new Vector3();\r\n            const inorm = 1 / norm;\r\n            n.set(this.x * inorm, this.y * inorm, this.z * inorm);\r\n            const randVec = new Vector3();\r\n            if (Math.abs(n.x) < 0.9)\r\n            {\r\n                randVec.set(1, 0, 0);\r\n                n.crossTo(randVec, t1);\r\n            }\r\n else\r\n            {\r\n                randVec.set(0, 1, 0);\r\n                n.crossTo(randVec, t1);\r\n            }\r\n            n.crossTo(t1, t2);\r\n        }\r\n else\r\n        {\r\n            // The normal length is zero, make something up\r\n            t1.set(1, 0, 0);\r\n            t2.set(0, 1, 0);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 检查一个向量是否接近零\r\n     *\r\n     * @param precision\r\n     */\r\n    almostZero(precision = mathUtil.PRECISION)\r\n    {\r\n        if (Math.abs(this.x) > precision\r\n            || Math.abs(this.y) > precision\r\n            || Math.abs(this.z) > precision)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 检查这个向量是否与另一个向量反平行。\r\n     *\r\n     * @param v\r\n     * @param precision 设置为零以进行精确比较\r\n     */\r\n    isAntiparallelTo(v: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        const t = new Vector3();\r\n\r\n        this.negateTo(t);\r\n\r\n        return t.equals(v, precision);\r\n    }\r\n\r\n    /**\r\n     * 加上标量\r\n     * @param n 标量\r\n     */\r\n    addNumber(n: number)\r\n    {\r\n        this.x += n;\r\n        this.y += n;\r\n        this.z += n;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 增加标量\r\n     * @param n 标量\r\n     */\r\n    addNumberTo(n: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x + n;\r\n        vout.y = this.y + n;\r\n        vout.z = this.z + n;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 减去标量\r\n     * @param n 标量\r\n     */\r\n    subNumber(n: number)\r\n    {\r\n        this.x -= n;\r\n        this.y -= n;\r\n        this.z -= n;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 减去标量\r\n     * @param n 标量\r\n     */\r\n    subNumberTo(n: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x - n;\r\n        vout.y = this.y - n;\r\n        vout.z = this.z - n;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 乘以标量\r\n     * @param n 标量\r\n     */\r\n    multiplyNumber(n: number)\r\n    {\r\n        this.x *= n;\r\n        this.y *= n;\r\n        this.z *= n;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 乘以标量\r\n     * @param n 标量\r\n     * @param vout 输出向量\r\n     */\r\n    multiplyNumberTo(n: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x * n;\r\n        vout.y = this.y * n;\r\n        vout.z = this.z * n;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 除以标量\r\n     * @param n 标量\r\n     */\r\n    divideNumber(n: number)\r\n    {\r\n        this.x /= n;\r\n        this.y /= n;\r\n        this.z /= n;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 除以标量\r\n     * @param n 标量\r\n     * @param vout 输出向量\r\n     */\r\n    divideNumberTo(n: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x / n;\r\n        vout.y = this.y / n;\r\n        vout.z = this.z / n;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 返回一个新 Vector3 对象，它是与当前 Vector3 对象完全相同的副本。\r\n     * @returns 一个新 Vector3 对象，它是当前 Vector3 对象的副本。\r\n     */\r\n    clone()\r\n    {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n\r\n    /**\r\n     * 负向量\r\n     * (a,b,c)->(-a,-b,-c)\r\n     */\r\n    negate()\r\n    {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 负向量\r\n     * (a,b,c)->(-a,-b,-c)\r\n     */\r\n    negateTo(vout = new Vector3())\r\n    {\r\n        vout.x = -this.x;\r\n        vout.y = -this.y;\r\n        vout.z = -this.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 倒向量\r\n     * (a,b,c)->(1/a,1/b,1/c)\r\n     */\r\n    inverse()\r\n    {\r\n        this.x = 1 / this.x;\r\n        this.y = 1 / this.y;\r\n        this.z = 1 / this.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 倒向量\r\n     * (a,b,c)->(1/a,1/b,1/c)\r\n     */\r\n    inverseTo(vout = new Vector3())\r\n    {\r\n        vout.x = 1 / this.x;\r\n        vout.y = 1 / this.y;\r\n        vout.z = 1 / this.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 得到这个向量长度为1\r\n     */\r\n    unit(target: Vector3 = new Vector3())\r\n    {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        let ninv = (x * x) + (y * y) + (z * z);\r\n\r\n        if (ninv > 0.0)\r\n        {\r\n            ninv = Math.sqrt(ninv);\r\n\r\n            ninv = 1.0 / ninv;\r\n            target.x = x * ninv;\r\n            target.y = y * ninv;\r\n            target.z = z * ninv;\r\n        }\r\n        else\r\n        {\r\n            target.x = 1;\r\n            target.y = 0;\r\n            target.z = 0;\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 按标量（大小）缩放当前的 Vector3 对象。\r\n     */\r\n    scaleNumber(s: number)\r\n    {\r\n        this.x *= s;\r\n        this.y *= s;\r\n        this.z *= s;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 按标量（大小）缩放当前的 Vector3 对象。\r\n     */\r\n    scaleNumberTo(s: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x * s;\r\n        vout.y = this.y * s;\r\n        vout.z = this.z * s;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 缩放\r\n     * @param s 缩放量\r\n     */\r\n    scale(s: Vector3)\r\n    {\r\n        this.x *= s.x;\r\n        this.y *= s.y;\r\n        this.z *= s.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 缩放\r\n     * @param s 缩放量\r\n     */\r\n    scaleTo(s: Vector3, vout = new Vector3())\r\n    {\r\n        vout.x = this.x * s.x;\r\n        vout.y = this.y * s.y;\r\n        vout.z = this.z * s.z;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerp(v: Vector3, alpha: Vector3)\r\n    {\r\n        this.x += (v.x - this.x) * alpha.x;\r\n        this.y += (v.y - this.y) * alpha.y;\r\n        this.z += (v.z - this.z) * alpha.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerpTo(v: Vector3, alpha: Vector3, vout = new Vector3())\r\n    {\r\n        vout.x = this.x + ((v.x - this.x) * alpha.x);\r\n        vout.y = this.y + ((v.y - this.y) * alpha.y);\r\n        vout.z = this.z + ((v.z - this.z) * alpha.z);\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerpNumber(v: Vector3, alpha: number)\r\n    {\r\n        this.x += (v.x - this.x) * alpha;\r\n        this.y += (v.y - this.y) * alpha;\r\n        this.z += (v.z - this.z) * alpha;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 插值到指定向量\r\n     * @param v 目标向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerpNumberTo(v: Vector3, alpha: number, vout = new Vector3())\r\n    {\r\n        vout.x = this.x + ((v.x - this.x) * alpha);\r\n        vout.y = this.y + ((v.y - this.y) * alpha);\r\n        vout.z = this.z + ((v.z - this.z) * alpha);\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 小于指定点\r\n     * @param p 点\r\n     */\r\n    less(p: Vector3)\r\n    {\r\n        return this.x < p.x && this.y < p.y && this.z < p.z;\r\n    }\r\n\r\n    /**\r\n     * 小于等于指定点\r\n     * @param p 点\r\n     */\r\n    lessequal(p: Vector3)\r\n    {\r\n        return this.x <= p.x && this.y <= p.y && this.z <= p.z;\r\n    }\r\n\r\n    /**\r\n     * 大于指定点\r\n     * @param p 点\r\n     */\r\n    greater(p: Vector3)\r\n    {\r\n        return this.x > p.x && this.y > p.y && this.z > p.z;\r\n    }\r\n\r\n    /**\r\n     * 大于等于指定点\r\n     * @param p 点\r\n     */\r\n    greaterequal(p: Vector3)\r\n    {\r\n        return this.x >= p.x && this.y >= p.y && this.z >= p.z;\r\n    }\r\n\r\n    /**\r\n     * 夹紧？\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    clamp(min: Vector3, max: Vector3)\r\n    {\r\n        this.x = mathUtil.clamp(this.x, min.x, max.x);\r\n        this.y = mathUtil.clamp(this.y, min.y, max.y);\r\n        this.z = mathUtil.clamp(this.z, min.z, max.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 夹紧？\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    clampTo(min: Vector3, max: Vector3, vout = new Vector3())\r\n    {\r\n        return vout.copy(this).clamp(min, max);\r\n    }\r\n\r\n    /**\r\n     * 取最小元素\r\n     * @param v 向量\r\n     */\r\n    min(v: Vector3)\r\n    {\r\n        this.x = Math.min(this.x, v.x);\r\n        this.y = Math.min(this.y, v.y);\r\n        this.z = Math.min(this.z, v.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 取最大元素\r\n     * @param v 向量\r\n     */\r\n    max(v: Vector3)\r\n    {\r\n        this.x = Math.max(this.x, v.x);\r\n        this.y = Math.max(this.y, v.y);\r\n        this.z = Math.max(this.z, v.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 反射\r\n     * @param normal\r\n     */\r\n    reflect(normal: Vector3)\r\n    {\r\n        return this.sub(normal.multiplyNumberTo(2 * this.dot(normal)));\r\n    }\r\n\r\n    /**\r\n     * 向下取整\r\n     */\r\n    floor()\r\n    {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        this.z = Math.floor(this.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 向上取整\r\n     */\r\n    ceil()\r\n    {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        this.z = Math.ceil(this.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 四舍五入\r\n     */\r\n    round()\r\n    {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        this.z = Math.round(this.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 向0取整\r\n     */\r\n    roundToZero()\r\n    {\r\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\r\n        this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与指定向量是否平行\r\n     * @param v 向量\r\n     */\r\n    isParallel(v: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        return mathUtil.equals(this.crossTo(v).lengthSquared, 0, precision);\r\n    }\r\n\r\n    /**\r\n     * 从向量中得到叉乘矩阵a_cross，使得a x b = a_cross * b = c\r\n     * @see http://www8.cs.umu.se/kurser/TDBD24/VT06/lectures/Lecture6.pdf\r\n     */\r\n    crossmat(this: Vector3, outMatrix: Matrix3x3)\r\n    {\r\n        outMatrix.set([0, -this.z, this.y,\r\n            this.z, 0, -this.x,\r\n            -this.y, this.x, 0]);\r\n\r\n        return outMatrix;\r\n    }\r\n\r\n    /**\r\n     * 应用四元素\r\n     * @param q 四元素\r\n     */\r\n    applyQuaternion(q: Quaternion)\r\n    {\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const qx = q.x;\r\n        const qy = q.y;\r\n        const qz = q.z;\r\n        const qw = q.w;\r\n\r\n        // calculate quat * vector\r\n\r\n        const ix = (qw * x) + (qy * z) - (qz * y);\r\n        const iy = (qw * y) + (qz * x) - (qx * z);\r\n        const iz = (qw * z) + (qx * y) - (qy * x);\r\n        const iw = -(qx * x) - (qy * y) - (qz * z);\r\n\r\n        // calculate result * inverse quat\r\n\r\n        this.x = (ix * qw) + (iw * -qx) + (iy * -qz) - (iz * -qy);\r\n        this.y = (iy * qw) + (iw * -qy) + (iz * -qx) - (ix * -qz);\r\n        this.z = (iz * qw) + (iw * -qz) + (ix * -qy) - (iy * -qx);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param mat 矩阵\r\n     */\r\n    applyMatrix4x4(mat: Matrix4x4)\r\n    {\r\n        mat.transformPoint3(this, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 返回当前 Vector3 对象的字符串表示形式。\r\n     */\r\n    toString(): string\r\n    {\r\n        return `<${this.x}, ${this.y}, ${this.z}>`;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     * @returns 返回数组\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.x;\r\n        array[offset + 1] = this.y;\r\n        array[offset + 2] = this.z;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 转换为Vector4\r\n     */\r\n    toVector4(vector4: Vector4)\r\n    {\r\n        vector4.x = this.x;\r\n        vector4.y = this.y;\r\n        vector4.z = this.z;\r\n\r\n        return vector4;\r\n    }\r\n\r\n    // *Undocumented*\r\n    static readonly kEpsilon = 0.00001;\r\n    // *Undocumented*\r\n    static readonly kEpsilonNormalSqrt = 1e-15;\r\n\r\n    // Linearly interpolates between two vectors.\r\n    static Lerp(a: Vector3, b: Vector3, t: number)\r\n    {\r\n        t = Mathf.Clamp01(t);\r\n\r\n        return new Vector3(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t,\r\n            a.z + (b.z - a.z) * t\r\n        );\r\n    }\r\n\r\n    // Linearly interpolates between two vectors without clamping the interpolant\r\n    static LerpUnclamped(a: Vector3, b: Vector3, t: number)\r\n    {\r\n        return new Vector3(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t,\r\n            a.z + (b.z - a.z) * t\r\n        );\r\n    }\r\n\r\n    // Moves a point /current/ in a straight line towards a /target/ point.\r\n    static MoveTowards(current: Vector3, target: Vector3, maxDistanceDelta: number)\r\n    {\r\n        // avoid vector ops because current scripting backends are terrible at inlining\r\n        const toVectorX = target.x - current.x;\r\n        const toVectorY = target.y - current.y;\r\n        const toVectorZ = target.z - current.z;\r\n\r\n        const sqdist = toVectorX * toVectorX + toVectorY * toVectorY + toVectorZ * toVectorZ;\r\n\r\n        if (sqdist === 0 || (maxDistanceDelta >= 0 && sqdist <= maxDistanceDelta * maxDistanceDelta))\r\n        {\r\n            return target;\r\n        }\r\n        const dist = Math.sqrt(sqdist);\r\n\r\n        return new Vector3(current.x + toVectorX / dist * maxDistanceDelta,\r\n            current.y + toVectorY / dist * maxDistanceDelta,\r\n            current.z + toVectorZ / dist * maxDistanceDelta);\r\n    }\r\n\r\n    static SmoothDamp(current: Vector3, target: Vector3, currentVelocity: Vector3, smoothTime: number, maxSpeed: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n\r\n        return Vector3.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    static SmoothDamp1(current: Vector3, target: Vector3, currentVelocity: Vector3, smoothTime: number)\r\n    {\r\n        const deltaTime = Time.deltaTime;\r\n        const maxSpeed = Mathf.Infinity;\r\n\r\n        return Vector3.SmoothDamp2(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime);\r\n    }\r\n\r\n    // Gradually changes a vector towards a desired goal over time.\r\n    static SmoothDamp2(current: Vector3, target: Vector3, currentVelocity: Vector3, smoothTime: number, maxSpeed = Mathf.Infinity, deltaTime = Time.deltaTime)\r\n    {\r\n        let outputX = 0;\r\n        let outputY = 0;\r\n        let outputZ = 0;\r\n\r\n        // Based on Game Programming Gems 4 Chapter 1.10\r\n        smoothTime = Mathf.Max(0.0001, smoothTime);\r\n        const omega = 2 / smoothTime;\r\n\r\n        const x = omega * deltaTime;\r\n        const exp = 1 / (1 + x + 0.48 * x * x + 0.235 * x * x * x);\r\n\r\n        let changeX = current.x - target.x;\r\n        let changeY = current.y - target.y;\r\n        let changeZ = current.z - target.z;\r\n        const originalTo = target;\r\n\r\n        // Clamp maximum speed\r\n        const maxChange = maxSpeed * smoothTime;\r\n\r\n        const maxChangeSq = maxChange * maxChange;\r\n        const sqrmag = changeX * changeX + changeY * changeY + changeZ * changeZ;\r\n        if (sqrmag > maxChangeSq)\r\n        {\r\n            const mag = Math.sqrt(sqrmag);\r\n            changeX = changeX / mag * maxChange;\r\n            changeY = changeY / mag * maxChange;\r\n            changeZ = changeZ / mag * maxChange;\r\n        }\r\n\r\n        target.x = current.x - changeX;\r\n        target.y = current.y - changeY;\r\n        target.z = current.z - changeZ;\r\n\r\n        const tempX = (currentVelocity.x + omega * changeX) * deltaTime;\r\n        const tempY = (currentVelocity.y + omega * changeY) * deltaTime;\r\n        const tempZ = (currentVelocity.z + omega * changeZ) * deltaTime;\r\n\r\n        currentVelocity.x = (currentVelocity.x - omega * tempX) * exp;\r\n        currentVelocity.y = (currentVelocity.y - omega * tempY) * exp;\r\n        currentVelocity.z = (currentVelocity.z - omega * tempZ) * exp;\r\n\r\n        outputX = target.x + (changeX + tempX) * exp;\r\n        outputY = target.y + (changeY + tempY) * exp;\r\n        outputZ = target.z + (changeZ + tempZ) * exp;\r\n\r\n        // Prevent overshooting\r\n        const origMinusCurrentX = originalTo.x - current.x;\r\n        const origMinusCurrentY = originalTo.y - current.y;\r\n        const origMinusCurrentZ = originalTo.z - current.z;\r\n        const outMinusOrigX = outputX - originalTo.x;\r\n        const outMinusOrigY = outputY - originalTo.y;\r\n        const outMinusOrigZ = outputZ - originalTo.z;\r\n\r\n        if (origMinusCurrentX * outMinusOrigX + origMinusCurrentY * outMinusOrigY + origMinusCurrentZ * outMinusOrigZ > 0)\r\n        {\r\n            outputX = originalTo.x;\r\n            outputY = originalTo.y;\r\n            outputZ = originalTo.z;\r\n\r\n            currentVelocity.x = (outputX - originalTo.x) / deltaTime;\r\n            currentVelocity.y = (outputY - originalTo.y) / deltaTime;\r\n            currentVelocity.z = (outputZ - originalTo.z) / deltaTime;\r\n        }\r\n\r\n        return new Vector3(outputX, outputY, outputZ);\r\n    }\r\n\r\n    // Multiplies two vectors component-wise.\r\n    static Scale(a: Vector3, b: Vector3)\r\n    {\r\n        return new Vector3(a.x * b.x, a.y * b.y, a.z * b.z);\r\n    }\r\n\r\n    // Cross Product of two vectors.\r\n    static Cross(lhs: Vector3, rhs: Vector3)\r\n    {\r\n        return new Vector3(\r\n            lhs.y * rhs.z - lhs.z * rhs.y,\r\n            lhs.z * rhs.x - lhs.x * rhs.z,\r\n            lhs.x * rhs.y - lhs.y * rhs.x);\r\n    }\r\n\r\n    // Reflects a vector off the plane defined by a normal.\r\n    static Reflect(inDirection: Vector3, inNormal: Vector3)\r\n    {\r\n        const factor = -2 * Vector3.Dot(inNormal, inDirection);\r\n\r\n        return new Vector3(factor * inNormal.x + inDirection.x,\r\n            factor * inNormal.y + inDirection.y,\r\n            factor * inNormal.z + inDirection.z);\r\n    }\r\n\r\n    // *undoc* --- we have normalized property now\r\n    static Normalize(value: Vector3)\r\n    {\r\n        const mag = Vector3.Magnitude(value);\r\n        if (mag > Vector3.kEpsilon)\r\n        {\r\n            return new Vector3(value.x / mag, value.y / mag, value.z / mag);\r\n        }\r\n\r\n        return Vector3.zero.clone();\r\n    }\r\n\r\n    // Makes this vector have a ::ref::magnitude of 1.\r\n    Normalize()\r\n    {\r\n        const mag = Vector3.Magnitude(this);\r\n        if (mag > Vector3.kEpsilon)\r\n        {\r\n            this.x = this.x / mag;\r\n            this.y = this.y / mag;\r\n            this.z = this.z / mag;\r\n        }\r\n        else\r\n        {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n        }\r\n    }\r\n\r\n    // Returns this vector with a ::ref::magnitude of 1 (RO).\r\n    get normalized()\r\n    {\r\n        return Vector3.Normalize(this);\r\n    }\r\n\r\n    // Dot Product of two vectors.\r\n    static Dot(lhs: Vector3, rhs: Vector3)\r\n    {\r\n        return lhs.x * rhs.x + lhs.y * rhs.y + lhs.z * rhs.z;\r\n    }\r\n\r\n    // Projects a vector onto another vector.\r\n    static Project(vector: Vector3, onNormal: Vector3)\r\n    {\r\n        const sqrMag = Vector3.Dot(onNormal, onNormal);\r\n        if (sqrMag < Mathf.Epsilon)\r\n        {\r\n            return Vector3.zero;\r\n        }\r\n        const dot = Vector3.Dot(vector, onNormal);\r\n\r\n        return new Vector3(onNormal.x * dot / sqrMag,\r\n            onNormal.y * dot / sqrMag,\r\n            onNormal.z * dot / sqrMag);\r\n    }\r\n\r\n    // Projects a vector onto a plane defined by a normal orthogonal to the plane.\r\n    static ProjectOnPlane(vector: Vector3, planeNormal: Vector3)\r\n    {\r\n        const sqrMag = Vector3.Dot(planeNormal, planeNormal);\r\n        if (sqrMag < Mathf.Epsilon)\r\n        {\r\n            return vector;\r\n        }\r\n        const dot = Vector3.Dot(vector, planeNormal);\r\n\r\n        return new Vector3(vector.x - planeNormal.x * dot / sqrMag,\r\n            vector.y - planeNormal.y * dot / sqrMag,\r\n            vector.z - planeNormal.z * dot / sqrMag);\r\n    }\r\n\r\n    // Returns the angle in degrees between /from/ and /to/. This is always the smallest\r\n    static Angle(from: Vector3, to: Vector3)\r\n    {\r\n        // sqrt(a) * sqrt(b) = sqrt(a * b) -- valid for real numbers\r\n        const denominator = Math.sqrt(from.sqrMagnitude * to.sqrMagnitude);\r\n        if (denominator < Vector3.kEpsilonNormalSqrt)\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        const dot = Mathf.Clamp(Vector3.Dot(from, to) / denominator, -1, 1);\r\n\r\n        return (Math.acos(dot)) * Mathf.Rad2Deg;\r\n    }\r\n\r\n    // The smaller of the two possible angles between the two vectors is returned, therefore the result will never be greater than 180 degrees or smaller than -180 degrees.\r\n    // If you imagine the from and to vectors as lines on a piece of paper, both originating from the same point, then the /axis/ vector would point up out of the paper.\r\n    // The measured angle between the two vectors would be positive in a clockwise direction and negative in an anti-clockwise direction.\r\n    static SignedAngle(from: Vector3, to: Vector3, axis: Vector3)\r\n    {\r\n        const unsignedAngle = Vector3.Angle(from, to);\r\n\r\n        const crossX = from.y * to.z - from.z * to.y;\r\n        const crossY = from.z * to.x - from.x * to.z;\r\n        const crossZ = from.x * to.y - from.y * to.x;\r\n        const sign = Mathf.Sign(axis.x * crossX + axis.y * crossY + axis.z * crossZ);\r\n\r\n        return unsignedAngle * sign;\r\n    }\r\n\r\n    // Returns the distance between /a/ and /b/.\r\n    static Distance(a: Vector3, b: Vector3)\r\n    {\r\n        const diffX = a.x - b.x;\r\n        const diffY = a.y - b.y;\r\n        const diffZ = a.z - b.z;\r\n\r\n        return Math.sqrt(diffX * diffX + diffY * diffY + diffZ * diffZ);\r\n    }\r\n\r\n    // Returns a copy of /vector/ with its magnitude clamped to /maxLength/.\r\n    static ClampMagnitude(vector: Vector3, maxLength: number)\r\n    {\r\n        const sqrmag = vector.sqrMagnitude;\r\n        if (sqrmag > maxLength * maxLength)\r\n        {\r\n            const mag = Math.sqrt(sqrmag);\r\n            // these intermediate variables force the intermediate result to be\r\n            // of float precision. without this, the intermediate result can be of higher\r\n            // precision, which changes behavior.\r\n            const normalizedX = vector.x / mag;\r\n            const normalizedY = vector.y / mag;\r\n            const normalizedZ = vector.z / mag;\r\n\r\n            return new Vector3(normalizedX * maxLength, normalizedY * maxLength, normalizedZ * maxLength);\r\n        }\r\n\r\n        return vector;\r\n    }\r\n\r\n    // *undoc* --- there's a property now\r\n    static Magnitude(vector: Vector3)\r\n    {\r\n        return Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);\r\n    }\r\n\r\n    // Returns the length of this vector (RO).\r\n    get magnitude()\r\n    {\r\n        const { x, y, z } = this;\r\n\r\n        return Math.sqrt(x * x + y * y + z * z);\r\n    }\r\n\r\n    // *undoc* --- there's a property now\r\n    static SqrMagnitude(vector: Vector3)\r\n    {\r\n        return vector.x * vector.x + vector.y * vector.y + vector.z * vector.z;\r\n    }\r\n\r\n    // Returns the squared length of this vector (RO).\r\n    get sqrMagnitude()\r\n    {\r\n        const { x, y, z } = this;\r\n\r\n        return x * x + y * y + z * z;\r\n    }\r\n\r\n    // Returns a vector that is made from the smallest components of two vectors.\r\n    static Min(lhs: Vector3, rhs: Vector3)\r\n    {\r\n        return new Vector3(Mathf.Min(lhs.x, rhs.x), Mathf.Min(lhs.y, rhs.y), Mathf.Min(lhs.z, rhs.z));\r\n    }\r\n\r\n    // Returns a vector that is made from the largest components of two vectors.\r\n    static Max(lhs: Vector3, rhs: Vector3)\r\n    {\r\n        return new Vector3(Mathf.Max(lhs.x, rhs.x), Mathf.Max(lhs.y, rhs.y), Mathf.Max(lhs.z, rhs.z));\r\n    }\r\n\r\n    static readonly zero = Object.freeze(new Vector3(0, 0, 0));\r\n    static readonly one = Object.freeze(new Vector3(1, 1, 1));\r\n    static readonly up = Object.freeze(new Vector3(0, 1, 0));\r\n    static readonly down = Object.freeze(new Vector3(0, -1, 0));\r\n    static readonly left = Object.freeze(new Vector3(-1, 0, 0));\r\n    static readonly right = Object.freeze(new Vector3(1, 0, 0));\r\n    static readonly forward = Object.freeze(new Vector3(0, 0, 1));\r\n    static readonly back = Object.freeze(new Vector3(0, 0, -1));\r\n    static readonly positiveInfinity = Object.freeze(new Vector3(Infinity, Infinity, Infinity));\r\n    static readonly negativeInfinity = Object.freeze(new Vector3(-Infinity, -Infinity, -Infinity));\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport type { Color4 } from './Color4';\r\nimport { Vector3 } from './geom/Vector3';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsColor3\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface Color3 extends MixinsColor3 { }\r\n\r\n/**\r\n * 颜色\r\n */\r\nexport class Color3\r\n{\r\n    __class__: 'feng3d.Color3';\r\n\r\n    static WHITE = new Color3();\r\n    static BLACK = new Color3(0, 0, 0);\r\n\r\n    static fromUnit(color: number)\r\n    {\r\n        return new Color3().fromUnit(color);\r\n    }\r\n\r\n    static fromColor4(color4: Color4)\r\n    {\r\n        return new Color3(color4.r, color4.g, color4.b);\r\n    }\r\n\r\n    /**\r\n     * 红[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    r = 1;\r\n\r\n    /**\r\n     * 绿[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    g = 1;\r\n\r\n    /**\r\n     * 蓝[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    b = 1;\r\n\r\n    /**\r\n     * 构建颜色\r\n     * @param r 红[0,1]\r\n     * @param g 绿[0,1]\r\n     * @param b 蓝[0,1]\r\n     */\r\n    constructor(r = 1, g = 1, b = 1)\r\n    {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n\r\n    setTo(r: number, g: number, b: number)\r\n    {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过\r\n     * @param color\r\n     */\r\n    fromUnit(color: number)\r\n    {\r\n        this.r = ((color >> 16) & 0xff) / 0xff;\r\n        this.g = ((color >> 8) & 0xff) / 0xff;\r\n        this.b = (color & 0xff) / 0xff;\r\n\r\n        return this;\r\n    }\r\n\r\n    toInt()\r\n    {\r\n        const value = ((this.r * 0xff) << 16) + ((this.g * 0xff) << 8) + (this.b * 0xff);\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 输出16进制字符串\r\n     */\r\n    toHexString(): string\r\n    {\r\n        const intR = (this.r * 0xff) | 0;\r\n        const intG = (this.g * 0xff) | 0;\r\n        const intB = (this.b * 0xff) | 0;\r\n\r\n        return `#${Color3.ToHex(intR)}${Color3.ToHex(intG)}${Color3.ToHex(intB)}`;\r\n    }\r\n\r\n    /**\r\n     * 混合颜色\r\n     * @param color 混入的颜色\r\n     * @param rate 混入比例\r\n     */\r\n    mix(color: Color3, rate: number)\r\n    {\r\n        this.r = this.r * (1 - rate) + color.r * rate;\r\n        this.g = this.g * (1 - rate) + color.g * rate;\r\n        this.b = this.b * (1 - rate) + color.b * rate;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 混合颜色\r\n     * @param color 混入的颜色\r\n     * @param rate 混入比例\r\n     */\r\n    mixTo(color: Color3, rate: number, vout = new Color3())\r\n    {\r\n        return vout.copy(this).mix(color, rate);\r\n    }\r\n\r\n    /**\r\n     * 按标量（大小）缩放当前的 Color3 对象。\r\n     */\r\n    scale(s: number)\r\n    {\r\n        this.r *= s;\r\n        this.g *= s;\r\n        this.b *= s;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 按标量（大小）缩放当前的 Color3 对象。\r\n     */\r\n    scaleTo(s: number, vout = new Color3())\r\n    {\r\n        return vout.copy(this).scale(s);\r\n    }\r\n\r\n    /**\r\n     * 通过将当前 Color3 对象的 r、g 和 b 元素与指定的 Color3 对象的 r、g 和 b 元素进行比较，确定这两个对象是否相等。\r\n     */\r\n    equals(object: Color3, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.r - object.r, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.g - object.g, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.b - object.b, 0, precision))\r\n        { return false; }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     */\r\n    copy(color: Color3)\r\n    {\r\n        this.r = color.r;\r\n        this.g = color.g;\r\n        this.b = color.b;\r\n\r\n        return this;\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return new Color3(this.r, this.g, this.b);\r\n    }\r\n\r\n    toVector3(vector3 = new Vector3())\r\n    {\r\n        vector3.x = this.r;\r\n        vector3.y = this.g;\r\n        vector3.z = this.b;\r\n\r\n        return vector3;\r\n    }\r\n\r\n    /**\r\n     * 输出字符串\r\n     */\r\n    toString(): string\r\n    {\r\n        return `{R: ${this.r} G:${this.g} B:${this.b}}`;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.r;\r\n        array[offset + 1] = this.g;\r\n        array[offset + 2] = this.b;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * [0,15]数值转为16进制字符串\r\n     * param i  [0,15]数值\r\n     */\r\n    static ToHex(i: number): string\r\n    {\r\n        const str = i.toString(16);\r\n\r\n        if (i <= 0xf)\r\n        {\r\n            return (`0${str}`).toUpperCase();\r\n        }\r\n\r\n        return str.toUpperCase();\r\n    }\r\n}\r\n\r\nexport const ColorKeywords = {\r\n    aliceblue: 0xF0F8FF, antiquewhite: 0xFAEBD7, aqua: 0x00FFFF, aquamarine: 0x7FFFD4, azure: 0xF0FFFF,\r\n    beige: 0xF5F5DC, bisque: 0xFFE4C4, black: 0x000000, blanchedalmond: 0xFFEBCD, blue: 0x0000FF, blueviolet: 0x8A2BE2,\r\n    brown: 0xA52A2A, burlywood: 0xDEB887, cadetblue: 0x5F9EA0, chartreuse: 0x7FFF00, chocolate: 0xD2691E, coral: 0xFF7F50,\r\n    cornflowerblue: 0x6495ED, cornsilk: 0xFFF8DC, crimson: 0xDC143C, cyan: 0x00FFFF, darkblue: 0x00008B, darkcyan: 0x008B8B,\r\n    darkgoldenrod: 0xB8860B, darkgray: 0xA9A9A9, darkgreen: 0x006400, darkgrey: 0xA9A9A9, darkkhaki: 0xBDB76B, darkmagenta: 0x8B008B,\r\n    darkolivegreen: 0x556B2F, darkorange: 0xFF8C00, darkorchid: 0x9932CC, darkred: 0x8B0000, darksalmon: 0xE9967A, darkseagreen: 0x8FBC8F,\r\n    darkslateblue: 0x483D8B, darkslategray: 0x2F4F4F, darkslategrey: 0x2F4F4F, darkturquoise: 0x00CED1, darkviolet: 0x9400D3,\r\n    deeppink: 0xFF1493, deepskyblue: 0x00BFFF, dimgray: 0x696969, dimgrey: 0x696969, dodgerblue: 0x1E90FF, firebrick: 0xB22222,\r\n    floralwhite: 0xFFFAF0, forestgreen: 0x228B22, fuchsia: 0xFF00FF, gainsboro: 0xDCDCDC, ghostwhite: 0xF8F8FF, gold: 0xFFD700,\r\n    goldenrod: 0xDAA520, gray: 0x808080, green: 0x008000, greenyellow: 0xADFF2F, grey: 0x808080, honeydew: 0xF0FFF0, hotpink: 0xFF69B4,\r\n    indianred: 0xCD5C5C, indigo: 0x4B0082, ivory: 0xFFFFF0, khaki: 0xF0E68C, lavender: 0xE6E6FA, lavenderblush: 0xFFF0F5, lawngreen: 0x7CFC00,\r\n    lemonchiffon: 0xFFFACD, lightblue: 0xADD8E6, lightcoral: 0xF08080, lightcyan: 0xE0FFFF, lightgoldenrodyellow: 0xFAFAD2, lightgray: 0xD3D3D3,\r\n    lightgreen: 0x90EE90, lightgrey: 0xD3D3D3, lightpink: 0xFFB6C1, lightsalmon: 0xFFA07A, lightseagreen: 0x20B2AA, lightskyblue: 0x87CEFA,\r\n    lightslategray: 0x778899, lightslategrey: 0x778899, lightsteelblue: 0xB0C4DE, lightyellow: 0xFFFFE0, lime: 0x00FF00, limegreen: 0x32CD32,\r\n    linen: 0xFAF0E6, magenta: 0xFF00FF, maroon: 0x800000, mediumaquamarine: 0x66CDAA, mediumblue: 0x0000CD, mediumorchid: 0xBA55D3,\r\n    mediumpurple: 0x9370DB, mediumseagreen: 0x3CB371, mediumslateblue: 0x7B68EE, mediumspringgreen: 0x00FA9A, mediumturquoise: 0x48D1CC,\r\n    mediumvioletred: 0xC71585, midnightblue: 0x191970, mintcream: 0xF5FFFA, mistyrose: 0xFFE4E1, moccasin: 0xFFE4B5, navajowhite: 0xFFDEAD,\r\n    navy: 0x000080, oldlace: 0xFDF5E6, olive: 0x808000, olivedrab: 0x6B8E23, orange: 0xFFA500, orangered: 0xFF4500, orchid: 0xDA70D6,\r\n    palegoldenrod: 0xEEE8AA, palegreen: 0x98FB98, paleturquoise: 0xAFEEEE, palevioletred: 0xDB7093, papayawhip: 0xFFEFD5, peachpuff: 0xFFDAB9,\r\n    peru: 0xCD853F, pink: 0xFFC0CB, plum: 0xDDA0DD, powderblue: 0xB0E0E6, purple: 0x800080, rebeccapurple: 0x663399, red: 0xFF0000, rosybrown: 0xBC8F8F,\r\n    royalblue: 0x4169E1, saddlebrown: 0x8B4513, salmon: 0xFA8072, sandybrown: 0xF4A460, seagreen: 0x2E8B57, seashell: 0xFFF5EE,\r\n    sienna: 0xA0522D, silver: 0xC0C0C0, skyblue: 0x87CEEB, slateblue: 0x6A5ACD, slategray: 0x708090, slategrey: 0x708090, snow: 0xFFFAFA,\r\n    springgreen: 0x00FF7F, steelblue: 0x4682B4, tan: 0xD2B48C, teal: 0x008080, thistle: 0xD8BFD8, tomato: 0xFF6347, turquoise: 0x40E0D0,\r\n    violet: 0xEE82EE, wheat: 0xF5DEB3, white: 0xFFFFFF, whitesmoke: 0xF5F5F5, yellow: 0xFFFF00, yellowgreen: 0x9ACD32\r\n};\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Mathf } from '../MathF';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 四维向量\r\n */\r\nexport class Vector4\r\n{\r\n    __class__: 'feng3d.Vector4';\r\n\r\n    static fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        return new Vector4().fromArray(array, offset);\r\n    }\r\n\r\n    static fromVector3(vector3: Vector3, w = 0)\r\n    {\r\n        return new Vector4().fromVector3(vector3, w);\r\n    }\r\n\r\n    static random()\r\n    {\r\n        return new Vector4(Math.random(), Math.random(), Math.random(), Math.random());\r\n    }\r\n\r\n    /**\r\n    * Vector4 对象中的第一个元素。默认值为 0\r\n    */\r\n    @serialize\r\n    @oav()\r\n    x = 0;\r\n\r\n    /**\r\n     * Vector4 对象中的第二个元素。默认值为 0\r\n     */\r\n    @serialize\r\n    @oav()\r\n    y = 0;\r\n\r\n    /**\r\n     * Vector4 对象中的第三个元素。默认值为 0\r\n     */\r\n    @serialize\r\n    @oav()\r\n    z = 0;\r\n\r\n    /**\r\n     * Vector4 对象的第四个元素。默认值为 0\r\n     */\r\n    @serialize\r\n    @oav()\r\n    w = 0;\r\n\r\n    /**\r\n     * 创建 Vector4 对象的实例。如果未指定构造函数的参数，则将使用元素 (0,0,0,0) 创建 Vector4 对象。\r\n     * @param x 第一个元素\r\n     * @param y 第二个元素\r\n     * @param z 第三个元素\r\n     * @param w 第四个元素\r\n     */\r\n    constructor(x = 0, y = 0, z = 0, w = 0)\r\n    {\r\n        this.set(x, y, z, w);\r\n    }\r\n\r\n    /**\r\n     * 初始化向量\r\n     * @param x 第一个元素\r\n     * @param y 第二个元素\r\n     * @param z 第三个元素\r\n     * @param w 第四个元素\r\n     * @returns 返回自身\r\n     */\r\n    set(x: number, y: number, z = 0, w = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从数组初始化\r\n     * @param array 提供数据的数组\r\n     * @param offset 数组中起始位置\r\n     * @returns 返回自身\r\n     */\r\n    fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        this.x = array[offset];\r\n        this.y = array[offset + 1];\r\n        this.z = array[offset + 2];\r\n        this.w = array[offset + 3];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从三维向量初始化\r\n     * @param vector3 三维向量\r\n     * @param w 向量第四个值\r\n     * @returns 返回自身\r\n     */\r\n    fromVector3(vector3: Vector3, w = 0)\r\n    {\r\n        this.x = vector3.x;\r\n        this.y = vector3.y;\r\n        this.z = vector3.z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为三维向量\r\n     * @param v3 三维向量\r\n     */\r\n    toVector3(v3 = new Vector3())\r\n    {\r\n        v3.set(this.x, this.y, this.z);\r\n\r\n        return v3;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.x;\r\n        array[offset + 1] = this.y;\r\n        array[offset + 2] = this.z;\r\n        array[offset + 3] = this.w;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 加上指定向量得到新向量\r\n     * @param v 加向量\r\n     * @returns 返回新向量\r\n     */\r\n    add(v: Vector4)\r\n    {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        this.w += v.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 加上指定向量得到新向量\r\n     * @param v 加向量\r\n     * @returns 返回新向量\r\n     */\r\n    addTo(v: Vector4, vout = new Vector4())\r\n    {\r\n        return vout.copy(this).add(v);\r\n    }\r\n\r\n    /**\r\n     * 克隆一个向量\r\n     * @returns 返回一个拷贝向量\r\n     */\r\n    clone()\r\n    {\r\n        return new Vector4(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    /**\r\n     * 从指定向量拷贝数据\r\n     * @param v 被拷贝向量\r\n     * @returns 返回自身\r\n     */\r\n    copy(v: Vector4)\r\n    {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n        this.w = v.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 减去指定向量\r\n     * @param v 减去的向量\r\n     * @returns 返回自身\r\n     */\r\n    sub(v: Vector4)\r\n    {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        this.z -= v.z;\r\n        this.w -= v.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 减去指定向量\r\n     * @param v 减去的向量\r\n     * @returns 返回新向量\r\n     */\r\n    subTo(v: Vector4, vout = new Vector4())\r\n    {\r\n        return vout.copy(this).sub(v);\r\n    }\r\n\r\n    /**\r\n     * 乘以指定向量\r\n     * @param v 乘以的向量\r\n     * @returns 返回自身\r\n     */\r\n    multiply(v: Vector4)\r\n    {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        this.z *= v.z;\r\n        this.w *= v.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 乘以指定向量\r\n     * @param v 乘以的向量\r\n     * @returns 返回新向量\r\n     */\r\n    multiplyTo(v: Vector4, vout = new Vector4())\r\n    {\r\n        return vout.copy(this).multiply(v);\r\n    }\r\n\r\n    /**\r\n     * 除以指定向量\r\n     * @param v 除以的向量\r\n     * @returns 返回自身\r\n     */\r\n    div(v: Vector4)\r\n    {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        this.z /= v.z;\r\n        this.w /= v.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 除以指定向量\r\n     * @param v 除以的向量\r\n     * @returns 返回新向量\r\n     */\r\n    divTo(v: Vector4, vout = new Vector4())\r\n    {\r\n        return vout.copy(this).div(v);\r\n    }\r\n\r\n    /**\r\n     * 与指定向量比较是否相等\r\n     * @param v 比较的向量\r\n     * @param precision 允许误差\r\n     * @returns 相等返回true，否则false\r\n     */\r\n    equals(v: Vector4, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.x - v.x, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.y - v.y, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.z - v.z, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.w - v.w, 0, precision))\r\n        { return false; }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 负向量\r\n     * @returns 返回自身\r\n     */\r\n    negate()\r\n    {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n        this.w = -this.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 负向量\r\n     * @returns 返回新向量\r\n     */\r\n    negateTo(vout = new Vector4())\r\n    {\r\n        return vout.copy(this).negate();\r\n    }\r\n\r\n    /**\r\n     * 缩放指定系数\r\n     * @param s 缩放系数\r\n     * @returns 返回自身\r\n     */\r\n    scale(s: number)\r\n    {\r\n        this.x *= s;\r\n        this.y *= s;\r\n        this.z *= s;\r\n        this.w *= s;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 缩放指定系数\r\n     * @param s 缩放系数\r\n     * @returns 返回新向量\r\n     */\r\n    scaleTo(s: number)\r\n    {\r\n        return this.clone().scale(s);\r\n    }\r\n\r\n    /**\r\n     * 如果当前 Vector4 对象和作为参数指定的 Vector4 对象均为单位顶点，此方法将返回这两个顶点之间所成角的余弦值。\r\n     */\r\n    dot(a: Vector4)\r\n    {\r\n        return (this.x * a.x) + (this.y * a.y) + (this.z * a.z) + (this.w * a.w);\r\n    }\r\n\r\n    /**\r\n     * 获取到指定向量的插值\r\n     * @param v 终点插值向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回自身\r\n     */\r\n    lerp(v: Vector4, alpha: number)\r\n    {\r\n        this.x += (v.x - this.x) * alpha;\r\n        this.y += (v.y - this.y) * alpha;\r\n        this.z += (v.z - this.z) * alpha;\r\n        this.w += (v.w - this.w) * alpha;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取到指定向量的插值\r\n     * @param v 终点插值向量\r\n     * @param alpha 插值系数\r\n     * @returns 返回新向量\r\n     */\r\n    lerpTo(v: Vector4, alpha: number, vout = new Vector4())\r\n    {\r\n        return vout.copy(this).lerp(v, alpha);\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param mat 矩阵\r\n     */\r\n    applyMatrix4x4(mat: Matrix4x4)\r\n    {\r\n        mat.transformVector4(this, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 返回当前 Vector4 对象的字符串表示形式。\r\n     */\r\n    toString(): string\r\n    {\r\n        return `<${this.x}, ${this.y}, ${this.z}, ${this.w}>`;\r\n    }\r\n\r\n    // Linearly interpolates between two vectors.\r\n    static Lerp(a: Vector4, b: Vector4, t: number)\r\n    {\r\n        t = Mathf.Clamp01(t);\r\n\r\n        return new Vector4(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t,\r\n            a.z + (b.z - a.z) * t,\r\n            a.w + (b.w - a.w) * t\r\n        );\r\n    }\r\n\r\n    // Linearly interpolates between two vectors without clamping the interpolant\r\n    static LerpUnclamped(a: Vector4, b: Vector4, t: number)\r\n    {\r\n        return new Vector4(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t,\r\n            a.z + (b.z - a.z) * t,\r\n            a.w + (b.w - a.w) * t\r\n        );\r\n    }\r\n\r\n    // Moves a point /current/ towards /target/.\r\n    static MoveTowards(current: Vector4, target: Vector4, maxDistanceDelta: number)\r\n    {\r\n        const toVectorX = target.x - current.x;\r\n        const toVectorY = target.y - current.y;\r\n        const toVectorZ = target.z - current.z;\r\n        const toVectorW = target.w - current.w;\r\n\r\n        const sqdist = (toVectorX * toVectorX + toVectorY * toVectorY + toVectorZ * toVectorZ + toVectorW * toVectorW);\r\n\r\n        if (sqdist === 0 || (maxDistanceDelta >= 0 && sqdist <= maxDistanceDelta * maxDistanceDelta))\r\n        {\r\n            return target;\r\n        }\r\n\r\n        const dist = Math.sqrt(sqdist);\r\n\r\n        return new Vector4(current.x + toVectorX / dist * maxDistanceDelta,\r\n            current.y + toVectorY / dist * maxDistanceDelta,\r\n            current.z + toVectorZ / dist * maxDistanceDelta,\r\n            current.w + toVectorW / dist * maxDistanceDelta);\r\n    }\r\n\r\n    // Multiplies two vectors component-wise.\r\n    static Scale(a: Vector4, b: Vector4)\r\n    {\r\n        return new Vector4(a.x * b.x, a.y * b.y, a.z * b.z, a.w * b.w);\r\n    }\r\n\r\n    // Multiplies every component of this vector by the same component of /scale/.\r\n    Scale(scale: Vector4)\r\n    {\r\n        this.x *= scale.x;\r\n        this.y *= scale.y;\r\n        this.z *= scale.z;\r\n        this.w *= scale.w;\r\n    }\r\n\r\n    // also required for being able to use Vector4s as keys in hash tables\r\n    Equals(other: Vector4)\r\n    {\r\n        return this.x === other.x && this.y === other.y && this.z === other.z && this.w === other.w;\r\n    }\r\n\r\n    // *undoc* --- we have normalized property now\r\n    static Normalize(a: Vector4)\r\n    {\r\n        const mag = Vector4.Magnitude(a);\r\n        if (mag > Vector4.kEpsilon)\r\n        {\r\n            return new Vector4(a.x / mag, a.y / mag, a.z / mag, a.w / mag);\r\n        }\r\n\r\n        return Vector4.zero.clone();\r\n    }\r\n\r\n    // Makes this vector have a ::ref::magnitude of 1.\r\n    Normalize()\r\n    {\r\n        const mag = Vector4.Magnitude(this);\r\n        if (mag > Vector4.kEpsilon)\r\n        {\r\n            this.x = this.x / mag;\r\n            this.y = this.y / mag;\r\n            this.z = this.z / mag;\r\n        }\r\n        else\r\n        {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n        }\r\n    }\r\n\r\n    // Returns this vector with a ::ref::magnitude of 1 (RO).\r\n    get normalized()\r\n    {\r\n        return Vector4.Normalize(this);\r\n    }\r\n\r\n    // Dot Product of two vectors.\r\n    static Dot(a: Vector4, b: Vector4)\r\n    {\r\n        return a.x * b.x + a.y * b.y + a.z * b.z + a.w * b.w;\r\n    }\r\n\r\n    // Projects a vector onto another vector.\r\n    static Project(a: Vector4, b: Vector4)\r\n    {\r\n        const scale = (Vector4.Dot(a, b) / Vector4.Dot(b, b));\r\n\r\n        return new Vector4(b.x * scale, b.y * scale, b.z * scale, b.w * scale);\r\n    }\r\n\r\n    // Returns the distance between /a/ and /b/.\r\n    static Distance(a: Vector4, b: Vector4)\r\n    {\r\n        return Vector4.Magnitude(a.clone().sub(b));\r\n    }\r\n\r\n    // *undoc* --- there's a property now\r\n    static Magnitude(a: Vector4)\r\n    {\r\n        return Math.sqrt(Vector4.Dot(a, a));\r\n    }\r\n\r\n    // Returns the length of this vector (RO).\r\n    get magnitude()\r\n    {\r\n        return Math.sqrt(Vector4.Dot(this, this));\r\n    }\r\n\r\n    // Returns the squared length of this vector (RO).\r\n    get sqrMagnitude()\r\n    {\r\n        return Vector4.Dot(this, this);\r\n    }\r\n\r\n    // Returns a vector that is made from the smallest components of two vectors.\r\n    static Min(lhs: Vector4, rhs: Vector4)\r\n    {\r\n        return new Vector4(Mathf.Min(lhs.x, rhs.x), Mathf.Min(lhs.y, rhs.y), Mathf.Min(lhs.z, rhs.z), Mathf.Min(lhs.w, rhs.w));\r\n    }\r\n\r\n    // Returns a vector that is made from the largest components of two vectors.\r\n    public static Max(lhs: Vector4, rhs: Vector4)\r\n    {\r\n        return new Vector4(Mathf.Max(lhs.x, rhs.x), Mathf.Max(lhs.y, rhs.y), Mathf.Max(lhs.z, rhs.z), Mathf.Max(lhs.w, rhs.w));\r\n    }\r\n\r\n    // Shorthand for writing @@Vector4(0,0,0,0)@@\r\n    static readonly zero = Object.freeze(new Vector4(0, 0, 0, 0));\r\n    // Shorthand for writing @@Vector4(1,1,1,1)@@\r\n    static readonly one = Object.freeze(new Vector4(1, 1, 1, 1));\r\n    // Shorthand for writing @@Vector3(float.PositiveInfinity, float.PositiveInfinity, float.PositiveInfinity)@@\r\n    static readonly positiveInfinity = Object.freeze(new Vector4(Infinity, Infinity, Infinity, Infinity));\r\n    // Shorthand for writing @@Vector3(float.NegativeInfinity, float.NegativeInfinity, float.NegativeInfinity)@@\r\n    static readonly negativeInfinity = Object.freeze(new Vector4(-Infinity, -Infinity, -Infinity, -Infinity));\r\n\r\n    // *undocumented*\r\n    static readonly kEpsilon = 0.00001;\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Color3 } from './Color3';\r\nimport { Vector4 } from './geom/Vector4';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsColor3\r\n    {\r\n        toColor4(color4?: Color4): Color4\r\n    }\r\n}\r\n\r\nColor3.prototype.toColor4 = function toColor4(color4 = new Color4())\r\n{\r\n    color4.r = this.r;\r\n    color4.g = this.g;\r\n    color4.b = this.b;\r\n\r\n    return color4;\r\n};\r\n\r\n/**\r\n * 颜色（包含透明度）\r\n */\r\nexport class Color4\r\n{\r\n    __class__: 'feng3d.Color4';\r\n\r\n    static readonly WHITE = Object.freeze(new Color4(1, 1, 1, 1));\r\n    static readonly BLACK = Object.freeze(new Color4(0, 0, 0, 1));\r\n\r\n    static fromUnit(color: number)\r\n    {\r\n        return new Color4().fromUnit(color);\r\n    }\r\n\r\n    static fromUnit24(color: number, a = 1)\r\n    {\r\n        return Color4.fromColor3(Color3.fromUnit(color), a);\r\n    }\r\n\r\n    static fromColor3(color3: Color3, a = 1)\r\n    {\r\n        return new Color4(color3.r, color3.g, color3.b, a);\r\n    }\r\n\r\n    /**\r\n     * 红[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    r = 1;\r\n    /**\r\n     * 绿[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    g = 1;\r\n    /**\r\n     * 蓝[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    b = 1;\r\n    /**\r\n     * 透明度[0,1]\r\n     */\r\n    @oav()\r\n    @serialize\r\n    a = 1;\r\n\r\n    /**\r\n     * 构建颜色\r\n     * @param r 红[0,1]\r\n     * @param g 绿[0,1]\r\n     * @param b 蓝[0,1]\r\n     * @param a 透明度[0,1]\r\n     */\r\n    constructor(r = 1, g = 1, b = 1, a = 1)\r\n    {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n\r\n    setTo(r: number, g: number, b: number, a = 1)\r\n    {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过\r\n     * @param color\r\n     */\r\n    fromUnit(color: number)\r\n    {\r\n        this.a = ((color >> 24) & 0xff) / 0xff;\r\n        this.r = ((color >> 16) & 0xff) / 0xff;\r\n        this.g = ((color >> 8) & 0xff) / 0xff;\r\n        this.b = (color & 0xff) / 0xff;\r\n\r\n        return this;\r\n    }\r\n\r\n    fromUnit24(color: number, a = 1)\r\n    {\r\n        this.fromUnit(color);\r\n        this.a = a;\r\n\r\n        return this;\r\n    }\r\n\r\n    fromColor3(color3: Color3, a = 1)\r\n    {\r\n        this.r = color3.r;\r\n        this.g = color3.g;\r\n        this.b = color3.b;\r\n        this.a = a;\r\n\r\n        return this;\r\n    }\r\n\r\n    toInt()\r\n    {\r\n        const value = ((this.a * 0xff) << 24) + ((this.r * 0xff) << 16) + ((this.g * 0xff) << 8) + (this.b * 0xff);\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 输出16进制字符串\r\n     */\r\n    toHexString()\r\n    {\r\n        const intR = (this.r * 0xff) | 0;\r\n        const intG = (this.g * 0xff) | 0;\r\n        const intB = (this.b * 0xff) | 0;\r\n        const intA = (this.a * 0xff) | 0;\r\n\r\n        return `#${Color3.ToHex(intA)}${Color3.ToHex(intR)}${Color3.ToHex(intG)}${Color3.ToHex(intB)}`;\r\n    }\r\n\r\n    /**\r\n     * 输出 RGBA 颜色值，例如 rgba(255,255,255,1)\r\n     */\r\n    toRGBA()\r\n    {\r\n        return `rgba(${this.r * 255},${this.g * 255},${this.b * 255},${this.a})`;\r\n    }\r\n\r\n    /**\r\n     * 混合颜色\r\n     * @param color 混入的颜色\r\n     * @param rate 混入比例\r\n     */\r\n    mix(color: Color4, rate = 0.5)\r\n    {\r\n        this.r = this.r * (1 - rate) + color.r * rate;\r\n        this.g = this.g * (1 - rate) + color.g * rate;\r\n        this.b = this.b * (1 - rate) + color.b * rate;\r\n        this.a = this.a * (1 - rate) + color.a * rate;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 混合颜色\r\n     * @param color 混入的颜色\r\n     * @param rate 混入比例\r\n     */\r\n    mixTo(color: Color4, rate: number, vout = new Color4())\r\n    {\r\n        return vout.copy(this).mix(color, rate);\r\n    }\r\n\r\n    /**\r\n     * 乘以指定颜色\r\n     * @param c 乘以的颜色\r\n     * @returns 返回自身\r\n     */\r\n    multiply(c: Color4)\r\n    {\r\n        this.r *= c.r;\r\n        this.g *= c.g;\r\n        this.b *= c.b;\r\n        this.a *= c.a;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 乘以指定颜色\r\n     * @param v 乘以的颜色\r\n     * @returns 返回新颜色\r\n     */\r\n    multiplyTo(v: Color4, vout = new Color4())\r\n    {\r\n        return vout.copy(this).multiply(v);\r\n    }\r\n\r\n    /**\r\n     * 乘以指定常量\r\n     *\r\n     * @param scale 缩放常量\r\n     * @returns 返回自身\r\n     */\r\n    multiplyNumber(scale: number)\r\n    {\r\n        this.r *= scale;\r\n        this.g *= scale;\r\n        this.b *= scale;\r\n        this.a *= scale;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过将当前 Color3 对象的 r、g 和 b 元素与指定的 Color3 对象的 r、g 和 b 元素进行比较，确定这两个对象是否相等。\r\n     */\r\n    equals(object: Color4, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.r - object.r, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.g - object.g, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.b - object.b, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.a - object.a, 0, precision))\r\n        { return false; }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     */\r\n    copy(color: Color4)\r\n    {\r\n        this.r = color.r;\r\n        this.g = color.g;\r\n        this.b = color.b;\r\n        this.a = color.a;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 输出字符串\r\n     */\r\n    toString(): string\r\n    {\r\n        return `{R: ${this.r} G:${this.g} B:${this.b} A:${this.a}}`;\r\n    }\r\n\r\n    toColor3(color = new Color3())\r\n    {\r\n        color.r = this.r;\r\n        color.g = this.g;\r\n        color.b = this.b;\r\n\r\n        return color;\r\n    }\r\n\r\n    toVector4(vector4 = new Vector4())\r\n    {\r\n        vector4.x = this.r;\r\n        vector4.y = this.g;\r\n        vector4.z = this.b;\r\n        vector4.w = this.a;\r\n\r\n        return vector4;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.r;\r\n        array[offset + 1] = this.g;\r\n        array[offset + 2] = this.b;\r\n        array[offset + 3] = this.a;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Color4(this.r, this.g, this.b, this.a);\r\n    }\r\n\r\n    /**\r\n     * 随机`Color4`\r\n     *\r\n     * @param randomAlpha 透明值是否随机\r\n     */\r\n    random(randomAlpha = false)\r\n    {\r\n        this.r = Math.random();\r\n        this.g = Math.random();\r\n        this.b = Math.random();\r\n        if (randomAlpha)\r\n        {\r\n            this.a = Math.random();\r\n        }\r\n\r\n        return this;\r\n    }\r\n}\r\n","import { equationSolving } from '@feng3d/bezier';\r\n\r\n/**\r\n * Bézier曲线\r\n * @see https://en.wikipedia.org/wiki/B%C3%A9zier_curve\r\n * @author feng / http://feng3d.com 03/06/2018\r\n */\r\nexport class BezierCurve\r\n{\r\n    /**\r\n     * 线性Bézier曲线\r\n     * 给定不同的点P0和P1，线性Bézier曲线就是这两个点之间的直线。曲线由下式给出\r\n     * ```\r\n     * B(t) = p0 + t * (p1 - p0) = (1 - t) * p0 + t * p1 , 0 <= t && t <= 1\r\n     * ```\r\n     * 相当于线性插值\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     */\r\n    linear(t: number, p0: number, p1: number)\r\n    {\r\n        return p0 + t * (p1 - p0);\r\n        // return (1 - t) * p0 + t * p1;\r\n    }\r\n\r\n    /**\r\n     * 线性Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     */\r\n    linearDerivative(t: number, p0: number, p1: number)\r\n    {\r\n        return p1 - p0;\r\n    }\r\n\r\n    /**\r\n     * 线性Bézier曲线关于t的二阶导数\r\n     * @param _t 插值度\r\n     * @param _p0 点0\r\n     * @param _p1 点1\r\n     */\r\n    linearSecondDerivative(_t: number, _p0: number, _p1: number)\r\n    {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线\r\n     *\r\n     * 二次Bézier曲线是由函数B（t）跟踪的路径，给定点P0，P1和P2，\r\n     * ```\r\n     * B(t) = (1 - t) * ((1 - t) * p0 + t * p1) + t * ((1 - t) * p1 + t * p2) , 0 <= t && t <= 1\r\n     * ```\r\n     * 这可以解释为分别从P0到P1和从P1到P2的线性Bézier曲线上相应点的线性插值。重新排列前面的等式得出：\r\n     * ```\r\n     * B(t) = (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2 , 0 <= t && t <= 1\r\n     * ```\r\n     * Bézier曲线关于t的导数是\r\n     * ```\r\n     * B'(t) = 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1)\r\n     * ```\r\n     * 从中可以得出结论：在P0和P2处曲线的切线在P 1处相交。随着t从0增加到1，曲线沿P1的方向从P0偏离，然后从P1的方向弯曲到P2。\r\n     *\r\n     * Bézier曲线关于t的二阶导数是\r\n     * ```\r\n     * B''(t) = 2 * (p2 - 2 * p1 + p0)\r\n     * ```\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadratic(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return this.linear(t, this.linear(t, p0, p1), this.linear(t, p1, p2));\r\n        // return (1 - t) * ((1 - t) * p0 + t * p1) + t * ((1 - t) * p1 + t * p2);\r\n        return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadraticDerivative(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return 2 * this.linear(t, this.linearDerivative(t, p0, p1), this.linearDerivative(t, p1, p2));\r\n        return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\r\n    }\r\n\r\n    /**\r\n     * 二次Bézier曲线关于t的二阶导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    quadraticSecondDerivative(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        // return 1 * 2 * this.linearDerivative(t, p1 - p0, p2 - p1)\r\n        // return 1 * 2 * ((p2 - p1) - (p1 - p0));\r\n        return 2 * (p2 - 2 * p1 + p0);\r\n    }\r\n\r\n    /**\r\n     * 立方Bézier曲线\r\n     *\r\n     * 平面中或高维空间中（其实一维也是成立的，这里就是使用一维计算）的四个点P0，P1，P2和P3定义了三次Bézier曲线。\r\n     * 曲线开始于P0朝向P1并且从P2的方向到达P3。通常不会通过P1或P2; 这些点只是为了提供方向信息。\r\n     * P1和P2之间的距离在转向P2之前确定曲线向P1移动的“多远”和“多快” 。\r\n     *\r\n     * 对于由点Pi，Pj和Pk定义的二次Bézier曲线，可以将Bpipjpk(t)写成三次Bézier曲线，它可以定义为两条二次Bézier曲线的仿射组合：\r\n     * ```\r\n     * B(t) = (1 - t) * Bp0p1p2(t) + t * Bp1p2p3(t) , 0 <= t && t <= 1\r\n     * ```\r\n     * 曲线的显式形式是：\r\n     * ```\r\n     * B(t) = (1 - t) * (1 - t) * (1 - t) * p0 + 3 * (1 - t) * (1 - t) * t * p1 + 3 * (1 - t) * t * t * p2 + t * t * t * p3 , 0 <= t && t <= 1\r\n     * ```\r\n     * 对于P1和P2的一些选择，曲线可以相交，或者包含尖点。\r\n     *\r\n     * 三次Bézier曲线相对于t的导数是\r\n     * ```\r\n     * B'(t) = 3 * (1 - t) * (1 - t) * (p1 - p0) + 6 * (1 - t) * t * (p2 - p1) + 3 * t * t * (p3 - p2);\r\n     * ```\r\n     * 三次Bézier曲线关于t的二阶导数是\r\n     * ```\r\n     * 6 * (1 - t) * (p2 - 2 * p1 + p0) + 6 * t * (p3 - 2 * p2 + p1);\r\n     * ```\r\n     *\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     * @param p3 点3\r\n     */\r\n    cubic(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return this.linear(t, this.quadratic(t, p0, p1, p2), this.quadratic(t, p1, p2, p3));\r\n        return (1 - t) * (1 - t) * (1 - t) * p0 + 3 * (1 - t) * (1 - t) * t * p1 + 3 * (1 - t) * t * t * p2 + t * t * t * p3;\r\n    }\r\n\r\n    /**\r\n     * 三次Bézier曲线关于t的导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     * @param p3 点3\r\n     */\r\n    cubicDerivative(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return 3 * this.linear(t, this.quadraticDerivative(t, p0, p1, p2), this.quadraticDerivative(t, p1, p2, p3));\r\n        return 3 * (1 - t) * (1 - t) * (p1 - p0) + 6 * (1 - t) * t * (p2 - p1) + 3 * t * t * (p3 - p2);\r\n    }\r\n\r\n    /**\r\n     * 三次Bézier曲线关于t的二阶导数\r\n     * @param t 插值度\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    cubicSecondDerivative(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        // return 3 * this.linear(t, this.quadraticSecondDerivative(t, p0, p1, p2), this.quadraticSecondDerivative(t, p1, p2, p3));\r\n        return 6 * (1 - t) * (p2 - 2 * p1 + p0) + 6 * t * (p3 - 2 * p2 + p1);\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length === n+1\r\n     * @param processs 收集中间过程数据，可用作Bézier曲线动画数据\r\n     */\r\n    bn(t: number, ps: number[], processs: number[][] = null)\r\n    {\r\n        ps = ps.concat();\r\n        if (processs)\r\n        { processs.push(ps.concat()); }\r\n        // n次Bézier递推\r\n        for (let i = ps.length - 1; i > 0; i--)\r\n        {\r\n            for (let j = 0; j < i; j++)\r\n            {\r\n                ps[j] = (1 - t) * ps[j] + t * ps[j + 1];\r\n            }\r\n            if (processs)\r\n            {\r\n                ps.length = ps.length - 1;\r\n                processs.push(ps.concat());\r\n            }\r\n        }\r\n\r\n        return ps[0];\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的导数\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length === n+1\r\n     */\r\n    bnDerivative(t: number, ps: number[])\r\n    {\r\n        if (ps.length < 2)\r\n        { return 0; }\r\n        ps = ps.concat();\r\n        // 进行\r\n        for (let i = 0, n = ps.length - 1; i < n; i++)\r\n        {\r\n            ps[i] = ps[i + 1] - ps[i];\r\n        }\r\n        //\r\n        ps.length = ps.length - 1;\r\n        const v = ps.length * this.bn(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的二阶导数\r\n     *\r\n     * 一般定义\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param ps 点列表 ps.length === n+1\r\n     */\r\n    bnSecondDerivative(t: number, ps: number[])\r\n    {\r\n        if (ps.length < 3)\r\n        { return 0; }\r\n        ps = ps.concat();\r\n        // 进行\r\n        for (let i = 0, n = ps.length - 1; i < n; i++)\r\n        {\r\n            ps[i] = ps[i + 1] - ps[i];\r\n        }\r\n        //\r\n        ps.length = ps.length - 1;\r\n        const v = ps.length * this.bnDerivative(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * n次Bézier曲线关于t的dn阶导数\r\n     *\r\n     * Bézier曲线可以定义为任意度n。\r\n     *\r\n     * @param t 插值度\r\n     * @param dn 求导次数\r\n     * @param ps 点列表     ps.length === n+1\r\n     */\r\n    bnND(t: number, dn: number, ps: number[])\r\n    {\r\n        if (ps.length < dn + 1)\r\n        { return 0; }\r\n        let factorial = 1;\r\n\r\n        ps = ps.concat();\r\n        for (let j = 0; j < dn; j++)\r\n        {\r\n            // 进行\r\n            for (let i = 0, n = ps.length - 1; i < n; i++)\r\n            {\r\n                ps[i] = ps[i + 1] - ps[i];\r\n            }\r\n            //\r\n            ps.length = ps.length - 1;\r\n            factorial *= ps.length;\r\n        }\r\n        const v = factorial * this.bn(t, ps);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的值\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getValue(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linear(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadratic(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubic(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bn(t, ps);\r\n        // var t1 = 1 - t;\r\n        // return t1 * t1 * t1 * ps[0] + 3 * t1 * t1 * t * ps[1] + 3 * t1 * t * t * ps[2] + t * t * t * ps[3];\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的导数(斜率)\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getDerivative(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linearDerivative(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadraticDerivative(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubicDerivative(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bnDerivative(t, ps);\r\n        // return 3 * (1 - t) * (1 - t) * (ps[1] - ps[0]) + 6 * (1 - t) * t * (ps[2] - ps[1]) + 3 * t * t * (ps[3] - ps[2]);\r\n    }\r\n\r\n    /**\r\n     * 获取曲线在指定插值度上的二阶导数\r\n     * @param t 插值度\r\n     * @param ps 点列表\r\n     */\r\n    getSecondDerivative(t: number, ps: number[]): number\r\n    {\r\n        if (ps.length === 2)\r\n        {\r\n            return this.linearSecondDerivative(t, ps[0], ps[1]);\r\n        }\r\n        if (ps.length === 3)\r\n        {\r\n            return this.quadraticSecondDerivative(t, ps[0], ps[1], ps[2]);\r\n        }\r\n        if (ps.length === 4)\r\n        {\r\n            return this.cubicSecondDerivative(t, ps[0], ps[1], ps[2], ps[3]);\r\n        }\r\n\r\n        return this.bnSecondDerivative(t, ps);\r\n        // return 3 * (1 - t) * (1 - t) * (ps[1] - ps[0]) + 6 * (1 - t) * t * (ps[2] - ps[1]) + 3 * t * t * (ps[3] - ps[2]);\r\n    }\r\n\r\n    /**\r\n     * 查找区间内极值列表\r\n     *\r\n     * @param ps 点列表\r\n     * @param numSamples 采样次数，用于分段查找极值\r\n     * @param precision 查找精度\r\n     *\r\n     * @returns 极值列表 {} {ts: 极值插值度列表,vs: 极值值列表}\r\n     */\r\n    getExtremums(ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        const samples: number[] = [];\r\n\r\n        for (let i = 0; i <= numSamples; i++)\r\n        {\r\n            samples.push(this.getDerivative(i / numSamples, ps));\r\n        }\r\n        // 查找存在解的分段\r\n        //\r\n        const resultTs: number[] = [];\r\n        const resultVs: number[] = [];\r\n\r\n        for (let i = 0, n = numSamples; i < n; i++)\r\n        {\r\n            if (samples[i] * samples[i + 1] < 0)\r\n            {\r\n                const guessT = equationSolving.line((x) => this.getDerivative(x, ps), i / numSamples, (i + 1) / numSamples, precision);\r\n\r\n                resultTs.push(guessT);\r\n                resultVs.push(this.getValue(guessT, ps));\r\n            }\r\n        }\r\n\r\n        return { ts: resultTs, vs: resultVs };\r\n    }\r\n\r\n    /**\r\n     * 获取单调区间列表\r\n     *\r\n     * @param ps\r\n     * @param numSamples\r\n     * @param precision\r\n     * @returns ts: 区间结点插值度列表,vs: 区间结点值列表\r\n     */\r\n    getMonotoneIntervals(ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        // 区间内的单调区间\r\n        const monotoneIntervalTs = [0, 1];\r\n        const monotoneIntervalVs = [ps[0], ps[ps.length - 1]];\r\n        // 预先计算好极值\r\n        const extremums = this.getExtremums(ps, numSamples, precision);\r\n\r\n        for (let i = 0; i < extremums.ts.length; i++)\r\n        {\r\n            // 增加单调区间\r\n            monotoneIntervalTs.splice(i + 1, 0, extremums.ts[i]);\r\n            monotoneIntervalVs.splice(i + 1, 0, extremums.vs[i]);\r\n        }\r\n\r\n        return { ts: monotoneIntervalTs, vs: monotoneIntervalVs };\r\n    }\r\n\r\n    /**\r\n     * 获取目标值所在的插值度T\r\n     *\r\n     * @param targetV 目标值\r\n     * @param ps 点列表\r\n     * @param numSamples 分段数量，用于分段查找，用于解决寻找多个解、是否无解等问题；过少的分段可能会造成找不到存在的解决，过多的分段将会造成性能很差。\r\n     * @param precision 查找精度\r\n     *\r\n     * @returns 返回解数组\r\n     */\r\n    getTFromValue(targetV: number, ps: number[], numSamples = 10, precision = 0.0000001)\r\n    {\r\n        // 获取单调区间\r\n        const monotoneIntervals = this.getMonotoneIntervals(ps, numSamples, precision);\r\n        const monotoneIntervalTs = monotoneIntervals.ts;\r\n        const monotoneIntervalVs = monotoneIntervals.vs;\r\n\r\n        // 存在解的单调区间\r\n        const results: number[] = [];\r\n        // 遍历单调区间\r\n\r\n        for (let i = 0, n = monotoneIntervalVs.length - 1; i < n; i++)\r\n        {\r\n            if ((monotoneIntervalVs[i] - targetV) * (monotoneIntervalVs[i + 1] - targetV) <= 0)\r\n            {\r\n                const fx = (x) => this.getValue(x, ps) - targetV;\r\n\r\n                // 连线法\r\n                const result = equationSolving.line(fx, monotoneIntervalTs[i], monotoneIntervalTs[i + 1], precision);\r\n\r\n                results.push(result);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * 分割曲线\r\n     *\r\n     * 在曲线插值度t位置分割为两条连接起来与原曲线完全重合的曲线\r\n     *\r\n     * @param t 分割位置（插值度）\r\n     * @param ps 被分割曲线点列表\r\n     * @returns 返回两条曲线组成的数组\r\n     */\r\n    split(t: number, ps: number[])\r\n    {\r\n        // 获取曲线的动画过程\r\n        const processs: number[][] = [];\r\n\r\n        bezierCurve.bn(t, ps, processs);\r\n\r\n        // 第一条曲线\r\n        const fps: number[] = [];\r\n        // 第二条曲线\r\n        const sps: number[] = [];\r\n        // 使用当前t值进行分割曲线\r\n\r\n        for (let i = processs.length - 1; i >= 0; i--)\r\n        {\r\n            if (i === processs.length - 1)\r\n            {\r\n                // 添加关键点\r\n                fps.push(processs[i][0]);\r\n                fps.push(processs[i][0]);\r\n            }\r\n            else\r\n            {\r\n                // 添加左右控制点\r\n                fps.unshift(processs[i][0]);\r\n                sps.push(processs[i].pop());\r\n            }\r\n        }\r\n\r\n        return [fps, sps];\r\n    }\r\n\r\n    /**\r\n     * 合并曲线\r\n     *\r\n     * 合并两条连接的曲线为一条曲线并且可以还原为分割前的曲线\r\n     *\r\n     * @param fps 第一条曲线点列表\r\n     * @param sps 第二条曲线点列表\r\n     * @param mergeType 合并方式。mergeType = 0时进行还原合并，还原拆分之前的曲线；mergeType = 1时进行拟合合并，合并后的曲线会经过两条曲线的连接点；\r\n     */\r\n    merge(fps: number[], sps: number[], mergeType = 0)\r\n    {\r\n        fps = fps.concat();\r\n        sps = sps.concat();\r\n        const processs: number[][] = [];\r\n        let t: number;\r\n        // 上条曲线\r\n        let pps: number[];\r\n        // 当前曲线\r\n        let ps: number[];\r\n\r\n        for (let i = 0, n = fps.length; i < n; i++)\r\n        {\r\n            ps = processs[i] = [];\r\n            if (i === 0)\r\n            {\r\n                processs[i][0] = fps.pop();\r\n                sps.shift();\r\n            }\r\n            else if (i === 1)\r\n            {\r\n                // 计算t值\r\n                processs[i][0] = fps.pop();\r\n                processs[i][1] = sps.shift();\r\n                t = (processs[i - 1][0] - processs[i][0]) / (processs[i][1] - processs[i][0]);\r\n            }\r\n            else\r\n            {\r\n                pps = processs[i - 1];\r\n                // 前面增加点\r\n                const nfp = fps.pop();\r\n                // 后面增加点\r\n                const nsp = sps.shift();\r\n                // 从前往后计算\r\n                const ps0: number[] = [];\r\n\r\n                ps0[0] = nfp;\r\n                for (let j = 0, n = pps.length; j < n; j++)\r\n                {\r\n                    ps0[j + 1] = ps0[j] + (pps[j] - ps0[j]) / t;\r\n                }\r\n                // 从后往前计算\r\n                const ps1: number[] = [];\r\n\r\n                ps1[pps.length] = nsp;\r\n                for (let j = pps.length - 1; j >= 0; j--)\r\n                {\r\n                    ps1[j] = ps1[j + 1] - (ps1[j + 1] - pps[j]) / (1 - t);\r\n                }\r\n                // 拟合合并,合并前后两个方向的计算\r\n                if (mergeType === 1)\r\n                {\r\n                    for (let j = 0, n = ps0.length - 1; j <= n; j++)\r\n                    {\r\n                        ps[j] = (ps0[j] * (n - j) + ps1[j] * j) / n;\r\n                    }\r\n                }\r\n                else if (mergeType === 0)\r\n                {\r\n                    // 还原合并，前半段使用从前往后计算，后半段使用从后往前计算\r\n                    for (let j = 0, n = ps0.length - 1; j <= n; j++)\r\n                    {\r\n                        if (j < n / 2)\r\n                        {\r\n                            ps[j] = ps0[j];\r\n                        }\r\n                        else if (j > n / 2)\r\n                        {\r\n                            ps[j] = ps1[j];\r\n                        }\r\n                        else\r\n                        {\r\n                            ps[j] = (ps0[j] + ps1[j]) / 2;\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    console.error(`合并类型 mergeType ${mergeType} 错误!`);\r\n                }\r\n            }\r\n        }\r\n\r\n        return processs.pop();\r\n    }\r\n\r\n    /**\r\n     * 获取曲线样本数据\r\n     *\r\n     * 这些点可用于连线来拟合曲线。\r\n     *\r\n     * @param ps 点列表\r\n     * @param num 采样次数 ，采样点分别为[0,1/num,2/num,....,(num-1)/num,1]\r\n     */\r\n    getSamples(ps: number[], num = 100)\r\n    {\r\n        const results: { t: number, v: number }[] = [];\r\n\r\n        for (let i = 0; i <= num; i++)\r\n        {\r\n            const t = i / num;\r\n            const p = this.getValue(t, ps);\r\n\r\n            results.push({ t, v: p });\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n\r\n/**\r\n * Bézier曲线\r\n */\r\nexport const bezierCurve = new BezierCurve();\r\n","/**\r\n * 动画曲线Wrap模式，处理超出范围情况\r\n */\r\nexport enum WrapMode\r\n{\r\n    /**\r\n     * 夹紧; 0>-<1\r\n     */\r\n    Clamp = 1,\r\n    /**\r\n     * 循环; 0->1,0->1\r\n     */\r\n    Loop = 2,\r\n    /**\r\n     * 来回循环; 0->1,1->0\r\n     */\r\n    PingPong = 4,\r\n\r\n    /**\r\n     * When time reaches the end of the animation clip, the clip will automatically stop playing and time will be reset to beginning of the clip.\r\n     */\r\n    Once,\r\n\r\n    /**\r\n     * Reads the default repeat mode set higher up.\r\n     */\r\n    Default,\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { AnimationCurveKeyframe } from './AnimationCurveKeyframe';\r\nimport { bezierCurve } from './BezierCurve';\r\nimport { WrapMode } from './WrapMode';\r\n\r\n/**\r\n * 动画曲线\r\n *\r\n * 基于时间轴的连续三阶Bézier曲线\r\n */\r\nexport class AnimationCurve\r\n{\r\n    __class__: 'feng3d.AnimationCurve';\r\n\r\n    /**\r\n     * 最大tan值，超出该值后将会变成分段\r\n     */\r\n    maxtan = 1000;\r\n\r\n    /**\r\n     * The behaviour of the animation before the first keyframe.\r\n     *\r\n     * 在第一个关键帧之前的动画行为。\r\n     */\r\n    @serialize\r\n    preWrapMode = WrapMode.Clamp;\r\n\r\n    /**\r\n     * The behaviour of the animation after the last keyframe.\r\n     *\r\n     * 动画在最后一个关键帧之后的行为。\r\n     */\r\n    @serialize\r\n    postWrapMode = WrapMode.Clamp;\r\n\r\n    /**\r\n     * All keys defined in the animation curve.\r\n     *\r\n     * 动画曲线上所有关键字定义。\r\n     *\r\n     * 注： 该值已对时间排序，否则赋值前请使用 sort((a, b) => a.time - b.time) 进行排序\r\n     */\r\n    @serialize\r\n    keys: AnimationCurveKeyframe[] = [{ time: 0, value: 1, inTangent: 0, outTangent: 0 }];\r\n\r\n    /**\r\n     * 关键点数量\r\n     */\r\n    get numKeys()\r\n    {\r\n        return this.keys.length;\r\n    }\r\n\r\n    /**\r\n     * 添加关键点\r\n     *\r\n     * 添加关键点后将会执行按t进行排序\r\n     *\r\n     * @param key 关键点\r\n     */\r\n    addKey(key: AnimationCurveKeyframe)\r\n    {\r\n        this.keys.push(key);\r\n        this.sort();\r\n    }\r\n\r\n    /**\r\n     * 关键点排序\r\n     *\r\n     * 当移动关键点或者新增关键点时需要再次排序\r\n     */\r\n    sort()\r\n    {\r\n        this.keys.sort((a, b) => a.time - b.time);\r\n    }\r\n\r\n    /**\r\n     * 删除关键点\r\n     * @param key 关键点\r\n     */\r\n    deleteKey(key: AnimationCurveKeyframe)\r\n    {\r\n        const index = this.keys.indexOf(key);\r\n\r\n        if (index !== -1)\r\n        { this.keys.splice(index, 1); }\r\n    }\r\n\r\n    /**\r\n     * 获取关键点\r\n     * @param index 索引\r\n     */\r\n    getKey(index: number)\r\n    {\r\n        return this.keys[index];\r\n    }\r\n\r\n    /**\r\n     * 获取关键点索引\r\n     * @param key 关键点\r\n     */\r\n    indexOfKeys(key: AnimationCurveKeyframe)\r\n    {\r\n        return this.keys.indexOf(key);\r\n    }\r\n\r\n    /**\r\n     * 获取曲线上点信息\r\n     * @param t 时间轴的位置 [0,1]\r\n     */\r\n    getPoint(t: number): AnimationCurveKeyframe\r\n    {\r\n        let wrapMode = WrapMode.Clamp;\r\n\r\n        let min = 0;\r\n        let max = 1;\r\n\r\n        if (this.keys.length > 0)\r\n        {\r\n            min = this.keys[0].time;\r\n        }\r\n        if (this.keys.length > 1)\r\n        {\r\n            max = this.keys[this.keys.length - 1].time;\r\n        }\r\n        const cycle = max - min;\r\n        const dcycle = 2 * cycle;\r\n\r\n        if (t < min)\r\n        { wrapMode = this.preWrapMode; }\r\n        else if (t > max)\r\n        { wrapMode = this.postWrapMode; }\r\n\r\n        switch (wrapMode)\r\n        {\r\n            case WrapMode.Clamp:\r\n                t = mathUtil.clamp(t, min, max);\r\n                break;\r\n            case WrapMode.Loop:\r\n                t = ((t - min) % cycle + cycle) % cycle + min;\r\n                break;\r\n            case WrapMode.PingPong:\r\n                t = ((t - min) % dcycle + dcycle) % dcycle + min;\r\n                if (t > max)\r\n                {\r\n                    t = max - (t - max);\r\n                }\r\n                break;\r\n        }\r\n\r\n        const keys = this.keys;\r\n        const maxtan = this.maxtan;\r\n        let value = 0; let tangent = 0; let\r\n            isfind = false;\r\n\r\n        for (let i = 0, n = keys.length; i < n; i++)\r\n        {\r\n            // 使用 bezierCurve 进行采样曲线点\r\n            const key = keys[i];\r\n            const prekey = keys[i - 1];\r\n\r\n            if (i > 0 && prekey.time <= t && t <= key.time)\r\n            {\r\n                const xstart = prekey.time;\r\n                const ystart = prekey.value;\r\n                const tanstart = prekey.outTangent;\r\n                const xend = key.time;\r\n                const yend = key.value;\r\n                const tanend = key.inTangent;\r\n\r\n                if (maxtan > Math.abs(tanstart) && maxtan > Math.abs(tanend))\r\n                {\r\n                    const ct = (t - prekey.time) / (key.time - prekey.time);\r\n                    const sys = [ystart, ystart + tanstart * (xend - xstart) / 3, yend - tanend * (xend - xstart) / 3, yend];\r\n                    const fy = bezierCurve.getValue(ct, sys);\r\n\r\n                    isfind = true;\r\n                    value = fy;\r\n                    tangent = bezierCurve.getDerivative(ct, sys) / (xend - xstart);\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    isfind = true;\r\n                    value = prekey.value;\r\n                    tangent = 0;\r\n                    break;\r\n                }\r\n            }\r\n            if (i === 0 && t <= key.time)\r\n            {\r\n                isfind = true;\r\n                value = key.value;\r\n                tangent = 0;\r\n                break;\r\n            }\r\n            if (i === n - 1 && t >= key.time)\r\n            {\r\n                isfind = true;\r\n                value = key.value;\r\n                tangent = 0;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (keys.length === 0) return { time: t, value: 0, inTangent: 0, outTangent: 0 };\r\n\r\n        console.assert(isfind);\r\n\r\n        return { time: t, value, inTangent: tangent, outTangent: tangent };\r\n    }\r\n\r\n    /**\r\n     * 获取值\r\n     * @param t 时间轴的位置 [0,1]\r\n     */\r\n    getValue(t: number)\r\n    {\r\n        const point = this.getPoint(t);\r\n\r\n        if (!point) return 0;\r\n\r\n        return point.value;\r\n    }\r\n\r\n    /**\r\n     * 查找关键点\r\n     * @param t 时间轴的位置 [0,1]\r\n     * @param y 值\r\n     * @param precision 查找精度\r\n     */\r\n    findKey(t: number, y: number, precision: number)\r\n    {\r\n        const keys = this.keys;\r\n\r\n        for (let i = 0; i < keys.length; i++)\r\n        {\r\n            if (Math.abs(keys[i].time - t) < precision && Math.abs(keys[i].value - y) < precision)\r\n            {\r\n                return keys[i];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 添加曲线上的关键点\r\n     *\r\n     * 如果该点在曲线上，则添加关键点\r\n     *\r\n     * @param time 时间轴的位置 [0,1]\r\n     * @param value 值\r\n     * @param precision 查找精度\r\n     */\r\n    addKeyAtCurve(time: number, value: number, precision: number)\r\n    {\r\n        const point = this.getPoint(time);\r\n\r\n        if (Math.abs(value - point.value) < precision)\r\n        {\r\n            this.keys.push(point);\r\n            this.keys.sort((a, b) => a.time - b.time);\r\n\r\n            return point;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 获取曲线样本数据\r\n     *\r\n     * 这些点可用于连线来拟合曲线。\r\n     *\r\n     * @param num 采样次数 ，采样点分别为[0,1/num,2/num,....,(num-1)/num,1]\r\n     */\r\n    getSamples(num = 100)\r\n    {\r\n        const results: AnimationCurveKeyframe[] = [];\r\n\r\n        for (let i = 0; i <= num; i++)\r\n        {\r\n            const p = this.getPoint(i / num);\r\n\r\n            results.push(p);\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n","import { serialize } from '@feng3d/serialization';\r\nimport { Vector3 } from '../geom/Vector3';\r\nimport { AnimationCurve } from './AnimationCurve';\r\n\r\n/**\r\n * Vector3 曲线\r\n */\r\nexport class AnimationCurveVector3\r\n{\r\n    /**\r\n     * X 轴曲线\r\n     */\r\n    @serialize\r\n    xCurve = new AnimationCurve();\r\n\r\n    /**\r\n     * Y 轴曲线\r\n     */\r\n    @serialize\r\n    yCurve = new AnimationCurve();\r\n\r\n    /**\r\n     * Z 轴曲线\r\n     */\r\n    @serialize\r\n    zCurve = new AnimationCurve();\r\n\r\n    /**\r\n     * 获取值\r\n     * @param time 时间\r\n     */\r\n    getValue(time: number)\r\n    {\r\n        return new Vector3(this.xCurve.getValue(time), this.yCurve.getValue(time), this.zCurve.getValue(time));\r\n    }\r\n}\r\n","/**\r\n * 曲线模式\r\n */\r\nexport enum MinMaxCurveMode\r\n{\r\n    /**\r\n     * Use a single constant for the MinMaxCurve.\r\n     *\r\n     * 使用单个常数。\r\n     */\r\n    Constant = 0,\r\n    /**\r\n     * Use a single curve for the MinMaxCurve.\r\n     *\r\n     * 使用一条曲线\r\n     */\r\n    Curve = 1,\r\n    /**\r\n     * Use a random value between 2 constants for the MinMaxCurve.\r\n     *\r\n     * 在两个常量之间使用一个随机值\r\n     */\r\n    TwoConstants = 3,\r\n    /**\r\n     * Use a random value between 2 curves for the MinMaxCurve.\r\n     *\r\n     * 在两条曲线之间使用一个随机值。\r\n     */\r\n    TwoCurves = 2,\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { AnimationCurve } from './AnimationCurve';\r\nimport { MinMaxCurveMode } from './MinMaxCurveMode';\r\n\r\n/**\r\n * 最大最小曲线\r\n */\r\nexport class MinMaxCurve\r\n{\r\n    __class__: 'feng3d.MinMaxCurve';\r\n\r\n    /**\r\n     * 模式\r\n     */\r\n    @serialize\r\n    mode = MinMaxCurveMode.Constant;\r\n\r\n    /**\r\n     * Set the constant value.\r\n     *\r\n     * 设置常数值。\r\n     */\r\n    @serialize\r\n    constant = 0;\r\n\r\n    /**\r\n     * Set a constant for the lower bound.\r\n     *\r\n     * 为下界设置一个常数。\r\n     */\r\n    @serialize\r\n    constantMin = 0;\r\n\r\n    /**\r\n     * Set a constant for the upper bound.\r\n     *\r\n     * 为上界设置一个常数。\r\n     */\r\n    @serialize\r\n    constantMax = 0;\r\n\r\n    /**\r\n     * Set the curve.\r\n     *\r\n     * 设置曲线。\r\n     */\r\n    @serialize\r\n    curve = new AnimationCurve();\r\n\r\n    /**\r\n     * Set a curve for the lower bound.\r\n     *\r\n     * 为下界设置一条曲线。\r\n     */\r\n    @serialize\r\n    curveMin = new AnimationCurve();\r\n\r\n    /**\r\n     * Set a curve for the upper bound.\r\n     *\r\n     * 为上界设置一条曲线。\r\n     */\r\n    @serialize\r\n    curveMax = new AnimationCurve();\r\n\r\n    /**\r\n     * Set a multiplier to be applied to the curves.\r\n     *\r\n     * 设置一个乘数应用于曲线。\r\n     */\r\n    @serialize\r\n    curveMultiplier = 1;\r\n\r\n    /**\r\n     * 是否在编辑器中只显示Y轴 0-1 区域，例如 lifetime 为非负，需要设置为true\r\n     */\r\n    @serialize\r\n    between0And1 = false;\r\n\r\n    /**\r\n     * 获取值\r\n     * @param time 时间\r\n     */\r\n    getValue(time: number, randomBetween: number = Math.random())\r\n    {\r\n        switch (this.mode)\r\n        {\r\n            case MinMaxCurveMode.Constant:\r\n                return this.constant;\r\n            case MinMaxCurveMode.Curve:\r\n                return this.curve.getValue(time) * this.curveMultiplier;\r\n            case MinMaxCurveMode.TwoConstants:\r\n                return mathUtil.lerp(this.constantMin, this.constantMax, randomBetween);\r\n            case MinMaxCurveMode.TwoCurves:\r\n                return mathUtil.lerp(this.curveMin.getValue(time), this.curveMax.getValue(time), randomBetween) * this.curveMultiplier;\r\n        }\r\n\r\n        return this.constant;\r\n    }\r\n}\r\n","import { serialize } from '@feng3d/serialization';\r\nimport { Vector3 } from '../geom/Vector3';\r\nimport { MinMaxCurve } from './MinMaxCurve';\r\n\r\nexport class MinMaxCurveVector3\r\n{\r\n    /**\r\n     * x 曲线\r\n     */\r\n    @serialize\r\n    xCurve = new MinMaxCurve();\r\n\r\n    /**\r\n     * y 曲线\r\n     */\r\n    @serialize\r\n    yCurve = new MinMaxCurve();\r\n\r\n    /**\r\n     * z 曲线\r\n     */\r\n    @serialize\r\n    zCurve = new MinMaxCurve();\r\n\r\n    /**\r\n     * 获取值\r\n     * @param time 时间\r\n     */\r\n    getValue(time: number, randomBetween: number = Math.random())\r\n    {\r\n        return new Vector3(this.xCurve.getValue(time, randomBetween), this.yCurve.getValue(time, randomBetween), this.zCurve.getValue(time, randomBetween));\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsMathUtil\r\n    {\r\n        /**\r\n         * 引擎中使用的坐标系统，默认左手坐标系统。\r\n         *\r\n         * three.js 右手坐标系统。\r\n         * playcanvas 右手坐标系统。\r\n         * unity    左手坐标系统。\r\n         */\r\n        DefaultCoordinateSystem: CoordinateSystem;\r\n    }\r\n}\r\n\r\n/**\r\n * 坐标系统类型\r\n */\r\nexport enum CoordinateSystem\r\n{\r\n    /**\r\n     * 默认坐标系统，左手坐标系统\r\n     */\r\n    LEFT_HANDED,\r\n\r\n    /**\r\n     * 右手坐标系统\r\n     */\r\n    RIGHT_HANDED,\r\n}\r\n\r\nmathUtil.DefaultCoordinateSystem = CoordinateSystem.LEFT_HANDED;\r\n","/**\r\n * 点与面的相对位置\r\n */\r\nexport enum PlaneClassification\r\n{\r\n    /**\r\n     * 在平面后面\r\n     */\r\n    BACK = 0,\r\n    /**\r\n     * 在平面前面\r\n     */\r\n    FRONT = 1,\r\n\r\n    /**\r\n     * 与平面相交\r\n     */\r\n    INTERSECT = 2,\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsMathUtil\r\n    {\r\n        /**\r\n         * 引擎中使用的旋转顺序。\r\n         *\r\n         * unity YXZ\r\n         * playcanvas ZYX\r\n         * three.js XYZ\r\n         */\r\n        DefaultRotationOrder: RotationOrder;\r\n    }\r\n}\r\n\r\n/**\r\n * 欧拉角的旋转顺序。\r\n *\r\n * 如果顺序为XYZ，则依次按 ZYZ 轴旋转。为什么循序与定义相反？因为three.js中都这么定义，他们为什么这么定义就不清楚了。\r\n */\r\nexport enum RotationOrder\r\n{\r\n    /**\r\n     * 依次按 ZYX 轴旋转。\r\n     *\r\n     * three.js默认旋转顺序。\r\n     */\r\n    XYZ = 0,\r\n    /**\r\n     * 依次按 YXZ 轴旋转。\r\n     */\r\n    ZXY = 1,\r\n    /**\r\n     * 依次按 XYZ 轴旋转。\r\n     *\r\n     * playcanvas默认旋转顺序。\r\n     */\r\n    ZYX = 2,\r\n    /**\r\n     * 依次按 ZXY 轴旋转。\r\n     *\r\n     * unity默认旋转顺序。\r\n     */\r\n    YXZ = 3,\r\n    /**\r\n     * 依次按 XZY 轴旋转。\r\n     */\r\n    YZX = 4,\r\n    /**\r\n     * 依次按 YZX 轴旋转。\r\n     */\r\n    XZY = 5,\r\n}\r\n\r\nmathUtil.DefaultRotationOrder = RotationOrder.YXZ;\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Vector3 } from './Vector3';\r\n\r\nexport interface Line3 extends MixinsLine3 { }\r\n\r\n/**\r\n * 3d直线\r\n */\r\nexport class Line3\r\n{\r\n    /**\r\n     * 根据直线上两点初始化直线\r\n     * @param p0 Vector3\r\n     * @param p1 Vector3\r\n     */\r\n    static fromPoints(p0: Vector3, p1: Vector3)\r\n    {\r\n        return new Line3().fromPoints(p0, p1);\r\n    }\r\n\r\n    /**\r\n     * 根据直线某点与方向初始化直线\r\n     * @param position 直线上某点\r\n     * @param direction 直线的方向\r\n     */\r\n    static fromPosAndDir(position: Vector3, direction: Vector3)\r\n    {\r\n        return new Line3().fromPosAndDir(position, direction);\r\n    }\r\n\r\n    /**\r\n     * 随机直线，比如用于单元测试\r\n     */\r\n    static random()\r\n    {\r\n        return new Line3(Vector3.random(), Vector3.random());\r\n    }\r\n\r\n    /**\r\n     * 直线上某一点\r\n     */\r\n    origin: Vector3;\r\n\r\n    /**\r\n     * 直线方向(已标准化)\r\n     */\r\n    direction: Vector3;\r\n\r\n    /**\r\n     * 根据直线某点与方向创建直线\r\n     * @param origin 直线上某点\r\n     * @param direction 直线的方向\r\n     */\r\n    constructor(origin?: Vector3, direction?: Vector3)\r\n    {\r\n        this.origin = origin ? origin : new Vector3();\r\n        this.direction = (direction ? direction : new Vector3(0, 0, 1)).normalize();\r\n    }\r\n\r\n    /**\r\n     * 根据直线上两点初始化直线\r\n     * @param p0 Vector3\r\n     * @param p1 Vector3\r\n     */\r\n    fromPoints(p0: Vector3, p1: Vector3)\r\n    {\r\n        this.origin = p0;\r\n        this.direction = p1.subTo(p0).normalize();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 根据直线某点与方向初始化直线\r\n     * @param position 直线上某点\r\n     * @param direction 直线的方向\r\n     */\r\n    fromPosAndDir(position: Vector3, direction: Vector3)\r\n    {\r\n        this.origin = position;\r\n        this.direction = direction.normalize();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取直线上的一个点\r\n     * @param length 与原点距离\r\n     */\r\n    getPoint(length = 0, vout = new Vector3())\r\n    {\r\n        return vout.copy(this.direction).scaleNumber(length).add(this.origin);\r\n    }\r\n\r\n    /**\r\n     * 获取指定z值的点\r\n     * @param z z值\r\n     * @param vout 目标点（输出）\r\n     * @returns 目标点\r\n     */\r\n    getPointWithZ(z: number, vout = new Vector3())\r\n    {\r\n        return this.getPoint((z - this.origin.z) / this.direction.z, vout);\r\n    }\r\n\r\n    /**\r\n     * 指定点到该直线距离\r\n     * @param point 指定点\r\n     */\r\n    distanceWithPoint(point: Vector3)\r\n    {\r\n        return this.closestPointWithPoint(point).sub(point).length;\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近点的系数\r\n     * @param point 点\r\n     */\r\n    closestPointParameterWithPoint(point: Vector3)\r\n    {\r\n        return point.subTo(this.origin).dot(this.direction);\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近的点\r\n     * @param point 点\r\n     * @param vout 输出点\r\n     */\r\n    closestPointWithPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        const t = this.closestPointParameterWithPoint(point);\r\n\r\n        return this.getPoint(t, vout);\r\n    }\r\n\r\n    /**\r\n     * 判定点是否在直线上\r\n     * @param point 点\r\n     * @param precision 精度\r\n     */\r\n    onWithPoint(point: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        if (mathUtil.equals(this.distanceWithPoint(point), 0, precision))\r\n        { return true; }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 与直线相交\r\n     * @param line3D 直线\r\n     */\r\n    intersectWithLine3D(line3D: Line3)\r\n    {\r\n        // 处理相等\r\n        if (this.equals(line3D))\r\n        { return this.clone(); }\r\n        // 处理平行\r\n        if (this.direction.isParallel(line3D.direction))\r\n        { return null; }\r\n\r\n        const plane = this.getPlane();\r\n        const point = plane.intersectWithLine3(line3D) as Vector3;\r\n\r\n        if (this.onWithPoint(point))\r\n        { return point; }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param mat 矩阵\r\n     */\r\n    applyMatri4x4(mat: Matrix4x4)\r\n    {\r\n        mat.transformPoint3(this.origin, this.origin);\r\n        mat.transformVector3(this.direction, this.direction);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与指定向量比较是否相等\r\n     * @param v 比较的向量\r\n     * @param precision 允许误差\r\n     * @returns 相等返回true，否则false\r\n     */\r\n    equals(line: Line3, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!this.onWithPoint(line.origin, precision))\r\n        {\r\n            return false;\r\n        }\r\n        if (!this.onWithPoint(line.origin.addTo(line.direction), precision))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     * @param line 直线\r\n     */\r\n    copy(line: Line3)\r\n    {\r\n        this.origin.copy(line.origin);\r\n        this.direction.copy(line.direction);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Line3().copy(this);\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { PlaneClassification } from '../enums/PlaneClassification';\r\nimport { Line3 } from './Line3';\r\nimport { Vector3 } from './Vector3';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsLine3\r\n    {\r\n        /**\r\n         * 获取经过该直线的平面\r\n         */\r\n        getPlane(plane?: Plane): Plane;\r\n    }\r\n}\r\n\r\n/**\r\n * 平面\r\n *\r\n * ax+by+cz+d=0\r\n */\r\nexport class Plane\r\n{\r\n    /**\r\n     * 通过3顶点定义一个平面\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    static fromPoints(p0: Vector3, p1: Vector3, p2: Vector3)\r\n    {\r\n        return new Plane().fromPoints(p0, p1, p2);\r\n    }\r\n\r\n    /**\r\n     * 根据法线与点定义平面\r\n     * @param normal 平面法线\r\n     * @param point 平面上任意一点\r\n     */\r\n    static fromNormalAndPoint(normal: Vector3, point: Vector3)\r\n    {\r\n        return new Plane().fromNormalAndPoint(normal, point);\r\n    }\r\n\r\n    /**\r\n     * 随机平面\r\n     */\r\n    static random()\r\n    {\r\n        const normal = Vector3.random().normalize();\r\n\r\n        return new Plane(normal.x, normal.y, normal.z, Math.random());\r\n    }\r\n\r\n    /**\r\n     * 平面A系数\r\n     * <p>同样也是面法线x尺寸</p>\r\n     */\r\n    a: number;\r\n\r\n    /**\r\n     * 平面B系数\r\n     * <p>同样也是面法线y尺寸</p>\r\n     */\r\n    b: number;\r\n\r\n    /**\r\n     * 平面C系数\r\n     * <p>同样也是面法线z尺寸</p>\r\n     */\r\n    c: number;\r\n\r\n    /**\r\n     * 平面D系数\r\n     * <p>同样也是原点到平面的距离</p>\r\n     */\r\n    d: number;\r\n\r\n    /**\r\n     * 创建一个平面\r\n     * @param a A系数\r\n     * @param b B系数\r\n     * @param c C系数\r\n     * @param d D系数\r\n     */\r\n    constructor(a = 0, b = 1, c = 0, d = 0)\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n    }\r\n\r\n    /**\r\n     * 设置\r\n     *\r\n     * @param a A系数\r\n     * @param b B系数\r\n     * @param c C系数\r\n     * @param d D系数\r\n     */\r\n    set(a: number, b: number, c: number, d: number)\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 原点在平面上的投影\r\n     * @param vout 输出点\r\n     */\r\n    getOrigin(vout = new Vector3())\r\n    {\r\n        return this.projectPoint(new Vector3(), vout);\r\n    }\r\n\r\n    /**\r\n     * 平面上随机点\r\n     * @param vout 输出点\r\n     */\r\n    randomPoint(vout = new Vector3())\r\n    {\r\n        return this.getOrigin(vout).add(this.getNormal().cross(Vector3.random()));\r\n    }\r\n\r\n    /**\r\n     * 法线\r\n     */\r\n    getNormal(vout = new Vector3())\r\n    {\r\n        return vout.set(this.a, this.b, this.c);\r\n    }\r\n\r\n    /**\r\n     * 通过3顶点定义一个平面\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    fromPoints(p0: Vector3, p1: Vector3, p2: Vector3)\r\n    {\r\n        // p1.subTo(p0, v0);\r\n        // p2.subTo(p1, v1);\r\n        // var normal = v0.crossTo(v1).normalize();\r\n        const normal = p1.subTo(p0).crossTo(p2.subTo(p1)).normalize();\r\n\r\n        this.a = normal.x;\r\n        this.b = normal.y;\r\n        this.c = normal.z;\r\n        this.d = -normal.dot(p0);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 根据法线与点定义平面\r\n     * @param normal 平面法线\r\n     * @param point 平面上任意一点\r\n     */\r\n    fromNormalAndPoint(normal: Vector3, point: Vector3)\r\n    {\r\n        normal = normal.clone().normalize();\r\n        this.a = normal.x;\r\n        this.b = normal.y;\r\n        this.c = normal.z;\r\n        this.d = -normal.dot(point);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 计算点与平面的距离\r\n     * @param p 点\r\n     * @returns        距离\r\n     */\r\n    distanceWithPoint(p: Vector3)\r\n    {\r\n        return (this.a * p.x) + (this.b * p.y) + (this.c * p.z) + this.d;\r\n    }\r\n\r\n    /**\r\n     * 点是否在平面上\r\n     * @param p 点\r\n     */\r\n    onWithPoint(p: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        return mathUtil.equals(this.distanceWithPoint(p), 0, precision);\r\n    }\r\n\r\n    /**\r\n     * 顶点分类\r\n     * <p>把顶点分为后面、前面、相交三类</p>\r\n     * @param p 顶点\r\n     * @returns         顶点类型 PlaneClassification.BACK,PlaneClassification.FRONT,PlaneClassification.INTERSECT\r\n     */\r\n    classifyPoint(p: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        const len = this.distanceWithPoint(p);\r\n\r\n        if (mathUtil.equals(len, 0, precision))\r\n        { return PlaneClassification.INTERSECT; }\r\n        if (len < 0)\r\n        { return PlaneClassification.BACK; }\r\n\r\n        return PlaneClassification.FRONT;\r\n    }\r\n\r\n    /**\r\n     * 判定与直线是否平行\r\n     * @param line3D\r\n     */\r\n    parallelWithLine3D(line3D: Line3, precision = mathUtil.PRECISION)\r\n    {\r\n        if (mathUtil.equals(line3D.direction.dot(this.getNormal()), 0, precision))\r\n        { return true; }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 判定与平面是否平行\r\n     * @param plane3D\r\n     */\r\n    parallelWithPlane3D(plane3D: Plane, precision = mathUtil.PRECISION)\r\n    {\r\n        if (plane3D.getNormal().isParallel(this.getNormal(), precision))\r\n        { return true; }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 获取与直线交点\r\n     *\r\n     * @see 3D数学基础：图形与游戏开发 P269\r\n     */\r\n    intersectWithLine3(line: Line3)\r\n    {\r\n        const n = this.getNormal();\r\n        const d = line.direction;\r\n        const dn = d.dot(n);\r\n\r\n        if (mathUtil.equals(dn, 0))\r\n        {\r\n            // 处理直线在平面内\r\n            if (this.onWithPoint(line.origin))\r\n            { return line.clone(); }\r\n\r\n            return null;\r\n        }\r\n        const t = (-this.d - line.origin.dot(n)) / dn;\r\n        const cp = line.getPoint(t);\r\n\r\n        return cp;\r\n    }\r\n\r\n    /**\r\n     * 获取与平面相交直线\r\n     * @param plane3D\r\n     */\r\n    intersectWithPlane3D(plane3D: Plane)\r\n    {\r\n        if (this.parallelWithPlane3D(plane3D))\r\n        { return null; }\r\n        const direction = this.getNormal().crossTo(plane3D.getNormal());\r\n        const a0 = this.a;\r\n        const b0 = this.b;\r\n        const c0 = this.c;\r\n        const d0 = this.d;\r\n        const a1 = plane3D.a;\r\n        const b1 = plane3D.b;\r\n        const c1 = plane3D.c;\r\n        const d1 = plane3D.d;\r\n\r\n        let x: number;\r\n        let y: number;\r\n        let z: number;\r\n        // 解 方程组 a0*x+b0*y+c0*z+d0=0;a1*x+b1*y+c1*z+d1=0;\r\n\r\n        if ((b1 * c0) - (b0 * c1) !== 0)\r\n        {\r\n            x = 0;\r\n            y = (-(c0 * d1) + (c1 * d0) + (((a0 * c1) - (a1 * c0)) * x)) / ((b1 * c0) - (b0 * c1));\r\n            z = (-(b1 * d0) + (b0 * d1) + (((a1 * b0) - (a0 * b1)) * x)) / ((b1 * c0) - (b0 * c1));\r\n        }\r\n        else if ((a0 * c1) - (a1 * c0) !== 0)\r\n        {\r\n            y = 0;\r\n            x = (-(c1 * d0) + (c0 * d1) + (((b1 * c0) - (b0 * c1)) * y)) / ((a0 * c1) - (a1 * c0));\r\n            z = (-(a0 * d1) + (a1 * d0) + (((a1 * b0) - (a0 * b1)) * y)) / ((a0 * c1) - (a1 * c0));\r\n        }\r\n        else if ((a1 * b0) - (a0 * b1) !== 0)\r\n        {\r\n            z = 0;\r\n            x = (-(b0 * d1) + (b1 * d0) + (((b1 * c0) - (b0 * c1)) * z)) / ((a1 * b0) - (a0 * b1));\r\n            y = (-(a1 * d0) + (a0 * d1) + (((a0 * c1) - (a1 * c0)) * z)) / ((a1 * b0) - (a0 * b1));\r\n        }\r\n        else\r\n        {\r\n            throw '无法计算平面相交结果';\r\n        }\r\n\r\n        return new Line3(new Vector3(x, y, z), direction);\r\n    }\r\n\r\n    /**\r\n     * 标准化\r\n     */\r\n    normalize()\r\n    {\r\n        const a = this.a;\r\n        const b = this.b;\r\n        const c = this.c;\r\n        const d = this.d;\r\n\r\n        const s = (a * a) + (b * b) + (c * c);\r\n\r\n        if (s > 0)\r\n        {\r\n            const invLen = 1 / Math.sqrt(s);\r\n\r\n            this.a = a * invLen;\r\n            this.b = b * invLen;\r\n            this.c = c * invLen;\r\n            this.d = d * invLen;\r\n        }\r\n        else\r\n        {\r\n            console.warn(`无效平面 ${this}`);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 翻转平面\r\n     */\r\n    negate()\r\n    {\r\n        this.a = -this.a;\r\n        this.b = -this.b;\r\n        this.c = -this.c;\r\n        this.d = -this.d;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 点到平面的投影\r\n     * @param point\r\n     */\r\n    projectPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        return this.getNormal(vout).scaleNumber(-this.distanceWithPoint(point)).add(point);\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近的点\r\n     * @param point 点\r\n     * @param vout 输出点\r\n     */\r\n    closestPointWithPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        return this.projectPoint(point, vout);\r\n    }\r\n\r\n    /**\r\n     * 与其他两平面相交于一点\r\n     *\r\n     * @param plane0\r\n     * @param plane1\r\n     *\r\n     * @see 3D数学基础：图形与游戏开发 P271\r\n     */\r\n    intersectWithTwoPlane3D(plane0: Plane, plane1: Plane)\r\n    {\r\n        const n1 = plane0.getNormal();\r\n        const n2 = plane1.getNormal();\r\n        const n3 = this.getNormal();\r\n\r\n        const d1 = -plane0.d;\r\n        const d2 = -plane1.d;\r\n        const d3 = -this.d;\r\n\r\n        const n1xn2 = n1.crossTo(n2);\r\n        const n2xn3 = n2.crossTo(n3);\r\n        const n3xn1 = n3.crossTo(n1);\r\n\r\n        let m = n1xn2.dot(n3);\r\n\r\n        if (mathUtil.equals(m, 0))\r\n        {\r\n            // 不存在交点或者不存在唯一的交点\r\n            return null;\r\n        }\r\n        m = 1 / m;\r\n        const p = n2xn3.scaleNumberTo(d1).add(n3xn1.scaleNumber(d2)).add(n1xn2.scaleNumber(d3)).scaleNumber(m);\r\n\r\n        return p;\r\n    }\r\n\r\n    /**\r\n     * 与指定平面是否相等\r\n     *\r\n     * @param plane\r\n     * @param precision\r\n     */\r\n    equals(plane: Plane, precision = mathUtil.PRECISION)\r\n    {\r\n        if (!mathUtil.equals(this.a - plane.a, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.b - plane.b, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.c - plane.c, 0, precision))\r\n        { return false; }\r\n        if (!mathUtil.equals(this.d - plane.d, 0, precision))\r\n        { return false; }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 复制\r\n     */\r\n    copy(plane: Plane)\r\n    {\r\n        this.a = plane.a;\r\n        this.b = plane.b;\r\n        this.c = plane.c;\r\n        this.d = plane.d;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Plane().copy(this);\r\n    }\r\n\r\n    /**\r\n     * 输出字符串\r\n     */\r\n    toString(): string\r\n    {\r\n        return `Plane3D [this.a:${this.a}, this.b:${this.b}, this.c:${this.c}, this.d:${this.d}]`;\r\n    }\r\n}\r\n// var v0 = new Vector3();\r\n// var v1 = new Vector3();\r\n// var v2 = new Vector3();\r\n\r\nLine3.prototype.getPlane = function getPlane(plane = new Plane())\r\n{\r\n    return plane.fromNormalAndPoint(Vector3.random().cross(this.direction), this.origin);\r\n};\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { Line3 } from './Line3';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 3D线段\r\n */\r\nexport class Segment3\r\n{\r\n    /**\r\n     * 初始化线段\r\n     * @param p0\r\n     * @param p1\r\n     */\r\n    static fromPoints(p0: Vector3, p1: Vector3)\r\n    {\r\n        return new Segment3(p0, p1);\r\n    }\r\n\r\n    /**\r\n     * 随机线段\r\n     */\r\n    static random()\r\n    {\r\n        return new Segment3(Vector3.random(), Vector3.random());\r\n    }\r\n\r\n    /**\r\n     * 线段起点\r\n     */\r\n    p0: Vector3;\r\n    /**\r\n     * 线段终点\r\n     */\r\n    p1: Vector3;\r\n\r\n    constructor(p0 = new Vector3(), p1 = new Vector3())\r\n    {\r\n        this.p0 = p0;\r\n        this.p1 = p1;\r\n    }\r\n\r\n    /**\r\n     * 线段长度\r\n     */\r\n    getLength()\r\n    {\r\n        return Math.sqrt(this.getLengthSquared());\r\n    }\r\n\r\n    /**\r\n     * 线段长度的平方\r\n     */\r\n    getLengthSquared()\r\n    {\r\n        return this.p0.distanceSquared(this.p1);\r\n    }\r\n\r\n    /**\r\n     * 获取线段所在直线\r\n     */\r\n    getLine(line = new Line3())\r\n    {\r\n        return line.fromPoints(this.p0.clone(), this.p1.clone());\r\n    }\r\n\r\n    /**\r\n     * 获取指定位置上的点，当position=0时返回p0，当position=1时返回p1\r\n     * @param position 线段上的位置\r\n     */\r\n    getPoint(position: number, pout = new Vector3()): Vector3\r\n    {\r\n        const newPoint: Vector3 = pout.copy(this.p0).add(this.p1.subTo(this.p0).scaleNumber(position));\r\n\r\n        return newPoint;\r\n    }\r\n\r\n    /**\r\n     * 判定点是否在线段上\r\n     * @param point\r\n     */\r\n    onWithPoint(point: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        return mathUtil.equals(this.getPointDistance(point), 0, precision);\r\n    }\r\n\r\n    /**\r\n     * 判定点是否投影在线段上\r\n     * @param point\r\n     */\r\n    projectOnWithPoint(point: Vector3)\r\n    {\r\n        let position = this.getPositionByPoint(point);\r\n\r\n        position = Number(position.toFixed(6));\r\n\r\n        return position >= 0 && position <= 1;\r\n    }\r\n\r\n    /**\r\n     * 获取点在线段上的位置，当点投影在线段上p0位置时返回0，当点投影在线段p1上时返回1\r\n     * @param point 点\r\n     */\r\n    getPositionByPoint(point: Vector3)\r\n    {\r\n        const vec = this.p1.subTo(this.p0);\r\n        const position = point.subTo(this.p0).dot(vec) / vec.lengthSquared;\r\n\r\n        return position;\r\n    }\r\n\r\n    /**\r\n     * 获取直线到点的法线（线段到点垂直方向）\r\n     * @param point 点\r\n     */\r\n    getNormalWithPoint(point: Vector3)\r\n    {\r\n        const direction = this.p1.subTo(this.p0);\r\n        const l1 = point.subTo(this.p0);\r\n        const n = direction.crossTo(l1).crossTo(direction).normalize();\r\n\r\n        return n;\r\n    }\r\n\r\n    /**\r\n     * 指定点到该线段距离，如果投影点不在线段上时，该距离为指定点到最近的线段端点的距离\r\n     * @param point 指定点\r\n     */\r\n    getPointDistanceSquare(point: Vector3)\r\n    {\r\n        const position = this.getPositionByPoint(point);\r\n\r\n        let lengthSquared: number;\r\n\r\n        if (position <= 0)\r\n        {\r\n            lengthSquared = point.subTo(this.p0).lengthSquared;\r\n        }\r\n        else if (position >= 1)\r\n        {\r\n            lengthSquared = point.subTo(this.p1).lengthSquared;\r\n        }\r\n        else\r\n        {\r\n            const s0 = point.subTo(this.p0).lengthSquared;\r\n            const s1 = position * position * this.p1.subTo(this.p0).lengthSquared;\r\n\r\n            lengthSquared = Math.abs(s0 - s1);\r\n        }\r\n\r\n        return lengthSquared;\r\n    }\r\n\r\n    /**\r\n     * 指定点到该线段距离，如果投影点不在线段上时，该距离为指定点到最近的线段端点的距离\r\n     * @param point 指定点\r\n     */\r\n    getPointDistance(point: Vector3)\r\n    {\r\n        let v = this.getPointDistanceSquare(point);\r\n\r\n        v = Math.sqrt(v);\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 与直线相交\r\n     * @param line 直线\r\n     */\r\n    intersectionWithLine(line: Line3)\r\n    {\r\n        const l = this.getLine();\r\n        const r = l.intersectWithLine3D(line);\r\n\r\n        if (!r) return null;\r\n        if (r instanceof Line3)\r\n        { return this.clone(); }\r\n        if (this.onWithPoint(r))\r\n        { return r; }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 与线段相交\r\n     * @param segment 直线\r\n     */\r\n    intersectionWithSegment(segment: Segment3)\r\n    {\r\n        const r = this.intersectionWithLine(segment.getLine());\r\n\r\n        if (!r) return null;\r\n        if (r instanceof Segment3)\r\n        {\r\n            const ps = [this.p0, this.p1].map((p) =>\r\n                segment.clampPoint(p));\r\n\r\n            if (this.onWithPoint(ps[0]))\r\n            { return Segment3.fromPoints(ps[0], ps[1]); }\r\n\r\n            return null;\r\n        }\r\n        if (this.onWithPoint(r))\r\n        { return r; }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近的点\r\n     * @param point 点\r\n     * @param vout 输出点\r\n     */\r\n    closestPointWithPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        this.getLine().closestPointWithPoint(point, vout);\r\n        if (this.onWithPoint(vout))\r\n        { return vout; }\r\n        if (point.distanceSquared(this.p0) < point.distanceSquared(this.p1))\r\n        { return vout.copy(this.p0); }\r\n\r\n        return vout.copy(this.p1);\r\n    }\r\n\r\n    /**\r\n     * 把点压缩到线段内\r\n     */\r\n    clampPoint(point: Vector3, pout = new Vector3())\r\n    {\r\n        return this.getPoint(mathUtil.clamp(this.getPositionByPoint(point), 0, 1), pout);\r\n    }\r\n\r\n    /**\r\n     * 判定线段是否相等\r\n     */\r\n    equals(segment: Segment3)\r\n    {\r\n        return (this.p0.equals(segment.p0) && this.p1.equals(segment.p1)) || (this.p0.equals(segment.p1) && this.p1.equals(segment.p0));\r\n    }\r\n\r\n    /**\r\n     * 复制\r\n     */\r\n    copy(segment: Segment3)\r\n    {\r\n        this.p0.copy(segment.p0);\r\n        this.p1.copy(segment.p1);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Segment3().copy(this);\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { Line3 } from './Line3';\r\nimport { Plane } from './Plane';\r\nimport { Segment3 } from './Segment3';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 三角形\r\n */\r\nexport class Triangle3\r\n{\r\n    /**\r\n     * 通过3顶点定义一个三角形\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    static fromPoints(p0: Vector3, p1: Vector3, p2: Vector3)\r\n    {\r\n        return new Triangle3().fromPoints(p0, p1, p2);\r\n    }\r\n\r\n    /**\r\n     * 从顶点数据初始化三角形\r\n     * @param positions 顶点数据\r\n     */\r\n    static fromPositions(positions: number[])\r\n    {\r\n        return new Triangle3().fromPositions(positions);\r\n    }\r\n\r\n    /**\r\n     * 随机三角形\r\n     * @param size 尺寸\r\n     */\r\n    static random(size = 1)\r\n    {\r\n        return new Triangle3(Vector3.random(size), Vector3.random(size), Vector3.random(size));\r\n    }\r\n\r\n    /**\r\n     * 三角形0号点\r\n     */\r\n    p0: Vector3;\r\n    /**\r\n     * 三角形1号点\r\n     */\r\n    p1: Vector3;\r\n    /**\r\n     * 三角形2号点\r\n     */\r\n    p2: Vector3;\r\n\r\n    /**\r\n     * 构造三角形\r\n     *\r\n     * @param p0 三角形0号点\r\n     * @param p1 三角形1号点\r\n     * @param p2 三角形2号点\r\n     */\r\n    constructor(p0 = new Vector3(), p1 = new Vector3(), p2 = new Vector3())\r\n    {\r\n        this.p0 = p0;\r\n        this.p1 = p1;\r\n        this.p2 = p2;\r\n    }\r\n\r\n    /**\r\n     * 三角形三个点\r\n     */\r\n    getPoints()\r\n    {\r\n        return [this.p0, this.p1, this.p2];\r\n    }\r\n\r\n    /**\r\n     * 三边\r\n     */\r\n    getSegments()\r\n    {\r\n        return [Segment3.fromPoints(this.p0, this.p1), Segment3.fromPoints(this.p1, this.p2), Segment3.fromPoints(this.p2, this.p0)];\r\n    }\r\n\r\n    /**\r\n     * 三角形所在平面\r\n     */\r\n    getPlane3d(pout = new Plane())\r\n    {\r\n        return pout.fromPoints(this.p0, this.p1, this.p2);\r\n    }\r\n\r\n    /**\r\n     * 获取法线\r\n     */\r\n    getNormal(vout = new Vector3())\r\n    {\r\n        return vout.copy(this.p1).sub(this.p0).cross(this.p2.subTo(this.p1)).normalize();\r\n    }\r\n\r\n    /**\r\n     * 重心,三条中线相交的点叫做重心。\r\n     */\r\n    getBarycenter(pout = new Vector3())\r\n    {\r\n        return pout.copy(this.p0).add(this.p1).add(this.p2).scaleNumber(1 / 3);\r\n    }\r\n\r\n    /**\r\n     * 外心，外切圆心,三角形三边的垂直平分线的交点，称为三角形外心。\r\n     * @see https://baike.baidu.com/item/%E4%B8%89%E8%A7%92%E5%BD%A2%E4%BA%94%E5%BF%83/218867\r\n     */\r\n    getCircumcenter(pout = new Vector3())\r\n    {\r\n        const a = this.p2.subTo(this.p1);\r\n        const b = this.p0.subTo(this.p2);\r\n        const c = this.p1.subTo(this.p0);\r\n        const d = 2 * c.crossTo(a).lengthSquared;\r\n        const a0 = -a.dot(a) * c.dot(b) / d;\r\n        const b0 = -b.dot(b) * c.dot(a) / d;\r\n        const c0 = -c.dot(c) * b.dot(a) / d;\r\n\r\n        return pout.copy(this.p0).scaleNumber(a0).add(this.p1.scaleNumberTo(b0)).add(this.p2.scaleNumberTo(c0));\r\n    }\r\n\r\n    /**\r\n     * 内心，内切圆心,三角形内心为三角形三条内角平分线的交点。\r\n     * @see https://baike.baidu.com/item/%E4%B8%89%E8%A7%92%E5%BD%A2%E4%BA%94%E5%BF%83/218867\r\n     */\r\n    getInnercenter(pout = new Vector3())\r\n    {\r\n        const a = this.p2.subTo(this.p1).length;\r\n        const b = this.p0.subTo(this.p2).length;\r\n        const c = this.p1.subTo(this.p0).length;\r\n\r\n        return pout.copy(this.p0).scaleNumber(a).add(this.p1.scaleNumberTo(b)).add(this.p2.scaleNumberTo(c))\r\n            .scaleNumber(1 / (a + b + c));\r\n    }\r\n\r\n    /**\r\n     * 垂心，三角形三边上的三条高或其延长线交于一点，称为三角形垂心。\r\n     * @see https://baike.baidu.com/item/%E4%B8%89%E8%A7%92%E5%BD%A2%E4%BA%94%E5%BF%83/218867\r\n     */\r\n    getOrthocenter(pout = new Vector3())\r\n    {\r\n        const a = this.p2.subTo(this.p1);\r\n        const b = this.p0.subTo(this.p2);\r\n        const c = this.p1.subTo(this.p0);\r\n        const a0 = a.dot(b) * a.dot(c);\r\n        const b0 = b.dot(c) * b.dot(a);\r\n        const c0 = c.dot(a) * c.dot(b);\r\n\r\n        return pout.copy(this.p0).scaleNumber(a0).add(this.p1.scaleNumberTo(b0)).add(this.p2.scaleNumberTo(c0))\r\n            .scaleNumber(1 / (a0 + b0 + c0));\r\n    }\r\n\r\n    /**\r\n     * 通过3顶点定义一个三角形\r\n     * @param p0 点0\r\n     * @param p1 点1\r\n     * @param p2 点2\r\n     */\r\n    fromPoints(p0: Vector3, p1: Vector3, p2: Vector3)\r\n    {\r\n        this.p0 = p0;\r\n        this.p1 = p1;\r\n        this.p2 = p2;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从顶点数据初始化三角形\r\n     * @param positions 顶点数据\r\n     */\r\n    fromPositions(positions: number[])\r\n    {\r\n        this.p0.set(positions[0], positions[1], positions[2]);\r\n        this.p1.set(positions[3], positions[4], positions[5]);\r\n        this.p2.set(positions[6], positions[7], positions[8]);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取三角形内的点\r\n     * @param p 三点的权重（重心坐标系坐标）\r\n     * @param pout 输出点\r\n     */\r\n    getPoint(p: Vector3, pout = new Vector3())\r\n    {\r\n        return pout.copy(this.p0).scaleNumber(p.x).add(this.p1.scaleNumberTo(p.y)).add(this.p2.scaleNumberTo(p.z));\r\n    }\r\n\r\n    /**\r\n     * 获取三角形内随机点\r\n     * @param pout 输出点\r\n     */\r\n    randomPoint(pout = new Vector3())\r\n    {\r\n        const a = Math.random();\r\n        const b = Math.random() * (1 - a);\r\n        const c = 1 - a - b;\r\n\r\n        return this.getPoint(new Vector3(a, b, c), pout);\r\n    }\r\n\r\n    /**\r\n     * 获取与直线相交，当直线与三角形不相交时返回null\r\n     */\r\n    intersectionWithLine(line: Line3)\r\n    {\r\n        const plane3d = this.getPlane3d();\r\n        const cross = plane3d.intersectWithLine3(line);\r\n\r\n        if (!cross)\r\n        { return null; }\r\n        if (cross instanceof Vector3)\r\n        {\r\n            if (this.onWithPoint(cross))\r\n            { return cross; }\r\n\r\n            return null;\r\n        }\r\n\r\n        // 直线分别于三边相交\r\n        let crossSegment: Segment3 = null;\r\n        const ps = this.getSegments().reduce((v: Vector3[], segment) =>\r\n        {\r\n            const r = segment.intersectionWithLine(line);\r\n\r\n            if (!r)\r\n            { return v; }\r\n            if (r instanceof Segment3)\r\n            {\r\n                crossSegment = r;\r\n\r\n                return v;\r\n            }\r\n            v.push(r);\r\n\r\n            return v;\r\n        }, []);\r\n\r\n        if (crossSegment)\r\n        { return crossSegment; }\r\n        if (ps.length === 0)\r\n        { return null; }\r\n        if (ps.length === 1)\r\n        { return ps[0]; }\r\n        if (ps[0].equals(ps[1]))\r\n        {\r\n            return ps[0];\r\n        }\r\n\r\n        return Segment3.fromPoints(ps[0], ps[1]);\r\n    }\r\n\r\n    /**\r\n     * 获取与线段相交\r\n     */\r\n    intersectionWithSegment(segment: Segment3)\r\n    {\r\n        const r = this.intersectionWithLine(segment.getLine());\r\n\r\n        if (!r) return null;\r\n        if (r instanceof Vector3)\r\n        {\r\n            if (segment.onWithPoint(r))\r\n            { return r; }\r\n\r\n            return null;\r\n        }\r\n        const p0 = segment.clampPoint(r.p0);\r\n        const p1 = segment.clampPoint(r.p1);\r\n\r\n        if (!r.onWithPoint(p0))\r\n        { return null; }\r\n        if (p0.equals(p1))\r\n        { return p0; }\r\n\r\n        return Segment3.fromPoints(p0, p1);\r\n    }\r\n\r\n    /**\r\n     * 判定点是否在三角形上\r\n     * @param p 点\r\n     * @param precision 精度，如果距离小于精度则判定为在三角形上\r\n     */\r\n    onWithPoint(p: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        const p0 = this.p0;\r\n        const p1 = this.p1;\r\n        const p2 = this.p2;\r\n\r\n        // 判断点是否在平面上\r\n        const dot = p0.subTo(p1).cross(p1.subTo(p2)).dot(p.subTo(p0));\r\n\r\n        if (!mathUtil.equals(dot, 0, precision))\r\n        { return false; }\r\n\r\n        // 求点的重心坐标系坐标\r\n        const bp = this.getBarycentricCoordinates(p);\r\n\r\n        // 当重心坐标系坐标任意分量小于0表示点在三角形外\r\n        precision = -precision;\r\n        if (bp.x < precision || bp.y < precision || bp.z < precision)\r\n        { return false; }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 求给出点的重心坐标系坐标\r\n     *\r\n     * @param p 点\r\n     * @param bp 用于接收重心坐标系坐标\r\n     *\r\n     * @returns 重心坐标系坐标\r\n     *\r\n     * @see 3D数学基础：图形与游戏开发 P252 P249\r\n     */\r\n    getBarycentricCoordinates(p: Vector3, bp = new Vector3())\r\n    {\r\n        const p0x = this.p0.x;\r\n        const p0y = this.p0.y;\r\n        const p0z = this.p0.z;\r\n        const p1x = this.p1.x;\r\n        const p1y = this.p1.y;\r\n        const p1z = this.p1.z;\r\n        const p2x = this.p2.x;\r\n        const p2y = this.p2.y;\r\n        const p2z = this.p2.z;\r\n\r\n        const d1x = p1x - p0x;\r\n        const d1y = p1y - p0y;\r\n        const d1z = p1z - p0z;\r\n        const d2x = p2x - p1x;\r\n        const d2y = p2y - p1y;\r\n        const d2z = p2z - p1z;\r\n\r\n        const nx = (d1y * d2z) - (d1z * d2y);\r\n        const ny = (d1z * d2x) - (d1x * d2z);\r\n        const nz = (d1x * d2y) - (d1y * d2x);\r\n\r\n        let u1: number;\r\n        let u2: number;\r\n        let u3: number;\r\n        let u4: number;\r\n        let v1: number;\r\n        let v2: number;\r\n        let v3: number;\r\n        let v4: number;\r\n\r\n        if ((Math.abs(nx) >= Math.abs(ny)) && (Math.abs(nx) >= Math.abs(nz)))\r\n        {\r\n            u1 = p0y - p2y;\r\n            u2 = p1y - p2y;\r\n            u3 = p.y - p0y;\r\n            u4 = p.y - p2y;\r\n            v1 = p0z - p2z;\r\n            v2 = p1z - p2z;\r\n            v3 = p.z - p0z;\r\n            v4 = p.z - p2z;\r\n        }\r\n        else if (Math.abs(ny) >= Math.abs(nz))\r\n        {\r\n            u1 = p0z - p2z;\r\n            u2 = p1z - p2z;\r\n            u3 = p.z - p0z;\r\n            u4 = p.z - p2z;\r\n            v1 = p0x - p2x;\r\n            v2 = p1x - p2x;\r\n            v3 = p.x - p0x;\r\n            v4 = p.x - p2x;\r\n        }\r\n        else\r\n        {\r\n            u1 = p0x - p2x;\r\n            u2 = p1x - p2x;\r\n            u3 = p.x - p0x;\r\n            u4 = p.x - p2x;\r\n            v1 = p0y - p2y;\r\n            v2 = p1y - p2y;\r\n            v3 = p.y - p0y;\r\n            v4 = p.y - p2y;\r\n        }\r\n        const denom = (v1 * u2) - (v2 * u1);\r\n        // if (mathUtil.equals(denom, 0))\r\n        // {\r\n        //     return null;\r\n        // }\r\n        const oneOverDenom = 1 / denom;\r\n\r\n        bp.x = ((v4 * u2) - (v2 * u4)) * oneOverDenom;\r\n        bp.y = ((v1 * u3) - (v3 * u1)) * oneOverDenom;\r\n        bp.z = 1 - bp.x - bp.y;\r\n\r\n        return bp;\r\n    }\r\n\r\n    /**\r\n     * 获取指定点分别占三个点的混合值\r\n     */\r\n    blendWithPoint(p: Vector3)\r\n    {\r\n        const n = this.p1.subTo(this.p0).crossTo(this.p2.subTo(this.p1));\r\n        const area = n.length;\r\n\r\n        n.normalize();\r\n        //\r\n        const n0 = this.p1.subTo(p).crossTo(this.p2.subTo(this.p1));\r\n        const area0 = n0.length;\r\n\r\n        n0.normalize();\r\n        const b0 = area0 / area * n.dot(n0);\r\n        //\r\n        const n1 = this.p2.subTo(p).crossTo(this.p0.subTo(this.p2));\r\n        const area1 = n1.length;\r\n\r\n        n1.normalize();\r\n        const b1 = area1 / area * n.dot(n1);\r\n        //\r\n        const n2 = this.p0.subTo(p).crossTo(this.p1.subTo(this.p0));\r\n        const area2 = n2.length;\r\n\r\n        n2.normalize();\r\n        const b2 = area2 / area * n.dot(n2);\r\n\r\n        return new Vector3(b0, b1, b2);\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近的点\r\n     * @param point 点\r\n     * @param vout 输出点\r\n     */\r\n    closestPointWithPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        this.getPlane3d().closestPointWithPoint(point, vout);\r\n        if (this.onWithPoint(vout))\r\n        { return vout; }\r\n        const p = this.getSegments().map((s) =>\r\n        {\r\n            const p = s.closestPointWithPoint(point);\r\n\r\n            return { point: p, d: point.distanceSquared(p) };\r\n        }).sort((a, b) => a.d - b.d)[0].point;\r\n\r\n        return vout.copy(p);\r\n    }\r\n\r\n    /**\r\n     * 与点最近距离\r\n     * @param point 点\r\n     */\r\n    distanceWithPoint(point: Vector3)\r\n    {\r\n        return this.closestPointWithPoint(point).distance(point);\r\n    }\r\n\r\n    /**\r\n     * 与点最近距离平方\r\n     * @param point 点\r\n     */\r\n    distanceSquaredWithPoint(point: Vector3)\r\n    {\r\n        return this.closestPointWithPoint(point).distanceSquared(point);\r\n    }\r\n\r\n    /**\r\n     * 用点分解（切割）三角形\r\n     */\r\n    decomposeWithPoint(p: Vector3)\r\n    {\r\n        if (!this.onWithPoint(p))\r\n        { return [this]; }\r\n        if (this.p0.equals(p) || this.p1.equals(p) || this.p2.equals(p))\r\n        { return [this]; }\r\n        if (Segment3.fromPoints(this.p0, this.p1).onWithPoint(p))\r\n        { return [Triangle3.fromPoints(this.p0, p, this.p2), Triangle3.fromPoints(p, this.p1, this.p2)]; }\r\n        if (Segment3.fromPoints(this.p1, this.p2).onWithPoint(p))\r\n        { return [Triangle3.fromPoints(this.p1, p, this.p0), Triangle3.fromPoints(p, this.p2, this.p0)]; }\r\n        if (Segment3.fromPoints(this.p2, this.p0).onWithPoint(p))\r\n        { return [Triangle3.fromPoints(this.p2, p, this.p1), Triangle3.fromPoints(p, this.p0, this.p1)]; }\r\n\r\n        return [Triangle3.fromPoints(p, this.p0, this.p1), Triangle3.fromPoints(p, this.p1, this.p2), Triangle3.fromPoints(p, this.p2, this.p0)];\r\n    }\r\n\r\n    /**\r\n     * 用点分解（切割）三角形\r\n     */\r\n    decomposeWithPoints(ps: Vector3[])\r\n    {\r\n        // 遍历顶点分割三角形\r\n        const ts = ps.reduce((v: Triangle3[], p) =>\r\n        {\r\n            // 使用点分割所有三角形\r\n            v = v.reduce((v0: Triangle3[], t) =>\r\n                v0.concat(t.decomposeWithPoint(p)), []);\r\n\r\n            return v;\r\n        }, [this]);\r\n\r\n        return ts;\r\n    }\r\n\r\n    /**\r\n     * 用线段分解（切割）三角形\r\n     * @param segment 线段\r\n     */\r\n    decomposeWithSegment(segment: Segment3)\r\n    {\r\n        const r = this.intersectionWithSegment(segment);\r\n\r\n        if (!r) return [this];\r\n        if (r instanceof Vector3)\r\n        {\r\n            return this.decomposeWithPoint(r);\r\n        }\r\n        const ts = this.decomposeWithPoints([r.p0, r.p1]);\r\n\r\n        return ts;\r\n    }\r\n\r\n    /**\r\n     * 用直线分解（切割）三角形\r\n     * @param line 直线\r\n     */\r\n    decomposeWithLine(line: Line3)\r\n    {\r\n        const r = this.intersectionWithLine(line);\r\n\r\n        if (!r) return [this];\r\n        if (r instanceof Vector3)\r\n        {\r\n            return this.decomposeWithPoint(r);\r\n        }\r\n        const ts = this.decomposeWithPoints([r.p0, r.p1]);\r\n\r\n        return ts;\r\n    }\r\n\r\n    /**\r\n     * 面积\r\n     */\r\n    area()\r\n    {\r\n        return this.p1.subTo(this.p0).crossTo(this.p2.subTo(this.p1)).length * 0.5;\r\n    }\r\n\r\n    /**\r\n     * 栅格化，点阵化为XYZ轴间距为1的点阵\r\n     */\r\n    rasterize()\r\n    {\r\n        const aabb = {\r\n            min: this.p0.clone().min(this.p1).min(this.p2),\r\n            max: this.p0.clone().max(this.p1).max(this.p2),\r\n        };\r\n\r\n        aabb.min.round();\r\n        aabb.max.round();\r\n        const point = new Vector3();\r\n        const result: number[] = [];\r\n\r\n        for (let x = aabb.min.x; x <= aabb.max.x; x++)\r\n        {\r\n            for (let y = aabb.min.y; y <= aabb.max.y; y++)\r\n            {\r\n                for (let z = aabb.min.z; z <= aabb.max.z; z++)\r\n                {\r\n                    // 判定是否在三角形上\r\n                    const onTri = this.onWithPoint(point.set(x, y, z), 0.5);\r\n\r\n                    if (onTri)\r\n                    {\r\n                        result.push(x, y, z);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 平移\r\n     * @param v 向量\r\n     */\r\n    translateVector3(v: Vector3)\r\n    {\r\n        this.p0.add(v);\r\n        this.p1.add(v);\r\n        this.p2.add(v);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 缩放\r\n     * @param v 缩放量\r\n     */\r\n    scaleVector3(v: Vector3)\r\n    {\r\n        this.p0.scale(v);\r\n        this.p1.scale(v);\r\n        this.p2.scale(v);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 自定义栅格化为点阵\r\n     * @param voxelSize 体素尺寸，点阵XYZ轴间距\r\n     * @param origin 原点，点阵中的某点正处于原点上，因此可以用作体素范围内的偏移\r\n     */\r\n    rasterizeCustom(voxelSize = new Vector3(1, 1, 1), origin = new Vector3())\r\n    {\r\n        const tri = this.clone().translateVector3(origin.negateTo()).scaleVector3(voxelSize.inverseTo());\r\n        const ps = tri.rasterize();\r\n        const vec = new Vector3();\r\n        const result: { xi: number, yi: number, zi: number, xv: number, yv: number, zv: number }[] = [];\r\n\r\n        ps.forEach((v, i) =>\r\n        {\r\n            if (i % 3 === 0)\r\n            {\r\n                vec.set(ps[i], ps[i + 1], ps[i + 2]).scale(voxelSize).add(origin);\r\n                result.push({ xi: ps[i], yi: ps[i + 1], zi: ps[i + 2], xv: vec.x, yv: vec.y, zv: vec.z });\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 复制\r\n     * @param triangle 三角形\r\n     */\r\n    copy(triangle: Triangle3)\r\n    {\r\n        this.p0.copy(triangle.p0);\r\n        this.p1.copy(triangle.p1);\r\n        this.p2.copy(triangle.p2);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Triangle3().copy(this);\r\n    }\r\n\r\n    /**\r\n     * 判断指定点是否在三角形内\r\n     *\r\n     * @param p0 三角形0号点\r\n     * @param p1 三角形1号点\r\n     * @param p2 三角形2号点\r\n     * @param p 指定点\r\n     */\r\n    static containsPoint(p0: Vector3, p1: Vector3, p2: Vector3, p: Vector3)\r\n    {\r\n        return new Triangle3(p0, p1, p2).onWithPoint(p);\r\n    }\r\n}\r\n","import { Matrix4x4 } from './Matrix4x4';\r\nimport { Plane } from './Plane';\r\nimport { Sphere } from './Sphere';\r\nimport { Triangle3 } from './Triangle3';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 轴向对称包围盒\r\n */\r\nexport class Box3\r\n{\r\n    /**\r\n     * 从一组顶点初始化包围盒\r\n     * @param positions 坐标数据列表\r\n     */\r\n    static formPositions(positions: number[])\r\n    {\r\n        return new Box3().formPositions(positions);\r\n    }\r\n\r\n    /**\r\n     * 从一组点初始化包围盒\r\n     * @param ps 点列表\r\n     */\r\n    static fromPoints(ps: Vector3[])\r\n    {\r\n        return new Box3().fromPoints(ps);\r\n    }\r\n\r\n    /**\r\n     * 随机包围盒\r\n     */\r\n    static random()\r\n    {\r\n        const min = Vector3.random();\r\n        const max = Vector3.random().add(min);\r\n\r\n        return new Box3(min, max);\r\n    }\r\n\r\n    /**\r\n     * 最小点\r\n     */\r\n    min: Vector3;\r\n    /**\r\n     * 最大点\r\n     */\r\n    max: Vector3;\r\n\r\n    /**\r\n     * 获取中心点\r\n     * @param vout 输出向量\r\n     */\r\n    getCenter(vout = new Vector3())\r\n    {\r\n        return vout.copy(this.min).add(this.max).scaleNumber(0.5);\r\n    }\r\n\r\n    /**\r\n     * 尺寸\r\n     */\r\n    getSize(vout = new Vector3())\r\n    {\r\n        return this.isEmpty() ? vout.set(0, 0, 0) : this.max.subTo(this.min, vout);\r\n    }\r\n\r\n    /**\r\n     * 创建包围盒\r\n     * @param min 最小点\r\n     * @param max 最大点\r\n     */\r\n    constructor(min = new Vector3(Number(Infinity), Number(Infinity), Number(Infinity)), max = new Vector3(-Infinity, -Infinity, -Infinity))\r\n    {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n\r\n    /**\r\n     * 初始化包围盒\r\n     * @param min 最小值\r\n     * @param max 最大值\r\n     */\r\n    init(min: Vector3, max: Vector3)\r\n    {\r\n        this.min = min;\r\n        this.max = max;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 缩放包围盒\r\n     *\r\n     * @param s 缩放系数\r\n     */\r\n    scale(s: Vector3)\r\n    {\r\n        this.min.scale(s);\r\n        this.max.scale(s);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为包围盒八个角所在点列表\r\n     */\r\n    toPoints(points?: Vector3[])\r\n    {\r\n        if (!points)\r\n        {\r\n            points = [\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n                new Vector3(),\r\n            ];\r\n        }\r\n\r\n        const min = this.min;\r\n        const max = this.max;\r\n\r\n        points[0].set(min.x, min.y, min.z);\r\n        points[1].set(max.x, min.y, min.z);\r\n        points[2].set(min.x, max.y, min.z);\r\n        points[3].set(min.x, min.y, max.z);\r\n        points[4].set(min.x, max.y, max.z);\r\n        points[5].set(max.x, min.y, max.z);\r\n        points[6].set(max.x, max.y, min.z);\r\n        points[7].set(max.x, max.y, max.z);\r\n\r\n        return points;\r\n    }\r\n\r\n    /**\r\n     * 从一组顶点初始化包围盒\r\n     * @param positions 坐标数据列表\r\n     */\r\n    formPositions(positions: number[])\r\n    {\r\n        let minX = Number(Infinity);\r\n        let minY = Number(Infinity);\r\n        let minZ = Number(Infinity);\r\n\r\n        let maxX = -Infinity;\r\n        let maxY = -Infinity;\r\n        let maxZ = -Infinity;\r\n\r\n        for (let i = 0, l = positions.length; i < l; i += 3)\r\n        {\r\n            const x = positions[i];\r\n            const y = positions[i + 1];\r\n            const z = positions[i + 2];\r\n\r\n            if (x < minX) minX = x;\r\n            if (y < minY) minY = y;\r\n            if (z < minZ) minZ = z;\r\n\r\n            if (x > maxX) maxX = x;\r\n            if (y > maxY) maxY = y;\r\n            if (z > maxZ) maxZ = z;\r\n        }\r\n\r\n        this.min.set(minX, minY, minZ);\r\n        this.max.set(maxX, maxY, maxZ);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从一组点初始化包围盒\r\n     * @param ps 点列表\r\n     */\r\n    fromPoints(ps: Vector3[])\r\n    {\r\n        this.empty();\r\n        ps.forEach((element) =>\r\n        {\r\n            this.expandByPoint(element);\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 包围盒内随机点\r\n     */\r\n    randomPoint(pout = new Vector3())\r\n    {\r\n        return pout.copy(this.min).lerp(this.max, Vector3.random());\r\n    }\r\n\r\n    /**\r\n     * 使用点扩张包围盒\r\n     * @param point 点\r\n     */\r\n    expandByPoint(point: Vector3)\r\n    {\r\n        this.min.min(point);\r\n        this.max.max(point);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param mat 矩阵\r\n     *\r\n     * @todo 优化\r\n     * @see 3D数学基础：图形与游戏开发 P288 AABB::setToTransformedBox\r\n     */\r\n    applyMatrix(mat: Matrix4x4)\r\n    {\r\n        if (this.isEmpty()) return this;\r\n\r\n        const points = this.toPoints().map((v) => v.applyMatrix4x4(mat));\r\n        this.fromPoints(points);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param mat 矩阵\r\n     */\r\n    applyMatrixTo(mat: Matrix4x4, out = new Box3())\r\n    {\r\n        return out.copy(this).applyMatrix(mat);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    clone(): Box3\r\n    {\r\n        return new Box3(this.min.clone(), this.max.clone());\r\n    }\r\n\r\n    /**\r\n     * 是否包含指定点\r\n     * @param p 点\r\n     */\r\n    containsPoint(p: Vector3)\r\n    {\r\n        return this.min.lessequal(p) && this.max.greaterequal(p);\r\n    }\r\n\r\n    /**\r\n     * 是否包含包围盒\r\n     * @param aabb 包围盒\r\n     */\r\n    contains(aabb: Box3)\r\n    {\r\n        return this.min.lessequal(aabb.min) && this.max.greaterequal(aabb.max);\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     * @param aabb 包围盒\r\n     */\r\n    copy(aabb: Box3)\r\n    {\r\n        this.min.copy(aabb.min);\r\n        this.max.copy(aabb.max);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 比较包围盒是否相等\r\n     * @param aabb 包围盒\r\n     */\r\n    equals(aabb: Box3)\r\n    {\r\n        return this.min.equals(aabb.min) && this.max.equals(aabb.max);\r\n    }\r\n\r\n    /**\r\n     * 平移\r\n     *\r\n     * @param offset 偏移量\r\n     */\r\n    translate(offset: Vector3)\r\n    {\r\n        this.min.add(offset);\r\n        this.max.add(offset);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 膨胀包围盒\r\n     * @param dx x方向膨胀量\r\n     * @param dy y方向膨胀量\r\n     * @param dz z方向膨胀量\r\n     */\r\n    inflate(dx: number, dy: number, dz: number)\r\n    {\r\n        this.min.x -= dx / 2;\r\n        this.min.y -= dy / 2;\r\n        this.min.z -= dz / 2;\r\n        this.max.x += dx / 2;\r\n        this.max.y += dy / 2;\r\n        this.max.z += dz / 2;\r\n    }\r\n\r\n    /**\r\n     * 膨胀包围盒\r\n     * @param delta 膨胀量\r\n     */\r\n    inflatePoint(delta: Vector3)\r\n    {\r\n        delta = delta.scaleNumberTo(0.5);\r\n        this.min.sub(delta);\r\n        this.max.add(delta);\r\n    }\r\n\r\n    /**\r\n     * 与包围盒相交\r\n     * @param aabb 包围盒\r\n     */\r\n    intersection(aabb: Box3)\r\n    {\r\n        const min = this.min.clampTo(aabb.min, aabb.max);\r\n        const max = this.max.clampTo(aabb.min, aabb.max);\r\n\r\n        if (this.containsPoint(min))\r\n        {\r\n            this.min.copy(min);\r\n            this.max.copy(max);\r\n\r\n            return this;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 与包围盒相交\r\n     * @param aabb 包围盒\r\n     */\r\n    intersectionTo(aabb: Box3, out = new Box3())\r\n    {\r\n        return out.copy(this).intersection(aabb);\r\n    }\r\n\r\n    /**\r\n     * 包围盒是否相交\r\n     * @param aabb 包围盒\r\n     */\r\n    intersects(aabb: Box3)\r\n    {\r\n        const b = this.intersectionTo(aabb);\r\n        const c = b.getCenter();\r\n\r\n        return this.containsPoint(c) && aabb.containsPoint(c);\r\n    }\r\n\r\n    /**\r\n     * 与射线相交\r\n     * @param position 射线起点\r\n     * @param direction 射线方向\r\n     * @param outTargetNormal 相交处法线\r\n     * @returns 起点到包围盒距离\r\n     *\r\n     * @todo 可用以下方法优化？\r\n     * @see 3D数学基础：图形与游戏开发 P290\r\n     */\r\n    rayIntersection(position: Vector3, direction: Vector3, outTargetNormal?: Vector3)\r\n    {\r\n        if (this.isEmpty())\r\n        { return Number.MAX_VALUE; }\r\n        if (this.containsPoint(position))\r\n        { return 0; }\r\n\r\n        const halfExtentsX = (this.max.x - this.min.x) / 2;\r\n        const halfExtentsY = (this.max.y - this.min.y) / 2;\r\n        const halfExtentsZ = (this.max.z - this.min.z) / 2;\r\n\r\n        const centerX = this.min.x + halfExtentsX;\r\n        const centerY = this.min.y + halfExtentsY;\r\n        const centerZ = this.min.z + halfExtentsZ;\r\n\r\n        const px = position.x - centerX;\r\n        const py = position.y - centerY;\r\n        const pz = position.z - centerZ;\r\n\r\n        const vx = direction.x;\r\n        const vy = direction.y;\r\n        const vz = direction.z;\r\n\r\n        let ix: number;\r\n        let iy: number;\r\n        let iz: number;\r\n        let rayEntryDistance = Number.MAX_VALUE;\r\n\r\n        // 射线与平面相交测试\r\n        let intersects = false;\r\n\r\n        if (vx < 0)\r\n        {\r\n            rayEntryDistance = (halfExtentsX - px) / vx;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                iy = py + rayEntryDistance * vy;\r\n                iz = pz + rayEntryDistance * vz;\r\n                if (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = 1;\r\n                        outTargetNormal.y = 0;\r\n                        outTargetNormal.z = 0;\r\n                    }\r\n\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n        if (!intersects && vx > 0)\r\n        {\r\n            rayEntryDistance = (-halfExtentsX - px) / vx;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                iy = py + rayEntryDistance * vy;\r\n                iz = pz + rayEntryDistance * vz;\r\n                if (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = -1;\r\n                        outTargetNormal.y = 0;\r\n                        outTargetNormal.z = 0;\r\n                    }\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n        if (!intersects && vy < 0)\r\n        {\r\n            rayEntryDistance = (halfExtentsY - py) / vy;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                ix = px + rayEntryDistance * vx;\r\n                iz = pz + rayEntryDistance * vz;\r\n                if (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = 0;\r\n                        outTargetNormal.y = 1;\r\n                        outTargetNormal.z = 0;\r\n                    }\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n        if (!intersects && vy > 0)\r\n        {\r\n            rayEntryDistance = (-halfExtentsY - py) / vy;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                ix = px + rayEntryDistance * vx;\r\n                iz = pz + rayEntryDistance * vz;\r\n                if (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = 0;\r\n                        outTargetNormal.y = -1;\r\n                        outTargetNormal.z = 0;\r\n                    }\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n        if (!intersects && vz < 0)\r\n        {\r\n            rayEntryDistance = (halfExtentsZ - pz) / vz;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                ix = px + rayEntryDistance * vx;\r\n                iy = py + rayEntryDistance * vy;\r\n                if (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = 0;\r\n                        outTargetNormal.y = 0;\r\n                        outTargetNormal.z = 1;\r\n                    }\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n        if (!intersects && vz > 0)\r\n        {\r\n            rayEntryDistance = (-halfExtentsZ - pz) / vz;\r\n            if (rayEntryDistance > 0)\r\n            {\r\n                ix = px + rayEntryDistance * vx;\r\n                iy = py + rayEntryDistance * vy;\r\n                if (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX)\r\n                {\r\n                    if (outTargetNormal)\r\n                    {\r\n                        outTargetNormal.x = 0;\r\n                        outTargetNormal.y = 0;\r\n                        outTargetNormal.z = -1;\r\n                    }\r\n                    intersects = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return intersects ? rayEntryDistance : Number.MAX_VALUE;\r\n    }\r\n\r\n    /**\r\n     * 获取包围盒上距离指定点最近的点\r\n     *\r\n     * @param point 指定点\r\n     * @param target 存储最近的点\r\n     */\r\n    closestPointToPoint(point: Vector3, target = new Vector3())\r\n    {\r\n        return this.clampPoint(point, target);\r\n    }\r\n\r\n    /**\r\n     * 清空包围盒\r\n     */\r\n    empty()\r\n    {\r\n        this.min.x = this.min.y = this.min.z = Number(Infinity);\r\n        this.max.x = this.max.y = this.max.z = -Infinity;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否为空\r\n     * 当体积为0时为空\r\n     */\r\n    isEmpty()\r\n    {\r\n        return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);\r\n    }\r\n\r\n    /**\r\n     * 偏移\r\n     * @param dx x轴偏移\r\n     * @param dy y轴偏移\r\n     * @param dz z轴偏移\r\n     */\r\n    offset(dx: number, dy: number, dz: number)\r\n    {\r\n        return this.offsetPosition(new Vector3(dx, dy, dz));\r\n    }\r\n\r\n    /**\r\n     * 偏移\r\n     * @param position 偏移量\r\n     */\r\n    offsetPosition(position: Vector3)\r\n    {\r\n        this.min.add(position);\r\n        this.max.add(position);\r\n\r\n        return this;\r\n    }\r\n\r\n    toString(): string\r\n    {\r\n        return `[AABB] (min=${this.min.toString()}, max=${this.max.toString()})`;\r\n    }\r\n\r\n    /**\r\n     * 联合包围盒\r\n     * @param aabb 包围盒\r\n     */\r\n    union(aabb: Box3)\r\n    {\r\n        this.min.min(aabb.min);\r\n        this.max.max(aabb.max);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否与球相交\r\n     * @param sphere 球\r\n     */\r\n    intersectsSphere(sphere: Sphere)\r\n    {\r\n        const closestPoint = new Vector3();\r\n\r\n        this.clampPoint(sphere.center, closestPoint);\r\n\r\n        return closestPoint.distanceSquared(sphere.center) <= (sphere.radius * sphere.radius);\r\n    }\r\n\r\n    /**\r\n     * 夹紧？\r\n     *\r\n     * @param point 点\r\n     * @param out 输出点\r\n     */\r\n    clampPoint(point: Vector3, out = new Vector3())\r\n    {\r\n        return out.copy(point).clamp(this.min, this.max);\r\n    }\r\n\r\n    /**\r\n     * 是否与平面相交\r\n     * @param plane 平面\r\n     */\r\n    intersectsPlane(plane: Plane)\r\n    {\r\n        let min = Infinity;\r\n        let max = -Infinity;\r\n\r\n        this.toPoints().forEach((p) =>\r\n        {\r\n            const d = plane.distanceWithPoint(p);\r\n\r\n            min = d < min ? d : min;\r\n            max = d > min ? d : min;\r\n        });\r\n\r\n        return min < 0 && max > 0;\r\n    }\r\n\r\n    /**\r\n     * 是否与三角形相交\r\n     * @param triangle 三角形\r\n     */\r\n    intersectsTriangle(triangle: Triangle3)\r\n    {\r\n        if (this.isEmpty())\r\n        {\r\n            return false;\r\n        }\r\n        // 计算包围盒中心和区段\r\n        const center = this.getCenter();\r\n        const extents = this.max.subTo(center);\r\n\r\n        // 把三角形顶点转换包围盒空间\r\n        const v0 = triangle.p0.subTo(center);\r\n        const v1 = triangle.p1.subTo(center);\r\n        const v2 = triangle.p2.subTo(center);\r\n\r\n        // 计算三边向量\r\n        const f0 = v1.subTo(v0);\r\n        const f1 = v2.subTo(v1);\r\n        const f2 = v0.subTo(v2);\r\n\r\n        // 测试三边向量分别所在三个轴面上的法线\r\n        let axes = [\r\n            0, -f0.z, f0.y, 0, -f1.z, f1.y, 0, -f2.z, f2.y,\r\n            f0.z, 0, -f0.x, f1.z, 0, -f1.x, f2.z, 0, -f2.x,\r\n            -f0.y, f0.x, 0, -f1.y, f1.x, 0, -f2.y, f2.x, 0\r\n        ];\r\n\r\n        if (!satForAxes(axes, v0, v1, v2, extents))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        // 测试三个面法线\r\n        axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\r\n        if (!satForAxes(axes, v0, v1, v2, extents))\r\n        {\r\n            return false;\r\n        }\r\n        // 检测三角形面法线\r\n        const triangleNormal = f0.crossTo(f1);\r\n\r\n        axes = [triangleNormal.x, triangleNormal.y, triangleNormal.z];\r\n\r\n        return satForAxes(axes, v0, v1, v2, extents);\r\n    }\r\n\r\n    /**\r\n    * 是否与指定长方体相交\r\n    *\r\n    * @param box3 长方体\r\n    */\r\n    overlaps(box3: Box3)\r\n    {\r\n        const l1 = this.min;\r\n        const u1 = this.max;\r\n        const l2 = box3.min;\r\n        const u2 = box3.max;\r\n\r\n        //      l2        u2\r\n        //      |---------|\r\n        // |--------|\r\n        // l1       u1\r\n\r\n        const overlapsX = ((l2.x <= u1.x && u1.x <= u2.x) || (l1.x <= u2.x && u2.x <= u1.x));\r\n        const overlapsY = ((l2.y <= u1.y && u1.y <= u2.y) || (l1.y <= u2.y && u2.y <= u1.y));\r\n        const overlapsZ = ((l2.z <= u1.z && u1.z <= u2.z) || (l1.z <= u2.z && u2.z <= u1.z));\r\n\r\n        return overlapsX && overlapsY && overlapsZ;\r\n    }\r\n\r\n    /**\r\n     * 转换为三角形列表\r\n     */\r\n    toTriangles(triangles: Triangle3[] = [])\r\n    {\r\n        const min = this.min;\r\n        const max = this.max;\r\n\r\n        triangles.push(\r\n            // 前\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, min.z), new Vector3(min.x, max.y, min.z), new Vector3(max.x, max.y, min.z)),\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, min.z), new Vector3(max.x, max.y, min.z), new Vector3(max.x, min.y, min.z)),\r\n            // 后\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, max.z), new Vector3(max.x, min.y, max.z), new Vector3(min.x, max.y, max.z)),\r\n            Triangle3.fromPoints(new Vector3(max.x, min.y, max.z), new Vector3(max.x, max.y, max.z), new Vector3(min.x, max.y, max.z)),\r\n            // 右\r\n            Triangle3.fromPoints(new Vector3(max.x, min.y, min.z), new Vector3(max.x, max.y, min.z), new Vector3(max.x, max.y, max.z)),\r\n            Triangle3.fromPoints(new Vector3(max.x, min.y, min.z), new Vector3(max.x, max.y, max.z), new Vector3(max.x, min.y, max.z)),\r\n            // 左\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, max.z), new Vector3(min.x, max.y, min.z), new Vector3(min.x, min.y, min.z)),\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, max.z), new Vector3(min.x, max.y, max.z), new Vector3(min.x, max.y, min.z)),\r\n            // 上\r\n            Triangle3.fromPoints(new Vector3(min.x, max.y, min.z), new Vector3(max.x, max.y, max.z), new Vector3(max.x, max.y, min.z)),\r\n            Triangle3.fromPoints(new Vector3(min.x, max.y, min.z), new Vector3(min.x, max.y, max.z), new Vector3(max.x, max.y, max.z)),\r\n            // 下\r\n            Triangle3.fromPoints(new Vector3(min.x, min.y, min.z), new Vector3(max.x, min.y, min.z), new Vector3(min.x, min.y, max.z)),\r\n            Triangle3.fromPoints(new Vector3(max.x, min.y, min.z), new Vector3(max.x, min.y, max.z), new Vector3(min.x, min.y, max.z)),\r\n        );\r\n\r\n        return triangles;\r\n    }\r\n}\r\n\r\n/**\r\n * 判断三角形三个点是否可能与包围盒在指定轴（列表）上投影相交\r\n *\r\n * @param axes\r\n * @param v0\r\n * @param v1\r\n * @param v2\r\n * @param extents\r\n */\r\nfunction satForAxes(axes: number[], v0: Vector3, v1: Vector3, v2: Vector3, extents: Vector3)\r\n{\r\n    for (let i = 0, j = axes.length - 3; i <= j; i += 3)\r\n    {\r\n        const testAxis = Vector3.fromArray(axes, i);\r\n        // 投影包围盒到指定轴的长度\r\n        const r = extents.x * Math.abs(testAxis.x) + extents.y * Math.abs(testAxis.y) + extents.z * Math.abs(testAxis.z);\r\n        // 投影三角形的三个点到指定轴\r\n        const p0 = v0.dot(testAxis);\r\n        const p1 = v1.dot(testAxis);\r\n        const p2 = v2.dot(testAxis);\r\n        // 三个点在包围盒投影外同侧\r\n\r\n        if (Math.min(p0, p1, p2) > r || Math.max(p0, p1, p2) < -r)\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n","import { Matrix4x4 } from './Matrix4x4';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Vector3 } from './Vector3';\r\n\r\ntype NmberArray9 = [\r\n    number, number, number,\r\n    number, number, number,\r\n    number, number, number,\r\n];\r\n\r\n/**\r\n * Matrix3x3 类表示一个转换矩阵，该矩阵确定二维 (2D) 显示对象的位置和方向。\r\n * 该矩阵可以执行转换功能，包括平移（沿 x 和 y 轴重新定位）、旋转和缩放（调整大小）。\r\n * ```\r\n *  ---                                   ---\r\n *  |   scaleX      0         0    |   x轴\r\n *  |     0       scaleY      0    |   y轴\r\n *  |     tx        ty        1    |   平移\r\n *  ---                                   ---\r\n *\r\n *  ---                                   ---\r\n *  |     0         1         2    |   x轴\r\n *  |     3         4         5    |   y轴\r\n *  |     6         7         8    |   平移\r\n *  ---                                   ---\r\n * ```\r\n */\r\nexport class Matrix3x3\r\n{\r\n    /**\r\n     * 长度为9的向量，包含所有的矩阵元素\r\n     */\r\n    elements: NmberArray9;\r\n\r\n    /**\r\n     * 构建3x3矩阵\r\n     *\r\n     * @param elements 九个元素的数组\r\n     */\r\n    constructor(elements: NmberArray9 = [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        0, 0, 1])\r\n    {\r\n        this.elements = elements;\r\n    }\r\n\r\n    set(elements: NmberArray9)\r\n    {\r\n        this.elements = elements;\r\n    }\r\n\r\n    /**\r\n     * 设置矩阵为单位矩阵\r\n     */\r\n    identity()\r\n    {\r\n        const e = this.elements;\r\n\r\n        e[0] = 1;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n\r\n        e[3] = 0;\r\n        e[4] = 1;\r\n        e[5] = 0;\r\n\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n        e[8] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 将所有元素设置为0\r\n     */\r\n    setZero()\r\n    {\r\n        const e = this.elements;\r\n\r\n        e[0] = 0;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n        e[3] = 0;\r\n        e[4] = 0;\r\n        e[5] = 0;\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n        e[8] = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 根据一个 Vector3 设置矩阵对角元素\r\n     *\r\n     * @param vec3\r\n     */\r\n    setTrace(vec3: Vector3)\r\n    {\r\n        const e = this.elements;\r\n\r\n        e[0] = vec3.x;\r\n        e[4] = vec3.y;\r\n        e[8] = vec3.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取矩阵对角元素\r\n     */\r\n    getTrace(target = new Vector3())\r\n    {\r\n        const e = this.elements;\r\n\r\n        target.x = e[0];\r\n        target.y = e[4];\r\n        target.z = e[8];\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 矩阵向量乘法\r\n     *\r\n     * @param v 要乘以的向量\r\n     * @param target 目标保存结果\r\n     */\r\n    vmult(v: Vector3, target = new Vector3())\r\n    {\r\n        const e = this.elements;\r\n        const x = v.x;\r\n        const y = v.y;\r\n        const z = v.z;\r\n\r\n        target.x = e[0] * x + e[1] * y + e[2] * z;\r\n        target.y = e[3] * x + e[4] * y + e[5] * z;\r\n        target.z = e[6] * x + e[7] * y + e[8] * z;\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 矩阵标量乘法\r\n     * @param s\r\n     */\r\n    smult(s: number)\r\n    {\r\n        for (let i = 0; i < this.elements.length; i++)\r\n        {\r\n            this.elements[i] *= s;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 矩阵乘法\r\n     * @param m 要从左边乘的矩阵。\r\n     */\r\n    mmult(m: Matrix3x3, target = new Matrix3x3())\r\n    {\r\n        for (let i = 0; i < 3; i++)\r\n        {\r\n            for (let j = 0; j < 3; j++)\r\n            {\r\n                let sum = 0.0;\r\n\r\n                for (let k = 0; k < 3; k++)\r\n                {\r\n                    sum += m.elements[i + k * 3] * this.elements[k + j * 3];\r\n                }\r\n                target.elements[i + j * 3] = sum;\r\n            }\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 缩放矩阵的每一列\r\n     *\r\n     * @param v\r\n     */\r\n    scale(v: Vector3, target = new Matrix3x3())\r\n    {\r\n        const e = this.elements;\r\n        const t = target.elements;\r\n\r\n        for (let i = 0; i !== 3; i++)\r\n        {\r\n            t[3 * i + 0] = v.x * e[3 * i + 0];\r\n            t[3 * i + 1] = v.y * e[3 * i + 1];\r\n            t[3 * i + 2] = v.z * e[3 * i + 2];\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 解决Ax = b\r\n     *\r\n     * @param b 右手边\r\n     * @param target 结果\r\n     */\r\n    solve(b: Vector3, target = new Vector3())\r\n    {\r\n        // Construct equations\r\n        const nr = 3; // num rows\r\n        const nc = 4; // num cols\r\n        const eqns: number[] = [];\r\n\r\n        let i: number;\r\n        for (i = 0; i < nr * nc; i++)\r\n        {\r\n            eqns.push(0);\r\n        }\r\n        let j: number;\r\n\r\n        for (i = 0; i < 3; i++)\r\n        {\r\n            for (j = 0; j < 3; j++)\r\n            {\r\n                eqns[i + nc * j] = this.elements[i + 3 * j];\r\n            }\r\n        }\r\n        eqns[3 + 4 * 0] = b.x;\r\n        eqns[3 + 4 * 1] = b.y;\r\n        eqns[3 + 4 * 2] = b.z;\r\n\r\n        // 计算矩阵的右上三角型——高斯消去法\r\n        let n = 3; const k = n; let\r\n            np;\r\n        const kp = 4; // num rows\r\n        let p: number;\r\n\r\n        do\r\n        {\r\n            i = k - n;\r\n            if (eqns[i + nc * i] === 0)\r\n            {\r\n                // the pivot is null, swap lines\r\n                for (j = i + 1; j < k; j++)\r\n                {\r\n                    if (eqns[i + nc * j] !== 0)\r\n                    {\r\n                        np = kp;\r\n                        do\r\n                        { // do ligne( i ) = ligne( i ) + ligne( k )\r\n                            p = kp - np;\r\n                            eqns[p + nc * i] += eqns[p + nc * j];\r\n                        } while (--np);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (eqns[i + nc * i] !== 0)\r\n            {\r\n                for (j = i + 1; j < k; j++)\r\n                {\r\n                    const multiplier = eqns[i + nc * j] / eqns[i + nc * i];\r\n\r\n                    np = kp;\r\n                    do\r\n                    { // do ligne( k ) = ligne( k ) - multiplier * ligne( i )\r\n                        p = kp - np;\r\n                        eqns[p + nc * j] = p <= i ? 0 : eqns[p + nc * j] - eqns[p + nc * i] * multiplier;\r\n                    } while (--np);\r\n                }\r\n            }\r\n        } while (--n);\r\n\r\n        // Get the solution\r\n        target.z = eqns[2 * nc + 3] / eqns[2 * nc + 2];\r\n        target.y = (eqns[Number(nc) + 3] - eqns[Number(nc) + 2] * target.z) / eqns[Number(nc) + 1];\r\n        target.x = (eqns[0 * nc + 3] - eqns[0 * nc + 2] * target.z - eqns[0 * nc + 1] * target.y) / eqns[0 * nc + 0];\r\n\r\n        if (isNaN(target.x) || isNaN(target.y) || isNaN(target.z) || target.x === Infinity || target.y === Infinity || target.z === Infinity)\r\n        {\r\n            throw `Could not solve equation! Got x=[${target.toString()}], b=[${b.toString()}], A=[${this.toString()}]`;\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 获取指定行列元素值\r\n     *\r\n     * @param row\r\n     * @param column\r\n     */\r\n    getElement(row: number, column: number)\r\n    {\r\n        return this.elements[column + 3 * row];\r\n    }\r\n\r\n    /**\r\n     * 设置指定行列元素值\r\n     *\r\n     * @param row\r\n     * @param column\r\n     * @param value\r\n     */\r\n    setElement(row: number, column: number, value: number)\r\n    {\r\n        this.elements[column + 3 * row] = value;\r\n    }\r\n\r\n    /**\r\n     * 将另一个矩阵复制到这个矩阵对象中\r\n     *\r\n     * @param source\r\n     */\r\n    copy(source: Matrix3x3)\r\n    {\r\n        for (let i = 0; i < source.elements.length; i++)\r\n        {\r\n            this.elements[i] = source.elements[i];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 返回矩阵的字符串表示形式\r\n     */\r\n    toString()\r\n    {\r\n        let r = '';\r\n        const sep = ',';\r\n\r\n        for (let i = 0; i < 9; i++)\r\n        {\r\n            r += this.elements[i] + sep;\r\n        }\r\n\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * 逆矩阵\r\n     */\r\n    reverse()\r\n    {\r\n        // Construct equations\r\n        const nr = 3; // num rows\r\n        const nc = 6; // num cols\r\n        const eqns = [];\r\n\r\n        let i: number;\r\n        let j: number;\r\n        for (let i = 0; i < nr * nc; i++)\r\n        {\r\n            eqns.push(0);\r\n        }\r\n\r\n        for (i = 0; i < 3; i++)\r\n        {\r\n            for (j = 0; j < 3; j++)\r\n            {\r\n                eqns[i + nc * j] = this.elements[i + 3 * j];\r\n            }\r\n        }\r\n        eqns[3 + 6 * 0] = 1;\r\n        eqns[3 + 6 * 1] = 0;\r\n        eqns[3 + 6 * 2] = 0;\r\n        eqns[4 + 6 * 0] = 0;\r\n        eqns[4 + 6 * 1] = 1;\r\n        eqns[4 + 6 * 2] = 0;\r\n        eqns[5 + 6 * 0] = 0;\r\n        eqns[5 + 6 * 1] = 0;\r\n        eqns[5 + 6 * 2] = 1;\r\n\r\n        // Compute right upper triangular version of the matrix - Gauss elimination\r\n        let n = 3; const k = n; let\r\n            np: number;\r\n        const kp = nc; // num rows\r\n        let p: number;\r\n\r\n        do\r\n        {\r\n            i = k - n;\r\n            if (eqns[i + nc * i] === 0)\r\n            {\r\n                // the pivot is null, swap lines\r\n                for (j = i + 1; j < k; j++)\r\n                {\r\n                    if (eqns[i + nc * j] !== 0)\r\n                    {\r\n                        np = kp;\r\n                        do\r\n                        { // do line( i ) = line( i ) + line( k )\r\n                            p = kp - np;\r\n                            eqns[p + nc * i] += eqns[p + nc * j];\r\n                        } while (--np);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (eqns[i + nc * i] !== 0)\r\n            {\r\n                for (j = i + 1; j < k; j++)\r\n                {\r\n                    const multiplier = eqns[i + nc * j] / eqns[i + nc * i];\r\n\r\n                    np = kp;\r\n                    do\r\n                    { // do line( k ) = line( k ) - multiplier * line( i )\r\n                        p = kp - np;\r\n                        eqns[p + nc * j] = p <= i ? 0 : eqns[p + nc * j] - eqns[p + nc * i] * multiplier;\r\n                    } while (--np);\r\n                }\r\n            }\r\n        } while (--n);\r\n\r\n        // eliminate the upper left triangle of the matrix\r\n        i = 2;\r\n        do\r\n        {\r\n            j = i - 1;\r\n            do\r\n            {\r\n                const multiplier = eqns[i + nc * j] / eqns[i + nc * i];\r\n\r\n                np = nc;\r\n                do\r\n                {\r\n                    p = nc - np;\r\n                    eqns[p + nc * j] = eqns[p + nc * j] - eqns[p + nc * i] * multiplier;\r\n                } while (--np);\r\n            } while (j--);\r\n        } while (--i);\r\n\r\n        // operations on the diagonal\r\n        i = 2;\r\n        do\r\n        {\r\n            const multiplier = 1 / eqns[i + nc * i];\r\n\r\n            np = nc;\r\n            do\r\n            {\r\n                p = nc - np;\r\n                eqns[p + nc * i] = eqns[p + nc * i] * multiplier;\r\n            } while (--np);\r\n        } while (i--);\r\n\r\n        i = 2;\r\n        do\r\n        {\r\n            j = 2;\r\n            do\r\n            {\r\n                p = eqns[nr + j + nc * i];\r\n                if (isNaN(p) || p === Infinity)\r\n                {\r\n                    throw `Could not reverse! A=[${this.toString()}]`;\r\n                }\r\n                this.setElement(i, j, p);\r\n            } while (j--);\r\n        } while (i--);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 逆矩阵\r\n     */\r\n    reverseTo(target = new Matrix3x3())\r\n    {\r\n        return target.copy(this).reverse();\r\n    }\r\n\r\n    /**\r\n     * 从四元数设置矩阵\r\n     *\r\n     * @param q\r\n     */\r\n    setRotationFromQuaternion(q: Quaternion)\r\n    {\r\n        const x = q.x; const y = q.y; const z = q.z; const w = q.w;\r\n        const x2 = x + x; const y2 = y + y; const z2 = z + z;\r\n        const xx = x * x2; const xy = x * y2; const xz = x * z2;\r\n        const yy = y * y2; const yz = y * z2; const zz = z * z2;\r\n        const wx = w * x2; const wy = w * y2; const wz = w * z2;\r\n        const e = this.elements;\r\n\r\n        e[3 * 0 + 0] = 1 - (yy + zz);\r\n        e[3 * 0 + 1] = xy - wz;\r\n        e[3 * 0 + 2] = xz + wy;\r\n\r\n        e[3 * 1 + 0] = xy + wz;\r\n        e[3 * 1 + 1] = 1 - (xx + zz);\r\n        e[3 * 1 + 2] = yz - wx;\r\n\r\n        e[3 * 2 + 0] = xz - wy;\r\n        e[3 * 2 + 1] = yz + wx;\r\n        e[3 * 2 + 2] = 1 - (xx + yy);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转置矩阵\r\n     */\r\n    transpose()\r\n    {\r\n        const Mt = this.elements;\r\n        const M = this.elements.concat();\r\n\r\n        for (let i = 0; i !== 3; i++)\r\n        {\r\n            for (let j = 0; j !== 3; j++)\r\n            {\r\n                Mt[3 * i + j] = M[3 * j + i];\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转置矩阵\r\n     */\r\n    transposeTo(target = new Matrix3x3())\r\n    {\r\n        return target.copy(this).transpose();\r\n    }\r\n\r\n    formMatrix4x4(matrix4x4: Matrix4x4)\r\n    {\r\n        const arr4 = matrix4x4.elements;\r\n        const arr3 = this.elements;\r\n\r\n        arr3[0] = arr4[0];\r\n        arr3[1] = arr4[1];\r\n        arr3[2] = arr4[2];\r\n\r\n        arr3[3] = arr4[4];\r\n        arr3[4] = arr4[5];\r\n        arr3[5] = arr4[6];\r\n\r\n        arr3[6] = arr4[8];\r\n        arr3[7] = arr4[9];\r\n        arr3[8] = arr4[10];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为4x4矩阵\r\n     *\r\n     * @param outMatrix4x4 4x4矩阵\r\n     */\r\n    toMatrix4x4(outMatrix4x4: Matrix4x4)\r\n    {\r\n        const outdata = outMatrix4x4.elements;\r\n        const indata = this.elements;\r\n\r\n        outdata[0] = indata[0];\r\n        outdata[1] = indata[1];\r\n        outdata[2] = 0;\r\n        outdata[3] = 0;\r\n\r\n        outdata[4] = indata[3];\r\n        outdata[5] = indata[4];\r\n        outdata[6] = 0;\r\n        outdata[7] = 0;\r\n\r\n        outdata[8] = 0;\r\n        outdata[9] = 0;\r\n        outdata[10] = 1;\r\n        outdata[11] = 0;\r\n\r\n        outdata[12] = indata[6];\r\n        outdata[13] = indata[7];\r\n        outdata[14] = 0;\r\n        outdata[15] = 1;\r\n\r\n        return outMatrix4x4;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     * @param array 数组\r\n     * @param offset 偏移\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        this.elements.forEach((v, i) =>\r\n        {\r\n            array[offset + i] = v;\r\n        });\r\n\r\n        return array;\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { RotationOrder } from '../enums/RotationOrder';\r\nimport type { Matrix4x4 } from './Matrix4x4';\r\nimport { Vector3 } from './Vector3';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsQuaternion\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface Quaternion extends MixinsQuaternion { }\r\n\r\n/**\r\n * 可用于表示旋转的四元数对象\r\n */\r\nexport class Quaternion\r\n{\r\n    static fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        return new Quaternion().fromArray(array, offset);\r\n    }\r\n\r\n    /**\r\n     * 随机四元数\r\n     */\r\n    static random()\r\n    {\r\n        return new Quaternion().fromEuler(Math.PI * 2 * Math.random(), Math.PI * 2 * Math.random(), Math.PI * 2 * Math.random());\r\n    }\r\n\r\n    /**\r\n     * 虚基向量i的乘子\r\n     */\r\n    @serialize\r\n    x = 0;\r\n\r\n    /**\r\n     * 虚基向量j的乘子\r\n     */\r\n    @serialize\r\n    y = 0;\r\n\r\n    /**\r\n     * 虚基向量k的乘子\r\n     */\r\n    @serialize\r\n    z = 0;\r\n\r\n    /**\r\n     * 实部的乘数\r\n     */\r\n    @serialize\r\n    w = 1;\r\n\r\n    /**\r\n     * 四元数描述三维空间中的旋转。四元数的数学定义为Q = x*i + y*j + z*k + w，其中(i,j,k)为虚基向量。(x,y,z)可以看作是一个与旋转轴相关的向量，而实际的乘法器w与旋转量相关。\r\n     *\r\n     * @param x 虚基向量i的乘子\r\n     * @param y 虚基向量j的乘子\r\n     * @param z 虚基向量k的乘子\r\n     * @param w 实部的乘数\r\n     */\r\n    constructor(x = 0, y = 0, z = 0, w = 1)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n    /**\r\n     * 返回四元数对象的大小\r\n     */\r\n    get magnitude(): number\r\n    {\r\n        return Math.sqrt((this.w * this.w) + (this.x * this.x) + (this.y * this.y) + (this.z * this.z));\r\n    }\r\n\r\n    /**\r\n     * 设置四元数的值。\r\n     *\r\n     * @param x 虚基向量i的乘子\r\n     * @param y 虚基向量j的乘子\r\n     * @param z 虚基向量k的乘子\r\n     * @param w 实部的乘数\r\n     */\r\n    set(x = 0, y = 0, z = 0, w = 1)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    fromArray(array: ArrayLike<number>, offset = 0)\r\n    {\r\n        this.x = array[offset];\r\n        this.y = array[offset + 1];\r\n        this.z = array[offset + 2];\r\n        this.w = array[offset + 3];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为数组\r\n     *\r\n     * @param array\r\n     * @param offset\r\n     */\r\n    toArray(array?: number[], offset = 0)\r\n    {\r\n        array = array || [];\r\n        array[offset] = this.x;\r\n        array[offset + 1] = this.y;\r\n        array[offset + 2] = this.z;\r\n        array[offset + 3] = this.w;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 四元数乘法\r\n     *\r\n     * @param q\r\n     * @param this\r\n     */\r\n    mult(q: Quaternion)\r\n    {\r\n        const ax = this.x;\r\n        const ay = this.y;\r\n        const az = this.z;\r\n        const aw = this.w;\r\n        const bx = q.x;\r\n        const by = q.y;\r\n        const bz = q.z;\r\n        const bw = q.w;\r\n\r\n        this.x = (ax * bw) + (aw * bx) + (ay * bz) - (az * by);\r\n        this.y = (ay * bw) + (aw * by) + (az * bx) - (ax * bz);\r\n        this.z = (az * bw) + (aw * bz) + (ax * by) - (ay * bx);\r\n        this.w = (aw * bw) - (ax * bx) - (ay * by) - (az * bz);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 四元数乘法\r\n     *\r\n     * @param q\r\n     * @param target\r\n     */\r\n    multTo(q: Quaternion, target = new Quaternion())\r\n    {\r\n        return target.copy(this).mult(q);\r\n    }\r\n\r\n    /**\r\n     * 获取逆四元数（共轭四元数）\r\n     */\r\n    inverse()\r\n    {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取逆四元数（共轭四元数）\r\n     *\r\n     * @param target\r\n     */\r\n    inverseTo(target = new Quaternion())\r\n    {\r\n        return target.copy(this).inverse();\r\n    }\r\n\r\n    multiplyVector(vector: Vector3, target = new Quaternion())\r\n    {\r\n        const x2 = vector.x;\r\n        const y2 = vector.y;\r\n        const z2 = vector.z;\r\n\r\n        target.w = -(this.x * x2) - (this.y * y2) - (this.z * z2);\r\n        target.x = (this.w * x2) + (this.y * z2) - (this.z * y2);\r\n        target.y = (this.w * y2) - (this.x * z2) + (this.z * x2);\r\n        target.z = (this.w * z2) + (this.x * y2) - (this.y * x2);\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 用表示给定绕向量旋转的值填充四元数对象。\r\n     *\r\n     * @param axis 要绕其旋转的轴\r\n     * @param angle 以弧度为单位的旋转角度。\r\n     */\r\n    fromAxisAngle(axis: Vector3, angle: number)\r\n    {\r\n        const sinA = Math.sin(angle / 2);\r\n        const cosA = Math.cos(angle / 2);\r\n\r\n        this.x = axis.x * sinA;\r\n        this.y = axis.y * sinA;\r\n        this.z = axis.z * sinA;\r\n        this.w = cosA;\r\n        this.normalize();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 将四元数转换为轴/角表示形式\r\n     *\r\n     * @param targetAxis 要重用的向量对象，用于存储轴\r\n     * @returns 一个数组，第一个元素是轴，第二个元素是弧度\r\n     */\r\n    toAxisAngle(targetAxis = new Vector3())\r\n    {\r\n        this.normalize(); // 如果w>1 acos和sqrt会产生错误，那么如果四元数被标准化，就不会发生这种情况\r\n        const angle = 2 * Math.acos(this.w);\r\n        const s = Math.sqrt(1 - (this.w * this.w)); // 假设四元数归一化了，那么w小于1，所以项总是正的。\r\n\r\n        if (s < 0.001)\r\n        { // 为了避免除以零，s总是正的，因为是根号\r\n            // 如果s接近于零，那么轴的方向就不重要了\r\n            targetAxis.x = this.x; // 如果轴归一化很重要，则用x=1替换;y = z = 0;\r\n            targetAxis.y = this.y;\r\n            targetAxis.z = this.z;\r\n        }\r\n        else\r\n        {\r\n            targetAxis.x = this.x / s; // 法线轴\r\n            targetAxis.y = this.y / s;\r\n            targetAxis.z = this.z / s;\r\n        }\r\n\r\n        return [targetAxis, angle];\r\n    }\r\n\r\n    /**\r\n     * 给定两个单位向量，设置四元数值。得到的旋转将是将u旋转到v所需要的旋转。\r\n     *\r\n     * @param u 表示起始方向的单位向量。\r\n     * @param v 表示终止方向的单位向量。\r\n     */\r\n    fromUnitVectors(u: Vector3, v: Vector3)\r\n    {\r\n        let r = u.dot(v) + 1;\r\n\r\n        if (r < mathUtil.PRECISION)\r\n        {\r\n            r = 0;\r\n\r\n            if (Math.abs(u.x) > Math.abs(u.z))\r\n            {\r\n                this.x = -u.y;\r\n                this.y = u.x;\r\n                this.z = 0;\r\n                this.w = r;\r\n            }\r\n            else\r\n            {\r\n                this.x = 0;\r\n                this.y = -u.z;\r\n                this.z = u.y;\r\n                this.w = r;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const a = u.crossTo(v);\r\n\r\n            this.x = a.x;\r\n            this.y = a.y;\r\n            this.z = a.z;\r\n            this.w = r;\r\n        }\r\n        this.normalize();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与目标四元数之间进行球面内插，提供了具有恒定角度变化率的旋转之间的内插。\r\n     * @param qb 目标四元素\r\n     * @param t 插值权值，一个介于0和1之间的值。\r\n     */\r\n    slerp(qb: Quaternion, t: number)\r\n    {\r\n        if (t === 0) return this;\r\n        if (t === 1) return this.copy(qb);\r\n\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n\r\n        // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\r\n\r\n        let cosHalfTheta = (w * qb.w) + (x * qb.x) + (y * qb.y) + (z * qb.z);\r\n\r\n        if (cosHalfTheta < 0)\r\n        {\r\n            this.w = -qb.w;\r\n            this.x = -qb.x;\r\n            this.y = -qb.y;\r\n            this.z = -qb.z;\r\n\r\n            cosHalfTheta = -cosHalfTheta;\r\n        }\r\n        else\r\n        {\r\n            this.copy(qb);\r\n        }\r\n\r\n        if (cosHalfTheta >= 1.0)\r\n        {\r\n            this.w = w;\r\n            this.x = x;\r\n            this.y = y;\r\n            this.z = z;\r\n\r\n            return this;\r\n        }\r\n\r\n        const sqrSinHalfTheta = 1.0 - (cosHalfTheta * cosHalfTheta);\r\n\r\n        if (sqrSinHalfTheta <= Number.EPSILON)\r\n        {\r\n            const s = 1 - t;\r\n\r\n            this.w = (s * w) + (t * this.w);\r\n            this.x = (s * x) + (t * this.x);\r\n            this.y = (s * y) + (t * this.y);\r\n            this.z = (s * z) + (t * this.z);\r\n\r\n            this.normalize();\r\n\r\n            return this;\r\n        }\r\n\r\n        const sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\r\n        const halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\r\n        const ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta;\r\n        const ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\r\n\r\n        this.w = ((w * ratioA) + (this.w * ratioB));\r\n        this.x = ((x * ratioA) + (this.x * ratioB));\r\n        this.y = ((y * ratioA) + (this.y * ratioB));\r\n        this.z = ((z * ratioA) + (this.z * ratioB));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与目标四元数之间进行球面内插，提供了具有恒定角度变化率的旋转之间的内插。\r\n     * @param qb 目标四元素\r\n     * @param t 插值权值，一个介于0和1之间的值。\r\n     * @param out 保存插值结果\r\n     */\r\n    slerpTo(qb: Quaternion, t: number, out = new Quaternion())\r\n    {\r\n        if (qb === out) qb = qb.clone();\r\n\r\n        return out.copy(this).slerp(qb, t);\r\n    }\r\n\r\n    /**\r\n     * 线性求插值\r\n     * @param qa 第一个四元素\r\n     * @param qb 第二个四元素\r\n     * @param t 权重\r\n     */\r\n    lerp(qa: Quaternion, qb: Quaternion, t: number)\r\n    {\r\n        const w1 = qa.w;\r\n        const x1 = qa.x;\r\n        const y1 = qa.y;\r\n        const z1 = qa.z;\r\n        let w2 = qb.w;\r\n        let x2 = qb.x;\r\n        let y2 = qb.y;\r\n        let z2 = qb.z;\r\n\r\n        // shortest direction\r\n        if ((w1 * w2) + (x1 * x2) + (y1 * y2) + (z1 * z2) < 0)\r\n        {\r\n            w2 = -w2;\r\n            x2 = -x2;\r\n            y2 = -y2;\r\n            z2 = -z2;\r\n        }\r\n\r\n        this.w = w1 + (t * (w2 - w1));\r\n        this.x = x1 + (t * (x2 - x1));\r\n        this.y = y1 + (t * (y2 - y1));\r\n        this.z = z1 + (t * (z2 - z1));\r\n\r\n        const len = 1.0 / Math.sqrt((this.w * this.w) + (this.x * this.x) + (this.y * this.y) + (this.z * this.z));\r\n\r\n        this.w *= len;\r\n        this.x *= len;\r\n        this.y *= len;\r\n        this.z *= len;\r\n    }\r\n\r\n    /**\r\n     * Fills a target Vector3 object with the Euler angles that form the rotation represented by this quaternion.\r\n     * @param target An optional Vector3 object to contain the Euler angles. If not provided, a new object is created.\r\n     * @returns The Vector3 containing the Euler angles.\r\n     */\r\n    toEulerAngles(target?: Vector3): Vector3\r\n    {\r\n        target = target || new Vector3();\r\n        target.x = Math.atan2(2 * ((this.w * this.x) + (this.y * this.z)), 1 - (2 * ((this.x * this.x) + (this.y * this.y))));\r\n        let asinvalue = 2 * ((this.w * this.y) - (this.z * this.x));\r\n        // 防止超出范围，获取NaN值\r\n\r\n        asinvalue = Math.max(-1, Math.min(asinvalue, 1));\r\n        target.y = Math.asin(asinvalue);\r\n        target.z = Math.atan2(2 * ((this.w * this.z) + (this.x * this.y)), 1 - (2 * ((this.y * this.y) + (this.z * this.z))));\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 四元数归一化\r\n     */\r\n    normalize(val = 1)\r\n    {\r\n        let l = (this.x * this.x) + (this.y * this.y) + (this.z * this.z) + (this.w * this.w);\r\n\r\n        if (l === 0)\r\n        {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n            this.w = 1;\r\n        }\r\n        else\r\n        {\r\n            l = Math.sqrt(l);\r\n            l = val / l;\r\n            this.x *= l;\r\n            this.y *= l;\r\n            this.z *= l;\r\n            this.w *= l;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 四元数归一化的近似。当quat已经几乎标准化时，效果最好。\r\n     *\r\n     * @see http://jsperf.com/fast-quaternion-normalization\r\n     * @author unphased, https://github.com/unphased\r\n     */\r\n    normalizeFast()\r\n    {\r\n        const f = (3.0 - ((this.x * this.x) + (this.y * this.y) + (this.z * this.z) + (this.w * this.w))) / 2.0;\r\n\r\n        if (f === 0)\r\n        {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n            this.w = 0;\r\n        }\r\n        else\r\n        {\r\n            this.x *= f;\r\n            this.y *= f;\r\n            this.z *= f;\r\n            this.w *= f;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为可读格式\r\n     */\r\n    toString()\r\n    {\r\n        return `{this.x:${this.x} this.y:${this.y} this.z:${this.z} this.w:${this.w}}`;\r\n    }\r\n\r\n    /**\r\n     * 从矩阵初始化四元素\r\n     *\r\n     * @param matrix 矩阵\r\n     */\r\n    fromMatrix(matrix: Matrix4x4)\r\n    {\r\n        const v: Vector3 = matrix.toTRS()[1];\r\n\r\n        this.fromEuler(v.x, v.y, v.z);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Quaternion(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    /**\r\n     * 旋转一个顶点\r\n     *\r\n     * @param point 被旋转的顶点\r\n     * @param target 旋转结果\r\n     */\r\n    rotatePoint(point: Vector3, target = new Vector3())\r\n    {\r\n        const x2 = point.x;\r\n        const y2 = point.y;\r\n        const z2 = point.z;\r\n\r\n        // p*q'\r\n        const w1 = -(this.x * x2) - (this.y * y2) - (this.z * z2);\r\n        const x1 = (this.w * x2) + (this.y * z2) - (this.z * y2);\r\n        const y1 = (this.w * y2) - (this.x * z2) + (this.z * x2);\r\n        const z1 = (this.w * z2) + (this.x * y2) - (this.y * x2);\r\n\r\n        target.x = -(w1 * this.x) + (x1 * this.w) - (y1 * this.z) + (z1 * this.y);\r\n        target.y = -(w1 * this.y) + (x1 * this.z) + (y1 * this.w) - (z1 * this.x);\r\n        target.z = -(w1 * this.z) - (x1 * this.y) + (y1 * this.x) + (z1 * this.w);\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 旋转一个绝对方向四元数给定一个角速度和一个时间步长\r\n     *\r\n     * @param angularVelocity\r\n     * @param dt\r\n     * @param angularFactor\r\n     */\r\n    integrate(angularVelocity: Vector3, dt: number, angularFactor: Vector3)\r\n    {\r\n        const ax = angularVelocity.x * angularFactor.x;\r\n        const ay = angularVelocity.y * angularFactor.y;\r\n        const az = angularVelocity.z * angularFactor.z;\r\n        const bx = this.x;\r\n        const by = this.y;\r\n        const bz = this.z;\r\n        const bw = this.w;\r\n\r\n        const halfDt = dt * 0.5;\r\n\r\n        this.x += halfDt * ((ax * bw) + (ay * bz) - (az * by));\r\n        this.y += halfDt * ((ay * bw) + (az * bx) - (ax * bz));\r\n        this.z += halfDt * ((az * bw) + (ax * by) - (ay * bx));\r\n        this.w += halfDt * (-(ax * bx) - (ay * by) - (az * bz));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 旋转一个绝对方向四元数给定一个角速度和一个时间步长\r\n     *\r\n     * @param angularVelocity\r\n     * @param dt\r\n     * @param angularFactor\r\n     * @param target\r\n     */\r\n    integrateTo(angularVelocity: Vector3, dt: number, angularFactor: Vector3, target = new Quaternion())\r\n    {\r\n        return target.copy(this).integrate(angularVelocity, dt, angularFactor);\r\n    }\r\n\r\n    /**\r\n     * 将源的值复制到此四元数\r\n     *\r\n     * @param q 要复制的四元数\r\n     */\r\n    copy(q: Quaternion)\r\n    {\r\n        this.x = q.x;\r\n        this.y = q.y;\r\n        this.z = q.z;\r\n        this.w = q.w;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the quaternion by a vector\r\n     * @param v\r\n     * @param target Optional\r\n     */\r\n    vmult(v: Vector3, target = new Vector3())\r\n    {\r\n        const x = v.x;\r\n        const y = v.y;\r\n        const z = v.z;\r\n\r\n        const qx = this.x;\r\n        const qy = this.y;\r\n        const qz = this.z;\r\n        const qw = this.w;\r\n\r\n        // q*v\r\n        const ix = (qw * x) + (qy * z) - (qz * y);\r\n        const iy = (qw * y) + (qz * x) - (qx * z);\r\n        const iz = (qw * z) + (qx * y) - (qy * x);\r\n        const iw = -(qx * x) - (qy * y) - (qz * z);\r\n\r\n        target.x = (ix * qw) + (iw * -qx) + (iy * -qz) - (iz * -qy);\r\n        target.y = (iy * qw) + (iw * -qy) + (iz * -qx) - (ix * -qz);\r\n        target.z = (iz * qw) + (iw * -qz) + (ix * -qy) - (iy * -qx);\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * Convert the quaternion to euler angle representation. Order: YZX, as this page describes: http://www.euclideanspace.com/maths/standards/index.htm\r\n     * @param target\r\n     * @param order Three-character string e.g. \"YZX\", which also is default.\r\n     */\r\n    toEuler(target: Vector3, order = 'YZX')\r\n    {\r\n        let heading: number;\r\n        let attitude: number;\r\n        let bank: number;\r\n        let test: number;\r\n        const x = this.x;\r\n        const y = this.y;\r\n        const z = this.z;\r\n        const w = this.w;\r\n\r\n        switch (order)\r\n        {\r\n            case 'YZX':\r\n                test = (x * y) + (z * w);\r\n\r\n                if (test > 0.499)\r\n                { // singularity at north pole\r\n                    heading = 2 * Math.atan2(x, w);\r\n                    attitude = Math.PI / 2;\r\n                    bank = 0;\r\n                }\r\n                if (test < -0.499)\r\n                { // singularity at south pole\r\n                    heading = -2 * Math.atan2(x, w);\r\n                    attitude = -Math.PI / 2;\r\n                    bank = 0;\r\n                }\r\n                if (isNaN(heading))\r\n                {\r\n                    const sqx = x * x;\r\n                    const sqy = y * y;\r\n                    const sqz = z * z;\r\n\r\n                    heading = Math.atan2((2 * y * w) - (2 * x * z), 1 - (2 * sqy) - (2 * sqz)); // Heading\r\n                    attitude = Math.asin(2 * test); // attitude\r\n                    bank = Math.atan2((2 * x * w) - (2 * y * z), 1 - (2 * sqx) - (2 * sqz)); // bank\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Euler order ${order} not supported yet.`);\r\n        }\r\n\r\n        target.y = heading;\r\n        target.z = attitude;\r\n        target.x = bank;\r\n    }\r\n\r\n    /**\r\n     * 从欧拉角初始化四元素。\r\n     *\r\n     * @param x 围绕X轴旋转角度。\r\n     * @param y 围绕Y轴旋转角度。\r\n     * @param z 围绕Z轴旋转角度。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     *\r\n     * @see http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\r\n     */\r\n    fromEuler(x: number, y: number, z: number, order: RotationOrder = mathUtil.DefaultRotationOrder)\r\n    {\r\n        // 角度转换为弧度\r\n        x = x * mathUtil.DEG2RAD;\r\n        y = y * mathUtil.DEG2RAD;\r\n        z = z * mathUtil.DEG2RAD;\r\n\r\n        const cosX = Math.cos(x / 2);\r\n        const coxY = Math.cos(y / 2);\r\n        const cosZ = Math.cos(z / 2);\r\n        const sinX = Math.sin(x / 2);\r\n        const sinY = Math.sin(y / 2);\r\n        const sinZ = Math.sin(z / 2);\r\n\r\n        if (order === RotationOrder.XYZ)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) + (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) - (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) + (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) - (sinX * sinY * sinZ);\r\n        }\r\n        else if (order === RotationOrder.YXZ)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) + (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) - (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) - (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) + (sinX * sinY * sinZ);\r\n        }\r\n        else if (order === RotationOrder.ZXY)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) - (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) + (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) + (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) - (sinX * sinY * sinZ);\r\n        }\r\n        else if (order === RotationOrder.ZYX)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) - (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) + (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) - (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) + (sinX * sinY * sinZ);\r\n        }\r\n        else if (order === RotationOrder.YZX)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) + (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) + (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) - (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) - (sinX * sinY * sinZ);\r\n        }\r\n        else if (order === RotationOrder.XZY)\r\n        {\r\n            this.x = (sinX * coxY * cosZ) - (cosX * sinY * sinZ);\r\n            this.y = (cosX * sinY * cosZ) - (sinX * coxY * sinZ);\r\n            this.z = (cosX * coxY * sinZ) + (sinX * sinY * cosZ);\r\n            this.w = (cosX * coxY * cosZ) + (sinX * sinY * sinZ);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 与指定四元素比较是否相等。\r\n     *\r\n     * @param v 比较的向量。\r\n     * @param precision 允许误差。\r\n     * @returns 相等返回true，否则false。\r\n     */\r\n    equals(v: Quaternion, precision = mathUtil.PRECISION)\r\n    {\r\n        // 四元素与四元素的负值等价。 {1,2,3,4} === {-1,-2,-3,-4}\r\n        if (this.x * v.x > 0)\r\n        {\r\n            if (!mathUtil.equals(this.x - v.x, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.y - v.y, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.z - v.z, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.w - v.w, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (!mathUtil.equals(this.x + v.x, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.y + v.y, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.z + v.z, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n            if (!mathUtil.equals(this.w + v.w, 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { Line3 } from './Line3';\r\n\r\n/**\r\n * 3D射线\r\n */\r\nexport class Ray3 extends Line3\r\n{\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { RotationOrder } from '../enums/RotationOrder';\r\nimport { Matrix3x3 } from './Matrix3x3';\r\nimport { Plane } from './Plane';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Ray3 } from './Ray3';\r\nimport { Vector3 } from './Vector3';\r\nimport { Vector4 } from './Vector4';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsQuaternion\r\n    {\r\n        toMatrix(target?: Matrix4x4): Matrix4x4\r\n    }\r\n}\r\n\r\n/**\r\n * 转换为矩阵\r\n *\r\n * @param target\r\n */\r\nQuaternion.prototype.toMatrix = function toMatrix(this: Quaternion, target = new Matrix4x4())\r\n{\r\n    const elements = target.elements;\r\n    const { x, y, z, w } = this;\r\n    //\r\n    const xy2 = 2 * x * y;\r\n    const xz2 = 2 * x * z;\r\n    const xw2 = 2 * x * w;\r\n    const yz2 = 2 * y * z;\r\n    const yw2 = 2 * y * w;\r\n    const zw2 = 2 * z * w;\r\n    const xx = x * x;\r\n    const yy = y * y;\r\n    const zz = z * z;\r\n    const ww = w * w;\r\n\r\n    elements[0] = xx - yy - zz + ww;\r\n    elements[4] = xy2 - zw2;\r\n    elements[8] = xz2 + yw2;\r\n    elements[12] = 0;\r\n    elements[1] = xy2 + zw2;\r\n    elements[5] = -xx + yy - zz + ww;\r\n    elements[9] = yz2 - xw2;\r\n    elements[13] = 0;\r\n    elements[2] = xz2 - yw2;\r\n    elements[6] = yz2 + xw2;\r\n    elements[10] = -xx - yy + zz + ww;\r\n    elements[14] = 0;\r\n    elements[3] = 0;\r\n    elements[7] = 0;\r\n    elements[11] = 0;\r\n    elements[15] = 1;\r\n\r\n    return target;\r\n};\r\n\r\ntype NmberArray16 = [\r\n    number, number, number, number,\r\n    number, number, number, number,\r\n    number, number, number, number,\r\n    number, number, number, number,\r\n];\r\n\r\n/**\r\n * Matrix4x4 类表示一个转换矩阵，该矩阵确定三维 (3D) 显示对象的位置和方向。\r\n * 该矩阵可以执行转换功能，包括平移（沿 x、y 和 z 轴重新定位）、旋转和缩放（调整大小）。\r\n * Matrix4x4 类还可以执行透视投影，这会将 3D 坐标空间中的点映射到二维 (2D) 视图。\r\n * ```\r\n *  ---                                   ---\r\n *  |   scaleX      0         0       0     |   x轴\r\n *  |     0       scaleY      0       0     |   y轴\r\n *  |     0         0       scaleZ    0     |   z轴\r\n *  |     tx        ty        tz      1     |   平移\r\n *  ---                                   ---\r\n *\r\n *  ---                                   ---\r\n *  |     0         1         2        3    |   x轴\r\n *  |     4         5         6        7    |   y轴\r\n *  |     8         9         10       11   |   z轴\r\n *  |     12        13        14       15   |   平移\r\n *  ---                                   ---\r\n * ```\r\n *\r\n * @see https://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/geom/Matrix3D.html\r\n * @see https://github.com/mrdoob/three.js/blob/dev/src/math/Matrix4.js\r\n * @see https://docs.unity3d.com/ScriptReference/Matrix4x4.html\r\n */\r\nexport class Matrix4x4\r\n{\r\n    /**\r\n     * 通过位移旋转缩放重组矩阵\r\n     *\r\n     * @param position 位移\r\n     * @param rotation 旋转角度，按照指定旋转顺序旋转角度。\r\n     * @param scale 缩放。\r\n     * @param order 旋转顺序。\r\n     */\r\n    static fromTRS(position: Vector3, rotation: Vector3, scale: Vector3, order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        return new Matrix4x4().fromTRS(position, rotation, scale, order);\r\n    }\r\n\r\n    /**\r\n     * 从轴与旋转角度创建矩阵\r\n     *\r\n     * @param axis 旋转轴\r\n     * @param degrees 角度\r\n     */\r\n    static fromAxisRotate(axis: Vector3, degrees: number)\r\n    {\r\n        return new Matrix4x4().fromAxisRotate(axis, degrees);\r\n    }\r\n\r\n    /**\r\n     * 从欧拉角旋转角度初始化矩阵。\r\n     *\r\n     * @param rx 用于沿 x 轴旋转对象的角度。\r\n     * @param ry 用于沿 y 轴旋转对象的角度。\r\n     * @param rz 用于沿 z 轴旋转对象的角度。\r\n     * @param order 绕轴旋转的顺序。\r\n     */\r\n    static fromRotation(rx: number, ry: number, rz: number, order = mathUtil.DefaultRotationOrder): Matrix4x4\r\n    {\r\n        return new Matrix4x4().fromRotation(rx, ry, rz, order);\r\n    }\r\n\r\n    /**\r\n     * 从四元素初始化矩阵。\r\n     *\r\n     * @param q 四元素\r\n     */\r\n    static fromQuaternion(q: Quaternion)\r\n    {\r\n        return new Matrix4x4().fromQuaternion(q);\r\n    }\r\n\r\n    /**\r\n     * 创建缩放矩阵\r\n     * @param sx 用于沿 x 轴缩放对象的乘数。\r\n     * @param sy 用于沿 y 轴缩放对象的乘数。\r\n     * @param sz 用于沿 z 轴缩放对象的乘数。\r\n     */\r\n    static fromScale(sx: number, sy: number, sz: number)\r\n    {\r\n        const rotationMat = new Matrix4x4([//\r\n            sx, 0.0, 0.0, 0, //\r\n            0.0, sy, 0.0, 0, //\r\n            0.0, 0.0, sz, 0, //\r\n            0.0, 0.0, 0.0, 1//\r\n        ]);\r\n\r\n        return rotationMat;\r\n    }\r\n\r\n    /**\r\n     * 创建位移矩阵\r\n     * @param x 沿 x 轴的增量平移。\r\n     * @param y 沿 y 轴的增量平移。\r\n     * @param z 沿 z 轴的增量平移。\r\n     */\r\n    static fromPosition(x: number, y: number, z: number)\r\n    {\r\n        const rotationMat: Matrix4x4 = new Matrix4x4([//\r\n            1, 0, 0, 0, //\r\n            0, 1, 0, 0, //\r\n            0, 0, 1, 0, //\r\n            x, y, z, 1//\r\n        ]);\r\n\r\n        return rotationMat;\r\n    }\r\n\r\n    /**\r\n     * 一个由 16 个数字组成的矢量，其中，每四个元素可以是 4x4 矩阵的一列。\r\n     */\r\n    @serialize\r\n    elements: NmberArray16;\r\n\r\n    /**\r\n     * 获取位移\r\n     *\r\n     * @param value 用于存储位移信息的向量\r\n     */\r\n    getPosition(value = new Vector3())\r\n    {\r\n        value.x = this.elements[12];\r\n        value.y = this.elements[13];\r\n        value.z = this.elements[14];\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 设置位移\r\n     *\r\n     * @param value 位移\r\n     */\r\n    setPosition(value: Vector3)\r\n    {\r\n        this.elements[12] = value.x;\r\n        this.elements[13] = value.y;\r\n        this.elements[14] = value.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取欧拉旋转角度。\r\n     *\r\n     * @param rotation 欧拉旋转角度。\r\n     * @param order 绕轴旋转的顺序。\r\n     */\r\n    getRotation(rotation = new Vector3(), order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        this.toTRS(new Vector3(), rotation, new Vector3(), order);\r\n\r\n        return rotation;\r\n    }\r\n\r\n    /**\r\n     * 设置欧拉旋转角度。\r\n     *\r\n     * @param rotation 欧拉旋转角度。\r\n     * @param order 绕轴旋转的顺序。\r\n     */\r\n    setRotation(rotation: Vector3, order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        const p = new Vector3();\r\n        const r = new Vector3();\r\n        const s = new Vector3();\r\n\r\n        this.toTRS(p, r, s, order);\r\n        r.copy(rotation);\r\n        this.fromTRS(p, r, s);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取缩放值。\r\n     *\r\n     * @param scale 用于存储缩放值的向量。\r\n     */\r\n    getScale(scale = new Vector3())\r\n    {\r\n        const rawData = this.elements;\r\n        const v = new Vector3();\r\n\r\n        scale.x = v.set(rawData[0], rawData[1], rawData[2]).length;\r\n        scale.y = v.set(rawData[4], rawData[5], rawData[6]).length;\r\n        scale.z = v.set(rawData[8], rawData[9], rawData[10]).length;\r\n\r\n        return scale;\r\n    }\r\n\r\n    /**\r\n     * 获取缩放值。\r\n     *\r\n     * @param scale 缩放值。\r\n     */\r\n    setScale(scale: Vector3)\r\n    {\r\n        const oldS = this.getScale();\r\n\r\n        const te = this.elements;\r\n        const sx = scale.x / oldS.x;\r\n        const sy = scale.y / oldS.y;\r\n        const sz = scale.z / oldS.z;\r\n\r\n        te[0] *= sx;\r\n        te[1] *= sx;\r\n        te[2] *= sx;\r\n        te[4] *= sy;\r\n        te[5] *= sy;\r\n        te[6] *= sy;\r\n        te[8] *= sz;\r\n        te[9] *= sz;\r\n        te[10] *= sz;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 一个用于确定矩阵是否可逆的数字。如果值为0则不可逆。\r\n     */\r\n    get determinant()\r\n    {\r\n        return (//\r\n            (((this.elements[0] * this.elements[5]) - (this.elements[4] * this.elements[1])) * ((this.elements[10] * this.elements[15]) - (this.elements[14] * this.elements[11]))) //\r\n            - (((this.elements[0] * this.elements[9]) - (this.elements[8] * this.elements[1])) * ((this.elements[6] * this.elements[15]) - (this.elements[14] * this.elements[7]))) //\r\n            + (((this.elements[0] * this.elements[13]) - (this.elements[12] * this.elements[1])) * ((this.elements[6] * this.elements[11]) - (this.elements[10] * this.elements[7]))) //\r\n            + (((this.elements[4] * this.elements[9]) - (this.elements[8] * this.elements[5])) * ((this.elements[2] * this.elements[15]) - (this.elements[14] * this.elements[3]))) //\r\n            - (((this.elements[4] * this.elements[13]) - (this.elements[12] * this.elements[5])) * ((this.elements[2] * this.elements[11]) - (this.elements[10] * this.elements[3]))) //\r\n            + (((this.elements[8] * this.elements[13]) - (this.elements[12] * this.elements[9])) * ((this.elements[2] * this.elements[7]) - (this.elements[6] * this.elements[3])))//\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 获取X轴向量\r\n     *\r\n     * @param out 保存X轴向量\r\n     */\r\n    getAxisX(out = new Vector3())\r\n    {\r\n        return out.set(this.elements[0], this.elements[1], this.elements[2]);\r\n    }\r\n\r\n    /**\r\n     * 设置X轴向量\r\n     *\r\n     * @param vector X轴向量\r\n     */\r\n    setAxisX(vector = new Vector3())\r\n    {\r\n        this.elements[0] = vector.x;\r\n        this.elements[1] = vector.y;\r\n        this.elements[2] = vector.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取Y轴向量\r\n     *\r\n     * @param out 保存Y轴向量\r\n     */\r\n    getAxisY(out = new Vector3())\r\n    {\r\n        return out.set(this.elements[4], this.elements[5], this.elements[6]);\r\n    }\r\n\r\n    /**\r\n     * 设置Y轴向量\r\n     *\r\n     * @param vector X轴向量\r\n     */\r\n    setAxisY(vector = new Vector3())\r\n    {\r\n        this.elements[4] = vector.x;\r\n        this.elements[5] = vector.y;\r\n        this.elements[6] = vector.z;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取Z轴向量\r\n     *\r\n     * @param out 保存Z轴向量\r\n     */\r\n    getAxisZ(out = new Vector3())\r\n    {\r\n        return out.set(this.elements[8], this.elements[9], this.elements[10]);\r\n    }\r\n\r\n    /**\r\n     * 创建 Matrix4x4 对象。\r\n     * @param rawData 一个由 16 个数字组成的矢量，其中，每四个元素可以是 4x4 矩阵的一列。\r\n     */\r\n    constructor(rawData: NmberArray16 = [\r\n        1, 0, 0, 0, //\r\n        0, 1, 0, 0, //\r\n        0, 0, 1, 0, //\r\n        0, 0, 0, 1, //\r\n    ])\r\n    {\r\n        this.elements = rawData;\r\n    }\r\n\r\n    /**\r\n     * 从欧拉角旋转角度初始化矩阵。\r\n     *\r\n     * @param rx 用于沿 x 轴旋转对象的角度。\r\n     * @param ry 用于沿 y 轴旋转对象的角度。\r\n     * @param rz 用于沿 z 轴旋转对象的角度。\r\n     * @param order 绕轴旋转的顺序。\r\n     */\r\n    fromRotation(rx: number, ry: number, rz: number, order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        this.fromTRS(new Vector3(), new Vector3(rx, ry, rz), new Vector3(1, 1, 1), order);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从四元素初始化矩阵。\r\n     *\r\n     * @param q 四元素\r\n     */\r\n    fromQuaternion(q: Quaternion)\r\n    {\r\n        q.toMatrix(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从轴与旋转角度创建矩阵\r\n     *\r\n     * @param axis 旋转轴\r\n     * @param degrees 角度\r\n     */\r\n    fromAxisRotate(axis: Vector3, degrees: number)\r\n    {\r\n        const n = axis.clone();\r\n\r\n        n.normalize();\r\n        const q = degrees * Math.PI / 180;\r\n\r\n        const sinq = Math.sin(q);\r\n        const cosq = Math.cos(q);\r\n        const lcosq = 1 - cosq;\r\n\r\n        const arr = [//\r\n            (n.x * n.x * lcosq) + cosq, (n.x * n.y * lcosq) + (n.z * sinq), (n.x * n.z * lcosq) - (n.y * sinq), 0, //\r\n            (n.x * n.y * lcosq) - (n.z * sinq), (n.y * n.y * lcosq) + cosq, (n.y * n.z * lcosq) + (n.x * sinq), 0, //\r\n            (n.x * n.z * lcosq) + (n.y * sinq), (n.y * n.z * lcosq) - (n.x * sinq), (n.z * n.z * lcosq) + cosq, 0, //\r\n            0, 0, 0, 1//\r\n        ];\r\n\r\n        arr.forEach((v, i) =>\r\n        {\r\n            this.elements[i] = v;\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过将另一个 Matrix4x4 对象与当前 Matrix4x4 对象相乘来后置一个矩阵。\r\n     */\r\n    append(lhs: Matrix4x4)\r\n    {\r\n        const m111 = this.elements[0];\r\n        const m121 = this.elements[4];\r\n        const m131 = this.elements[8];\r\n        const m141 = this.elements[12];\r\n        const m112 = this.elements[1];\r\n        const m122 = this.elements[5];\r\n        const m132 = this.elements[9];\r\n        const m142 = this.elements[13];\r\n        const m113 = this.elements[2];\r\n        const m123 = this.elements[6];\r\n        const m133 = this.elements[10];\r\n        const m143 = this.elements[14];\r\n        const m114 = this.elements[3];\r\n        const m124 = this.elements[7];\r\n        const m134 = this.elements[11];\r\n        const m144 = this.elements[15];\r\n\r\n        const m211 = lhs.elements[0];\r\n        const m221 = lhs.elements[4];\r\n        const m231 = lhs.elements[8];\r\n        const m241 = lhs.elements[12];\r\n        const m212 = lhs.elements[1];\r\n        const m222 = lhs.elements[5];\r\n        const m232 = lhs.elements[9];\r\n        const m242 = lhs.elements[13];\r\n        const m213 = lhs.elements[2];\r\n        const m223 = lhs.elements[6];\r\n        const m233 = lhs.elements[10];\r\n        const m243 = lhs.elements[14];\r\n        const m214 = lhs.elements[3];\r\n        const m224 = lhs.elements[7];\r\n        const m234 = lhs.elements[11];\r\n        const m244 = lhs.elements[15];\r\n\r\n        this.elements[0] = (m111 * m211) + (m112 * m221) + (m113 * m231) + (m114 * m241);\r\n        this.elements[1] = (m111 * m212) + (m112 * m222) + (m113 * m232) + (m114 * m242);\r\n        this.elements[2] = (m111 * m213) + (m112 * m223) + (m113 * m233) + (m114 * m243);\r\n        this.elements[3] = (m111 * m214) + (m112 * m224) + (m113 * m234) + (m114 * m244);\r\n\r\n        this.elements[4] = (m121 * m211) + (m122 * m221) + (m123 * m231) + (m124 * m241);\r\n        this.elements[5] = (m121 * m212) + (m122 * m222) + (m123 * m232) + (m124 * m242);\r\n        this.elements[6] = (m121 * m213) + (m122 * m223) + (m123 * m233) + (m124 * m243);\r\n        this.elements[7] = (m121 * m214) + (m122 * m224) + (m123 * m234) + (m124 * m244);\r\n\r\n        this.elements[8] = (m131 * m211) + (m132 * m221) + (m133 * m231) + (m134 * m241);\r\n        this.elements[9] = (m131 * m212) + (m132 * m222) + (m133 * m232) + (m134 * m242);\r\n        this.elements[10] = (m131 * m213) + (m132 * m223) + (m133 * m233) + (m134 * m243);\r\n        this.elements[11] = (m131 * m214) + (m132 * m224) + (m133 * m234) + (m134 * m244);\r\n\r\n        this.elements[12] = (m141 * m211) + (m142 * m221) + (m143 * m231) + (m144 * m241);\r\n        this.elements[13] = (m141 * m212) + (m142 * m222) + (m143 * m232) + (m144 * m242);\r\n        this.elements[14] = (m141 * m213) + (m142 * m223) + (m143 * m233) + (m144 * m243);\r\n        this.elements[15] = (m141 * m214) + (m142 * m224) + (m143 * m234) + (m144 * m244);\r\n\r\n        // eslint-disable-next-line use-isnan\r\n        console.assert((this.elements[0] !== NaN) && (this.elements[4] !== NaN) && (this.elements[8] !== NaN) && (this.elements[12] !== NaN));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上后置一个增量旋转。\r\n     * @param axis 旋转轴\r\n     * @param degrees 角度\r\n     * @param pivotPoint 旋转中心点\r\n     */\r\n    appendRotation(axis: Vector3, degrees: number, pivotPoint?: Vector3)\r\n    {\r\n        const rotationMat = Matrix4x4.fromAxisRotate(axis, degrees);\r\n\r\n        if (pivotPoint)\r\n        {\r\n            this.appendTranslation(-pivotPoint.x, -pivotPoint.y, -pivotPoint.z);\r\n        }\r\n\r\n        this.append(rotationMat);\r\n\r\n        if (pivotPoint)\r\n        {\r\n            this.appendTranslation(pivotPoint.x, pivotPoint.y, pivotPoint.z);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上后置一个增量缩放，沿 x、y 和 z 轴改变位置。\r\n     * @param sx 用于沿 x 轴缩放对象的乘数。\r\n     * @param sy 用于沿 y 轴缩放对象的乘数。\r\n     * @param sz 用于沿 z 轴缩放对象的乘数。\r\n     */\r\n    appendScale(sx: number, sy: number, sz: number)\r\n    {\r\n        const scaleMat = Matrix4x4.fromScale(sx, sy, sz);\r\n\r\n        this.append(scaleMat);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上后置一个增量平移，沿 x、y 和 z 轴重新定位。\r\n     * @param x 沿 x 轴的增量平移。\r\n     * @param y 沿 y 轴的增量平移。\r\n     * @param z 沿 z 轴的增量平移。\r\n     */\r\n    appendTranslation(x: number, y: number, z: number)\r\n    {\r\n        const m = this.elements;\r\n\r\n        m[0] += x * m[3];\r\n        m[4] += x * m[7];\r\n        m[8] += x * m[11];\r\n        m[12] += x * m[15];\r\n        m[1] += y * m[3];\r\n        m[5] += y * m[7];\r\n        m[9] += y * m[11];\r\n        m[13] += y * m[15];\r\n        m[2] += z * m[3];\r\n        m[6] += z * m[7];\r\n        m[10] += z * m[11];\r\n        m[14] += z * m[15];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 返回一个新 Matrix4x4 对象，它是与当前 Matrix4x4 对象完全相同的副本。\r\n     */\r\n    clone()\r\n    {\r\n        const matrix = new Matrix4x4();\r\n\r\n        matrix.copy(this);\r\n\r\n        return matrix;\r\n    }\r\n\r\n    /**\r\n     * 将源 Matrix4x4 对象中的所有矩阵数据复制到调用方 Matrix4x4 对象中。\r\n     * @param source 要从中复制数据的 Matrix4x4 对象。\r\n     */\r\n    copy(source: Matrix4x4)\r\n    {\r\n        for (let i = 0; i < 16; i++)\r\n        {\r\n            this.elements[i] = source.elements[i];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从数组中初始化\r\n     *\r\n     * @param array 包含矩阵数据的数组\r\n     * @param index 数组中的起始位置\r\n     * @param transpose 是否转置\r\n     */\r\n    fromArray(array: number[], index = 0, transpose = false)\r\n    {\r\n        if (array.length - index < 16)\r\n        {\r\n            throw new Error('vector参数数据长度不够！');\r\n        }\r\n        for (let i = 0; i < 16; i++)\r\n        {\r\n            this.elements[i] = array[index + i];\r\n        }\r\n        if (transpose)\r\n        {\r\n            this.transpose();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 将矩阵数据转换为数组\r\n     *\r\n     * @param array 保存矩阵数据的数组\r\n     * @param index 数组中的起始位置\r\n     * @param transpose 是否转置\r\n     */\r\n    toArray(array: number[] | Float32Array = [], index = 0, transpose = false)\r\n    {\r\n        if (transpose)\r\n        {\r\n            this.transpose();\r\n        }\r\n        for (let i = 0; i < 16; i++)\r\n        {\r\n            array[i + index] = this.elements[i];\r\n        }\r\n        if (transpose)\r\n        {\r\n            this.transpose();\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 随机矩阵。\r\n     */\r\n    random()\r\n    {\r\n        this.fromTRS(Vector3.random(), Vector3.random(), Vector3.random());\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过位移旋转缩放重组矩阵\r\n     *\r\n     * @param position 位移\r\n     * @param rotation 旋转角度，按照指定旋转顺序旋转角度。\r\n     * @param scale 缩放。\r\n     * @param order 旋转顺序。\r\n     */\r\n    fromTRS(position: Vector3, rotation: Vector3, scale: Vector3, order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        const m = this.elements;\r\n        //\r\n\r\n        m[11] = 0;\r\n        m[15] = 1;\r\n        //\r\n        rotation = rotation.scaleNumberTo(mathUtil.DEG2RAD);\r\n        const px = position.x;\r\n        const py = position.y;\r\n        const pz = position.z;\r\n        const rx = rotation.x;\r\n        const ry = rotation.y;\r\n        const rz = rotation.z;\r\n        const sx = scale.x;\r\n        const sy = scale.y;\r\n        const sz = scale.z;\r\n        //\r\n\r\n        m[12] = px;\r\n        m[13] = py;\r\n        m[14] = pz;\r\n        //\r\n        const cosX = Math.cos(rx);\r\n        const sinX = Math.sin(rx);\r\n        const cosY = Math.cos(ry);\r\n        const sinY = Math.sin(ry);\r\n        const cosZ = Math.cos(rz);\r\n        const sinZ = Math.sin(rz);\r\n\r\n        if (order === RotationOrder.XYZ)\r\n        {\r\n            const ae = cosX * cosZ;\r\n            const af = cosX * sinZ;\r\n            const be = sinX * cosZ;\r\n            const bf = sinX * sinZ;\r\n\r\n            m[0] = cosY * cosZ;\r\n            m[4] = -cosY * sinZ;\r\n            m[8] = sinY;\r\n\r\n            m[1] = af + (be * sinY);\r\n            m[5] = ae - (bf * sinY);\r\n            m[9] = -sinX * cosY;\r\n\r\n            m[2] = bf - (ae * sinY);\r\n            m[6] = be + (af * sinY);\r\n            m[10] = cosX * cosY;\r\n        }\r\n        else if (order === RotationOrder.YXZ)\r\n        {\r\n            const ce = cosY * cosZ;\r\n            const cf = cosY * sinZ;\r\n            const de = sinY * cosZ;\r\n            const df = sinY * sinZ;\r\n\r\n            m[0] = ce + (df * sinX);\r\n            m[4] = (de * sinX) - cf;\r\n            m[8] = cosX * sinY;\r\n\r\n            m[1] = cosX * sinZ;\r\n            m[5] = cosX * cosZ;\r\n            m[9] = -sinX;\r\n\r\n            m[2] = (cf * sinX) - de;\r\n            m[6] = df + (ce * sinX);\r\n            m[10] = cosX * cosY;\r\n        }\r\n        else if (order === RotationOrder.ZXY)\r\n        {\r\n            const ce = cosY * cosZ;\r\n            const cf = cosY * sinZ;\r\n            const de = sinY * cosZ;\r\n            const df = sinY * sinZ;\r\n\r\n            m[0] = ce - (df * sinX);\r\n            m[4] = -cosX * sinZ;\r\n            m[8] = de + (cf * sinX);\r\n\r\n            m[1] = cf + (de * sinX);\r\n            m[5] = cosX * cosZ;\r\n            m[9] = df - (ce * sinX);\r\n\r\n            m[2] = -cosX * sinY;\r\n            m[6] = sinX;\r\n            m[10] = cosX * cosY;\r\n        }\r\n        else if (order === RotationOrder.ZYX)\r\n        {\r\n            const ae = cosX * cosZ;\r\n            const af = cosX * sinZ;\r\n            const be = sinX * cosZ;\r\n            const bf = sinX * sinZ;\r\n\r\n            m[0] = cosY * cosZ;\r\n            m[4] = (be * sinY) - af;\r\n            m[8] = (ae * sinY) + bf;\r\n\r\n            m[1] = cosY * sinZ;\r\n            m[5] = (bf * sinY) + ae;\r\n            m[9] = (af * sinY) - be;\r\n\r\n            m[2] = -sinY;\r\n            m[6] = sinX * cosY;\r\n            m[10] = cosX * cosY;\r\n        }\r\n        else if (order === RotationOrder.YZX)\r\n        {\r\n            const ac = cosX * cosY;\r\n            const ad = cosX * sinY;\r\n            const bc = sinX * cosY;\r\n            const bd = sinX * sinY;\r\n\r\n            m[0] = cosY * cosZ;\r\n            m[4] = bd - (ac * sinZ);\r\n            m[8] = (bc * sinZ) + ad;\r\n\r\n            m[1] = sinZ;\r\n            m[5] = cosX * cosZ;\r\n            m[9] = -sinX * cosZ;\r\n\r\n            m[2] = -sinY * cosZ;\r\n            m[6] = (ad * sinZ) + bc;\r\n            m[10] = ac - (bd * sinZ);\r\n        }\r\n        else if (order === RotationOrder.XZY)\r\n        {\r\n            const ac = cosX * cosY;\r\n            const ad = cosX * sinY;\r\n            const bc = sinX * cosY;\r\n            const bd = sinX * sinY;\r\n\r\n            m[0] = cosY * cosZ;\r\n            m[4] = -sinZ;\r\n            m[8] = sinY * cosZ;\r\n\r\n            m[1] = (ac * sinZ) + bd;\r\n            m[5] = cosX * cosZ;\r\n            m[9] = (ad * sinZ) - bc;\r\n\r\n            m[2] = (bc * sinZ) - ad;\r\n            m[6] = sinX * cosZ;\r\n            m[10] = (bd * sinZ) + ac;\r\n        }\r\n        else\r\n        {\r\n            console.error(`初始化矩阵时错误旋转顺序 ${order}`);\r\n        }\r\n        //\r\n        m[0] *= sx;\r\n        m[1] *= sx;\r\n        m[2] *= sx;\r\n        m[4] *= sy;\r\n        m[5] *= sy;\r\n        m[6] *= sy;\r\n        m[8] *= sz;\r\n        m[9] *= sz;\r\n        m[10] *= sz;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 把矩阵分解为位移旋转缩放。\r\n     *\r\n     * @param position 位移\r\n     * @param rotation 旋转角度，按照指定旋转顺序旋转。\r\n     * @param scale 缩放。\r\n     * @param order 旋转顺序。\r\n     */\r\n    toTRS(position = new Vector3(), rotation = new Vector3(), scale = new Vector3(), order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        const clamp = mathUtil.clamp;\r\n        //\r\n        const m = this.elements;\r\n        let m11 = m[0];\r\n        let m12 = m[4];\r\n        let m13 = m[8];\r\n        let m21 = m[1];\r\n        let m22 = m[5];\r\n        let m23 = m[9];\r\n        let m31 = m[2];\r\n        let m32 = m[6];\r\n        let m33 = m[10];\r\n        //\r\n\r\n        position.x = m[12];\r\n        position.y = m[13];\r\n        position.z = m[14];\r\n        //\r\n        scale.x = Math.sqrt((m11 * m11) + (m21 * m21) + (m31 * m31));\r\n        m11 /= scale.x;\r\n        m21 /= scale.x;\r\n        m31 /= scale.x;\r\n        scale.y = Math.sqrt((m12 * m12) + (m22 * m22) + (m32 * m32));\r\n        m12 /= scale.y;\r\n        m22 /= scale.y;\r\n        m32 /= scale.y;\r\n        scale.z = Math.sqrt((m13 * m13) + (m23 * m23) + (m33 * m33));\r\n        m13 /= scale.z;\r\n        m23 /= scale.z;\r\n        m33 /= scale.z;\r\n        //\r\n        if (order === RotationOrder.XYZ)\r\n        {\r\n            rotation.y = Math.asin(clamp(m13, -1, 1));\r\n            if (Math.abs(m13) < 0.9999999)\r\n            {\r\n                rotation.x = Math.atan2(-m23, m33);\r\n                rotation.z = Math.atan2(-m12, m11);\r\n            }\r\n            else\r\n            {\r\n                rotation.x = Math.atan2(m32, m22);\r\n                rotation.z = 0;\r\n            }\r\n        }\r\n        else if (order === RotationOrder.YXZ)\r\n        {\r\n            rotation.x = Math.asin(-clamp(m23, -1, 1));\r\n            if (Math.abs(m23) < 0.9999999)\r\n            {\r\n                rotation.y = Math.atan2(m13, m33);\r\n                rotation.z = Math.atan2(m21, m22);\r\n            }\r\n            else\r\n            {\r\n                rotation.y = Math.atan2(-m31, m11);\r\n                rotation.z = 0;\r\n            }\r\n        }\r\n        else if (order === RotationOrder.ZXY)\r\n        {\r\n            rotation.x = Math.asin(clamp(m32, -1, 1));\r\n            if (Math.abs(m32) < 0.9999999)\r\n            {\r\n                rotation.y = Math.atan2(-m31, m33);\r\n                rotation.z = Math.atan2(-m12, m22);\r\n            }\r\n            else\r\n            {\r\n                rotation.y = 0;\r\n                rotation.z = Math.atan2(m21, m11);\r\n            }\r\n        }\r\n        else if (order === RotationOrder.ZYX)\r\n        {\r\n            rotation.y = Math.asin(-clamp(m31, -1, 1));\r\n            if (Math.abs(m31) < 0.9999999)\r\n            {\r\n                rotation.x = Math.atan2(m32, m33);\r\n                rotation.z = Math.atan2(m21, m11);\r\n            }\r\n            else\r\n            {\r\n                rotation.x = 0;\r\n                rotation.z = Math.atan2(-m12, m22);\r\n            }\r\n        }\r\n        else if (order === RotationOrder.YZX)\r\n        {\r\n            rotation.z = Math.asin(clamp(m21, -1, 1));\r\n            if (Math.abs(m21) < 0.9999999)\r\n            {\r\n                rotation.x = Math.atan2(-m23, m22);\r\n                rotation.y = Math.atan2(-m31, m11);\r\n            }\r\n            else\r\n            {\r\n                rotation.x = 0;\r\n                rotation.y = Math.atan2(m13, m33);\r\n            }\r\n        }\r\n        else if (order === RotationOrder.XZY)\r\n        {\r\n            rotation.z = Math.asin(-clamp(m12, -1, 1));\r\n            if (Math.abs(m12) < 0.9999999)\r\n            {\r\n                rotation.x = Math.atan2(m32, m22);\r\n                rotation.y = Math.atan2(m13, m11);\r\n            }\r\n            else\r\n            {\r\n                rotation.x = Math.atan2(-m23, m33);\r\n                rotation.y = 0;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            console.error(`初始化矩阵时错误旋转顺序 ${order}`);\r\n        }\r\n        rotation.scaleNumber(mathUtil.RAD2DEG);\r\n\r\n        return [position, rotation, scale];\r\n    }\r\n\r\n    /**\r\n     * 将当前矩阵转换为恒等或单位矩阵。\r\n     */\r\n    identity()\r\n    {\r\n        const m = this.elements;\r\n\r\n        m[0] = 1;\r\n        m[1] = 0;\r\n        m[2] = 0;\r\n        m[3] = 0;\r\n        m[4] = 0;\r\n        m[5] = 1;\r\n        m[6] = 0;\r\n        m[7] = 0;\r\n        m[8] = 0;\r\n        m[9] = 0;\r\n        m[10] = 1;\r\n        m[11] = 0;\r\n        m[12] = 0;\r\n        m[13] = 0;\r\n        m[14] = 0;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 反转当前矩阵。逆矩阵\r\n     * @returns      如果成功反转矩阵，则返回 该矩阵。\r\n     */\r\n    invert()\r\n    {\r\n        let d = this.determinant;\r\n\r\n        if (d === 0)\r\n        {\r\n            console.error('无法获取逆矩阵');\r\n\r\n            return this;\r\n        }\r\n        d = 1 / d;\r\n\r\n        const m = this.elements;\r\n\r\n        const m11 = m[0]; const m21 = m[4];\r\n        const m31 = m[8]; const m41 = m[12];\r\n        const m12 = m[1]; const m22 = m[5];\r\n        const m32 = m[9]; const m42 = m[13];\r\n        const m13 = m[2]; const m23 = m[6];\r\n        const m33 = m[10]; const m43 = m[14];\r\n        const m14 = m[3]; const m24 = m[7]; const m34 = m[11]; const m44 = m[15];\r\n\r\n        m[0] = d * (m22 * (m33 * m44 - m43 * m34) - m32 * (m23 * m44 - m43 * m24) + m42 * (m23 * m34 - m33 * m24));\r\n        m[1] = -d * (m12 * (m33 * m44 - m43 * m34) - m32 * (m13 * m44 - m43 * m14) + m42 * (m13 * m34 - m33 * m14));\r\n        m[2] = d * (m12 * (m23 * m44 - m43 * m24) - m22 * (m13 * m44 - m43 * m14) + m42 * (m13 * m24 - m23 * m14));\r\n        m[3] = -d * (m12 * (m23 * m34 - m33 * m24) - m22 * (m13 * m34 - m33 * m14) + m32 * (m13 * m24 - m23 * m14));\r\n        m[4] = -d * (m21 * (m33 * m44 - m43 * m34) - m31 * (m23 * m44 - m43 * m24) + m41 * (m23 * m34 - m33 * m24));\r\n        m[5] = d * (m11 * (m33 * m44 - m43 * m34) - m31 * (m13 * m44 - m43 * m14) + m41 * (m13 * m34 - m33 * m14));\r\n        m[6] = -d * (m11 * (m23 * m44 - m43 * m24) - m21 * (m13 * m44 - m43 * m14) + m41 * (m13 * m24 - m23 * m14));\r\n        m[7] = d * (m11 * (m23 * m34 - m33 * m24) - m21 * (m13 * m34 - m33 * m14) + m31 * (m13 * m24 - m23 * m14));\r\n        m[8] = d * (m21 * (m32 * m44 - m42 * m34) - m31 * (m22 * m44 - m42 * m24) + m41 * (m22 * m34 - m32 * m24));\r\n        m[9] = -d * (m11 * (m32 * m44 - m42 * m34) - m31 * (m12 * m44 - m42 * m14) + m41 * (m12 * m34 - m32 * m14));\r\n        m[10] = d * (m11 * (m22 * m44 - m42 * m24) - m21 * (m12 * m44 - m42 * m14) + m41 * (m12 * m24 - m22 * m14));\r\n        m[11] = -d * (m11 * (m22 * m34 - m32 * m24) - m21 * (m12 * m34 - m32 * m14) + m31 * (m12 * m24 - m22 * m14));\r\n        m[12] = -d * (m21 * (m32 * m43 - m42 * m33) - m31 * (m22 * m43 - m42 * m23) + m41 * (m22 * m33 - m32 * m23));\r\n        m[13] = d * (m11 * (m32 * m43 - m42 * m33) - m31 * (m12 * m43 - m42 * m13) + m41 * (m12 * m33 - m32 * m13));\r\n        m[14] = -d * (m11 * (m22 * m43 - m42 * m23) - m21 * (m12 * m43 - m42 * m13) + m41 * (m12 * m23 - m22 * m13));\r\n        m[15] = d * (m11 * (m22 * m33 - m32 * m23) - m21 * (m12 * m33 - m32 * m13) + m31 * (m12 * m23 - m22 * m13));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 通过将当前 Matrix4x4 对象与另一个 Matrix4x4 对象相乘来前置一个矩阵。得到的结果将合并两个矩阵转换。\r\n     * @param rhs 个右侧矩阵，它与当前 Matrix4x4 对象相乘。\r\n     */\r\n    prepend(rhs: Matrix4x4)\r\n    {\r\n        const mat = this.clone();\r\n\r\n        this.copy(rhs);\r\n        this.append(mat);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上前置一个增量旋转。在将 Matrix4x4 对象应用于显示对象时，矩阵会在 Matrix4x4 对象中先执行旋转，然后再执行其他转换。\r\n     * @param axis 旋转的轴或方向。常见的轴为 X_AXIS (Vector3(1,0,0))、Y_AXIS (Vector3(0,1,0)) 和 Z_AXIS (Vector3(0,0,1))。此矢量的长度应为 1。\r\n     * @param degrees 旋转的角度。\r\n     * @param pivotPoint 一个用于确定旋转中心的点。对象的默认轴点为该对象的注册点。\r\n     */\r\n    prependRotation(axis: Vector3, degrees: number, _pivotPoint: Vector3 = new Vector3())\r\n    {\r\n        const rotationMat = Matrix4x4.fromAxisRotate(axis, degrees);\r\n\r\n        this.prepend(rotationMat);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上前置一个增量缩放，沿 x、y 和 z 轴改变位置。在将 Matrix4x4 对象应用于显示对象时，矩阵会在 Matrix4x4 对象中先执行缩放更改，然后再执行其他转换。\r\n     * @param xScale 用于沿 x 轴缩放对象的乘数。\r\n     * @param yScale 用于沿 y 轴缩放对象的乘数。\r\n     * @param zScale 用于沿 z 轴缩放对象的乘数。\r\n     */\r\n    prependScale(xScale: number, yScale: number, zScale: number)\r\n    {\r\n        const scaleMat = Matrix4x4.fromScale(xScale, yScale, zScale);\r\n\r\n        this.prepend(scaleMat);\r\n\r\n        return this;\r\n    }\r\n\r\n    prependScale1(xScale: number, yScale: number, zScale: number)\r\n    {\r\n        const m = this.elements;\r\n\r\n        m[0] *= xScale;\r\n        m[1] *= xScale;\r\n        m[2] *= xScale;\r\n        m[4] *= yScale;\r\n        m[5] *= yScale;\r\n        m[6] *= yScale;\r\n        m[8] *= zScale;\r\n        m[9] *= zScale;\r\n        m[10] *= zScale;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 在 Matrix4x4 对象上前置一个增量平移，沿 x、y 和 z 轴重新定位。在将 Matrix4x4 对象应用于显示对象时，矩阵会在 Matrix4x4 对象中先执行平移更改，然后再执行其他转换。\r\n     * @param x 沿 x 轴的增量平移。\r\n     * @param y 沿 y 轴的增量平移。\r\n     * @param z 沿 z 轴的增量平移。\r\n     */\r\n    prependTranslation(x: number, y: number, z: number)\r\n    {\r\n        const translationMat = Matrix4x4.fromPosition(x, y, z);\r\n\r\n        this.prepend(translationMat);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * X轴方向移动\r\n     * @param distance 移动距离\r\n     */\r\n    moveRight(distance: number)\r\n    {\r\n        const direction = this.getAxisX();\r\n\r\n        direction.normalize();\r\n        direction.scaleNumber(distance);\r\n        this.setPosition(this.getPosition().addTo(direction));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Y轴方向移动\r\n     * @param distance 移动距离\r\n     */\r\n    moveUp(distance: number)\r\n    {\r\n        const direction = this.getAxisY();\r\n\r\n        direction.scaleNumber(distance);\r\n        this.setPosition(this.getPosition().addTo(direction));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Z轴方向移动\r\n     * @param distance 移动距离\r\n     */\r\n    moveForward(distance: number)\r\n    {\r\n        const direction = this.getAxisZ();\r\n\r\n        direction.scaleNumber(distance);\r\n        this.setPosition(this.getPosition().addTo(direction));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 使用转换矩阵将 Vector3 对象从一个空间坐标转换到另一个空间坐标。\r\n     * @param vin 一个容纳要转换的坐标的 Vector3 对象。\r\n     * @returns  一个包含转换后的坐标的 Vector3 对象。\r\n     */\r\n    transformPoint3(vin: Vector3, vout = new Vector3())\r\n    {\r\n        const m = this.elements;\r\n        const m0 = m[0];\r\n        const m1 = m[1];\r\n        const m2 = m[2];\r\n        const m4 = m[4];\r\n        const m5 = m[5];\r\n        const m6 = m[6];\r\n        const m8 = m[8];\r\n        const m9 = m[9];\r\n        const m10 = m[10];\r\n        const m12 = m[12];\r\n        const m13 = m[13];\r\n        const m14 = m[14];\r\n\r\n        const x = vin.x;\r\n        const y = vin.y;\r\n        const z = vin.z;\r\n\r\n        vout.x = x * m0 + y * m4 + z * m8 + m12;\r\n        vout.y = x * m1 + y * m5 + z * m9 + m13;\r\n        vout.z = x * m2 + y * m6 + z * m10 + m14;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 变换Vector3向量\r\n     *\r\n     * 与变换点不同，并不会受到矩阵平移分量的影响。\r\n     *\r\n     * @param vin 被变换的向量\r\n     * @param vout 变换后的向量\r\n     */\r\n    transformVector3(vin: Vector3, vout = new Vector3())\r\n    {\r\n        const m = this.elements;\r\n        const m0 = m[0];\r\n        const m1 = m[1];\r\n        const m2 = m[2];\r\n        const m4 = m[4];\r\n        const m5 = m[5];\r\n        const m6 = m[6];\r\n        const m8 = m[8];\r\n        const m9 = m[9];\r\n        const m10 = m[10];\r\n\r\n        const x = vin.x;\r\n        const y = vin.y;\r\n        const z = vin.z;\r\n\r\n        vout.x = x * m0 + y * m4 + z * m8;\r\n        vout.y = x * m1 + y * m5 + z * m9;\r\n        vout.z = x * m2 + y * m6 + z * m10;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 变换Vector4向量\r\n     *\r\n     * @param vin 被变换的向量\r\n     * @param vout 变换后的向量\r\n     */\r\n    transformVector4(vin: Vector4, vout = new Vector4())\r\n    {\r\n        const m = this.elements;\r\n        const m0 = m[0];\r\n        const m1 = m[1];\r\n        const m2 = m[2];\r\n        const m3 = m[3];\r\n        const m4 = m[4];\r\n        const m5 = m[5];\r\n        const m6 = m[6];\r\n        const m7 = m[7];\r\n        const m8 = m[8];\r\n        const m9 = m[9];\r\n        const m10 = m[10];\r\n        const m11 = m[11];\r\n        const m12 = m[12];\r\n        const m13 = m[13];\r\n        const m14 = m[14];\r\n        const m15 = m[15];\r\n\r\n        const x = vin.x;\r\n        const y = vin.y;\r\n        const z = vin.z;\r\n        const w = vin.w;\r\n\r\n        vout.x = x * m0 + y * m4 + z * m8 + w * m12;\r\n        vout.y = x * m1 + y * m5 + z * m9 + w * m13;\r\n        vout.z = x * m2 + y * m6 + z * m10 + w * m14;\r\n        vout.w = x * m3 + y * m7 + z * m11 + w * m15;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 变换坐标数组数据\r\n     *\r\n     * @param vin 被变换坐标数组数据\r\n     * @param vout 变换后的坐标数组数据\r\n     */\r\n    transformPoints(vin: number[], vout: number[] = [])\r\n    {\r\n        const m = this.elements;\r\n        const m0 = m[0];\r\n        const m1 = m[1];\r\n        const m2 = m[2];\r\n        const m4 = m[4];\r\n        const m5 = m[5];\r\n        const m6 = m[6];\r\n        const m8 = m[8];\r\n        const m9 = m[9];\r\n        const m10 = m[10];\r\n        const m12 = m[12];\r\n        const m13 = m[13];\r\n        const m14 = m[14];\r\n\r\n        for (let i = 0; i < vin.length; i += 3)\r\n        {\r\n            const x = vin[i];\r\n            const y = vin[i + 1];\r\n            const z = vin[i + 2];\r\n\r\n            vout[i] = x * m0 + y * m4 + z * m8 + m12;\r\n            vout[i + 1] = x * m1 + y * m5 + z * m9 + m13;\r\n            vout[i + 2] = x * m2 + y * m6 + z * m10 + m14;\r\n        }\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 变换旋转角度\r\n     *\r\n     * @param vin 被变换的旋转角度\r\n     * @param vout 变换后的旋转角度\r\n     */\r\n    transformRotation(vin: Vector3, vout = new Vector3())\r\n    {\r\n        // 转换旋转\r\n        const rotationMatrix = Matrix4x4.fromRotation(vin.x, vin.y, vin.z);\r\n\r\n        rotationMatrix.append(this);\r\n        const newrotation = rotationMatrix.toTRS()[1];\r\n        let rx = newrotation.x; let ry = newrotation.y; let\r\n            rz = newrotation.z;\r\n        const v = Math.round((rx - vin.x) / 180);\r\n\r\n        if (v % 2 !== 0)\r\n        {\r\n            rx += 180;\r\n            ry = 180 - ry;\r\n            rz += 180;\r\n        }\r\n        //\r\n        const toRound = (a: number, b: number, c = 360) =>\r\n            Math.round((b - a) / c) * c + a;\r\n\r\n        rx = toRound(rx, vin.x);\r\n        ry = toRound(ry, vin.y);\r\n        rz = toRound(rz, vin.z);\r\n        //\r\n        vout.x = rx;\r\n        vout.y = ry;\r\n        vout.z = rz;\r\n\r\n        return vout;\r\n    }\r\n\r\n    /**\r\n     * 使用转换矩阵将 Ray3 对象从一个空间坐标转换到另一个空间坐标。\r\n     *\r\n     * @param inRay 被转换的Ray3。\r\n     * @param outRay 转换后的Ray3。\r\n     * @returns 转换后的Ray3。\r\n     */\r\n    transformRay(inRay: Ray3, outRay = new Ray3())\r\n    {\r\n        this.transformPoint3(inRay.origin, outRay.origin);\r\n        this.transformVector3(inRay.direction, outRay.direction);\r\n\r\n        return outRay;\r\n    }\r\n\r\n    /**\r\n     * 将当前 Matrix4x4 对象转换为一个矩阵，并将互换其中的行和列。\r\n     */\r\n    transpose()\r\n    {\r\n        const m = this.elements;\r\n        let tmp: number;\r\n\r\n        tmp = m[1]; m[1] = m[4]; m[4] = tmp;\r\n        tmp = m[2]; m[2] = m[8]; m[8] = tmp;\r\n        tmp = m[6]; m[6] = m[9]; m[9] = tmp;\r\n\r\n        tmp = m[3]; m[3] = m[12]; m[12] = tmp;\r\n        tmp = m[7]; m[7] = m[13]; m[13] = tmp;\r\n        tmp = m[11]; m[11] = m[14]; m[14] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 比较矩阵是否相等\r\n     */\r\n    equals(matrix: Matrix4x4, precision = mathUtil.PRECISION)\r\n    {\r\n        const r2 = matrix.elements;\r\n\r\n        for (let i = 0; i < 16; ++i)\r\n        {\r\n            if (!mathUtil.equals(this.elements[i] - r2[i], 0, precision))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 看向目标位置\r\n     * @param target 目标位置\r\n     * @param upAxis 向上朝向\r\n     */\r\n    lookAt(target: Vector3, upAxis?: Vector3)\r\n    {\r\n        // 获取位移，缩放，在变换过程位移与缩放不变\r\n        const vec = this.toTRS();\r\n        const position = vec[0];\r\n        const scale = vec[2];\r\n\r\n        //\r\n        const xAxis = new Vector3();\r\n        const yAxis = new Vector3();\r\n        const zAxis = new Vector3();\r\n\r\n        upAxis = upAxis || Vector3.Y_AXIS;\r\n\r\n        zAxis.x = target.x - position.x;\r\n        zAxis.y = target.y - position.y;\r\n        zAxis.z = target.z - position.z;\r\n        zAxis.normalize();\r\n\r\n        xAxis.x = upAxis.y * zAxis.z - upAxis.z * zAxis.y;\r\n        xAxis.y = upAxis.z * zAxis.x - upAxis.x * zAxis.z;\r\n        xAxis.z = upAxis.x * zAxis.y - upAxis.y * zAxis.x;\r\n        xAxis.normalize();\r\n\r\n        if (xAxis.lengthSquared < 0.005)\r\n        {\r\n            xAxis.x = upAxis.y;\r\n            xAxis.y = upAxis.x;\r\n            xAxis.z = 0;\r\n            xAxis.normalize();\r\n        }\r\n\r\n        yAxis.x = zAxis.y * xAxis.z - zAxis.z * xAxis.y;\r\n        yAxis.y = zAxis.z * xAxis.x - zAxis.x * xAxis.z;\r\n        yAxis.z = zAxis.x * xAxis.y - zAxis.y * xAxis.x;\r\n\r\n        this.elements[0] = scale.x * xAxis.x;\r\n        this.elements[1] = scale.x * xAxis.y;\r\n        this.elements[2] = scale.x * xAxis.z;\r\n        this.elements[3] = 0;\r\n\r\n        this.elements[4] = scale.y * yAxis.x;\r\n        this.elements[5] = scale.y * yAxis.y;\r\n        this.elements[6] = scale.y * yAxis.z;\r\n        this.elements[7] = 0;\r\n\r\n        this.elements[8] = scale.z * zAxis.x;\r\n        this.elements[9] = scale.z * zAxis.y;\r\n        this.elements[10] = scale.z * zAxis.z;\r\n        this.elements[11] = 0;\r\n\r\n        this.elements[12] = position.x;\r\n        this.elements[13] = position.y;\r\n        this.elements[14] = position.z;\r\n        this.elements[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取XYZ轴中最大缩放值\r\n     */\r\n    getMaxScaleOnAxis()\r\n    {\r\n        const m = this.elements;\r\n        const scaleXSq = m[0] * m[0] + m[1] * m[1] + m[2] * m[2];\r\n        const scaleYSq = m[4] * m[4] + m[5] * m[5] + m[6] * m[6];\r\n        const scaleZSq = m[8] * m[8] + m[9] * m[9] + m[10] * m[10];\r\n\r\n        return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\r\n    }\r\n\r\n    /**\r\n     * 初始化正射投影矩阵\r\n     * @param left 可视空间左边界\r\n     * @param right 可视空间右边界\r\n     * @param top 可视空间上边界\r\n     * @param bottom 可视空间下边界\r\n     * @param near 可视空间近边界\r\n     * @param far 可视空间远边界\r\n     *\r\n     * 可视空间的八个顶点分别被投影到立方体 [(-1, -1, -1), (1, 1, 1)] 八个顶点上\r\n     *\r\n     * 将长方体 [(left, bottom, near), (right, top, far)] 投影至立方体 [(-1, -1, -1), (1, 1, 1)] 中\r\n     */\r\n    setOrtho(left: number, right: number, top: number, bottom: number, near: number, far: number)\r\n    {\r\n        const m = this.elements;\r\n\r\n        m[0] = 2 / (right - left); m[4] = 0; /**/ m[8] = 0; /**/ m[12] = -(right + left) / (right - left);//\r\n        m[1] = 0; /**/ m[5] = 2 / (top - bottom); m[9] = 0;/**/ m[13] = -(top + bottom) / (top - bottom);//\r\n        m[2] = 0; /**/ m[6] = 0; /**/ m[10] = 2 / (far - near); m[14] = -(far + near) / (far - near);//\r\n        m[3] = 0; /**/ m[7] = 0; /**/ m[11] = 0; /**/ m[15] = 1;//\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始化透视投影矩阵\r\n     * @param fov 垂直视角，视锥体顶面和底面间的夹角，必须大于0 （角度）\r\n     * @param aspect 近裁剪面的宽高比\r\n     * @param near 视锥体近边界\r\n     * @param far 视锥体远边界\r\n     *\r\n     * 视锥体的八个顶点分别被投影到立方体 [(-1, -1, -1), (1, 1, 1)] 八个顶点上\r\n     */\r\n    setPerspectiveFromFOV(fov: number, aspect: number, near: number, far: number)\r\n    {\r\n        const m = this.elements;\r\n\r\n        const tanfov2 = Math.tan(fov * Math.PI / 360);\r\n\r\n        m[0] = 1 / (aspect * tanfov2); m[4] = 0; /**/ m[8] = 0; /**/ m[12] = 0;//\r\n        m[1] = 0; /**/ m[5] = 1 / tanfov2; m[9] = 0;/**/ m[13] = 0;//\r\n        m[2] = 0; /**/ m[6] = 0; /**/ m[10] = (far + near) / (far - near); m[14] = -2 * (far * near) / (far - near);//\r\n        m[3] = 0; /**/ m[7] = 0; /**/ m[11] = 1; /**/ m[15] = 0;//\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始化透视投影矩阵\r\n     * @param left 可视空间左边界\r\n     * @param right 可视空间右边界\r\n     * @param top 可视空间上边界\r\n     * @param bottom 可视空间下边界\r\n     * @param near 可视空间近边界\r\n     * @param far 可视空间远边界\r\n     *\r\n     * 可视空间的八个顶点分别被投影到立方体 [(-1, -1, -1), (1, 1, 1)] 八个顶点上\r\n     *\r\n     * 将长方体 [(left, bottom, near), (right, top, far)] 投影至立方体 [(-1, -1, -1), (1, 1, 1)] 中\r\n     */\r\n    setPerspective(left: number, right: number, top: number, bottom: number, near: number, far: number)\r\n    {\r\n        const m = this.elements;\r\n\r\n        m[0] = 2 * near / (right - left); m[4] = 0; /**/ m[8] = 0; /**/ m[12] = 0;//\r\n        m[1] = 0; /**/ m[5] = 2 * near / (top - bottom); m[9] = 0;/**/ m[13] = 0;//\r\n        m[2] = 0; /**/ m[6] = 0; /**/ m[10] = (far + near) / (far - near); m[14] = -2 * (far * near) / (far - near);//\r\n        m[3] = 0; /**/ m[7] = 0; /**/ m[11] = 1; /**/ m[15] = 0;//\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为3x3矩阵\r\n     *\r\n     * @param out 3x3矩阵\r\n     */\r\n    toMatrix3x3(out = new Matrix3x3())\r\n    {\r\n        const outdata = out.elements;\r\n        const indata = this.elements;\r\n\r\n        outdata[0] = indata[0];\r\n        outdata[1] = indata[1];\r\n        outdata[2] = 0;\r\n\r\n        outdata[3] = indata[4];\r\n        outdata[4] = indata[5];\r\n        outdata[5] = 0;\r\n\r\n        outdata[6] = indata[12];\r\n        outdata[7] = indata[13];\r\n        outdata[8] = 1;\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * 以字符串返回矩阵的值\r\n     */\r\n    toString(): string\r\n    {\r\n        return `Matrix4x4 [${this.elements.toString()}]`;\r\n    }\r\n\r\n    // Get a column of the matrix.\r\n    GetColumn(index: number)\r\n    {\r\n        const [\r\n            m00, m10, m20, m30,\r\n            m01, m11, m21, m31,\r\n            m02, m12, m22, m32,\r\n            m03, m13, m23, m33,\r\n        ] = this.elements;\r\n        switch (index)\r\n        {\r\n            case 0: return new Vector4(m00, m10, m20, m30);\r\n            case 1: return new Vector4(m01, m11, m21, m31);\r\n            case 2: return new Vector4(m02, m12, m22, m32);\r\n            case 3: return new Vector4(m03, m13, m23, m33);\r\n            default:\r\n                throw 'Invalid column index!';\r\n        }\r\n    }\r\n\r\n    // Returns a row of the matrix.\r\n    GetRow(index: number)\r\n    {\r\n        const [\r\n            m00, m10, m20, m30,\r\n            m01, m11, m21, m31,\r\n            m02, m12, m22, m32,\r\n            m03, m13, m23, m33,\r\n        ] = this.elements;\r\n        switch (index)\r\n        {\r\n            case 0: return new Vector4(m00, m01, m02, m03);\r\n            case 1: return new Vector4(m10, m11, m12, m13);\r\n            case 2: return new Vector4(m20, m21, m22, m23);\r\n            case 3: return new Vector4(m30, m31, m32, m33);\r\n            default:\r\n                throw `Invalid row index!`;\r\n        }\r\n    }\r\n\r\n    // Sets a column of the matrix.\r\n    SetColumn(index: number, column: Vector4)\r\n    {\r\n        this.elements[0 + index * 4] = column.x;\r\n        this.elements[1 + index * 4] = column.y;\r\n        this.elements[2 + index * 4] = column.z;\r\n        this.elements[3 + index * 4] = column.w;\r\n    }\r\n\r\n    // Sets a row of the matrix.\r\n    SetRow(index: number, row: Vector4)\r\n    {\r\n        this.elements[index + 0 * 4] = row.x;\r\n        this.elements[index + 1 * 4] = row.y;\r\n        this.elements[index + 2 * 4] = row.z;\r\n        this.elements[index + 3 * 4] = row.w;\r\n    }\r\n\r\n    // Transforms a position by this matrix, with a perspective divide. (generic)\r\n    MultiplyPoint(point: Vector3, res = new Vector3())\r\n    {\r\n        let w: number;\r\n        const [\r\n            m00, m10, m20, m30,\r\n            m01, m11, m21, m31,\r\n            m02, m12, m22, m32,\r\n            m03, m13, m23, m33,\r\n        ] = this.elements;\r\n        res.x = m00 * point.x + m01 * point.y + m02 * point.z + m03;\r\n        res.y = m10 * point.x + m11 * point.y + m12 * point.z + m13;\r\n        res.z = m20 * point.x + m21 * point.y + m22 * point.z + m23;\r\n        w = m30 * point.x + m31 * point.y + m32 * point.z + m33;\r\n\r\n        w = 1 / w;\r\n        res.x *= w;\r\n        res.y *= w;\r\n        res.z *= w;\r\n\r\n        return res;\r\n    }\r\n\r\n    // Transforms a position by this matrix, without a perspective divide. (fast)\r\n    MultiplyPoint3x4(point: Vector3, res = new Vector3())\r\n    {\r\n        const [\r\n            m00, m10, m20, ,\r\n            m01, m11, m21, ,\r\n            m02, m12, m22, ,\r\n            m03, m13, m23, ,\r\n        ] = this.elements;\r\n        res.x = m00 * point.x + m01 * point.y + m02 * point.z + m03;\r\n        res.y = m10 * point.x + m11 * point.y + m12 * point.z + m13;\r\n        res.z = m20 * point.x + m21 * point.y + m22 * point.z + m23;\r\n\r\n        return res;\r\n    }\r\n\r\n    // Transforms a direction by this matrix.\r\n    MultiplyVector(vector: Vector3, res = new Vector3())\r\n    {\r\n        const [\r\n            m00, m10, m20, ,\r\n            m01, m11, m21, ,\r\n            m02, m12, m22, ,\r\n            , , , ,\r\n        ] = this.elements;\r\n        res.x = m00 * vector.x + m01 * vector.y + m02 * vector.z;\r\n        res.y = m10 * vector.x + m11 * vector.y + m12 * vector.z;\r\n        res.z = m20 * vector.x + m21 * vector.y + m22 * vector.z;\r\n\r\n        return res;\r\n    }\r\n\r\n    // Transforms a plane by this matrix.\r\n    TransformPlane(plane: Plane, result = new Plane())\r\n    {\r\n        const ittrans = this.clone().invert();\r\n        const [\r\n            m00, m10, m20, m30,\r\n            m01, m11, m21, m31,\r\n            m02, m12, m22, m32,\r\n            m03, m13, m23, m33,\r\n        ] = ittrans.elements;\r\n\r\n        const { a, b, c, d } = plane;\r\n\r\n        // note: a transpose is part of this transformation\r\n        result.a = m00 * a + m10 * b + m20 * c + m30 * d;\r\n        result.b = m01 * a + m11 * b + m21 * c + m31 * d;\r\n        result.c = m02 * a + m12 * b + m22 * c + m32 * d;\r\n        result.d = m03 * a + m13 * b + m23 * c + m33 * d;\r\n\r\n        return result;\r\n    }\r\n\r\n    // Creates a scaling matrix.\r\n    static Scale(vector: Vector3, m = new Matrix4x4())\r\n    {\r\n        m.elements = [\r\n            vector.x, 0, 0, 0,\r\n            0, vector.y, 0, 0,\r\n            0, 0, vector.z, 0,\r\n            0, 0, 0, 1,\r\n        ];\r\n\r\n        return m;\r\n    }\r\n\r\n    // Creates a translation matrix.\r\n    static Translate(vector: Vector3, m = new Matrix4x4())\r\n    {\r\n        m.elements = [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            vector.x, vector.y, vector.z, 1,\r\n        ];\r\n\r\n        return m;\r\n    }\r\n\r\n    // Creates a rotation matrix. Note: Assumes unit quaternion\r\n    static Rotate(q: Quaternion, m = new Matrix4x4())\r\n    {\r\n        // Precalculate coordinate products\r\n        const x = q.x * 2.0;\r\n        const y = q.y * 2.0;\r\n        const z = q.z * 2.0;\r\n        const xx = q.x * x;\r\n        const yy = q.y * y;\r\n        const zz = q.z * z;\r\n        const xy = q.x * y;\r\n        const xz = q.x * z;\r\n        const yz = q.y * z;\r\n        const wx = q.w * x;\r\n        const wy = q.w * y;\r\n        const wz = q.w * z;\r\n\r\n        // Calculate 3x3 matrix from orthonormal basis\r\n        m.elements = [\r\n            1.0 - (yy + zz), xy + wz, xz - wy, 0.0,\r\n            xy - wz, 1.0 - (xx + zz), yz + wx, 0.0,\r\n            xz + wy, yz - wx, 1.0 - (xx + yy), 0.0,\r\n            0.0, 0.0, 0.0, 1.0\r\n        ];\r\n\r\n        return m;\r\n    }\r\n\r\n    // Returns a matrix with all elements set to zero (RO).\r\n    static readonly zero = new Matrix4x4(\r\n        [\r\n            0, 0, 0, 0,\r\n            0, 0, 0, 0,\r\n            0, 0, 0, 0,\r\n            0, 0, 0, 0,\r\n        ]);\r\n\r\n    // Returns the identity matrix (RO).\r\n    static readonly identity = new Matrix4x4(\r\n        [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n\r\n    get rotation()\r\n    {\r\n        const quaternion = new Quaternion().fromMatrix(this);\r\n\r\n        return quaternion;\r\n    }\r\n\r\n    get lossyScale()\r\n    {\r\n        return this.getScale();\r\n    }\r\n\r\n    get isIdentity()\r\n    {\r\n        const elements0 = this.elements;\r\n        const elements1 = Matrix4x4.identity.elements;\r\n\r\n        for (let i = 0; i < elements0.length; i++)\r\n        {\r\n            if (!mathUtil.equals(elements0[i], elements1[i]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { RotationOrder } from '../enums/RotationOrder';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Quaternion } from './Quaternion';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 欧拉角\r\n *\r\n * 由特定的顺序分别围绕X、Y、Z三个轴进行旋转。\r\n *\r\n * @see https://github.com/mrdoob/three.js/blob/dev/src/math/Euler.js\r\n */\r\nexport class Euler\r\n{\r\n    /**\r\n     * 围绕X轴旋转角度。\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * 围绕Y轴旋转角度。\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * 围绕Z轴旋转角度。\r\n     */\r\n    z: number;\r\n\r\n    /**\r\n     * X、Y、Z轴旋顺序。\r\n     */\r\n    order: RotationOrder;\r\n\r\n    /**\r\n     * 构建欧拉角。\r\n     *\r\n     * @param x 围绕X轴旋转角度。\r\n     * @param y 围绕Y轴旋转角度。\r\n     * @param z 围绕Z轴旋转角度。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     */\r\n    constructor(x = 0, y = 0, z = 0, order = mathUtil.DefaultRotationOrder)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.order = order;\r\n    }\r\n\r\n    /**\r\n     * 设置欧拉角初始值。\r\n     *\r\n     * @param x 围绕X轴旋转角度。\r\n     * @param y 围绕Y轴旋转角度。\r\n     * @param z 围绕Z轴旋转角度。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     */\r\n    set(x: number, y: number, z: number, order?: RotationOrder)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        if (order !== undefined)\r\n        {\r\n            this.order = order;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 随机欧拉角。\r\n     */\r\n    random()\r\n    {\r\n        this.x = Math.random() * 360;\r\n        this.y = Math.random() * 360;\r\n        this.z = Math.random() * 360;\r\n        this.order = mathUtil.randInt(0, 5);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆欧拉角。\r\n     */\r\n    clone()\r\n    {\r\n        return new Euler(this.x, this.y, this.z, this.order);\r\n    }\r\n\r\n    /**\r\n     * 从旋转矩阵初始化欧拉角。\r\n     *\r\n     * @param rotationMatrix 仅包含旋转的矩阵。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     * @returns 从旋转矩阵初始化的欧拉角。\r\n     */\r\n    fromRotationMatrix(rotationMatrix: Matrix4x4, order?: RotationOrder)\r\n    {\r\n        const te = rotationMatrix.elements;\r\n        const m11 = te[0];\r\n        const m12 = te[4];\r\n        const m13 = te[8];\r\n        const m21 = te[1];\r\n        const m22 = te[5];\r\n        const m23 = te[9];\r\n        const m31 = te[2];\r\n        const m32 = te[6];\r\n        const m33 = te[10];\r\n\r\n        if (order === undefined)\r\n        {\r\n            order = this.order;\r\n        }\r\n\r\n        let x: number;\r\n        let y: number;\r\n        let z: number;\r\n\r\n        switch (order)\r\n        {\r\n            case RotationOrder.XYZ:\r\n                y = Math.asin(mathUtil.clamp(m13, -1, 1));\r\n                if (Math.abs(m13) < 0.9999999)\r\n                {\r\n                    x = Math.atan2(-m23, m33);\r\n                    z = Math.atan2(-m12, m11);\r\n                }\r\n                else\r\n                {\r\n                    x = Math.atan2(m32, m22);\r\n                    z = 0;\r\n                }\r\n                break;\r\n            case RotationOrder.YXZ:\r\n                x = Math.asin(-mathUtil.clamp(m23, -1, 1));\r\n                if (Math.abs(m23) < 0.9999999)\r\n                {\r\n                    y = Math.atan2(m13, m33);\r\n                    z = Math.atan2(m21, m22);\r\n                }\r\n                else\r\n                {\r\n                    y = Math.atan2(-m31, m11);\r\n                    z = 0;\r\n                }\r\n                break;\r\n\r\n            case RotationOrder.ZXY:\r\n                x = Math.asin(mathUtil.clamp(m32, -1, 1));\r\n                if (Math.abs(m32) < 0.9999999)\r\n                {\r\n                    y = Math.atan2(-m31, m33);\r\n                    z = Math.atan2(-m12, m22);\r\n                }\r\n                else\r\n                {\r\n                    y = 0;\r\n                    z = Math.atan2(m21, m11);\r\n                }\r\n                break;\r\n\r\n            case RotationOrder.ZYX:\r\n                y = Math.asin(-mathUtil.clamp(m31, -1, 1));\r\n                if (Math.abs(m31) < 0.9999999)\r\n                {\r\n                    x = Math.atan2(m32, m33);\r\n                    z = Math.atan2(m21, m11);\r\n                }\r\n                else\r\n                {\r\n                    x = 0;\r\n                    z = Math.atan2(-m12, m22);\r\n                }\r\n                break;\r\n            case RotationOrder.YZX:\r\n                z = Math.asin(mathUtil.clamp(m21, -1, 1));\r\n                if (Math.abs(m21) < 0.9999999)\r\n                {\r\n                    x = Math.atan2(-m23, m22);\r\n                    y = Math.atan2(-m31, m11);\r\n                }\r\n                else\r\n                {\r\n                    x = 0;\r\n                    y = Math.atan2(m13, m33);\r\n                }\r\n                break;\r\n\r\n            case RotationOrder.XZY:\r\n                z = Math.asin(-mathUtil.clamp(m12, -1, 1));\r\n                if (Math.abs(m12) < 0.9999999)\r\n                {\r\n                    x = Math.atan2(m32, m22);\r\n                    y = Math.atan2(m13, m11);\r\n                }\r\n                else\r\n                {\r\n                    x = Math.atan2(-m23, m33);\r\n                    y = 0;\r\n                }\r\n                break;\r\n            default:\r\n                console.warn(`THREE.Euler: .fromRotationMatrix() encountered an unknown order: ${order}`);\r\n        }\r\n\r\n        this.x = x * mathUtil.RAD2DEG;\r\n        this.y = y * mathUtil.RAD2DEG;\r\n        this.z = z * mathUtil.RAD2DEG;\r\n        this.order = order;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从四元素初始化欧拉角。\r\n     *\r\n     * @param q 四元素。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     * @returns 初始化后的四元素。\r\n     */\r\n    fromQuaternion(q: Quaternion, order?: RotationOrder)\r\n    {\r\n        if (order === undefined)\r\n        {\r\n            order = this.order;\r\n        }\r\n\r\n        const matrix = new Matrix4x4();\r\n        matrix.fromQuaternion(q);\r\n\r\n        return this.fromRotationMatrix(matrix, order);\r\n    }\r\n\r\n    /**\r\n     * 从三个轴的旋转角度初始化四元素。\r\n     *\r\n     * @param v 存储X、Y、Z轴旋转量的向量。\r\n     * @param order X、Y、Z轴旋顺序。\r\n     * @returns 初始化后的四元素。\r\n     */\r\n    fromVector3(v: Vector3, order?: RotationOrder)\r\n    {\r\n        if (order === undefined)\r\n        {\r\n            order = this.order;\r\n        }\r\n\r\n        return this.set(v.x, v.y, v.z, order);\r\n    }\r\n\r\n    /**\r\n     * 在不改变旋转量的情况下更换X、Y、Z轴旋顺序。\r\n     *\r\n     * @param newOrder 新的X、Y、Z轴旋顺序。\r\n     * @returns 重置旋转角度。\r\n     */\r\n    reorder(newOrder: RotationOrder)\r\n    {\r\n        const quaternion = new Quaternion();\r\n\r\n        quaternion.fromEuler(this.x, this.y, this.z, this.order);\r\n\r\n        return this.fromQuaternion(quaternion, newOrder);\r\n    }\r\n\r\n    /**\r\n     * 判断与指定欧拉角是否相等。\r\n     *\r\n     * @param euler 被比较的欧拉角。\r\n     * @returns 如果值为true则两个欧拉角相等，否则不相等。\r\n     */\r\n    equals(euler: Euler)\r\n    {\r\n        return (euler.x === this.x) && (euler.y === this.y) && (euler.z === this.z) && (euler.order === this.order);\r\n    }\r\n\r\n    /**\r\n     * 从数组初始化欧拉角。\r\n     *\r\n     * @param array 存储X、Y、Z轴旋角度以及旋转顺序的数组。\r\n     * @param offset 数组中存储便宜位置。\r\n     * @returns 初始化后的四元素。\r\n     */\r\n    fromArray(array: number[], offset = 0)\r\n    {\r\n        this.x = array[offset];\r\n        this.y = array[offset + 1];\r\n        this.z = array[offset + 2];\r\n        this.order = array[offset + 3];\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为存储X、Y、Z轴旋转角度以及旋转顺序的数组。\r\n     *\r\n     * @param array 存储X、Y、Z轴旋转角度以及旋转顺序的数组。\r\n     * @param offset 数组中存储便宜位置。\r\n     * @returns 存储X、Y、Z轴旋转角度以及旋转顺序的数组。\r\n     */\r\n    toArray(array: number[] = [], offset = 0)\r\n    {\r\n        array[offset] = this.x;\r\n        array[offset + 1] = this.y;\r\n        array[offset + 2] = this.z;\r\n        array[offset + 3] = this.order;\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * 转换为存储X、Y、Z轴旋转角度的向量。\r\n     *\r\n     * @param vector3 存储X、Y、Z轴旋转角度的向量。\r\n     * @returns 存储X、Y、Z轴旋转角度的向量。\r\n     */\r\n    toVector3(vector3 = new Vector3())\r\n    {\r\n        vector3.set(this.x, this.y, this.z);\r\n\r\n        return vector3;\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { Box3 } from './Box3';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Plane } from './Plane';\r\nimport { Sphere } from './Sphere';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 截头锥体\r\n *\r\n * Frustums are used to determine what is inside the camera's field of view. They help speed up the rendering process.\r\n *\r\n * Frustums用于确定摄像机的视场范围。它们有助于加速渲染过程。\r\n *\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author bhouston / http://clara.io\r\n */\r\nexport class Frustum\r\n{\r\n    planes: Plane[];\r\n\r\n    /**\r\n     * 初始化截头锥体\r\n     *\r\n     * @param p0\r\n     * @param p1\r\n     * @param p2\r\n     * @param p3\r\n     * @param p4\r\n     * @param p5\r\n     */\r\n    constructor(p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane())\r\n    {\r\n        this.planes = [\r\n            p0, p1, p2, p3, p4, p5\r\n        ];\r\n    }\r\n\r\n    set(p0: Plane, p1: Plane, p2: Plane, p3: Plane, p4: Plane, p5: Plane)\r\n    {\r\n        const planes = this.planes;\r\n\r\n        planes[0].copy(p0);\r\n        planes[1].copy(p1);\r\n        planes[2].copy(p2);\r\n        planes[3].copy(p3);\r\n        planes[4].copy(p4);\r\n        planes[5].copy(p5);\r\n\r\n        return this;\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return new Frustum().copy(this);\r\n    }\r\n\r\n    copy(frustum: Frustum)\r\n    {\r\n        const planes = this.planes;\r\n\r\n        for (let i = 0; i < 6; i++)\r\n        {\r\n            planes[i].copy(frustum.planes[i]);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从矩阵初始化\r\n     *\r\n     * @param matrix4x4 矩阵\r\n     */\r\n    fromMatrix(matrix4x4: Matrix4x4)\r\n    {\r\n        const planes = this.planes;\r\n        const me = matrix4x4.elements;\r\n        const me0 = me[0]; const me1 = me[1]; const me2 = me[2]; const\r\n            me3 = me[3];\r\n        const me4 = me[4]; const me5 = me[5]; const me6 = me[6]; const\r\n            me7 = me[7];\r\n        const me8 = me[8]; const me9 = me[9]; const me10 = me[10]; const\r\n            me11 = me[11];\r\n        const me12 = me[12]; const me13 = me[13]; const me14 = me[14]; const\r\n            me15 = me[15];\r\n\r\n        planes[0].set(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\r\n        planes[1].set(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\r\n        planes[2].set(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\r\n        planes[3].set(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\r\n        planes[4].set(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\r\n        planes[5].set(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否与球体相交\r\n     *\r\n     * @param sphere 球体\r\n     */\r\n    intersectsSphere(sphere: Sphere)\r\n    {\r\n        const planes = this.planes;\r\n        const center = sphere.center;\r\n        const negRadius = -sphere.radius;\r\n\r\n        for (let i = 0; i < 6; i++)\r\n        {\r\n            const distance = planes[i].distanceWithPoint(center);\r\n\r\n            if (distance < negRadius)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 是否与长方体相交\r\n     *\r\n     * @param box 长方体\r\n     */\r\n    intersectsBox(box: Box3)\r\n    {\r\n        const planes = this.planes;\r\n\r\n        const temp = new Vector3();\r\n\r\n        for (let i = 0; i < 6; i++)\r\n        {\r\n            const plane = planes[i];\r\n\r\n            // corner at max distance\r\n            const normal = plane.getNormal();\r\n\r\n            temp.x = normal.x > 0 ? box.max.x : box.min.x;\r\n            temp.y = normal.y > 0 ? box.max.y : box.min.y;\r\n            temp.z = normal.z > 0 ? box.max.z : box.min.z;\r\n\r\n            if (plane.distanceWithPoint(temp) < 0)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 与点是否相交\r\n     *\r\n     * @param point\r\n     */\r\n    containsPoint(point: Vector3, precision = mathUtil.PRECISION)\r\n    {\r\n        const planes = this.planes;\r\n\r\n        for (let i = 0; i < 6; i++)\r\n        {\r\n            if (planes[i].distanceWithPoint(point) < -precision)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { Vector2 } from './Vector2';\r\n\r\nexport interface IRectangle\r\n{\r\n    /**\r\n     * 矩形左上角的 x 坐标。\r\n     * @default 0\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * 矩形左上角的 y 坐标。\r\n     * @default 0\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * 矩形的宽度。\r\n     * @default 0\r\n     */\r\n    width: number;\r\n\r\n    /**\r\n     * 矩形的高度。\r\n     * @default 0\r\n     */\r\n    height: number;\r\n}\r\n\r\n/**\r\n * 矩形\r\n *\r\n * Rectangle 对象是按其位置（由它左上角的点 (x, y) 确定）以及宽度和高度定义的区域。<br/>\r\n * Rectangle 类的 x、y、width 和 height 属性相互独立；更改一个属性的值不会影响其他属性。\r\n * 但是，right 和 bottom 属性与这四个属性是整体相关的。例如，如果更改 right 属性的值，则 width\r\n * 属性的值将发生变化；如果更改 bottom 属性，则 height 属性的值将发生变化。\r\n */\r\nexport class Rectangle\r\n{\r\n    /**\r\n     * 创建一个新 Rectangle 对象，其左上角由 x 和 y 参数指定，并具有指定的 width 和 height 参数。\r\n     * @param x 矩形左上角的 x 坐标。\r\n     * @param y 矩形左上角的 y 坐标。\r\n     * @param width 矩形的宽度（以像素为单位）。\r\n     * @param height 矩形的高度（以像素为单位）。\r\n     */\r\n    constructor(x = 0, y = 0, width = 0, height = 0)\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    /**\r\n     * 矩形左上角的 x 坐标。\r\n     * @default 0\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * 矩形左上角的 y 坐标。\r\n     * @default 0\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * 矩形的宽度（以像素为单位）。\r\n     * @default 0\r\n     */\r\n    width: number;\r\n    /**\r\n     * 矩形的高度（以像素为单位）。\r\n     * @default 0\r\n     */\r\n    height: number;\r\n\r\n    /**\r\n     * x 和 width 属性的和。\r\n     */\r\n    get right(): number\r\n    {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    set right(value: number)\r\n    {\r\n        this.width = value - this.x;\r\n    }\r\n\r\n    /**\r\n     * y 和 height 属性的和。\r\n     */\r\n    get bottom(): number\r\n    {\r\n        return this.y + this.height;\r\n    }\r\n\r\n    set bottom(value: number)\r\n    {\r\n        this.height = value - this.y;\r\n    }\r\n\r\n    /**\r\n     * 矩形左上角的 x 坐标。更改 Rectangle 对象的 left 属性对 y 和 height 属性没有影响。但是，它会影响 width 属性，而更改 x 值不会影响 width 属性。\r\n     * left 属性的值等于 x 属性的值。\r\n     */\r\n    get left(): number\r\n    {\r\n        return this.x;\r\n    }\r\n\r\n    set left(value: number)\r\n    {\r\n        this.width += this.x - value;\r\n        this.x = value;\r\n    }\r\n\r\n    /**\r\n     * 矩形左上角的 y 坐标。更改 Rectangle 对象的 top 属性对 x 和 width 属性没有影响。但是，它会影响 height 属性，而更改 y 值不会影响 height 属性。<br/>\r\n     * top 属性的值等于 y 属性的值。\r\n     */\r\n    get top(): number\r\n    {\r\n        return this.y;\r\n    }\r\n\r\n    set top(value: number)\r\n    {\r\n        this.height += this.y - value;\r\n        this.y = value;\r\n    }\r\n\r\n    /**\r\n     * 由该点的 x 和 y 坐标确定的 Rectangle 对象左上角的位置。\r\n     */\r\n    get topLeft(): Vector2\r\n    {\r\n        return new Vector2(this.left, this.top);\r\n    }\r\n\r\n    set topLeft(value: Vector2)\r\n    {\r\n        this.top = value.y;\r\n        this.left = value.x;\r\n    }\r\n\r\n    /**\r\n     * 由 right 和 bottom 属性的值确定的 Rectangle 对象的右下角的位置。\r\n     */\r\n    get bottomRight(): Vector2\r\n    {\r\n        return new Vector2(this.right, this.bottom);\r\n    }\r\n\r\n    set bottomRight(value: Vector2)\r\n    {\r\n        this.bottom = value.y;\r\n        this.right = value.x;\r\n    }\r\n\r\n    /**\r\n     * 中心点\r\n     */\r\n    get center()\r\n    {\r\n        return new Vector2(this.x + (this.width / 2), this.y + (this.height / 2));\r\n    }\r\n\r\n    /**\r\n     * 将源 Rectangle 对象中的所有矩形数据复制到调用方 Rectangle 对象中。\r\n     * @param sourceRect 要从中复制数据的 Rectangle 对象。\r\n     */\r\n    copyFrom(sourceRect: IRectangle): Rectangle\r\n    {\r\n        this.x = sourceRect.x;\r\n        this.y = sourceRect.y;\r\n        this.width = sourceRect.width;\r\n        this.height = sourceRect.height;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 将 Rectangle 的成员设置为指定值\r\n     * @param x 矩形左上角的 x 坐标。\r\n     * @param y 矩形左上角的 y 坐标。\r\n     * @param width 矩形的宽度（以像素为单位）。\r\n     * @param height 矩形的高度（以像素为单位）。\r\n     */\r\n    init(x: number, y: number, width: number, height: number): Rectangle\r\n    {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 确定由此 Rectangle 对象定义的矩形区域内是否包含指定的点。\r\n     * @param x 检测点的x轴\r\n     * @param y 检测点的y轴\r\n     * @returns 如果检测点位于矩形内，返回true，否则，返回false\r\n     */\r\n    contains(x: number, y: number): boolean\r\n    {\r\n        return this.x <= x\r\n            && this.x + this.width >= x\r\n            && this.y <= y\r\n            && this.y + this.height >= y;\r\n    }\r\n\r\n    /**\r\n     * 如果在 toIntersect 参数中指定的 Rectangle 对象与此 Rectangle 对象相交，则返回交集区域作为 Rectangle 对象。如果矩形不相交，\r\n     * 则此方法返回一个空的 Rectangle 对象，其属性设置为 0。\r\n     * @param toIntersect 要对照比较以查看其是否与此 Rectangle 对象相交的 Rectangle 对象。\r\n     * @returns 等于交集区域的 Rectangle 对象。如果该矩形不相交，则此方法返回一个空的 Rectangle 对象；即，其 x、y、width 和\r\n     * height 属性均设置为 0 的矩形。\r\n     */\r\n    intersection(toIntersect: Rectangle): Rectangle\r\n    {\r\n        if (!this.intersects(toIntersect))\r\n        { return new Rectangle(); }\r\n\r\n        const i: Rectangle = new Rectangle();\r\n\r\n        if (this.x > toIntersect.x)\r\n        {\r\n            i.x = this.x;\r\n            i.width = toIntersect.x - this.x + toIntersect.width;\r\n\r\n            if (i.width > this.width)\r\n            { i.width = this.width; }\r\n        }\r\n        else\r\n        {\r\n            i.x = toIntersect.x;\r\n            i.width = this.x - toIntersect.x + this.width;\r\n\r\n            if (i.width > toIntersect.width)\r\n            { i.width = toIntersect.width; }\r\n        }\r\n\r\n        if (this.y > toIntersect.y)\r\n        {\r\n            i.y = this.y;\r\n            i.height = toIntersect.y - this.y + toIntersect.height;\r\n\r\n            if (i.height > this.height)\r\n            { i.height = this.height; }\r\n        }\r\n        else\r\n        {\r\n            i.y = toIntersect.y;\r\n            i.height = this.y - toIntersect.y + this.height;\r\n\r\n            if (i.height > toIntersect.height)\r\n            { i.height = toIntersect.height; }\r\n        }\r\n\r\n        return i;\r\n    }\r\n\r\n    /**\r\n     * 按指定量增加 Rectangle 对象的大小（以像素为单位）\r\n     * 保持 Rectangle 对象的中心点不变，使用 dx 值横向增加它的大小，使用 dy 值纵向增加它的大小。\r\n     * @param dx Rectangle 对象横向增加的值。\r\n     * @param dy Rectangle 对象纵向增加的值。\r\n     */\r\n    inflate(dx: number, dy: number): void\r\n    {\r\n        this.x -= dx;\r\n        this.width += 2 * dx;\r\n        this.y -= dy;\r\n        this.height += 2 * dy;\r\n    }\r\n\r\n    /**\r\n     * 确定在 toIntersect 参数中指定的对象是否与此 Rectangle 对象相交。此方法检查指定的 Rectangle\r\n     * 对象的 x、y、width 和 height 属性，以查看它是否与此 Rectangle 对象相交。\r\n     * @param toIntersect 要与此 Rectangle 对象比较的 Rectangle 对象。\r\n     * @returns 如果两个矩形相交，返回true，否则返回false\r\n     */\r\n    intersects(toIntersect: Rectangle): boolean\r\n    {\r\n        return Math.max(this.x, toIntersect.x) <= Math.min(this.right, toIntersect.right)\r\n            && Math.max(this.y, toIntersect.y) <= Math.min(this.bottom, toIntersect.bottom);\r\n    }\r\n\r\n    /**\r\n     * 确定此 Rectangle 对象是否为空。\r\n     * @returns 如果 Rectangle 对象的宽度或高度小于等于 0，则返回 true 值，否则返回 false。\r\n     */\r\n    isEmpty(): boolean\r\n    {\r\n        return this.width <= 0 || this.height <= 0;\r\n    }\r\n\r\n    /**\r\n     * 将 Rectangle 对象的所有属性设置为 0。\r\n     */\r\n    setEmpty(): void\r\n    {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n    }\r\n\r\n    /**\r\n     * 返回一个新的 Rectangle 对象，其 x、y、width 和 height 属性的值与原始 Rectangle 对象的对应值相同。\r\n     * @returns 新的 Rectangle 对象，其 x、y、width 和 height 属性的值与原始 Rectangle 对象的对应值相同。\r\n     */\r\n    clone(): Rectangle\r\n    {\r\n        return new Rectangle(this.x, this.y, this.width, this.height);\r\n    }\r\n\r\n    /**\r\n     * 确定由此 Rectangle 对象定义的矩形区域内是否包含指定的点。\r\n     * 此方法与 Rectangle.contains() 方法类似，只不过它采用 Point 对象作为参数。\r\n     * @param point 包含点对象\r\n     * @returns 如果包含，返回true，否则返回false\r\n     */\r\n    containsPoint(point: Vector2): boolean\r\n    {\r\n        if (this.x < point.x\r\n            && this.x + this.width > point.x\r\n            && this.y < point.y\r\n            && this.y + this.height > point.y)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 确定此 Rectangle 对象内是否包含由 rect 参数指定的 Rectangle 对象。\r\n     * 如果一个 Rectangle 对象完全在另一个 Rectangle 的边界内，我们说第二个 Rectangle 包含第一个 Rectangle。\r\n     * @param rect 所检查的 Rectangle 对象\r\n     * @returns 如果此 Rectangle 对象包含您指定的 Rectangle 对象，则返回 true 值，否则返回 false。\r\n     */\r\n    containsRect(rect: Rectangle): boolean\r\n    {\r\n        const r1 = rect.x + rect.width;\r\n        const b1 = rect.y + rect.height;\r\n        const r2 = this.x + this.width;\r\n        const b2 = this.y + this.height;\r\n\r\n        return (rect.x >= this.x) && (rect.x < r2) && (rect.y >= this.y) && (rect.y < b2) && (r1 > this.x) && (r1 <= r2) && (b1 > this.y) && (b1 <= b2);\r\n    }\r\n\r\n    /**\r\n     * 确定在 toCompare 参数中指定的对象是否等于此 Rectangle 对象。\r\n     * 此方法将某个对象的 x、y、width 和 height 属性与此 Rectangle 对象所对应的相同属性进行比较。\r\n     * @param toCompare 要与此 Rectangle 对象进行比较的矩形。\r\n     * @returns 如果对象具有与此 Rectangle 对象完全相同的 x、y、width 和 height 属性值，则返回 true 值，否则返回 false。\r\n     */\r\n    equals(toCompare: Rectangle): boolean\r\n    {\r\n        if (this === toCompare)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return this.x === toCompare.x && this.y === toCompare.y\r\n            && this.width === toCompare.width && this.height === toCompare.height;\r\n    }\r\n\r\n    /**\r\n     * 增加 Rectangle 对象的大小。此方法与 Rectangle.inflate() 方法类似，只不过它采用 Point 对象作为参数。\r\n     */\r\n    inflatePoint(point: Vector2): void\r\n    {\r\n        this.inflate(point.x, point.y);\r\n    }\r\n\r\n    /**\r\n     * 按指定量调整 Rectangle 对象的位置（由其左上角确定）。\r\n     * @param dx 将 Rectangle 对象的 x 值移动此数量。\r\n     * @param dy 将 Rectangle 对象的 t 值移动此数量。\r\n     */\r\n    offset(dx: number, dy: number): void\r\n    {\r\n        this.x += dx;\r\n        this.y += dy;\r\n    }\r\n\r\n    /**\r\n     * 将 Point 对象用作参数来调整 Rectangle 对象的位置。此方法与 Rectangle.offset() 方法类似，只不过它采用 Point 对象作为参数。\r\n     * @param point 要用于偏移此 Rectangle 对象的 Point 对象。\r\n     */\r\n    offsetPoint(point: Vector2): void\r\n    {\r\n        this.offset(point.x, point.y);\r\n    }\r\n\r\n    /**\r\n     * 生成并返回一个字符串，该字符串列出 Rectangle 对象的水平位置和垂直位置以及高度和宽度。\r\n     * @returns 一个字符串，它列出了 Rectangle 对象的下列各个属性的值：x、y、width 和 height。\r\n     */\r\n    toString(): string\r\n    {\r\n        return `(x=${this.x}, y=${this.y}, width=${this.width}, height=${this.height})`;\r\n    }\r\n\r\n    /**\r\n     * 通过填充两个矩形之间的水平和垂直空间，将这两个矩形组合在一起以创建一个新的 Rectangle 对象。\r\n     * @param toUnion 要添加到此 Rectangle 对象的 Rectangle 对象。\r\n     * @returns 充当两个矩形的联合的新 Rectangle 对象。\r\n     */\r\n    union(toUnion: Rectangle): Rectangle\r\n    {\r\n        const result = this.clone();\r\n\r\n        if (toUnion.isEmpty())\r\n        {\r\n            return result;\r\n        }\r\n        if (result.isEmpty())\r\n        {\r\n            result.copyFrom(toUnion);\r\n\r\n            return result;\r\n        }\r\n        const l = Math.min(result.x, toUnion.x);\r\n        const t = Math.min(result.y, toUnion.y);\r\n\r\n        result.init(l, t,\r\n            Math.max(result.right, toUnion.right) - l,\r\n            Math.max(result.bottom, toUnion.bottom) - t);\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param point 点\r\n     * @param pout 输出点\r\n     */\r\n    clampPoint(point: Vector2, pout = new Vector2())\r\n    {\r\n        return pout.copy(point).clamp(this.topLeft, this.bottomRight);\r\n    }\r\n\r\n    /**\r\n     * The size of the Rectangle object, expressed as a Point object with the\r\n     * values of the <code>width</code> and <code>height</code> properties.\r\n     */\r\n    public get size(): Vector2\r\n    {\r\n        return new Vector2(this.width, this.height);\r\n    }\r\n}\r\n","import { Box3 } from './Box3';\r\nimport { Matrix4x4 } from './Matrix4x4';\r\nimport { Plane } from './Plane';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 球\r\n */\r\nexport class Sphere\r\n{\r\n    /**\r\n     * 从一组点初始化球\r\n     * @param points 点列表\r\n     */\r\n    static fromPoints(points: Vector3[])\r\n    {\r\n        return new Sphere().fromPoints(points);\r\n    }\r\n\r\n    /**\r\n     * 从一组顶点初始化球\r\n     * @param positions 坐标数据列表\r\n     */\r\n    static fromPositions(positions: number[])\r\n    {\r\n        return new Sphere().fromPositions(positions);\r\n    }\r\n\r\n    /**\r\n     * 球心\r\n     */\r\n    center: Vector3;\r\n\r\n    /**\r\n     * 半径\r\n     */\r\n    radius: number;\r\n\r\n    /**\r\n     * Create a Sphere with ABCD coefficients\r\n     */\r\n    constructor(center = new Vector3(), radius = 0)\r\n    {\r\n        this.center = center;\r\n        this.radius = radius;\r\n    }\r\n\r\n    /**\r\n     * 与射线相交\r\n     * @param position 射线起点\r\n     * @param direction 射线方向\r\n     * @param targetNormal 目标法线\r\n     * @returns 射线起点到交点的距离\r\n     */\r\n    rayIntersection(position: Vector3, direction: Vector3, targetNormal: Vector3): number\r\n    {\r\n        if (this.containsPoint(position))\r\n        { return 0; }\r\n\r\n        const px: number = position.x - this.center.x;\r\n        const py: number = position.y - this.center.y;\r\n        const pz: number = position.z - this.center.z;\r\n        const vx: number = direction.x;\r\n        const vy: number = direction.y;\r\n        const vz: number = direction.z;\r\n        let rayEntryDistance: number;\r\n\r\n        const a: number = (vx * vx) + (vy * vy) + (vz * vz);\r\n        const b: number = 2 * ((px * vx) + (py * vy) + (pz * vz));\r\n        const c: number = (px * px) + (py * py) + (pz * pz) - (this.radius * this.radius);\r\n        const det: number = (b * b) - (4 * a * c);\r\n\r\n        if (det >= 0)\r\n        { // ray goes through sphere\r\n            const sqrtDet: number = Math.sqrt(det);\r\n\r\n            rayEntryDistance = (-b - sqrtDet) / (2 * a);\r\n            if (rayEntryDistance >= 0)\r\n            {\r\n                targetNormal.x = px + (rayEntryDistance * vx);\r\n                targetNormal.y = py + (rayEntryDistance * vy);\r\n                targetNormal.z = pz + (rayEntryDistance * vz);\r\n                targetNormal.normalize();\r\n\r\n                return rayEntryDistance;\r\n            }\r\n        }\r\n\r\n        // ray misses sphere\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * 是否包含指定点\r\n     * @param position 点\r\n     */\r\n    containsPoint(position: Vector3): boolean\r\n    {\r\n        return position.subTo(this.center).lengthSquared <= this.radius * this.radius;\r\n    }\r\n\r\n    /**\r\n     * 从一组点初始化球\r\n     * @param points 点列表\r\n     */\r\n    fromPoints(points: Vector3[])\r\n    {\r\n        const box = new Box3();\r\n        const center = this.center;\r\n\r\n        box.fromPoints(points).getCenter(center);\r\n        let maxRadiusSq = 0;\r\n\r\n        for (let i = 0, n = points.length; i < n; i++)\r\n        {\r\n            maxRadiusSq = Math.max(maxRadiusSq, center.distanceSquared(points[i]));\r\n        }\r\n        this.radius = Math.sqrt(maxRadiusSq);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 从一组顶点初始化球\r\n     * @param positions 坐标数据列表\r\n     */\r\n    fromPositions(positions: number[])\r\n    {\r\n        const box = new Box3();\r\n        const v = new Vector3();\r\n        const center = this.center;\r\n\r\n        box.formPositions(positions).getCenter(center);\r\n        let maxRadiusSq = 0;\r\n\r\n        for (let i = 0, n = positions.length; i < n; i += 3)\r\n        {\r\n            maxRadiusSq = Math.max(maxRadiusSq, center.distanceSquared(v.set(positions[i], positions[i + 1], positions[i + 2])));\r\n        }\r\n        this.radius = Math.sqrt(maxRadiusSq);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     */\r\n    copy(sphere: Sphere)\r\n    {\r\n        this.center.copy(sphere.center);\r\n        this.radius = sphere.radius;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new Sphere().copy(this);\r\n    }\r\n\r\n    /**\r\n     * 是否为空\r\n     */\r\n    isEmpty()\r\n    {\r\n        return this.radius <= 0;\r\n    }\r\n\r\n    /**\r\n     * 点到球的距离\r\n     * @param point 点\r\n     */\r\n    distanceToPoint(point: Vector3)\r\n    {\r\n        return point.distance(this.center) - this.radius;\r\n    }\r\n\r\n    /**\r\n     * 与指定球是否相交\r\n     */\r\n    intersectsSphere(sphere: Sphere)\r\n    {\r\n        const radiusSum = this.radius + sphere.radius;\r\n\r\n        return sphere.center.distanceSquared(this.center) <= radiusSum * radiusSum;\r\n    }\r\n\r\n    /**\r\n     * 是否与盒子相交\r\n     * @param box 盒子\r\n     */\r\n    intersectsBox(box: Box3)\r\n    {\r\n        return box.intersectsSphere(this);\r\n    }\r\n\r\n    /**\r\n     * 是否与平面相交\r\n     * @param plane 平面\r\n     */\r\n    intersectsPlane(plane: Plane)\r\n    {\r\n        return Math.abs(plane.distanceWithPoint(this.center)) <= this.radius;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param point 点\r\n     * @param pout 输出点\r\n     */\r\n    clampPoint(point: Vector3, pout = new Vector3())\r\n    {\r\n        const deltaLengthSq = this.center.distanceSquared(point);\r\n\r\n        pout.copy(point);\r\n        if (deltaLengthSq > (this.radius * this.radius))\r\n        {\r\n            pout.sub(this.center).normalize();\r\n            pout.scaleNumber(this.radius).add(this.center);\r\n        }\r\n\r\n        return pout;\r\n    }\r\n\r\n    /**\r\n     * 获取包围盒\r\n     */\r\n    getBoundingBox(box = new Box3())\r\n    {\r\n        box.init(this.center.subNumberTo(this.radius), this.center.addNumberTo(this.radius));\r\n\r\n        return box;\r\n    }\r\n\r\n    /**\r\n     * 应用矩阵\r\n     * @param matrix 矩阵\r\n     */\r\n    applyMatrix4(matrix: Matrix4x4)\r\n    {\r\n        this.center.applyMatrix4x4(matrix);\r\n        this.radius = this.radius * matrix.getMaxScaleOnAxis();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 平移\r\n     * @param offset 偏移量\r\n     */\r\n    translate(offset: Vector3)\r\n    {\r\n        this.center.add(offset);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否相等\r\n     * @param sphere 球\r\n     */\r\n    equals(sphere: Sphere)\r\n    {\r\n        return sphere.center.equals(this.center) && (sphere.radius === this.radius);\r\n    }\r\n\r\n    toString(): string\r\n    {\r\n        return `Sphere [center:${this.center.toString()}, radius:${this.radius}]`;\r\n    }\r\n}\r\n","import { ArrayUtils } from '@feng3d/polyfill';\r\nimport { Box3 } from './Box3';\r\nimport { Line3 } from './Line3';\r\nimport { Segment3 } from './Segment3';\r\nimport { Triangle3 } from './Triangle3';\r\nimport { Vector3 } from './Vector3';\r\n\r\n/**\r\n * 由三角形构成的几何体\r\n * ### 限定：\r\n *  * 只包含三角形，不存在四边形等其他多边形\r\n *  *\r\n */\r\nexport class TriangleGeometry\r\n{\r\n    /**\r\n     * 从盒子初始化\r\n     * @param box 盒子\r\n     */\r\n    static fromBox(box: Box3)\r\n    {\r\n        return new TriangleGeometry().fromBox(box);\r\n    }\r\n\r\n    triangles: Triangle3[];\r\n\r\n    constructor(triangles: Triangle3[] = [])\r\n    {\r\n        this.triangles = triangles;\r\n    }\r\n\r\n    /**\r\n     * 从盒子初始化\r\n     * @param box 盒子\r\n     */\r\n    fromBox(box: Box3)\r\n    {\r\n        this.triangles.length = 0;\r\n        box.toTriangles(this.triangles);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取所有顶点，去除重复顶点\r\n     */\r\n    getPoints()\r\n    {\r\n        const ps = this.triangles.reduce((v: Vector3[], t) => v.concat(t.getPoints()), []);\r\n\r\n        ArrayUtils.unique(ps, (a, b) => a.equals(b));\r\n\r\n        return ps;\r\n    }\r\n\r\n    /**\r\n     * 是否闭合\r\n     * 方案：获取所有三角形的线段，当每条线段（a,b）都存在且仅有一条与之相对于的线段（b，a）时几何体闭合\r\n     */\r\n    isClosed()\r\n    {\r\n        // 获取所有线段\r\n        const ss = this.triangles.reduce((ss: Segment3[], t) => ss.concat(t.getSegments()), []);\r\n        // 当每条线段（a,b）都存在与之相对于的线段（b，a）时几何体闭合\r\n        const r = ss.every((s) => ss.filter((s0) => s.p0.equals(s0.p1) && s.p1.equals(s0.p0)).length === 1);\r\n\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * 包围盒\r\n     */\r\n    getBox(box = new Box3())\r\n    {\r\n        return box.fromPoints(this.getPoints());\r\n    }\r\n\r\n    /**\r\n     * 与指定点最近的点\r\n     * @param point 点\r\n     * @param vout 输出点\r\n     */\r\n    closestPointWithPoint(point: Vector3, vout = new Vector3())\r\n    {\r\n        // 计算指定点到所有平面的距离，并按距离排序\r\n        const r = this.triangles.map((t) =>\r\n        {\r\n            const p = t.closestPointWithPoint(point);\r\n\r\n            return { p, d: point.distanceSquared(p) };\r\n        }).sort((a, b) => a.d - b.d);\r\n\r\n        return vout.copy(r[0].p);\r\n    }\r\n\r\n    /**\r\n     * 给指定点分类\r\n     * @param p 点\r\n     * @returns 点相对于几何体位置；0:在几何体表面上，1：在几何体外，-1：在几何体内\r\n     * 方案：当指定点不在几何体上时，在几何体上找到距离指定点最近点，最近点到给定点形成的向量与最近点所在面（当最近点在多个面上时取点乘摸最大的面）法线点乘大于0时给定点在几何体内，否则在几何体外。\r\n     */\r\n    classifyPoint(p: Vector3)\r\n    {\r\n        if (!this.isClosed())\r\n        { return 1; }\r\n\r\n        // 是否在表面\r\n        const onface = this.triangles.reduce((v, t) =>\r\n            v || t.onWithPoint(p), false);\r\n\r\n        if (onface) return 0;\r\n\r\n        // 最近点\r\n        const cp = this.closestPointWithPoint(p);\r\n        // 到最近点的向量\r\n        const cpv = cp.subTo(p);\r\n        // 最近点所在平面\r\n        const cts = this.triangles.filter((t) => t.onWithPoint(cp));\r\n        // 最近点向量与所在平面方向相同则点在几何体内\r\n        const v = cts.map((t) => t.getNormal().dot(cpv)).sort((a, b) => Math.abs(b) - Math.abs(a))[0];\r\n\r\n        if (v > 0)\r\n        { return -1; }\r\n\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     * 是否包含指定点\r\n     * @param p 点\r\n     */\r\n    containsPoint(p: Vector3)\r\n    {\r\n        return this.classifyPoint(p) <= 0;\r\n    }\r\n\r\n    /**\r\n     * 给指定线段分类\r\n     * @param segment 线段\r\n     * @returns 线段相对于几何体位置；0:在几何体表面上，1：在几何体外，-1：在几何体内，2：横跨几何体\r\n     */\r\n    classifySegment(segment: Segment3)\r\n    {\r\n        // 线段与几何体不相交时\r\n        const r = this.intersectionWithSegment(segment);\r\n\r\n        if (!r)\r\n        {\r\n            if (this.classifyPoint(segment.p0) > 0)\r\n            { return 1; }\r\n\r\n            return -1;\r\n        }\r\n        // 相交多条线段时 横跨\r\n        if (r.segments.length > 1)\r\n        { return 2; }\r\n        if (r.segments.length === 1)\r\n        {\r\n            // 相交线段相对 几何体的位置\r\n            const pc = [r.segments[0].p0, r.segments[0].p1].map((p) => this.classifyPoint(p));\r\n\r\n            if (pc[0] * pc[1] < 0) return 2;\r\n            if (pc[0] + pc[1] === 0) return 0;\r\n            if (pc[0] + pc[1] < 0) return -1;\r\n\r\n            return 1;\r\n        }\r\n        // 相交于点\r\n        if (r.points.length)\r\n        {\r\n            throw `未实现`;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给指定三角形分类\r\n     * @param triangle 三角形\r\n     * @returns 三角形相对于几何体位置；0:在几何体表面上，1：在几何体外，-1：在几何体内\r\n     */\r\n    classifyTriangle(_triangle: Triangle3)\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    /**\r\n     * 与直线碰撞\r\n     * @param line3d 直线\r\n     */\r\n    intersectionWithLine(line3d: Line3)\r\n    {\r\n        // 线段与三角形碰撞\r\n        const ss: Segment3[] = [];\r\n        let ps: Vector3[] = [];\r\n\r\n        this.triangles.forEach((t) =>\r\n        {\r\n            const r = t.intersectionWithLine(line3d);\r\n\r\n            if (!r) return;\r\n            if (r instanceof Segment3)\r\n            {\r\n                ss.push(r);\r\n\r\n                return;\r\n            }\r\n            ps.push(r);\r\n        });\r\n\r\n        // 清除相同的线段\r\n        ArrayUtils.unique(ss, (a, b) => a.equals(b));\r\n        // 删除在相交线段上的交点\r\n        ps = ps.filter((p) => ss.every((s) => !s.onWithPoint(p)));\r\n        // 清除相同点\r\n        ArrayUtils.unique(ps, (a, b) => a.equals(b));\r\n        if (ss.length + ps.length === 0)\r\n        { return null; }\r\n\r\n        return { segments: ss, points: ps };\r\n    }\r\n\r\n    /**\r\n     * 与线段相交\r\n     * @param segment 线段\r\n     * @returns 不相交时返回null，相交时返回 碰撞线段列表与碰撞点列表\r\n     */\r\n    intersectionWithSegment(segment: Segment3)\r\n    {\r\n        const line = segment.getLine();\r\n        const r = this.intersectionWithLine(line);\r\n\r\n        if (!r) return null;\r\n        const ps = r.points = r.points.filter((p) => segment.onWithPoint(p));\r\n\r\n        r.segments = r.segments.reduce((v: Segment3[], s) =>\r\n        {\r\n            const p0 = segment.clampPoint(s.p0);\r\n            const p1 = segment.clampPoint(s.p1);\r\n\r\n            if (!s.onWithPoint(p0))\r\n            { return v; }\r\n            if (p0.equals(p1))\r\n            {\r\n                ps.push(p0);\r\n\r\n                return v;\r\n            }\r\n            v.push(Segment3.fromPoints(p0, p1));\r\n\r\n            return v;\r\n        }, []);\r\n\r\n        if (r.segments.length + r.points.length === 0)\r\n        { return null; }\r\n\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * 分解三角形\r\n     * @param triangle 三角形\r\n     */\r\n    decomposeTriangle(_triangle: Triangle3)\r\n    {\r\n        throw `未实现`;\r\n    }\r\n\r\n    /**\r\n     * 拷贝\r\n     */\r\n    copy(triangleGeometry: TriangleGeometry)\r\n    {\r\n        this.triangles = triangleGeometry.triangles.map((t) => t.clone());\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 克隆\r\n     */\r\n    clone()\r\n    {\r\n        return new TriangleGeometry().copy(this);\r\n    }\r\n}\r\n","/**\r\n * 渐变模式\r\n */\r\nexport enum GradientMode\r\n{\r\n    /**\r\n     * 混合\r\n     */\r\n    Blend,\r\n    /**\r\n     * 阶梯\r\n     */\r\n    Fixed\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Color3 } from '../Color3';\r\nimport { Color4 } from '../Color4';\r\nimport { GradientAlphaKey } from './GradientAlphaKey';\r\nimport { GradientColorKey } from './GradientColorKey';\r\nimport { GradientMode } from './GradientMode';\r\n\r\n/**\r\n * 颜色渐变\r\n */\r\nexport class Gradient\r\n{\r\n    __class__: 'feng3d.Gradient';\r\n\r\n    /**\r\n     * 渐变模式\r\n     */\r\n    @serialize\r\n    mode = GradientMode.Blend;\r\n\r\n    /**\r\n     * 在渐变中定义的所有alpha键。\r\n     *\r\n     * 注： 该值已对时间排序，否则赋值前请使用 sort((a, b) => a.time - b.time) 进行排序\r\n     */\r\n    @serialize\r\n    alphaKeys: GradientAlphaKey[] = [{ alpha: 1, time: 0 }, { alpha: 1, time: 1 }];\r\n\r\n    /**\r\n     * 在渐变中定义的所有color键。\r\n     *\r\n     * 注： 该值已对时间排序，否则赋值前请使用 sort((a, b) => a.time - b.time) 进行排序\r\n     */\r\n    @serialize\r\n    colorKeys: GradientColorKey[] = [{ color: new Color3(1, 1, 1), time: 0 }, { color: new Color3(1, 1, 1), time: 1 }];\r\n\r\n    /**\r\n     * 从颜色列表初始化\r\n     * @param colors 颜色列表\r\n     * @param times\r\n     */\r\n    fromColors(colors: number[], times?: number[])\r\n    {\r\n        if (!times)\r\n        {\r\n            times = [];\r\n            for (let i = 0; i < colors.length; i++)\r\n            {\r\n                times[i] = i / (colors.length - 1);\r\n            }\r\n        }\r\n\r\n        const colors1 = colors.map((v) => new Color3().fromUnit(v));\r\n\r\n        for (let i = 0; i < colors1.length; i++)\r\n        {\r\n            this.colorKeys[i] = { color: colors1[i], time: times[i] };\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取值\r\n     * @param time 时间\r\n     */\r\n    getValue(time: number)\r\n    {\r\n        const alpha = this.getAlpha(time);\r\n        const color = this.getColor(time);\r\n\r\n        return new Color4(color.r, color.g, color.b, alpha);\r\n    }\r\n\r\n    /**\r\n     * 获取透明度\r\n     * @param time 时间\r\n     */\r\n    getAlpha(time: number)\r\n    {\r\n        const alphaKeys = this.alphaKeys;\r\n\r\n        if (alphaKeys.length === 1) return alphaKeys[0].alpha;\r\n        if (time <= alphaKeys[0].time) return alphaKeys[0].alpha;\r\n        if (time >= alphaKeys[alphaKeys.length - 1].time) return alphaKeys[alphaKeys.length - 1].alpha;\r\n\r\n        for (let i = 0, n = alphaKeys.length - 1; i < n; i++)\r\n        {\r\n            const t = alphaKeys[i].time;\r\n            const v = alphaKeys[i].alpha;\r\n            const nt = alphaKeys[i + 1].time;\r\n            const nv = alphaKeys[i + 1].alpha;\r\n\r\n            if (time === t) return v;\r\n            if (time === nt) return nv;\r\n            if (t < time && time < nt)\r\n            {\r\n                if (this.mode === GradientMode.Fixed) return nv;\r\n\r\n                return mathUtil.mapLinear(time, t, nt, v, nv);\r\n            }\r\n        }\r\n\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     * 获取透明度\r\n     * @param time 时间\r\n     */\r\n    getColor(time: number)\r\n    {\r\n        const colorKeys = this.colorKeys;\r\n\r\n        if (colorKeys.length === 1) return colorKeys[0].color;\r\n        if (time <= colorKeys[0].time) return colorKeys[0].color;\r\n        if (time >= colorKeys[colorKeys.length - 1].time) return colorKeys[colorKeys.length - 1].color;\r\n\r\n        for (let i = 0, n = colorKeys.length - 1; i < n; i++)\r\n        {\r\n            const t = colorKeys[i].time;\r\n            const v = colorKeys[i].color;\r\n            const nt = colorKeys[i + 1].time;\r\n            const nv = colorKeys[i + 1].color;\r\n\r\n            if (time === t) return v;\r\n            if (time === nt) return nv;\r\n            if (t < time && time < nt)\r\n            {\r\n                if (this.mode === GradientMode.Fixed) return nv;\r\n\r\n                return v.mixTo(nv, (time - t) / (nt - t));\r\n            }\r\n        }\r\n\r\n        return new Color3();\r\n    }\r\n}\r\n","/**\r\n * 最大最小颜色渐变模式\r\n */\r\nexport enum MinMaxGradientMode\r\n{\r\n    /**\r\n     * Use a single color for the MinMaxGradient.\r\n     *\r\n     * 使用单一颜色的。\r\n     */\r\n    Color = 0,\r\n\r\n    /**\r\n     * Use a single color gradient for the MinMaxGradient.\r\n     *\r\n     * 使用单一颜色渐变。\r\n     */\r\n    Gradient = 1,\r\n\r\n    /**\r\n     * Use a random value between 2 colors for the MinMaxGradient.\r\n     *\r\n     * 在两种颜色之间使用一个随机值。\r\n     */\r\n    TwoColors = 2,\r\n\r\n    /**\r\n     * Use a random value between 2 color gradients for the MinMaxGradient.\r\n     *\r\n     * 在两个颜色梯度之间使用一个随机值。\r\n     */\r\n    TwoGradients = 3,\r\n\r\n    /**\r\n     * Define a list of colors in the MinMaxGradient, to be chosen from at random.\r\n     *\r\n     * 在一个颜色列表中随机选择。\r\n     */\r\n    RandomColor = 4\r\n}\r\n","import { serialize } from '@feng3d/serialization';\r\nimport { Color4 } from '../Color4';\r\nimport { Gradient } from './Gradient';\r\nimport { MinMaxGradientMode } from './MinMaxGradientMode';\r\n\r\n/**\r\n * 最大最小颜色渐变\r\n */\r\nexport class MinMaxGradient\r\n{\r\n    __class__: 'feng3d.MinMaxGradient';\r\n\r\n    /**\r\n     * Set the mode that the min-max gradient will use to evaluate colors.\r\n     *\r\n     * 设置最小-最大梯度将用于评估颜色的模式。\r\n     */\r\n    @serialize\r\n    mode = MinMaxGradientMode.Color;\r\n\r\n    /**\r\n     * Set a constant color.\r\n     *\r\n     * 常量颜色值\r\n     */\r\n    @serialize\r\n    color = new Color4();\r\n\r\n    /**\r\n     * Set a constant color for the lower bound.\r\n     *\r\n     * 为下界设置一个常量颜色。\r\n     */\r\n    @serialize\r\n    colorMin = new Color4();\r\n\r\n    /**\r\n     * Set a constant color for the upper bound.\r\n     *\r\n     * 为上界设置一个常量颜色。\r\n     */\r\n    @serialize\r\n    colorMax = new Color4();\r\n\r\n    /**\r\n     * Set the gradient.\r\n     *\r\n     * 设置渐变。\r\n     */\r\n    @serialize\r\n    gradient = new Gradient();\r\n\r\n    /**\r\n     * Set a gradient for the lower bound.\r\n     *\r\n     * 为下界设置一个渐变。\r\n     */\r\n    @serialize\r\n    gradientMin = new Gradient();\r\n\r\n    /**\r\n     * Set a gradient for the upper bound.\r\n     *\r\n     * 为上界设置一个渐变。\r\n     */\r\n    @serialize\r\n    gradientMax = new Gradient();\r\n\r\n    /**\r\n     * 获取值\r\n     * @param time 时间\r\n     */\r\n    getValue(time: number, randomBetween: number = Math.random())\r\n    {\r\n        let min: Color4;\r\n        let max: Color4;\r\n        let v: Color4;\r\n\r\n        switch (this.mode)\r\n        {\r\n            case MinMaxGradientMode.Color:\r\n                return this.color;\r\n            case MinMaxGradientMode.Gradient:\r\n                return this.gradient.getValue(time);\r\n            case MinMaxGradientMode.TwoColors:\r\n                return this.colorMin.mixTo(this.colorMax, randomBetween);\r\n            case MinMaxGradientMode.TwoGradients:\r\n                min = this.gradientMin.getValue(time);\r\n                max = this.gradientMax.getValue(time);\r\n                v = min.mixTo(max, randomBetween);\r\n\r\n                return v;\r\n            case MinMaxGradientMode.RandomColor:\r\n                v = this.gradient.getValue(randomBetween);\r\n\r\n                return v;\r\n        }\r\n\r\n        return this.color;\r\n    }\r\n}\r\n","/**\r\n * 柏林噪音\r\n *\r\n * 用于生产随机的噪音贴图\r\n *\r\n * @see http://staffwww.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf\r\n * @see https://mrl.nyu.edu/~perlin/noise/\r\n * @see https://gitee.com/feng3d_admin/noise\r\n */\r\nexport class Noise\r\n{\r\n    /**\r\n     * 构建柏林噪音\r\n     *\r\n     * @param seed 随机种子\r\n     */\r\n    constructor(seed = 0)\r\n    {\r\n        this.seed = seed;\r\n    }\r\n\r\n    /**\r\n     * 1D 经典噪音\r\n     *\r\n     * @param x X轴数值\r\n     */\r\n    perlin1(x: number)\r\n    {\r\n        const perm = this._p;\r\n\r\n        // Find unit grid cell containing point\r\n        let X = Math.floor(x);\r\n\r\n        // Get relative xyz coordinates of point within that cell\r\n        x = x - X;\r\n\r\n        // Wrap the integer cells at 255 (smaller integer period can be introduced here)\r\n        X = X & 255;\r\n        // Calculate a set of eight hashed gradient indices\r\n        const gi00 = perm[X] % 2;\r\n        const gi10 = perm[X + 1] % 2;\r\n\r\n        // Calculate noise contributions from each of the eight corners\r\n        const n00 = dot1(grad1[gi00], x);\r\n        const n10 = dot1(grad1[gi10], x - 1);\r\n        // Compute the fade curve value for each of x, y\r\n        const u = fade(x);\r\n        // Interpolate along x the contributions from each of the corners\r\n        const nx0 = mix(n00, n10, u);\r\n\r\n        return nx0;\r\n    }\r\n\r\n    /**\r\n     * 2D 经典噪音\r\n     *\r\n     * @param x X轴数值\r\n     * @param y Y轴数值\r\n     */\r\n    perlin2(x: number, y: number)\r\n    {\r\n        const perm = this._p;\r\n\r\n        // Find unit grid cell containing point\r\n        let X = Math.floor(x);\r\n        let Y = Math.floor(y);\r\n\r\n        // Get relative xyz coordinates of point within that cell\r\n        x = x - X;\r\n        y = y - Y;\r\n\r\n        // Wrap the integer cells at 255 (smaller integer period can be introduced here)\r\n        X = X & 255;\r\n        Y = Y & 255;\r\n        // Calculate a set of eight hashed gradient indices\r\n        const gi00 = perm[X + perm[Y]] % 4;\r\n        const gi10 = perm[X + 1 + perm[Y]] % 4;\r\n        const gi01 = perm[X + perm[Y + 1]] % 4;\r\n        const gi11 = perm[X + 1 + perm[Y + 1]] % 4;\r\n\r\n        // Calculate noise contributions from each of the eight corners\r\n        const n00 = dot2(grad2[gi00], x, y);\r\n        const n10 = dot2(grad2[gi10], x - 1, y);\r\n        const n01 = dot2(grad2[gi01], x, y - 1);\r\n        const n11 = dot2(grad2[gi11], x - 1, y - 1);\r\n        // Compute the fade curve value for each of x, y\r\n        const u = fade(x);\r\n        const v = fade(y);\r\n        // Interpolate along x the contributions from each of the corners\r\n        const nx0 = mix(n00, n10, u);\r\n        const nx1 = mix(n01, n11, u);\r\n        // Interpolate the four results along y\r\n        const nxy = mix(nx0, nx1, v);\r\n\r\n        return nxy;\r\n    }\r\n\r\n    /**\r\n     * 3D 经典噪音\r\n     *\r\n     * @param x X轴数值\r\n     * @param y Y轴数值\r\n     * @param z Z轴数值\r\n     */\r\n    perlin3(x: number, y: number, z: number)\r\n    {\r\n        const perm = this._p;\r\n\r\n        // Find unit grid cell containing point\r\n        let X = Math.floor(x);\r\n        let Y = Math.floor(y);\r\n        let Z = Math.floor(z);\r\n\r\n        // Get relative xyz coordinates of point within that cell\r\n        x = x - X;\r\n        y = y - Y;\r\n        z = z - Z;\r\n\r\n        // Wrap the integer cells at 255 (smaller integer period can be introduced here)\r\n        X = X & 255;\r\n        Y = Y & 255;\r\n        Z = Z & 255;\r\n        // Calculate a set of eight hashed gradient indices\r\n        const gi000 = perm[X + perm[Y + perm[Z]]] % 12;\r\n        const gi100 = perm[X + 1 + perm[Y + perm[Z]]] % 12;\r\n        const gi010 = perm[X + perm[Y + 1 + perm[Z]]] % 12;\r\n        const gi110 = perm[X + 1 + perm[Y + 1 + perm[Z]]] % 12;\r\n        const gi001 = perm[X + perm[Y + perm[Z + 1]]] % 12;\r\n        const gi101 = perm[X + 1 + perm[Y + perm[Z + 1]]] % 12;\r\n        const gi011 = perm[X + perm[Y + 1 + perm[Z + 1]]] % 12;\r\n        const gi111 = perm[X + 1 + perm[Y + 1 + perm[Z + 1]]] % 12;\r\n\r\n        // Calculate noise contributions from each of the eight corners\r\n        const n000 = dot(grad3[gi000], x, y, z);\r\n        const n100 = dot(grad3[gi100], x - 1, y, z);\r\n        const n010 = dot(grad3[gi010], x, y - 1, z);\r\n        const n110 = dot(grad3[gi110], x - 1, y - 1, z);\r\n        const n001 = dot(grad3[gi001], x, y, z - 1);\r\n        const n101 = dot(grad3[gi101], x - 1, y, z - 1);\r\n        const n011 = dot(grad3[gi011], x, y - 1, z - 1);\r\n        const n111 = dot(grad3[gi111], x - 1, y - 1, z - 1);\r\n        // Compute the fade curve value for each of x, y, z\r\n        const u = fade(x);\r\n        const v = fade(y);\r\n        const w = fade(z);\r\n        // Interpolate along x the contributions from each of the corners\r\n        const nx00 = mix(n000, n100, u);\r\n        const nx01 = mix(n001, n101, u);\r\n        const nx10 = mix(n010, n110, u);\r\n        const nx11 = mix(n011, n111, u);\r\n        // Interpolate the four results along y\r\n        const nxy0 = mix(nx00, nx10, v);\r\n        const nxy1 = mix(nx01, nx11, v);\r\n        // Interpolate the two last results along z\r\n        const nxyz = mix(nxy0, nxy1, w);\r\n\r\n        return nxyz;\r\n    }\r\n\r\n    /**\r\n     * N阶经典噪音\r\n     *\r\n     * 如果是1D，2D，3D噪音，最好选用对于函数，perlinN中存在for循环因此效率比perlin3等性能差3到5（8）倍！\r\n     *\r\n     * 满足以下运算\r\n     * perlinN(x) === perlin1(x)\r\n     * perlinN(x,y) === perlin2(x,y)\r\n     * perlinN(x,y,z) === perlin3(x,y,z)\r\n     *\r\n     * @param ps 每个轴的数值\r\n     */\r\n    perlinN(...ps: number[])\r\n    {\r\n        const perm = this._p;\r\n\r\n        const n = ps.length;\r\n\r\n        // 在格子内对应每个轴的位置\r\n        const pp: number[] = [];\r\n        // 所属格子对应每个轴的索引\r\n        const PS: number[] = [];\r\n        // 在格子内对应每个轴的混合权重\r\n        const PF: number[] = [];\r\n\r\n        for (let i = 0; i < n; i++)\r\n        {\r\n            let p = ps[i];\r\n            // 找到所属单元格\r\n            let P = Math.floor(p);\r\n\r\n            // 获取所在单元格内的位置\r\n            p = p - P;\r\n\r\n            // 单元格以255为周期\r\n            P = P & 255;\r\n\r\n            //\r\n            pp[i] = p;\r\n            PS[i] = P;\r\n\r\n            // 分别计算每个轴的混合度\r\n            PF[i] = fade(p);\r\n        }\r\n\r\n        //\r\n        const gradN = createGrad(n);\r\n        // 边的数量\r\n        const numEdge = gradN.length;\r\n        // if (n > 1)\r\n        // {\r\n        //     console.assert(numEdge === Math.pow(2, n - 1) * n, `边的数量不对！`)\r\n        // }\r\n        //\r\n        const bits = getBits(n);\r\n        const dns: number[] = [];\r\n        //\r\n\r\n        for (let i = 0, len = bits.length; i < len; i++)\r\n        {\r\n            const bit = bits[i];\r\n            let bitn = bit.length;\r\n            // 计算索引\r\n            let gi = 0;\r\n\r\n            while (bitn > 0)\r\n            {\r\n                bitn--;\r\n                gi = perm[PS[bitn] + bit[bitn] + gi];\r\n                // if (isNaN(gi))\r\n                //     debugger;\r\n            }\r\n            // 获取 grad\r\n            const grad = gradN[gi % numEdge];\r\n\r\n            bitn = bit.length;\r\n            // 计算点乘 dot运算\r\n            let dn = 0;\r\n\r\n            while (bitn > 0)\r\n            {\r\n                bitn--;\r\n                dn += grad[bitn] * (pp[bitn] - bit[bitn]);\r\n            }\r\n            dns[i] = dn;\r\n        }\r\n        // 进行插值\r\n        for (let i = 0; i < n; i++)\r\n        {\r\n            // 每次前后两个插值\r\n            for (let j = 0, len = dns.length; j < len; j += 2)\r\n            {\r\n                dns[j / 2] = mix(dns[j], dns[j + 1], PF[i]);\r\n            }\r\n            // 每波插值后 长度减半\r\n            dns.length = dns.length >> 1;\r\n        }\r\n        // console.assert(dns.length === 1, `结果长度不对！`)\r\n\r\n        return dns[0];\r\n    }\r\n\r\n    /**\r\n     * This isn't a very good seeding function, but it works ok. It supports 2^16\r\n     * different seed values. Write something better if you need more seeds.\r\n     */\r\n    get seed()\r\n    {\r\n        return this._seed;\r\n    }\r\n    set seed(v)\r\n    {\r\n        this._seed = v;\r\n\r\n        const p = this._p;\r\n\r\n        if (v > 0 && v < 1)\r\n        {\r\n            // Scale the seed out\r\n            v *= 65536;\r\n        }\r\n\r\n        v = Math.floor(v);\r\n        if (v < 256)\r\n        {\r\n            v |= v << 8;\r\n        }\r\n\r\n        for (let i = 0; i < 256; i++)\r\n        {\r\n            let v0: number;\r\n\r\n            if (i & 1)\r\n            {\r\n                v0 = permutation[i] ^ (v & 255);\r\n            }\r\n            else\r\n            {\r\n                v0 = permutation[i] ^ ((v >> 8) & 255);\r\n            }\r\n\r\n            p[i] = p[i + 256] = v0;\r\n        }\r\n    }\r\n    private _seed = 0;\r\n    private _p: number[] = [];\r\n}\r\n\r\n/**\r\n *\r\n * @param n\r\n *\r\n * len = 2^(n-1) * n\r\n */\r\nexport function createGrad(n: number): number[][]\r\n{\r\n    if (createGradCache[n]) return createGradCache[n];\r\n\r\n    const gradBase = createGradBase(n - 1);\r\n    let grad: number[][] = [];\r\n\r\n    if (n > 1)\r\n    {\r\n        for (let i = n - 1; i >= 0; i--)\r\n        {\r\n            for (let j = 0; j < gradBase.length; j++)\r\n            {\r\n                const item = gradBase[j].concat();\r\n\r\n                item.splice(i, 0, 0);\r\n                grad.push(item);\r\n            }\r\n        }\r\n    }\r\n    else\r\n    {\r\n        grad = gradBase;\r\n    }\r\n    createGradCache[n] = grad;\r\n\r\n    return grad;\r\n}\r\n\r\nconst createGradCache: { [n: number]: number[][] } = {};\r\n\r\nfunction createGradBase(n: number): number[][]\r\n{\r\n    if (n < 2)\r\n    {\r\n        return [\r\n            [1], [-1],\r\n        ];\r\n    }\r\n    const grad = createGradBase(n - 1);\r\n\r\n    for (let i = 0, len = grad.length; i < len; i++)\r\n    {\r\n        const item = grad[i];\r\n\r\n        grad[i] = item.concat(1);\r\n        grad[i + len] = item.concat(-1);\r\n    }\r\n\r\n    return grad;\r\n}\r\n\r\nexport function getBits(n: number): number[][]\r\n{\r\n    if (getBitsChace[n]) return getBitsChace[n];\r\n\r\n    if (n < 2)\r\n    {\r\n        return [\r\n            [0], [1],\r\n        ];\r\n    }\r\n    const grad = getBits(n - 1);\r\n\r\n    for (let i = 0, len = grad.length; i < len; i++)\r\n    {\r\n        const item = grad[i];\r\n\r\n        grad[i] = item.concat(0);\r\n        grad[i + len] = item.concat(1);\r\n    }\r\n    getBitsChace[n] = grad;\r\n\r\n    return grad;\r\n}\r\nconst getBitsChace: { [n: number]: number[][] } = {};\r\n\r\nconst grad1 = [\r\n    [1], [-1],\r\n];\r\nconst grad2 = [\r\n    [1, 0], [-1, 0],\r\n    [0, 1], [0, -1],\r\n];\r\nconst grad3 = [\r\n    [1, 1, 0], [-1, 1, 0], [1, -1, 0], [-1, -1, 0],\r\n    [1, 0, 1], [-1, 0, 1], [1, 0, -1], [-1, 0, -1],\r\n    [0, 1, 1], [0, -1, 1], [0, 1, -1], [0, -1, -1]\r\n];\r\nconst permutation = [\r\n    151, 160, 137, 91, 90, 15,\r\n    131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23,\r\n    190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33,\r\n    88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166,\r\n    77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244,\r\n    102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\r\n    135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123,\r\n    5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42,\r\n    223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9,\r\n    129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228,\r\n    251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\r\n    49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\r\n    138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180\r\n];\r\n\r\nfunction dot(g: number[], x: number, y: number, z: number)\r\n{\r\n    return g[0] * x + g[1] * y + g[2] * z;\r\n}\r\nfunction dot2(g: number[], x: number, y: number)\r\n{\r\n    return g[0] * x + g[1] * y;\r\n}\r\nfunction dot1(g: number[], x: number)\r\n{\r\n    return g[0] * x;\r\n}\r\nfunction mix(a: number, b: number, t: number)\r\n{\r\n    return (1 - t) * a + t * b;\r\n}\r\nfunction fade(t: number)\r\n{\r\n    return t * t * t * (t * (t * 6 - 15) + 10);\r\n}\r\n\r\n/**\r\n * 噪音\r\n */\r\nexport const noise = new Noise();\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { Matrix4x4 } from '../../geom/Matrix4x4';\r\nimport { Vector } from '../../geom/Vector';\r\nimport { Vector3 } from '../../geom/Vector3';\r\n\r\n/**\r\n * An extensible curve object which contains methods for interpolation\r\n */\r\nexport class Curve<T extends Vector>\r\n{\r\n    /**\r\n     * This value determines the amount of divisions when calculating the cumulative segment lengths of a curve via .getLengths.\r\n     * To ensure precision when using methods like .getSpacedPoints, it is recommended to increase .arcLengthDivisions if the curve is very large.\r\n     */\r\n    arcLengthDivisions = 200;\r\n\r\n    needsUpdate = false;\r\n\r\n    cacheArcLengths: number[];\r\n\r\n    getResolution(divisions: number): number\r\n    {\r\n        return divisions;\r\n    }\r\n\r\n    /**\r\n     * Virtual base class method to overwrite and implement in subclasses\r\n     *\r\n     * - t [0 .. 1]\r\n     * Returns a vector for point t of the curve where t is between 0 and 1\r\n     */\r\n    getPoint(_t?: number, _optionalTarget?: T): T\r\n    {\r\n        console.warn('Curve: .getPoint() not implemented.');\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get point at relative position in curve according to arc length\r\n     * Returns a vector for point at relative position in curve according to arc length\r\n     *\r\n     * @param u [0 .. 1]\r\n     * @param optionalTarget\r\n     */\r\n    getPointAt(u: number, optionalTarget?: T)\r\n    {\r\n        const t = this.getUtoTmapping(u);\r\n\r\n        return this.getPoint(t, optionalTarget);\r\n    }\r\n\r\n    /**\r\n     * Get sequence of points using getPoint( t )\r\n     */\r\n    getPoints(divisions = 5)\r\n    {\r\n        const points: T[] = [];\r\n\r\n        for (let d = 0; d <= divisions; d++)\r\n        {\r\n            points.push(this.getPoint(d / divisions));\r\n        }\r\n\r\n        return points;\r\n    }\r\n\r\n    /**\r\n     * Get sequence of equi-spaced points using getPointAt( u )\r\n     */\r\n    getSpacedPoints(divisions: number)\r\n    {\r\n        if (divisions === undefined) divisions = 5;\r\n        const points = [];\r\n\r\n        for (let d = 0; d <= divisions; d++)\r\n        {\r\n            points.push(this.getPointAt(d / divisions));\r\n        }\r\n\r\n        return points;\r\n    }\r\n\r\n    /**\r\n     * Get total curve arc length\r\n     */\r\n    getLength()\r\n    {\r\n        const lengths = this.getLengths();\r\n\r\n        return lengths[lengths.length - 1];\r\n    }\r\n\r\n    /**\r\n     * Get list of cumulative segment lengths\r\n     */\r\n    getLengths(divisions?: number)\r\n    {\r\n        if (divisions === undefined) divisions = this.arcLengthDivisions;\r\n\r\n        if (this.cacheArcLengths && (this.cacheArcLengths.length === divisions + 1) && !this.needsUpdate)\r\n        {\r\n            return this.cacheArcLengths;\r\n        }\r\n\r\n        this.needsUpdate = false;\r\n\r\n        const cache: number[] = [];\r\n        let current: T; let\r\n            last = this.getPoint(0);\r\n        let sum = 0;\r\n\r\n        cache.push(0);\r\n\r\n        for (let p = 1; p <= divisions; p++)\r\n        {\r\n            current = this.getPoint(p / divisions);\r\n            sum += current.distance(last);\r\n            cache.push(sum);\r\n            last = current;\r\n        }\r\n\r\n        this.cacheArcLengths = cache;\r\n\r\n        return cache;\r\n    }\r\n\r\n    /**\r\n     * Update the cumlative segment distance cache\r\n     */\r\n    updateArcLengths()\r\n    {\r\n        this.needsUpdate = true;\r\n        this.getLengths();\r\n    }\r\n\r\n    /**\r\n     * Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equi distance\r\n     */\r\n    getUtoTmapping(u: number, distance?: number)\r\n    {\r\n        const arcLengths = this.getLengths();\r\n\r\n        let i = 0;\r\n        const il = arcLengths.length;\r\n\r\n        let targetArcLength: number; // The targeted u distance value to get\r\n\r\n        if (distance)\r\n        {\r\n            targetArcLength = distance;\r\n        }\r\n        else\r\n        {\r\n            targetArcLength = u * arcLengths[il - 1];\r\n        }\r\n\r\n        // binary search for the index with largest value smaller than target u distance\r\n        let low = 0;\r\n        let high = il - 1;\r\n        let comparison: number;\r\n\r\n        while (low <= high)\r\n        {\r\n            i = Math.floor(low + ((high - low) / 2)); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\r\n            comparison = arcLengths[i] - targetArcLength;\r\n            if (comparison < 0)\r\n            {\r\n                low = i + 1;\r\n            }\r\n            else if (comparison > 0)\r\n            {\r\n                high = i - 1;\r\n            }\r\n            else\r\n            {\r\n                high = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        i = high;\r\n\r\n        if (arcLengths[i] === targetArcLength)\r\n        {\r\n            return i / (il - 1);\r\n        }\r\n\r\n        // we could get finer grain at lengths, or use simple interpolation between two points\r\n        const lengthBefore = arcLengths[i];\r\n        const lengthAfter = arcLengths[i + 1];\r\n\r\n        const segmentLength = lengthAfter - lengthBefore;\r\n\r\n        // determine where we are between the 'before' and 'after' points\r\n        const segmentFraction = (targetArcLength - lengthBefore) / segmentLength;\r\n\r\n        // add that fractional amount to t\r\n        const t = (i + segmentFraction) / (il - 1);\r\n\r\n        return t;\r\n    }\r\n\r\n    /**\r\n     * Returns a unit vector tangent at t. If the subclassed curve do not implement its tangent derivation, 2 points a small delta apart will be used to find its gradient which seems to give a reasonable approximation\r\n     * getTangent(t: number, optionalTarget?: T): T;\r\n     */\r\n    getTangent(t: number, optionalTarget: T): T\r\n    {\r\n        const delta = 0.0001;\r\n        let t1 = t - delta;\r\n        let t2 = t + delta;\r\n\r\n        // Capping in case of danger\r\n\r\n        if (t1 < 0) t1 = 0;\r\n        if (t2 > 1) t2 = 1;\r\n\r\n        const pt1 = this.getPoint(t1);\r\n        const pt2 = this.getPoint(t2);\r\n\r\n        const tangent = optionalTarget;\r\n\r\n        tangent.copy(pt2).sub(pt1).normalize();\r\n\r\n        return tangent;\r\n    }\r\n\r\n    /**\r\n     * Returns tangent at equidistance point u on the curve\r\n     * getTangentAt(u: number, optionalTarget?: T): T;\r\n     */\r\n    getTangentAt(u: number, optionalTarget: T)\r\n    {\r\n        const t = this.getUtoTmapping(u);\r\n\r\n        return this.getTangent(t, optionalTarget);\r\n    }\r\n\r\n    computeFrenetFrames(segments: number, closed: boolean)\r\n    {\r\n        // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\r\n\r\n        const normal = new Vector3();\r\n\r\n        const tangents: Vector3[] = [];\r\n        const normals: Vector3[] = [];\r\n        const binormals: Vector3[] = [];\r\n\r\n        const vec = new Vector3();\r\n        const mat = new Matrix4x4();\r\n\r\n        // compute the tangent vectors for each segment on the curve\r\n\r\n        const curve3: Curve<Vector3> = this as any;\r\n\r\n        for (let i = 0; i <= segments; i++)\r\n        {\r\n            const u = i / segments;\r\n\r\n            tangents[i] = curve3.getTangentAt(u, new Vector3());\r\n            tangents[i].normalize();\r\n        }\r\n\r\n        // select an initial normal vector perpendicular to the first tangent vector,\r\n        // and in the direction of the minimum tangent xyz component\r\n        normals[0] = new Vector3();\r\n        binormals[0] = new Vector3();\r\n        let min = Number.MAX_VALUE;\r\n        const tx = Math.abs(tangents[0].x);\r\n        const ty = Math.abs(tangents[0].y);\r\n        const tz = Math.abs(tangents[0].z);\r\n\r\n        if (tx <= min)\r\n        {\r\n            min = tx;\r\n            normal.set(1, 0, 0);\r\n        }\r\n\r\n        if (ty <= min)\r\n        {\r\n            min = ty;\r\n            normal.set(0, 1, 0);\r\n        }\r\n\r\n        if (tz <= min)\r\n        {\r\n            normal.set(0, 0, 1);\r\n        }\r\n\r\n        tangents[0].crossTo(normal, vec).normalize();\r\n        tangents[0].crossTo(vec, normals[0]);\r\n        tangents[0].crossTo(normals[0], binormals[0]);\r\n\r\n        // compute the slowly-varying normal and binormal vectors for each segment on the curve\r\n        for (let i = 1; i <= segments; i++)\r\n        {\r\n            normals[i] = normals[i - 1].clone();\r\n            binormals[i] = binormals[i - 1].clone();\r\n            tangents[i - 1].crossTo(tangents[i], vec);\r\n\r\n            if (vec.length > Number.EPSILON)\r\n            {\r\n                vec.normalize();\r\n\r\n                const theta = Math.acos(mathUtil.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\r\n\r\n                mat.fromAxisRotate(vec, theta * mathUtil.RAD2DEG);\r\n                mat.transformPoint3(normals[i], normals[i]);\r\n            }\r\n\r\n            tangents[i].crossTo(normals[i], binormals[i]);\r\n        }\r\n\r\n        // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\r\n\r\n        if (closed === true)\r\n        {\r\n            let theta = Math.acos(mathUtil.clamp(normals[0].dot(normals[segments]), -1, 1));\r\n\r\n            theta /= segments;\r\n\r\n            if (tangents[0].dot(normals[0].crossTo(normals[segments], vec)) > 0)\r\n            {\r\n                theta = -theta;\r\n            }\r\n\r\n            for (let i = 1; i <= segments; i++)\r\n            {\r\n                // twist a little...\r\n                mat.fromAxisRotate(tangents[i], theta * i * mathUtil.RAD2DEG).transformPoint3(normals[i], normals[i]);\r\n                tangents[i].crossTo(normals[i], binormals[i]);\r\n            }\r\n        }\r\n\r\n        return {\r\n            tangents,\r\n            normals,\r\n            binormals\r\n        };\r\n    }\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Curve } from '../core/Curve';\r\n\r\nexport class LineCurve2 extends Curve<Vector2>\r\n{\r\n    v1: Vector2;\r\n    v2: Vector2;\r\n\r\n    constructor(v1 = new Vector2(), v2 = new Vector2())\r\n    {\r\n        super();\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n    }\r\n\r\n    getResolution(_divisions: number): number\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget: Vector2)\r\n    {\r\n        const point = optionalTarget || new Vector2();\r\n\r\n        if (t === 1)\r\n        {\r\n            point.copy(this.v2);\r\n        }\r\n        else\r\n        {\r\n            point.copy(this.v2).sub(this.v1);\r\n            point.scaleNumber(t).add(this.v1);\r\n        }\r\n\r\n        return point;\r\n    }\r\n\r\n    // Line curve is linear, so we can overwrite default getPointAt\r\n    getPointAt(u: number, optionalTarget: Vector2)\r\n    {\r\n        return this.getPoint(u, optionalTarget);\r\n    }\r\n\r\n    getTangent(t: number, optionalTarget = new Vector2())\r\n    {\r\n        const tangent = optionalTarget;\r\n\r\n        tangent.copy(this.v2).sub(this.v1).normalize();\r\n\r\n        return tangent;\r\n    }\r\n}\r\n","import { Vector } from '../../geom/Vector';\r\nimport { LineCurve2 } from '../curves/LineCurve2';\r\nimport { Curve } from './Curve';\r\n\r\n/**\r\n * Curved Path - a curve path is simply a array of connected\r\n * curves, but retains the api of a curve\r\n */\r\nexport class CurvePath<T extends Vector> extends Curve<T>\r\n{\r\n    curves: Curve<T>[] = [];\r\n    autoClose = false; // Automatically closes the path\r\n    cacheLengths: number[];\r\n\r\n    add(curve: Curve<T>)\r\n    {\r\n        this.curves.push(curve);\r\n    }\r\n\r\n    closePath()\r\n    {\r\n        // Add a line curve if start and end of lines are not connected\r\n        const startPoint = this.curves[0].getPoint(0);\r\n        const endPoint = this.curves[this.curves.length - 1].getPoint(1);\r\n\r\n        if (!startPoint.equals(endPoint))\r\n        {\r\n            this.curves.push(new LineCurve2(endPoint as any, startPoint as any) as any);\r\n        }\r\n    }\r\n\r\n    // To get accurate point with reference to\r\n    // entire path distance at time t,\r\n    // following has to be done:\r\n\r\n    // 1. Length of each sub path have to be known\r\n    // 2. Locate and identify type of curve\r\n    // 3. Get t for the curve\r\n    // 4. Return curve.getPointAt(t')\r\n\r\n    getPoint(t: number)\r\n    {\r\n        const d = t * this.getLength();\r\n        const curveLengths = this.getCurveLengths();\r\n        let i = 0;\r\n\r\n        // To think about boundaries points.\r\n        while (i < curveLengths.length)\r\n        {\r\n            if (curveLengths[i] >= d)\r\n            {\r\n                const diff = curveLengths[i] - d;\r\n                const curve = this.curves[i];\r\n\r\n                const segmentLength = curve.getLength();\r\n                const u = segmentLength === 0 ? 0 : 1 - (diff / segmentLength);\r\n\r\n                return curve.getPointAt(u);\r\n            }\r\n            i++;\r\n        }\r\n\r\n        return null; // loop where sum !== 0, sum > d , sum+1 <d\r\n    }\r\n\r\n    // We cannot use the default Curve getPoint() with getLength() because in\r\n    // Curve, getLength() depends on getPoint() but in CurvePath\r\n    // getPoint() depends on getLength\r\n\r\n    getLength()\r\n    {\r\n        const lens = this.getCurveLengths();\r\n\r\n        return lens[lens.length - 1];\r\n    }\r\n\r\n    // cacheLengths must be recalculated.\r\n    updateArcLengths()\r\n    {\r\n        this.needsUpdate = true;\r\n        this.cacheLengths = null;\r\n        this.getCurveLengths();\r\n    }\r\n\r\n    // Compute lengths and cache them\r\n    // We cannot overwrite getLengths() because UtoT mapping uses it.\r\n    getCurveLengths()\r\n    {\r\n        // We use cache values if curves and cache array are same length\r\n        if (this.cacheLengths && this.cacheLengths.length === this.curves.length)\r\n        {\r\n            return this.cacheLengths;\r\n        }\r\n\r\n        // Get length of sub-curve\r\n        // Push sums into cached array\r\n        const lengths: number[] = [];\r\n        let sums = 0;\r\n\r\n        for (let i = 0, l = this.curves.length; i < l; i++)\r\n        {\r\n            sums += this.curves[i].getLength();\r\n            lengths.push(sums);\r\n        }\r\n        this.cacheLengths = lengths;\r\n\r\n        return lengths;\r\n    }\r\n\r\n    getSpacedPoints(divisions = 40)\r\n    {\r\n        const points: T[] = [];\r\n\r\n        for (let i = 0; i <= divisions; i++)\r\n        {\r\n            points.push(this.getPoint(i / divisions));\r\n        }\r\n\r\n        if (this.autoClose)\r\n        {\r\n            points.push(points[0]);\r\n        }\r\n\r\n        return points;\r\n    }\r\n\r\n    getPoints(divisions = 12)\r\n    {\r\n        const points: T[] = [];\r\n        let last: T;\r\n\r\n        for (let i = 0, curves = this.curves; i < curves.length; i++)\r\n        {\r\n            const curve = curves[i];\r\n            const resolution = curve.getResolution(divisions);\r\n            const pts = curve.getPoints(resolution);\r\n\r\n            for (let j = 0; j < pts.length; j++)\r\n            {\r\n                const point = pts[j];\r\n\r\n                if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\r\n                points.push(point);\r\n                last = point;\r\n            }\r\n        }\r\n\r\n        if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0]))\r\n        {\r\n            points.push(points[0]);\r\n        }\r\n\r\n        return points;\r\n    }\r\n}\r\n","import { ObjectUtils } from '@feng3d/polyfill';\r\n\r\n/**\r\n * Port from https://github.com/mapbox/earcut (v2.2.2)\r\n */\r\nexport class Earcut\r\n{\r\n    /**\r\n     * 三角化形状\r\n     *\r\n     * @param data 形状顶点数据\r\n     * @param holeIndices 空洞的起始顶点索引列表\r\n     * @param dim 相邻顶点数据之间的步长\r\n     */\r\n    static triangulate(data: number[], holeIndices: number[], dim = 2)\r\n    {\r\n        // 判断是否有孔洞\r\n        const hasHoles = holeIndices && holeIndices.length;\r\n        // 获取形状轮廓顶点数量\r\n        const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\r\n        // 初始化形状轮廓顶点链表\r\n        let outerNode = linkedList(data, 0, outerLen, dim, true);\r\n        // 三角索引\r\n        const triangles: number[] = [];\r\n\r\n        // 没有节点、只有一个或者两个节点不构成三角形时直接返回\r\n        if (!outerNode || outerNode.next === outerNode.prev) return triangles;\r\n\r\n        let minX: number;\r\n        let minY: number;\r\n        let maxX: number;\r\n        let maxY: number;\r\n        let x: number;\r\n        let y: number;\r\n        let invSize: number;\r\n\r\n        // 消除孔洞\r\n        if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\r\n\r\n        // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\r\n        // 如果形状比较复杂，将使用z顺序曲线哈希;计算多边形bbox\r\n        if (data.length > 80 * dim)\r\n        {\r\n            minX = maxX = data[0];\r\n            minY = maxY = data[1];\r\n\r\n            // 统计最大最小X轴与Y轴坐标\r\n            for (let i = dim; i < outerLen; i += dim)\r\n            {\r\n                x = data[i];\r\n                y = data[i + 1];\r\n                if (x < minX) minX = x;\r\n                if (y < minY) minY = y;\r\n                if (x > maxX) maxX = x;\r\n                if (y > maxY) maxY = y;\r\n            }\r\n\r\n            // minX, minY and invSize are later used to node3d coords into integers for z-order calculation\r\n            // 计算尺寸的倒数，用于后面运算\r\n            invSize = Math.max(maxX - minX, maxY - minY);\r\n            invSize = invSize !== 0 ? 1 / invSize : 0;\r\n        }\r\n\r\n        earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\r\n\r\n        return triangles;\r\n    }\r\n}\r\n\r\n/**\r\n * create a circular doubly linked list from polygon points in the specified winding order\r\n *\r\n * 以指定的绕线顺序从多边形点创建一个循环的双重链表\r\n *\r\n * @param data 多边形顶点数据\r\n * @param start 起始顶点索引\r\n * @param end 终止顶点索引\r\n * @param dim 相邻顶点数据之间的步长\r\n * @param clockwise 是否顺时针方向\r\n */\r\nfunction linkedList(data: number[], start: number, end: number, dim: number, clockwise: boolean)\r\n{\r\n    let i: number; let\r\n        last: Node;\r\n\r\n    // 按照指定时钟方向建立链表\r\n    if (clockwise === (signedArea(data, start, end, dim) > 0))\r\n    {\r\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\r\n    }\r\n    else\r\n    {\r\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\r\n    }\r\n\r\n    // 去除头尾相同节点\r\n    if (last && equals(last, last.next))\r\n    {\r\n        removeNode(last);\r\n        last = last.next;\r\n    }\r\n\r\n    return last;\r\n}\r\n\r\n/**\r\n * 消除共线与重复节点\r\n *\r\n * @param start 遍历检测起始节点\r\n * @param end 遍历检测终止节点\r\n */\r\nfunction filterPoints(start: Node, end?: Node)\r\n{\r\n    if (!start) return start;\r\n    if (!end) end = start;\r\n\r\n    let p = start;\r\n    let again: boolean;\r\n\r\n    do\r\n    {\r\n        again = false;\r\n\r\n        // 判断重复节点与共线节点\r\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0))\r\n        {\r\n            removeNode(p);\r\n            p = end = p.prev;\r\n            if (p === p.next) break;\r\n            again = true;\r\n        }\r\n        else\r\n        {\r\n            p = p.next;\r\n        }\r\n    } while (again || p !== end);\r\n\r\n    return end;\r\n}\r\n\r\n/**\r\n * main ear slicing loop which triangulates a polygon (given as a linked list)\r\n *\r\n * 主耳切割循环三角化多边形（由链表表示）\r\n *\r\n * @param ear 被三角化的多边形链表\r\n * @param triangles 三角化后的顶点索引数组\r\n * @param dim 相邻顶点数据之间的步长\r\n * @param minX 包围盒X轴最小值\r\n * @param minY 包围盒Y轴最小值\r\n * @param invSize 包围盒尺寸倒数\r\n * @param pass\r\n */\r\nfunction earcutLinked(ear: Node, triangles: number[], dim: number, minX: number, minY: number, invSize: number, pass?: number)\r\n{\r\n    if (!ear) return;\r\n\r\n    // interlink polygon nodes in z-order\r\n    // 使用z-order连接多边形结点\r\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\r\n\r\n    let stop = ear;\r\n    let prev: Node; let\r\n        next: Node;\r\n\r\n    // iterate through ears, slicing them one by one\r\n    while (ear.prev !== ear.next)\r\n    {\r\n        prev = ear.prev;\r\n        next = ear.next;\r\n\r\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear))\r\n        {\r\n            // cut off the triangle\r\n            triangles.push(prev.i / dim);\r\n            triangles.push(ear.i / dim);\r\n            triangles.push(next.i / dim);\r\n\r\n            removeNode(ear);\r\n\r\n            // skipping the next vertex leads to less sliver triangles\r\n            ear = next.next;\r\n            stop = next.next;\r\n\r\n            continue;\r\n        }\r\n\r\n        ear = next;\r\n\r\n        // if we looped through the whole remaining polygon and can't find any more ears\r\n        if (ear === stop)\r\n        {\r\n            // try filtering points and slicing again\r\n            if (!pass)\r\n            {\r\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\r\n\r\n                // if this didn't work, try curing all small self-intersections locally\r\n            }\r\n            else if (pass === 1)\r\n            {\r\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\r\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\r\n\r\n                // as a last resort, try splitting the remaining polygon into two\r\n            }\r\n            else if (pass === 2)\r\n            {\r\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\r\n            }\r\n\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n// check whether a polygon node forms a valid ear with adjacent nodes\r\nfunction isEar(ear: Node)\r\n{\r\n    const a = ear.prev;\r\n    const b = ear;\r\n    const c = ear.next;\r\n\r\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\r\n\r\n    // now make sure we don't have other points inside the potential ear\r\n    let p = ear.next.next;\r\n\r\n    while (p !== ear.prev)\r\n    {\r\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y)\r\n            && area(p.prev, p, p.next) >= 0) return false;\r\n        p = p.next;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nfunction isEarHashed(ear: Node, minX: number, minY: number, invSize: number)\r\n{\r\n    const a = ear.prev;\r\n    const b = ear;\r\n    const c = ear.next;\r\n\r\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\r\n\r\n    // triangle bbox; min & max are calculated like this for speed\r\n    const minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x);\r\n    const minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y);\r\n    const maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x);\r\n    const maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\r\n\r\n    // z-order range for the current triangle bbox;\r\n    const minZ = zOrder(minTX, minTY, minX, minY, invSize);\r\n    const maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\r\n\r\n    let p = ear.prevZ;\r\n    let n = ear.nextZ;\r\n\r\n    // look for points inside the triangle in both directions\r\n    while (p && p.z >= minZ && n && n.z <= maxZ)\r\n    {\r\n        if (p !== ear.prev && p !== ear.next\r\n            && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y)\r\n            && area(p.prev, p, p.next) >= 0) return false;\r\n        p = p.prevZ;\r\n\r\n        if (n !== ear.prev && n !== ear.next\r\n            && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y)\r\n            && area(n.prev, n, n.next) >= 0) return false;\r\n        n = n.nextZ;\r\n    }\r\n\r\n    // look for remaining points in decreasing z-order\r\n    while (p && p.z >= minZ)\r\n    {\r\n        if (p !== ear.prev && p !== ear.next\r\n            && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y)\r\n            && area(p.prev, p, p.next) >= 0) return false;\r\n        p = p.prevZ;\r\n    }\r\n\r\n    // look for remaining points in increasing z-order\r\n    while (n && n.z <= maxZ)\r\n    {\r\n        if (n !== ear.prev && n !== ear.next\r\n            && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y)\r\n            && area(n.prev, n, n.next) >= 0) return false;\r\n        n = n.nextZ;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n// go through all polygon nodes and cure small local self-intersections\r\nfunction cureLocalIntersections(start: Node, triangles: number[], dim: number)\r\n{\r\n    let p = start;\r\n\r\n    do\r\n    {\r\n        const a = p.prev;\r\n        const b = p.next.next;\r\n\r\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a))\r\n        {\r\n            triangles.push(a.i / dim);\r\n            triangles.push(p.i / dim);\r\n            triangles.push(b.i / dim);\r\n\r\n            // remove two nodes involved\r\n            // 移除两个有问题的节点\r\n            removeNode(p);\r\n            removeNode(p.next);\r\n\r\n            p = start = b;\r\n        }\r\n        p = p.next;\r\n    } while (p !== start);\r\n\r\n    return filterPoints(p);\r\n}\r\n\r\n// try splitting polygon into two and triangulate them independently\r\nfunction splitEarcut(start: Node, triangles: number[], dim: number, minX: number, minY: number, invSize: number)\r\n{\r\n    // look for a valid diagonal that divides the polygon into two\r\n    let a = start;\r\n\r\n    do\r\n    {\r\n        let b = a.next.next;\r\n\r\n        while (b !== a.prev)\r\n        {\r\n            if (a.i !== b.i && isValidDiagonal(a, b))\r\n            {\r\n                // split the polygon in two by the diagonal\r\n                let c = splitPolygon(a, b);\r\n\r\n                // filter colinear points around the cuts\r\n                a = filterPoints(a, a.next);\r\n                c = filterPoints(c, c.next);\r\n\r\n                // run earcut on each half\r\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\r\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\r\n\r\n                return;\r\n            }\r\n\r\n            b = b.next;\r\n        }\r\n        a = a.next;\r\n    } while (a !== start);\r\n}\r\n\r\n/**\r\n * link every hole into the outer loop, producing a single-ring polygon without holes\r\n *\r\n * 将每个孔连接到外环，产生一个没有孔的单环多边形\r\n *\r\n * @param data 形状顶点数据\r\n * @param holeIndices 空洞的起始顶点索引列表\r\n * @param outerNode 形状轮廓链表\r\n * @param dim 相邻顶点数据之间的步长\r\n */\r\nfunction eliminateHoles(data: number[], holeIndices: number[], outerNode: Node, dim: number)\r\n{\r\n    // 孔洞链表数组\r\n    const queue: Node[] = [];\r\n    let i: number;\r\n    let len: number;\r\n    let start: number;\r\n    let end: number;\r\n    let list: Node;\r\n\r\n    // 遍历构建孔洞链表数组\r\n    for (i = 0, len = holeIndices.length; i < len; i++)\r\n    {\r\n        // 获取当前孔洞起始与结束索引\r\n        start = holeIndices[i] * dim;\r\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\r\n        // 构建孔洞链表\r\n        list = linkedList(data, start, end, dim, false);\r\n        if (list === list.next) list.steiner = true;\r\n        // 把孔洞链表中最左边（X值最小）的节点存放到数组中\r\n        queue.push(getLeftmost(list));\r\n    }\r\n    // 从左到右排序孔洞链表数组\r\n    queue.sort(compareX);\r\n\r\n    // process holes from left to right\r\n    // 从左到右消除孔洞链表\r\n    for (i = 0; i < queue.length; i++)\r\n    {\r\n        // 消除孔洞列表\r\n        eliminateHole(queue[i], outerNode);\r\n        // 处理连接外轮廓与孔洞后出现的重复点与共线\r\n        outerNode = filterPoints(outerNode, outerNode.next);\r\n    }\r\n\r\n    return outerNode;\r\n}\r\n\r\nfunction compareX(a: Node, b: Node)\r\n{\r\n    return a.x - b.x;\r\n}\r\n\r\n/**\r\n * find a bridge between vertices that connects hole with an outer ring and and link it\r\n * 找到一个桥梁连接外轮廓与孔洞\r\n *\r\n * @param hole 孔洞链表\r\n * @param outerNode 外轮廓链表\r\n */\r\nfunction eliminateHole(hole: Node, outerNode: Node)\r\n{\r\n    // 查找与hole节点构成桥梁的外轮廓节点\r\n    outerNode = findHoleBridge(hole, outerNode);\r\n    if (outerNode)\r\n    {\r\n        // 构建外轮廓与孔洞桥梁\r\n        const b = splitPolygon(outerNode, hole);\r\n\r\n        // filter collinear points around the cuts\r\n        filterPoints(outerNode, outerNode.next);\r\n        filterPoints(b, b.next);\r\n    }\r\n}\r\n\r\n/**\r\n * David Eberly's algorithm for finding a bridge between hole and outer polygon\r\n *\r\n * 使用David Eberly算法找到孔洞与外轮廓之间的桥梁\r\n *\r\n * @param hole 孔洞链表\r\n * @param outerNode 外轮廓链表\r\n */\r\nfunction findHoleBridge(hole: Node, outerNode: Node)\r\n{\r\n    let p = outerNode;\r\n    const hx = hole.x;\r\n    const hy = hole.y;\r\n    let qx = -Infinity; let\r\n        m: Node;\r\n\r\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\r\n    // segment's endpoint with lesser x will be potential connection point\r\n    do\r\n    {\r\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y)\r\n        {\r\n            const x = p.x + ((hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y));\r\n\r\n            if (x <= hx && x > qx)\r\n            {\r\n                qx = x;\r\n                if (x === hx)\r\n                {\r\n                    if (hy === p.y) return p;\r\n                    if (hy === p.next.y) return p.next;\r\n                }\r\n                m = p.x < p.next.x ? p : p.next;\r\n            }\r\n        }\r\n        p = p.next;\r\n    } while (p !== outerNode);\r\n\r\n    if (!m) return null;\r\n    if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\r\n\r\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\r\n    // if there are no points found, we have a valid connection;\r\n    // otherwise choose the point of the minimum angle with the ray as connection point\r\n    const stop = m;\r\n    const mx = m.x;\r\n    const my = m.y;\r\n    let tanMin = Infinity; let\r\n        tan: number;\r\n\r\n    p = m;\r\n    do\r\n    {\r\n        if (hx >= p.x && p.x >= mx && hx !== p.x\r\n            && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y))\r\n        {\r\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\r\n            if (locallyInside(p, hole) && (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p))))))\r\n            {\r\n                m = p;\r\n                tanMin = tan;\r\n            }\r\n        }\r\n        p = p.next;\r\n    } while (p !== stop);\r\n\r\n    return m;\r\n}\r\n\r\n/**\r\n * whether sector in vertex m contains sector in vertex p in the same coordinates\r\n *\r\n * 判断在相同坐标系下第一个节点的扇形区域是否包含第二个节点的扇形区域。\r\n *\r\n * @param m 第一个节点\r\n * @param p 第二个节点\r\n *\r\n * @todo 没懂\r\n */\r\nfunction sectorContainsSector(m: Node, p: Node)\r\n{\r\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\r\n}\r\n\r\n/**\r\n * interlink polygon nodes in z-order\r\n *\r\n * 以z顺序连接多边形节点\r\n *\r\n * @param start 起始节点\r\n * @param minX 包围盒X轴最小值\r\n * @param minY 包围盒Y轴最小值\r\n * @param invSize 包围盒尺寸的倒数\r\n */\r\nfunction indexCurve(start: Node, minX: number, minY: number, invSize: number)\r\n{\r\n    let p = start;\r\n\r\n    do\r\n    {\r\n        if (ObjectUtils.objectIsEmpty(p.z)) p.z = zOrder(p.x, p.y, minX, minY, invSize);\r\n        p.prevZ = p.prev;\r\n        p.nextZ = p.next;\r\n        p = p.next;\r\n    } while (p !== start);\r\n\r\n    p.prevZ.nextZ = null;\r\n    p.prevZ = null;\r\n\r\n    // 根据z的大小对链表进行排序\r\n    sortLinked(p);\r\n}\r\n\r\n/**\r\n * Simon Tatham's linked list merge sort algorithm\r\n *\r\n * 链表归并排序算法\r\n *\r\n * @see http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\r\n *\r\n * @param list 链表\r\n */\r\nfunction sortLinked(list: Node)\r\n{\r\n    let i: number;\r\n    let p: Node;\r\n    let q: Node;\r\n    let e: Node;\r\n    let tail: Node;\r\n    let numMerges: number;\r\n    let pSize: number;\r\n    let qSize: number;\r\n    let inSize = 1;\r\n\r\n    do\r\n    {\r\n        p = list;\r\n        list = null;\r\n        tail = null;\r\n        numMerges = 0;\r\n\r\n        while (p)\r\n        {\r\n            numMerges++;\r\n            q = p;\r\n            pSize = 0;\r\n            for (i = 0; i < inSize; i++)\r\n            {\r\n                pSize++;\r\n                q = q.nextZ;\r\n                if (!q) break;\r\n            }\r\n\r\n            qSize = inSize;\r\n\r\n            while (pSize > 0 || (qSize > 0 && q))\r\n            {\r\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z))\r\n                {\r\n                    e = p;\r\n                    p = p.nextZ;\r\n                    pSize--;\r\n                }\r\n                else\r\n                {\r\n                    e = q;\r\n                    q = q.nextZ;\r\n                    qSize--;\r\n                }\r\n\r\n                if (tail) tail.nextZ = e;\r\n                else list = e;\r\n\r\n                e.prevZ = tail;\r\n                tail = e;\r\n            }\r\n\r\n            p = q;\r\n        }\r\n\r\n        tail.nextZ = null;\r\n        inSize *= 2;\r\n    } while (numMerges > 1);\r\n\r\n    return list;\r\n}\r\n\r\n/**\r\n * z-order of a point given coords and inverse of the longer side of data bbox\r\n *\r\n * 把x与y分别映射到包围盒中位置(0,1)再映射到(0,(1<<15)-1)，最后把x与y的值进行相互穿插组成32位数字\r\n *\r\n * @todo 为什么使用这种运算？不明觉厉！\r\n *\r\n * @param x X轴坐标\r\n * @param y Y轴坐标\r\n * @param minX 包围盒X轴最小值\r\n * @param minY 包围盒Y轴最小值\r\n * @param invSize 包围盒尺寸倒数\r\n *\r\n * @see https://en.wikipedia.org/wiki/Z-order_curve\r\n */\r\nfunction zOrder(x: number, y: number, minX: number, minY: number, invSize: number)\r\n{\r\n    // coords are transformed into non-negative 15-bit integer range\r\n    // 坐标被转换为非负的15位整数范围\r\n    // 把x与y约束在(0,1)范围后在映射到(0,32767)\r\n    x = 32767 * (x - minX) * invSize;\r\n    y = 32767 * (y - minY) * invSize;\r\n\r\n    // 把16位中每一位前面插入一个0转换为32位，例如 0111111111111111（0xffff） -> 00010101010101010101010101010101（0x55555555）\r\n    x = (x | (x << 8)) & 0x00FF00FF;\r\n    x = (x | (x << 4)) & 0x0F0F0F0F;\r\n    x = (x | (x << 2)) & 0x33333333;\r\n    x = (x | (x << 1)) & 0x55555555;\r\n\r\n    y = (y | (y << 8)) & 0x00FF00FF;\r\n    y = (y | (y << 4)) & 0x0F0F0F0F;\r\n    y = (y | (y << 2)) & 0x33333333;\r\n    y = (y | (y << 1)) & 0x55555555;\r\n\r\n    //\r\n    return x | (y << 1);\r\n}\r\n\r\n/**\r\n * find the leftmost node of a polygon ring\r\n *\r\n * 查找一个X值最小的节点\r\n *\r\n * @param start 查找起始节点\r\n */\r\nfunction getLeftmost(start: Node)\r\n{\r\n    let p = start;\r\n    let leftmost = start;\r\n\r\n    do\r\n    {\r\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\r\n        p = p.next;\r\n    } while (p !== start);\r\n\r\n    return leftmost;\r\n}\r\n\r\n/**\r\n * check if a point lies within a convex triangle\r\n *\r\n * 检查一个点是否位于一个正向三角形内\r\n *\r\n * @param ax 三角形第一个点的X轴坐标\r\n * @param ay 三角形第一个点的Y轴坐标\r\n * @param bx 三角形第二个点的X轴坐标\r\n * @param by 三角形第二个点的Y轴坐标\r\n * @param cx 三角形第三个点的X轴坐标\r\n * @param cy 三角形第三个点的Y轴坐标\r\n * @param px 被检查点的X轴坐标\r\n * @param py 被检查点的Y轴坐标\r\n */\r\nfunction pointInTriangle(ax: number, ay: number, bx: number, by: number, cx: number, cy: number, px: number, py: number)\r\n{\r\n    return ((cx - px) * (ay - py)) - ((ax - px) * (cy - py)) >= 0\r\n        && ((ax - px) * (by - py)) - ((bx - px) * (ay - py)) >= 0\r\n        && ((bx - px) * (cy - py)) - ((cx - px) * (by - py)) >= 0;\r\n}\r\n\r\n/**\r\n * check if a diagonal between two polygon nodes is valid (lies in polygon interior)\r\n *\r\n * 检查两个多边形节点之间的对角线是否有效(位于多边形内部)\r\n *\r\n * @param a 多边形顶点a\r\n * @param b 多边形顶点b\r\n */\r\nfunction isValidDiagonal(a: Node, b: Node)\r\n{\r\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) // dones't intersect other edges\r\n        && (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) // locally visible\r\n            // eslint-disable-next-line no-mixed-operators\r\n            && (area(a.prev, a, b.prev) || area(a, b.prev, b)) // does not create opposite-facing sectors\r\n            // eslint-disable-next-line no-mixed-operators\r\n            || equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\r\n}\r\n\r\n/**\r\n * signed area of a triangle\r\n *\r\n * 计算三角形的带符号面积\r\n *\r\n * @param p 三角形第一个点\r\n * @param q 三角形第二个点\r\n * @param r 三角形第三个点\r\n */\r\nfunction area(p: { x: number, y: number }, q: { x: number, y: number }, r: { x: number, y: number })\r\n{\r\n    return ((q.y - p.y) * (r.x - q.x)) - ((q.x - p.x) * (r.y - q.y));\r\n}\r\n\r\n/**\r\n * check if two points are equal\r\n *\r\n * 判断两个点是否相等\r\n *\r\n * @param p1 第一个点\r\n * @param p2 第二个点\r\n */\r\nfunction equals(p1: { x: number, y: number }, p2: { x: number, y: number })\r\n{\r\n    return p1.x === p2.x && p1.y === p2.y;\r\n}\r\n\r\n/**\r\n * check if two segments intersect\r\n *\r\n * 检查两条线段是否相交\r\n *\r\n * @param p1 第一条线段起点\r\n * @param q1 第一条线段终点\r\n * @param p2 第二条线段起点\r\n * @param q2 第二条线段终点\r\n */\r\nfunction intersects(p1: { x: number, y: number }, q1: { x: number, y: number }, p2: { x: number, y: number }, q2: { x: number, y: number })\r\n{\r\n    const o1 = sign(area(p1, q1, p2));\r\n    const o2 = sign(area(p1, q1, q2));\r\n    const o3 = sign(area(p2, q2, p1));\r\n    const o4 = sign(area(p2, q2, q1));\r\n\r\n    // 正常相交情况\r\n    if (o1 !== o2 && o3 !== o4) return true; // general case\r\n\r\n    // 处理4种3点共线情况\r\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\r\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\r\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\r\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * for collinear points p, q, r, check if point q lies on segment pr\r\n *\r\n * 对于共线点p, q, r，检查点q是否在线段pr上\r\n *\r\n * @param p 线段起点\r\n * @param q 被检测的点\r\n * @param r 线段中点\r\n */\r\nfunction onSegment(p: { x: number, y: number }, q: { x: number, y: number }, r: { x: number, y: number })\r\n{\r\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\r\n}\r\n\r\n/**\r\n * 取数字符号\r\n *\r\n * @param num 数字\r\n */\r\nfunction sign(num: number)\r\n{\r\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\r\n}\r\n\r\n/**\r\n * check if a polygon diagonal intersects any polygon segments\r\n *\r\n * 检查一个多边形的对角线是否与任何多边形线段相交\r\n *\r\n * @param a 第一个节点\r\n * @param b 第二个节点\r\n */\r\nfunction intersectsPolygon(a: Node, b: Node)\r\n{\r\n    let p = a;\r\n\r\n    do\r\n    {\r\n        // 排除与对角线ab连接的边进行相交测试\r\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i\r\n            && intersects(p, p.next, a, b)) return true;\r\n        p = p.next;\r\n    } while (p !== a);\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * check if a polygon diagonal is locally inside the polygon\r\n *\r\n * 检查多边形的对角线是否局部位于多边形内部\r\n *\r\n * 判断出ab对角线是否从a点进入多边形内部，从而判断出对角线ab是否局部位于多边形内部。\r\n *\r\n * @param a 第一个节点\r\n * @param b 第二个节点\r\n *\r\n * @todo locallyOutside?\r\n */\r\nfunction locallyInside(a: Node, b: Node)\r\n{\r\n    return area(a.prev, a, a.next) < 0 // 判断a为多边形凸点或者凹点\r\n        ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 // 判断a为凸点情况\r\n        : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0; // 判断a为凹点情况\r\n}\r\n\r\n/**\r\n * check if the middle point of a polygon diagonal is inside the polygon\r\n *\r\n * 检查两个节点的对角线中点是否在多边形内部\r\n *\r\n * @param a 第一个节点\r\n * @param b 第二个节点\r\n */\r\nfunction middleInside(a: Node, b: Node)\r\n{\r\n    let p = a;\r\n    let inside = false;\r\n    const px = (a.x + b.x) / 2;\r\n    const py = (a.y + b.y) / 2;\r\n\r\n    do\r\n    {\r\n        // 以该点为起点作一条朝向正X轴方向的射线，计算与多边形的边相交的次数，奇数次表示在多边形内部，否则在外部。\r\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y\r\n            && (px < ((p.next.x - p.x) * (py - p.y) / (p.next.y - p.y)) + p.x))\r\n        { inside = !inside; }\r\n        p = p.next;\r\n    } while (p !== a);\r\n\r\n    return inside;\r\n}\r\n\r\n/**\r\n * link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\r\n * if one belongs to the outer ring and another to a hole, it merges it into a single ring\r\n *\r\n * 用桥连接两个多边形顶点; 如果顶点属于同一个环，它将多边形一分为二;\r\n * 如果一个属于外环，另一个属于洞，它合并成一个环。\r\n *\r\n * @param a 外环节点\r\n * @param b 内环节点\r\n */\r\nfunction splitPolygon(a: Node, b: Node)\r\n{\r\n    const a2 = new Node(a.i, a.x, a.y);\r\n    const b2 = new Node(b.i, b.x, b.y);\r\n    const an = a.next;\r\n    const bp = b.prev;\r\n\r\n    a.next = b;\r\n    b.prev = a;\r\n\r\n    a2.next = an;\r\n    an.prev = a2;\r\n\r\n    b2.next = a2;\r\n    a2.prev = b2;\r\n\r\n    bp.next = b2;\r\n    b2.prev = bp;\r\n\r\n    return b2;\r\n}\r\n\r\n/**\r\n * create a node and optionally link it with previous one (in a circular doubly linked list)\r\n *\r\n * 创建一个节点，并可选地与上一个节点链接(在双向循环链表中)\r\n *\r\n * @param i 在顶点数组中的索引\r\n * @param x 节点所在X轴坐标\r\n * @param y 节点所在Y轴坐标\r\n * @param last 双向循环链表中最后一个节点\r\n */\r\nfunction insertNode(i: number, x: number, y: number, last: Node)\r\n{\r\n    const p = new Node(i, x, y);\r\n\r\n    if (!last)\r\n    {\r\n        p.prev = p;\r\n        p.next = p;\r\n    }\r\n    else\r\n    {\r\n        p.next = last.next;\r\n        p.prev = last;\r\n        last.next.prev = p;\r\n        last.next = p;\r\n    }\r\n\r\n    return p;\r\n}\r\n\r\n/**\r\n * 移除节点\r\n *\r\n * @param p 被移除的节点\r\n */\r\nfunction removeNode(p: Node)\r\n{\r\n    p.next.prev = p.prev;\r\n    p.prev.next = p.next;\r\n\r\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\r\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\r\n}\r\n\r\nclass Node\r\n{\r\n    /**\r\n     * 在顶点数组中的索引\r\n     */\r\n    i: number;\r\n\r\n    /**\r\n     * 节点所在X轴坐标\r\n     */\r\n    x: number;\r\n\r\n    /**\r\n     * 节点所在Y轴坐标\r\n     */\r\n    y: number;\r\n\r\n    /**\r\n     * z-order curve value\r\n     */\r\n    z: number = null;\r\n\r\n    /**\r\n     * previous node in z-order\r\n     */\r\n    prevZ: Node = null;\r\n\r\n    /**\r\n     * next node in z-order\r\n     */\r\n    nextZ: Node = null;\r\n\r\n    /**\r\n     * 多边形环中的前一个顶点节点\r\n     */\r\n    prev: Node = null;\r\n\r\n    /**\r\n     * 多边形环中的下一个顶点节点\r\n     */\r\n    next: Node = null;\r\n\r\n    /**\r\n     * 否为 Steiner Point?\r\n     *\r\n     * @todo 没理解\r\n     * @see https://en.wikipedia.org/wiki/Steiner_point_(triangle)\r\n     */\r\n    steiner = false;\r\n\r\n    constructor(i: number, x: number, y: number)\r\n    {\r\n        this.i = i;\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\n/**\r\n * 求有符号的多边形面积总和。正面时面积为正值，否则为负值。\r\n *\r\n * @param data 多边形顶点数据\r\n * @param start 顶点起始索引\r\n * @param end 顶点终止索引\r\n * @param dim 是否顺时针方向\r\n */\r\nfunction signedArea(data: number[], start: number, end: number, dim: number)\r\n{\r\n    let sum = 0;\r\n\r\n    for (let i = start, j = end - dim; i < end; i += dim)\r\n    {\r\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\r\n        j = i;\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\n","import { Vector2 } from '../geom/Vector2';\r\nimport { Earcut } from './Earcut';\r\n\r\nexport class ShapeUtils\r\n{\r\n    /**\r\n     * 计算多边形面积\r\n     * @param contour 多边形轮廓，使用顶点数组表示。\r\n     */\r\n    static area(contour: Vector2[])\r\n    {\r\n        const n = contour.length;\r\n        let a = 0.0;\r\n\r\n        for (let p = n - 1, q = 0; q < n; p = q++)\r\n        {\r\n            a += (contour[p].x * contour[q].y) - (contour[q].x * contour[p].y);\r\n        }\r\n\r\n        return a * 0.5;\r\n    }\r\n\r\n    /**\r\n     * 判断多边形是否为顺时针方向\r\n     *\r\n     * @param contour 多边形轮廓，使用顶点数组表示。\r\n     */\r\n    static isClockWise(contour: Vector2[])\r\n    {\r\n        return ShapeUtils.area(contour) < 0;\r\n    }\r\n\r\n    /**\r\n     * 三角化多边形\r\n     *\r\n     * @param contour 多边形轮廓，使用顶点数组表示。\r\n     * @param holes 孔洞多边形数组，每个孔洞多边形使用顶点数组表示。\r\n     */\r\n    static triangulateShape(contour: Vector2[], holes: Vector2[][])\r\n    {\r\n        const vertices: number[] = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\r\n        const holeIndices: number[] = []; // array of hole indices\r\n        const faces: number[][] = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\r\n\r\n        removeDupEndPts(contour);\r\n        addContour(vertices, contour);\r\n\r\n        //\r\n        let holeIndex = contour.length;\r\n\r\n        holes.forEach(removeDupEndPts);\r\n\r\n        for (let i = 0; i < holes.length; i++)\r\n        {\r\n            holeIndices.push(holeIndex);\r\n            holeIndex += holes[i].length;\r\n            addContour(vertices, holes[i]);\r\n        }\r\n        //\r\n        const triangles = Earcut.triangulate(vertices, holeIndices);\r\n\r\n        //\r\n        for (let i = 0; i < triangles.length; i += 3)\r\n        {\r\n            faces.push(triangles.slice(i, i + 3));\r\n        }\r\n\r\n        return faces;\r\n    }\r\n}\r\n\r\nfunction removeDupEndPts(points: Vector2[])\r\n{\r\n    const l = points.length;\r\n\r\n    if (l > 2 && points[l - 1].equals(points[0]))\r\n    {\r\n        points.pop();\r\n    }\r\n}\r\n\r\nfunction addContour(vertices: number[], contour: Vector2[])\r\n{\r\n    for (let i = 0; i < contour.length; i++)\r\n    {\r\n        vertices.push(contour[i].x);\r\n        vertices.push(contour[i].y);\r\n    }\r\n}\r\n\r\n","/**\r\n * Bezier Curves formulas obtained from\r\n * http://en.wikipedia.org/wiki/Bézier_curve\r\n */\r\nexport class Interpolations\r\n{\r\n    static CatmullRom(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        const v0 = (p2 - p0) * 0.5;\r\n        const v1 = (p3 - p1) * 0.5;\r\n        const t2 = t * t;\r\n        const t3 = t * t2;\r\n\r\n        return (((2 * p1) - (2 * p2) + v0 + v1) * t3) + (((-3 * p1) + (3 * p2) - (2 * v0) - v1) * t2) + (v0 * t) + p1;\r\n    }\r\n\r\n    static QuadraticBezier(t: number, p0: number, p1: number, p2: number)\r\n    {\r\n        return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1)\r\n            + QuadraticBezierP2(t, p2);\r\n    }\r\n\r\n    static CubicBezier(t: number, p0: number, p1: number, p2: number, p3: number)\r\n    {\r\n        return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2)\r\n            + CubicBezierP3(t, p3);\r\n    }\r\n}\r\n\r\nfunction QuadraticBezierP0(t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * p;\r\n}\r\n\r\nfunction QuadraticBezierP1(t: number, p: number)\r\n{\r\n    return 2 * (1 - t) * t * p;\r\n}\r\n\r\nfunction QuadraticBezierP2(t: number, p: number)\r\n{\r\n    return t * t * p;\r\n}\r\n\r\nfunction CubicBezierP0(t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return k * k * k * p;\r\n}\r\n\r\nfunction CubicBezierP1(t: number, p: number)\r\n{\r\n    const k = 1 - t;\r\n\r\n    return 3 * k * k * t * p;\r\n}\r\n\r\nfunction CubicBezierP2(t: number, p: number)\r\n{\r\n    return 3 * (1 - t) * t * t * p;\r\n}\r\n\r\nfunction CubicBezierP3(t: number, p: number)\r\n{\r\n    return t * t * t * p;\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Curve } from '../core/Curve';\r\nimport { Interpolations } from '../core/Interpolations';\r\n\r\nexport class CubicBezierCurve2 extends Curve<Vector2>\r\n{\r\n    v0: Vector2;\r\n    v1: Vector2;\r\n    v2: Vector2;\r\n    v3: Vector2;\r\n\r\n    constructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2())\r\n    {\r\n        super();\r\n\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n        this.v3 = v3;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector2())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        const v0 = this.v0;\r\n        const v1 = this.v1;\r\n        const v2 = this.v2;\r\n        const v3 = this.v3;\r\n\r\n        point.set(\r\n            Interpolations.CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\r\n            Interpolations.CubicBezier(t, v0.y, v1.y, v2.y, v3.y)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Curve } from '../core/Curve';\r\n\r\nexport class EllipseCurve2 extends Curve<Vector2>\r\n{\r\n    aX: number;\r\n    aY: number;\r\n    xRadius: number;\r\n    yRadius: number;\r\n    aStartAngle: number;\r\n    aEndAngle: number;\r\n    aClockwise: boolean;\r\n    aRotation: number;\r\n\r\n    constructor(aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false, aRotation = 0)\r\n    {\r\n        super();\r\n\r\n        this.aX = aX;\r\n        this.aY = aY;\r\n\r\n        this.xRadius = xRadius;\r\n        this.yRadius = yRadius;\r\n\r\n        this.aStartAngle = aStartAngle;\r\n        this.aEndAngle = aEndAngle;\r\n\r\n        this.aClockwise = aClockwise;\r\n\r\n        this.aRotation = aRotation;\r\n    }\r\n\r\n    getResolution(divisions: number): number\r\n    {\r\n        return divisions * 2;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector2())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        const twoPi = Math.PI * 2;\r\n        let deltaAngle = this.aEndAngle - this.aStartAngle;\r\n        const samePoints = Math.abs(deltaAngle) < Number.EPSILON;\r\n\r\n        // ensures that deltaAngle is 0 .. 2 PI\r\n        while (deltaAngle < 0) deltaAngle += twoPi;\r\n        while (deltaAngle > twoPi) deltaAngle -= twoPi;\r\n\r\n        if (deltaAngle < Number.EPSILON)\r\n        {\r\n            if (samePoints)\r\n            {\r\n                deltaAngle = 0;\r\n            }\r\n            else\r\n            {\r\n                deltaAngle = twoPi;\r\n            }\r\n        }\r\n\r\n        if (this.aClockwise === true && !samePoints)\r\n        {\r\n            if (deltaAngle === twoPi)\r\n            {\r\n                deltaAngle = -twoPi;\r\n            }\r\n            else\r\n            {\r\n                deltaAngle = deltaAngle - twoPi;\r\n            }\r\n        }\r\n\r\n        const angle = this.aStartAngle + (t * deltaAngle);\r\n        let x = this.aX + (this.xRadius * Math.cos(angle));\r\n        let y = this.aY + (this.yRadius * Math.sin(angle));\r\n\r\n        if (this.aRotation !== 0)\r\n        {\r\n            const cos = Math.cos(this.aRotation);\r\n            const sin = Math.sin(this.aRotation);\r\n\r\n            const tx = x - this.aX;\r\n            const ty = y - this.aY;\r\n\r\n            // Rotate the point about the center of the ellipse.\r\n            x = (tx * cos) - (ty * sin) + this.aX;\r\n            y = (tx * sin) + (ty * cos) + this.aY;\r\n        }\r\n        point.set(x, y);\r\n\r\n        return point;\r\n    }\r\n}\r\n\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Curve } from '../core/Curve';\r\nimport { Interpolations } from '../core/Interpolations';\r\n\r\nexport class QuadraticBezierCurve2 extends Curve<Vector2>\r\n{\r\n    v0: Vector2;\r\n    v1: Vector2;\r\n    v2: Vector2;\r\n\r\n    constructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2())\r\n    {\r\n        super();\r\n\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector2())\r\n    {\r\n        const point = optionalTarget;\r\n        const v0 = this.v0;\r\n        const v1 = this.v1;\r\n        const v2 = this.v2;\r\n\r\n        point.set(\r\n            Interpolations.QuadraticBezier(t, v0.x, v1.x, v2.x),\r\n            Interpolations.QuadraticBezier(t, v0.y, v1.y, v2.y)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Curve } from '../core/Curve';\r\nimport { Interpolations } from '../core/Interpolations';\r\n\r\nexport class SplineCurve2 extends Curve<Vector2>\r\n{\r\n    points: Vector2[];\r\n\r\n    constructor(points: Vector2[] = [])\r\n    {\r\n        super();\r\n        this.points = points;\r\n    }\r\n\r\n    getResolution(divisions: number): number\r\n    {\r\n        return divisions * this.points.length;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget: Vector2)\r\n    {\r\n        const point = optionalTarget || new Vector2();\r\n\r\n        const points = this.points;\r\n        const p = (points.length - 1) * t;\r\n\r\n        const intPoint = Math.floor(p);\r\n        const weight = p - intPoint;\r\n\r\n        const p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\r\n        const p1 = points[intPoint];\r\n        const p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\r\n        const p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\r\n\r\n        point.set(\r\n            Interpolations.CatmullRom(weight, p0.x, p1.x, p2.x, p3.x),\r\n            Interpolations.CatmullRom(weight, p0.y, p1.y, p2.y, p3.y)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { CubicBezierCurve2 } from '../curves/CubicBezierCurve2';\r\nimport { EllipseCurve2 } from '../curves/EllipseCurve2';\r\nimport { LineCurve2 } from '../curves/LineCurve2';\r\nimport { QuadraticBezierCurve2 } from '../curves/QuadraticBezierCurve2';\r\nimport { SplineCurve2 } from '../curves/SplineCurve2';\r\nimport { CurvePath } from './CurvePath';\r\n\r\nexport class Path2 extends CurvePath<Vector2>\r\n{\r\n    currentPoint: Vector2;\r\n\r\n    constructor(points?: Vector2[])\r\n    {\r\n        super();\r\n        this.currentPoint = new Vector2();\r\n        if (points)\r\n        {\r\n            this.fromPoints(points);\r\n        }\r\n    }\r\n\r\n    fromPoints(points: Vector2[])\r\n    {\r\n        this.moveTo(points[0].x, points[0].y);\r\n        for (let i = 1, l = points.length; i < l; i++)\r\n        {\r\n            this.lineTo(points[i].x, points[i].y);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    moveTo(x: number, y: number)\r\n    {\r\n        this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\r\n\r\n        return this;\r\n    }\r\n\r\n    lineTo(x: number, y: number)\r\n    {\r\n        const curve = new LineCurve2(this.currentPoint.clone(), new Vector2(x, y));\r\n\r\n        this.curves.push(curve);\r\n\r\n        this.currentPoint.set(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    quadraticCurveTo(aCPx: number, aCPy: number, aX: number, aY: number)\r\n    {\r\n        const curve = new QuadraticBezierCurve2(\r\n            this.currentPoint.clone(),\r\n            new Vector2(aCPx, aCPy),\r\n            new Vector2(aX, aY)\r\n        );\r\n\r\n        this.curves.push(curve);\r\n\r\n        this.currentPoint.set(aX, aY);\r\n\r\n        return this;\r\n    }\r\n\r\n    bezierCurveTo(aCP1x: number, aCP1y: number, aCP2x: number, aCP2y: number, aX: number, aY: number)\r\n    {\r\n        const curve = new CubicBezierCurve2(\r\n            this.currentPoint.clone(),\r\n            new Vector2(aCP1x, aCP1y),\r\n            new Vector2(aCP2x, aCP2y),\r\n            new Vector2(aX, aY)\r\n        );\r\n\r\n        this.curves.push(curve);\r\n\r\n        this.currentPoint.set(aX, aY);\r\n\r\n        return this;\r\n    }\r\n\r\n    splineThru(pts: Vector2[])\r\n    {\r\n        const npts = [this.currentPoint.clone()].concat(pts);\r\n\r\n        const curve = new SplineCurve2(npts);\r\n\r\n        this.curves.push(curve);\r\n\r\n        this.currentPoint.copy(pts[pts.length - 1]);\r\n\r\n        return this;\r\n    }\r\n\r\n    arc(aX = 0, aY = 0, aRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false)\r\n    {\r\n        const x0 = this.currentPoint.x;\r\n        const y0 = this.currentPoint.y;\r\n\r\n        this.absarc(aX + x0, aY + y0, aRadius,\r\n            aStartAngle, aEndAngle, aClockwise);\r\n\r\n        return this;\r\n    }\r\n\r\n    absarc(aX = 0, aY = 0, aRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false)\r\n    {\r\n        this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\r\n\r\n        return this;\r\n    }\r\n\r\n    ellipse(aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false, aRotation = 0)\r\n    {\r\n        const x0 = this.currentPoint.x;\r\n        const y0 = this.currentPoint.y;\r\n\r\n        this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\r\n\r\n        return this;\r\n    }\r\n\r\n    absellipse(aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false, aRotation = 0)\r\n    {\r\n        const curve = new EllipseCurve2(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\r\n\r\n        if (this.curves.length > 0)\r\n        {\r\n            // if a previous curve is present, attempt to join\r\n            const firstPoint = curve.getPoint(0);\r\n\r\n            if (!firstPoint.equals(this.currentPoint))\r\n            {\r\n                this.lineTo(firstPoint.x, firstPoint.y);\r\n            }\r\n        }\r\n\r\n        this.curves.push(curve);\r\n\r\n        const lastPoint = curve.getPoint(1);\r\n\r\n        this.currentPoint.copy(lastPoint);\r\n\r\n        return this;\r\n    }\r\n}\r\n","import { Vector2 } from '../../geom/Vector2';\r\nimport { Earcut } from '../Earcut';\r\nimport { Path2 } from './Path2';\r\n\r\nexport class Shape2 extends Path2\r\n{\r\n    holes: Path2[];\r\n\r\n    constructor(points?: Vector2[])\r\n    {\r\n        super(points);\r\n\r\n        this.holes = [];\r\n    }\r\n\r\n    getPointsHoles(divisions: number)\r\n    {\r\n        const holesPts: Vector2[][] = [];\r\n\r\n        for (let i = 0, l = this.holes.length; i < l; i++)\r\n        {\r\n            holesPts[i] = this.holes[i].getPoints(divisions);\r\n        }\r\n\r\n        return holesPts;\r\n    }\r\n\r\n    // get points of shape and holes (keypoints based on segments parameter)\r\n    extractPoints(divisions: number)\r\n    {\r\n        return {\r\n            shape: this.getPoints(divisions),\r\n            holes: this.getPointsHoles(divisions)\r\n        };\r\n    }\r\n\r\n    extractArray(divisions?: number)\r\n    {\r\n        const result = this.extractPoints(divisions);\r\n        //\r\n        const points = result.shape.reduce((pv: number[], cv) =>\r\n        {\r\n            pv.push(cv.x, cv.y);\r\n\r\n            return pv;\r\n        }, []);\r\n        const holes = result.holes.reduce((pv: number[][], cv) =>\r\n        {\r\n            const arr = cv.reduce((pv1: number[], cv1) =>\r\n            {\r\n                pv1.push(cv1.x, cv1.y);\r\n\r\n                return pv1;\r\n            }, []);\r\n\r\n            pv.push(arr);\r\n\r\n            return pv;\r\n        }, []);\r\n\r\n        return { points, holes };\r\n    }\r\n\r\n    triangulate(geometry: { points: number[], indices: number[] } = { points: [], indices: [] })\r\n    {\r\n        const result = this.extractArray();\r\n        //\r\n\r\n        Shape2.triangulate(result.points, result.holes, geometry);\r\n\r\n        return geometry;\r\n    }\r\n\r\n    static triangulate(points: number[], holes: number[][] = [], geometry: { points: number[], indices: number[] } = { points: [], indices: [] })\r\n    {\r\n        const verts = geometry.points;\r\n        const indices = geometry.indices;\r\n\r\n        if (points.length >= 6)\r\n        {\r\n            const holeArray: number[] = [];\r\n            // Process holes..\r\n\r\n            for (let i = 0; i < holes.length; i++)\r\n            {\r\n                const hole = holes[i];\r\n\r\n                holeArray.push(points.length / 2);\r\n                points = points.concat(hole);\r\n            }\r\n\r\n            // sort color\r\n            const triangles = Earcut.triangulate(points, holeArray, 2);\r\n\r\n            if (!triangles)\r\n            {\r\n                return;\r\n            }\r\n\r\n            const vertPos = verts.length / 2;\r\n\r\n            for (let i = 0; i < triangles.length; i += 3)\r\n            {\r\n                indices.push(triangles[i] + vertPos);\r\n                indices.push(triangles[i + 1] + vertPos);\r\n                indices.push(triangles[i + 2] + vertPos);\r\n            }\r\n\r\n            for (let i = 0; i < points.length; i++)\r\n            {\r\n                verts.push(points[i]);\r\n            }\r\n        }\r\n\r\n        return geometry;\r\n    }\r\n}\r\n","import { Color4 } from '../../Color4';\r\nimport { Vector2 } from '../../geom/Vector2';\r\nimport { ShapeUtils } from '../ShapeUtils';\r\nimport { Path2 } from './Path2';\r\nimport { Shape2 } from './Shape2';\r\n\r\nexport class ShapePath2\r\n{\r\n    color = new Color4();\r\n    subPaths: Path2[] = [];\r\n    currentPath: Path2;\r\n\r\n    constructor()\r\n    {\r\n        this.subPaths = [];\r\n        this.currentPath = null;\r\n    }\r\n\r\n    moveTo(x: number, y: number)\r\n    {\r\n        this.currentPath = new Path2();\r\n        this.subPaths.push(this.currentPath);\r\n        this.currentPath.moveTo(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    lineTo(x: number, y: number)\r\n    {\r\n        this.currentPath.lineTo(x, y);\r\n\r\n        return this;\r\n    }\r\n\r\n    quadraticCurveTo(aCPx: number, aCPy: number, aX: number, aY: number)\r\n    {\r\n        this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\r\n\r\n        return this;\r\n    }\r\n\r\n    bezierCurveTo(aCP1x: number, aCP1y: number, aCP2x: number, aCP2y: number, aX: number, aY: number)\r\n    {\r\n        this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\r\n\r\n        return this;\r\n    }\r\n\r\n    splineThru(pts: Vector2[])\r\n    {\r\n        this.currentPath.splineThru(pts);\r\n\r\n        return this;\r\n    }\r\n\r\n    closePath()\r\n    {\r\n        this.currentPath.closePath();\r\n    }\r\n\r\n    toShapes(isCCW = false, noHoles = false)\r\n    {\r\n        /**\r\n         * 转换没有孔的路径为形状\r\n         *\r\n         * @param inSubpaths\r\n         */\r\n        function toShapesNoHoles(inSubpaths: Path2[])\r\n        {\r\n            const shapes: Shape2[] = [];\r\n\r\n            for (let i = 0, l = inSubpaths.length; i < l; i++)\r\n            {\r\n                const tmpPath = inSubpaths[i];\r\n\r\n                const tmpShape = new Shape2();\r\n\r\n                tmpShape.curves = tmpPath.curves;\r\n\r\n                shapes.push(tmpShape);\r\n            }\r\n\r\n            return shapes;\r\n        }\r\n\r\n        /**\r\n         * 判断点是否在多边形内\r\n         * @param inPt\r\n         * @param inPolygon\r\n         */\r\n        function isPointInsidePolygon(inPt: Vector2, inPolygon: Vector2[])\r\n        {\r\n            const polyLen = inPolygon.length;\r\n\r\n            // inPt on polygon contour => immediate success    or\r\n            // toggling of inside/outside at every single! intersection point of an edge\r\n            //  with the horizontal line through inPt, left of inPt\r\n            //  not counting lowerY endpoints of edges and whole edges on that line\r\n            let inside = false;\r\n\r\n            for (let p = polyLen - 1, q = 0; q < polyLen; p = q++)\r\n            {\r\n                let edgeLowPt = inPolygon[p];\r\n                let edgeHighPt = inPolygon[q];\r\n\r\n                let edgeDx = edgeHighPt.x - edgeLowPt.x;\r\n                let edgeDy = edgeHighPt.y - edgeLowPt.y;\r\n\r\n                if (Math.abs(edgeDy) > Number.EPSILON)\r\n                {\r\n                    // not parallel\r\n                    if (edgeDy < 0)\r\n                    {\r\n                        edgeLowPt = inPolygon[q]; edgeDx = -edgeDx;\r\n                        edgeHighPt = inPolygon[p]; edgeDy = -edgeDy;\r\n                    }\r\n\r\n                    if ((inPt.y < edgeLowPt.y) || (inPt.y > edgeHighPt.y)) continue;\r\n\r\n                    if (inPt.y === edgeLowPt.y)\r\n                    {\r\n                        if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\r\n                        // continue;                // no intersection or edgeLowPt => doesn't count !!!\r\n                    }\r\n                    else\r\n                    {\r\n                        const perpEdge = (edgeDy * (inPt.x - edgeLowPt.x)) - (edgeDx * (inPt.y - edgeLowPt.y));\r\n\r\n                        if (perpEdge === 0) return true; // inPt is on contour ?\r\n                        if (perpEdge < 0) continue;\r\n                        inside = !inside; // true intersection left of inPt\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    // parallel or collinear\r\n                    if (inPt.y !== edgeLowPt.y) continue; // parallel\r\n                    // edge lies on the same horizontal line as inPt\r\n                    if (((edgeHighPt.x <= inPt.x) && (inPt.x <= edgeLowPt.x))\r\n                        || ((edgeLowPt.x <= inPt.x) && (inPt.x <= edgeHighPt.x))) return true; // inPt: Point on contour !\r\n                    // continue;\r\n                }\r\n            }\r\n\r\n            return inside;\r\n        }\r\n\r\n        const subPaths = this.subPaths;\r\n\r\n        if (subPaths.length === 0) return [];\r\n\r\n        // 处理无孔形状\r\n        if (noHoles === true) return toShapesNoHoles(subPaths);\r\n\r\n        let solid: boolean;\r\n        let tmpPath: Path2;\r\n        let tmpShape: Shape2;\r\n        const shapes: Shape2[] = [];\r\n\r\n        if (subPaths.length === 1)\r\n        {\r\n            tmpPath = subPaths[0];\r\n            tmpShape = new Shape2();\r\n            tmpShape.curves = tmpPath.curves;\r\n            shapes.push(tmpShape);\r\n\r\n            return shapes;\r\n        }\r\n\r\n        // 第一个是否为空\r\n        let holesFirst = !ShapeUtils.isClockWise(subPaths[0].getPoints());\r\n\r\n        if (isCCW)// 判断是否为孔\r\n        {\r\n            holesFirst = !holesFirst;\r\n        }\r\n\r\n        // console.log(\"Holes first\", holesFirst);\r\n\r\n        const betterShapeHoles: { h: Path2, p: Vector2 }[][] = [];\r\n        const newShapes: { s: Shape2, p: Vector2[] }[] = [];\r\n        let newShapeHoles: { h: Path2, p: Vector2 }[][] = [];\r\n        let mainIdx = 0;\r\n        let tmpPoints: Vector2[];\r\n\r\n        newShapes[mainIdx] = undefined;\r\n        newShapeHoles[mainIdx] = [];\r\n\r\n        for (let i = 0, l = subPaths.length; i < l; i++)\r\n        {\r\n            tmpPath = subPaths[i];\r\n            tmpPoints = tmpPath.getPoints();\r\n            solid = ShapeUtils.isClockWise(tmpPoints);\r\n            if (isCCW)// 判断是否为实线\r\n            {\r\n                solid = !solid;\r\n            }\r\n\r\n            if (solid)\r\n            {\r\n                if ((!holesFirst) && (newShapes[mainIdx])) mainIdx++;\r\n\r\n                newShapes[mainIdx] = { s: new Shape2(), p: tmpPoints };\r\n                newShapes[mainIdx].s.curves = tmpPath.curves;\r\n\r\n                if (holesFirst) mainIdx++;\r\n                newShapeHoles[mainIdx] = [];\r\n                // console.log('cw', i);\r\n            }\r\n            else\r\n            {\r\n                newShapeHoles[mainIdx].push({ h: tmpPath, p: tmpPoints[0] });\r\n                // console.log('ccw', i);\r\n            }\r\n        }\r\n\r\n        // only Holes? -> probably all Shapes with wrong orientation\r\n        if (!newShapes[0]) return toShapesNoHoles(subPaths);\r\n\r\n        if (newShapes.length > 1)\r\n        {\r\n            let ambiguous = false;\r\n            const toChange = [];\r\n\r\n            for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++)\r\n            {\r\n                betterShapeHoles[sIdx] = [];\r\n            }\r\n\r\n            for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++)\r\n            {\r\n                const sho = newShapeHoles[sIdx];\r\n\r\n                for (let hIdx = 0; hIdx < sho.length; hIdx++)\r\n                {\r\n                    const ho = sho[hIdx];\r\n                    let holeUnassigned = true;\r\n\r\n                    for (let s2Idx = 0; s2Idx < newShapes.length; s2Idx++)\r\n                    {\r\n                        if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p))\r\n                        {\r\n                            if (sIdx !== s2Idx) toChange.push({ froms: sIdx, tos: s2Idx, hole: hIdx });\r\n                            if (holeUnassigned)\r\n                            {\r\n                                holeUnassigned = false;\r\n                                betterShapeHoles[s2Idx].push(ho);\r\n                            }\r\n                            else\r\n                            {\r\n                                ambiguous = true;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (holeUnassigned)\r\n                    {\r\n                        betterShapeHoles[sIdx].push(ho);\r\n                    }\r\n                }\r\n            }\r\n            // console.log(\"ambiguous: \", ambiguous);\r\n\r\n            if (toChange.length > 0)\r\n            {\r\n                // console.log(\"to change: \", toChange);\r\n                if (!ambiguous) newShapeHoles = betterShapeHoles;\r\n            }\r\n        }\r\n\r\n        let tmpHoles: { h: Path2; p: Vector2; }[];\r\n\r\n        for (let i = 0, il = newShapes.length; i < il; i++)\r\n        {\r\n            tmpShape = newShapes[i].s;\r\n            shapes.push(tmpShape);\r\n            tmpHoles = newShapeHoles[i];\r\n\r\n            for (let j = 0, jl = tmpHoles.length; j < jl; j++)\r\n            {\r\n                tmpShape.holes.push(tmpHoles[j].h);\r\n            }\r\n        }\r\n\r\n        // console.log(\"shape\", shapes);\r\n        return shapes;\r\n    }\r\n}\r\n","import { Shape2 } from './Shape2';\r\nimport { ShapePath2 } from './ShapePath2';\r\n\r\nexport class Font\r\n{\r\n    data: FontData;\r\n    isCCW = false;\r\n    private charGeometryCache: {\r\n        [char: string]: {\r\n            geometry: {\r\n                points: number[];\r\n                indices: number[];\r\n            };\r\n            width: number;\r\n        }\r\n    } = {};\r\n\r\n    constructor(data: FontData)\r\n    {\r\n        this.data = data;\r\n    }\r\n\r\n    generateShapes(text: string, size: number, lineHeight?: number, align: 'left' | 'center' | 'right' = 'left'): Shape2[]\r\n    {\r\n        if (size === undefined)\r\n        {\r\n            size = 100;\r\n        }\r\n        if (lineHeight === undefined)\r\n        {\r\n            lineHeight = size * 1.25;\r\n        }\r\n\r\n        const shapes: Shape2[] = [];\r\n        const paths = createPaths(text, size, lineHeight, this.data, align);\r\n\r\n        for (let p = 0, pl = paths.length; p < pl; p++)\r\n        {\r\n            const pathShapes = paths[p].toShapes(this.isCCW);\r\n\r\n            for (let i = 0, il = pathShapes.length; i < il; i++)\r\n            {\r\n                shapes.push(pathShapes[i]);\r\n            }\r\n        }\r\n\r\n        return shapes;\r\n    }\r\n\r\n    generateCharGeometry(char: string, geometry: { points: number[], indices: number[] } = { points: [], indices: [] })\r\n    {\r\n        if (this.charGeometryCache[char])\r\n        {\r\n            return this.charGeometryCache[char];\r\n        }\r\n        const { path, offsetX } = createPath(char, 1, 0, 0, this.data);\r\n        const shapes = path.toShapes(this.isCCW);\r\n\r\n        for (let i = 0, n = shapes.length; i < n; i++)\r\n        {\r\n            shapes[i].triangulate(geometry);\r\n        }\r\n\r\n        this.charGeometryCache[char] = { geometry, width: offsetX };\r\n\r\n        return this.charGeometryCache[char];\r\n    }\r\n\r\n    calculateGeometry(text: string, fontSize: number, lineHeight?: number, align: 'left' | 'center' | 'right' = 'left', textBaseline: 'alphabetic' | 'top' | 'middle' | 'bottom' = 'alphabetic', tabCharWidth = 128)\r\n    {\r\n        if (lineHeight === undefined)\r\n        {\r\n            lineHeight = fontSize * 1.25;\r\n        }\r\n        lineHeight = lineHeight / fontSize * this.data.unitsPerEm;\r\n\r\n        const textInfo = calculateTextInfo(this, text, tabCharWidth);\r\n        const { vertices, indices } = calculateTextStyle(textInfo, fontSize, lineHeight, align, textBaseline);\r\n        const { normals, uvs } = calculateNormalUV(vertices);\r\n\r\n        return { vertices, normals, uvs, indices };\r\n    }\r\n}\r\n\r\nfunction createPaths(text: string, size: number, lineHeight: number, data: FontData, align: 'left' | 'center' | 'right' = 'left'): ShapePath2[]\r\n{\r\n    const scale = size / data.unitsPerEm;\r\n    const paths: ShapePath2[] = [];\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n\r\n    const lines = text.split('\\n');\r\n\r\n    const lineWidths: number[] = [];\r\n    let maxLineWidth = 0;\r\n\r\n    for (let i = 0, ni = lines.length; i < ni; i++)\r\n    {\r\n        const lineStr = lines[i];\r\n\r\n        if (i > 0)\r\n        {\r\n            offsetX = 0;\r\n        }\r\n        const chars = Array.from ? Array.from(lineStr) : String(lineStr).split(''); // see #13988\r\n\r\n        for (let j = 0, nj = chars.length; j < nj; j++)\r\n        {\r\n            const char = chars[j];\r\n\r\n            if (char.charCodeAt(0) === 9)\r\n            {\r\n                offsetX += 20;\r\n            }\r\n            else\r\n            {\r\n                const glyph = data.glyphs[char] || data.glyphs['?'];\r\n\r\n                if (glyph)\r\n                {\r\n                    offsetX += glyph.ha * scale;\r\n                }\r\n            }\r\n        }\r\n        lineWidths[i] = offsetX;\r\n        maxLineWidth = Math.max(maxLineWidth, offsetX);\r\n    }\r\n\r\n    for (let i = 0, ni = lines.length; i < ni; i++)\r\n    {\r\n        const lineStr = lines[i];\r\n\r\n        offsetX = 0;\r\n        offsetY = -lineHeight * i;\r\n        if (align === 'center')\r\n        {\r\n            offsetX = (maxLineWidth - lineWidths[i]) / 2;\r\n        }\r\n        else if (align === 'right')\r\n        {\r\n            offsetX = maxLineWidth - lineWidths[i];\r\n        }\r\n\r\n        const chars = Array.from ? Array.from(lineStr) : String(lineStr).split(''); // see #13988\r\n\r\n        for (let j = 0, nj = chars.length; j < nj; j++)\r\n        {\r\n            const char = chars[j];\r\n\r\n            if (char.charCodeAt(0) === 9)\r\n            {\r\n                offsetX += 20;\r\n            }\r\n            else\r\n            {\r\n                const ret = createPath(char, scale, offsetX, offsetY, data);\r\n\r\n                offsetX += ret.offsetX;\r\n                paths.push(ret.path);\r\n            }\r\n        }\r\n    }\r\n\r\n    return paths;\r\n}\r\n\r\nfunction createPath(char: string, scale: number, offsetX: number, offsetY: number, data: FontData)\r\n{\r\n    const glyph = data.glyphs[char] || data.glyphs['?'];\r\n\r\n    if (!glyph)\r\n    {\r\n        console.error(`    Font: character \"${char}\" does not exists in font family ${data.familyName}.`);\r\n\r\n        return;\r\n    }\r\n\r\n    const path = new ShapePath2();\r\n\r\n    let x: number;\r\n    let y: number;\r\n    let cpx: number;\r\n    let cpy: number;\r\n    let cpx1: number;\r\n    let cpy1: number;\r\n    let cpx2: number;\r\n    let cpy2: number;\r\n\r\n    if (glyph.o)\r\n    {\r\n        const outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\r\n\r\n        for (let i = 0, l = outline.length; i < l;)\r\n        {\r\n            const action = outline[i++];\r\n\r\n            switch (action)\r\n            {\r\n                case 'm': // moveTo\r\n                    x = (outline[i++] * scale) + offsetX;\r\n                    y = (outline[i++] * scale) + offsetY;\r\n                    path.moveTo(x, y);\r\n                    break;\r\n                case 'l': // lineTo\r\n                    x = (outline[i++] * scale) + offsetX;\r\n                    y = (outline[i++] * scale) + offsetY;\r\n                    path.lineTo(x, y);\r\n                    break;\r\n                case 'q': // quadraticCurveTo\r\n                    cpx = (outline[i++] * scale) + offsetX;\r\n                    cpy = (outline[i++] * scale) + offsetY;\r\n                    cpx1 = (outline[i++] * scale) + offsetX;\r\n                    cpy1 = (outline[i++] * scale) + offsetY;\r\n                    path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\r\n                    break;\r\n                case 'b': // bezierCurveTo\r\n                    cpx = (outline[i++] * scale) + offsetX;\r\n                    cpy = (outline[i++] * scale) + offsetY;\r\n                    cpx1 = (outline[i++] * scale) + offsetX;\r\n                    cpy1 = (outline[i++] * scale) + offsetY;\r\n                    cpx2 = (outline[i++] * scale) + offsetX;\r\n                    cpy2 = (outline[i++] * scale) + offsetY;\r\n                    path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\r\n                    break;\r\n                case 'z':\r\n                    path.closePath();\r\n                    break;\r\n                default:\r\n                    console.assert(action.trim() === '');\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return { offsetX: glyph.ha * scale, path };\r\n}\r\n\r\nexport interface Glyph\r\n{\r\n    ha: number,\r\n    // eslint-disable-next-line camelcase\r\n    x_min: number,\r\n    // eslint-disable-next-line camelcase\r\n    x_max: number,\r\n    o: string,\r\n    _cachedOutline?: any[]\r\n}\r\n\r\ninterface FontData\r\n{\r\n    glyphs: { [index: string]: Glyph },\r\n    unitsPerEm: number,\r\n    ascender: number,\r\n    descender: number,\r\n    underlinePosition: number,\r\n    underlineThickness: number,\r\n    familyName: string,\r\n    boundingBox: {\r\n        yMin: number,\r\n        xMin: number,\r\n        yMax: number,\r\n        xMax: number,\r\n    }\r\n}\r\n\r\nfunction calculateTextInfo(font: Font, text: string, tabCharWidth: number)\r\n{\r\n    const textInfo: TextInfo = { text, font, width: 0, numVertices: 0, numIndices: 0, lines: [] };\r\n    //\r\n    const lines = text.split('\\n');\r\n\r\n    for (let i = 0, ni = lines.length; i < ni; i++)\r\n    {\r\n        textInfo.lines[i] = { text: lines[i], width: 0, numVertices: 0, numIndices: 0, chars: [] };\r\n        const lineItem = textInfo.lines[i];\r\n\r\n        if (i > 0)\r\n        {\r\n            lineItem.width = 0;\r\n        }\r\n        const chars = Array.from ? Array.from(lineItem.text) : String(lineItem.text).split(''); // see #13988\r\n\r\n        for (let j = 0, nj = chars.length; j < nj; j++)\r\n        {\r\n            const char = chars[j];\r\n\r\n            if (char === '\\t')\r\n            {\r\n                lineItem.width += tabCharWidth;\r\n            }\r\n            else\r\n            {\r\n                const charVertices = font.generateCharGeometry(char);\r\n                const charItem = lineItem.chars[j] = {\r\n                    text: char,\r\n                    width: charVertices.width,\r\n                    offsetX: lineItem.width,\r\n                    offsetVertices: textInfo.numVertices,\r\n                    offsetIndices: textInfo.numIndices,\r\n                    numVertices: charVertices.geometry.points.length,\r\n                    numIndices: charVertices.geometry.indices.length,\r\n                    geometry: charVertices.geometry,\r\n                };\r\n\r\n                lineItem.width += charItem.width;\r\n                lineItem.numVertices += charItem.numVertices;\r\n                lineItem.numIndices += charItem.numIndices;\r\n                textInfo.numVertices += charItem.numVertices;\r\n                textInfo.numIndices += charItem.numIndices;\r\n            }\r\n        }\r\n        textInfo.width = Math.max(textInfo.width, lineItem.width);\r\n    }\r\n\r\n    return textInfo;\r\n}\r\n\r\nfunction calculateTextStyle(textInfo: TextInfo, fontSize: number, lineHeight: number, align: string, textBaseline: string)\r\n{\r\n    const { unitsPerEm, ascender, descender } = textInfo.font.data;\r\n    const scale = fontSize / unitsPerEm;\r\n    const vertices = new Float32Array(textInfo.numVertices / 2 * 3);\r\n    const indices = new Uint32Array(textInfo.numIndices);\r\n\r\n    let baselineOffsetY = 0;\r\n\r\n    if (textBaseline === 'top')\r\n    {\r\n        baselineOffsetY = ascender;\r\n    }\r\n    else if (textBaseline === 'bottom')\r\n    {\r\n        baselineOffsetY = descender;\r\n    }\r\n    else if (textBaseline === 'middle')\r\n    {\r\n        baselineOffsetY = (ascender + descender) / 2;\r\n    }\r\n    else if (textBaseline === 'alphabetic')\r\n    {\r\n        baselineOffsetY = 0;\r\n    }\r\n\r\n    //\r\n    const { lines, width: maxLineWidth } = textInfo;\r\n\r\n    for (let i = 0, ni = lines.length; i < ni; i++)\r\n    {\r\n        const { width: lineWidth, chars } = lines[i];\r\n        let alignOffsetX = 0;\r\n        const offsetY = -lineHeight * i;\r\n\r\n        if (align === 'center')\r\n        {\r\n            alignOffsetX = (maxLineWidth - lineWidth) / 2;\r\n        }\r\n        else if (align === 'right')\r\n        {\r\n            alignOffsetX = maxLineWidth - lineWidth;\r\n        }\r\n\r\n        for (let j = 0, nj = chars.length; j < nj; j++)\r\n        {\r\n            const charItem = chars[j];\r\n\r\n            if (!charItem)\r\n            {\r\n                continue;\r\n            }\r\n            const { offsetX: charOffsetX, offsetVertices, offsetIndices, geometry } = charItem;\r\n\r\n            updateCharGeometry({\r\n                offsetX: alignOffsetX + charOffsetX, offsetY: offsetY - baselineOffsetY, scale,\r\n                targetVertices: vertices, targetIndices: indices,\r\n                offsetVertices, offsetIndices,\r\n                sourceVertices: geometry.points, sourceIndices: geometry.indices\r\n            });\r\n        }\r\n    }\r\n\r\n    return { vertices, indices };\r\n\r\n    function updateCharGeometry({\r\n        offsetX, offsetY, scale,\r\n        targetVertices, targetIndices,\r\n        offsetVertices, offsetIndices,\r\n        sourceVertices, sourceIndices,\r\n    }: {\r\n        offsetX: number, offsetY: number, scale: number,\r\n        targetVertices: Float32Array, targetIndices: Uint32Array,\r\n        offsetVertices: number, offsetIndices: number,\r\n        sourceVertices: number[], sourceIndices: number[],\r\n    })\r\n    {\r\n        let offsetVertices3 = offsetVertices / 2 * 3;\r\n        let offsetVertices2 = 0;\r\n\r\n        for (let i = 0, n = sourceVertices.length / 2; i < n; i++)\r\n        {\r\n            targetVertices[offsetVertices3++] = (sourceVertices[offsetVertices2++] + offsetX) * scale;\r\n            targetVertices[offsetVertices3++] = -(sourceVertices[offsetVertices2++] + offsetY) * scale;\r\n            targetVertices[offsetVertices3++] = 0;\r\n        }\r\n\r\n        const offsetVerticesIndex = offsetVertices / 2;\r\n\r\n        for (let i = 0, n = sourceIndices.length; i < n; i++)\r\n        {\r\n            targetIndices[offsetIndices + i] = sourceIndices[i] + offsetVerticesIndex;\r\n        }\r\n    }\r\n}\r\n\r\nfunction calculateNormalUV(vertices: Float32Array)\r\n{\r\n    const normals = new Float32Array(vertices.length);\r\n    const uvs = new Float32Array(vertices.length / 3 * 2);\r\n    let verticesIndex = 0;\r\n    let normalsIndex = 0;\r\n    let uvsIndex = 0;\r\n\r\n    for (let i = 0, n = vertices.length / 3; i < n; i++)\r\n    {\r\n        uvs[uvsIndex++] = vertices[verticesIndex++];\r\n        uvs[uvsIndex++] = vertices[verticesIndex++];\r\n        verticesIndex++;\r\n        //\r\n        normals[normalsIndex++] = 0;\r\n        normals[normalsIndex++] = 0;\r\n        normals[normalsIndex++] = 1;\r\n    }\r\n\r\n    return { normals, uvs };\r\n}\r\n\r\ninterface TextInfo\r\n{\r\n    text: string,\r\n    font: Font,\r\n    width: number,\r\n    numVertices: number,\r\n    numIndices: number,\r\n    lines: {\r\n        text: string,\r\n        width: number,\r\n        numVertices: number,\r\n        numIndices: number,\r\n        chars: {\r\n            text: string,\r\n            width: number;\r\n            offsetX: number,\r\n            offsetVertices: number,\r\n            offsetIndices: number,\r\n            numVertices: number,\r\n            numIndices: number,\r\n            geometry: {\r\n                points: number[];\r\n                indices: number[];\r\n            },\r\n        }[]\r\n    }[],\r\n}\r\n\r\n","import { EllipseCurve2 } from './EllipseCurve2';\r\n\r\nexport class ArcCurve2 extends EllipseCurve2\r\n{\r\n    constructor(aX = 0, aY = 0, aRadius = 1, aStartAngle = 0, aEndAngle = 2 * Math.PI, aClockwise = false)\r\n    {\r\n        super(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\r\n    }\r\n}\r\n","import { Vector3 } from '../../geom/Vector3';\r\nimport { Curve } from '../core/Curve';\r\n\r\n/**\r\n * Centripetal CatmullRom Curve - which is useful for avoiding\r\n * cusps and self-intersections in non-uniform catmull rom curves.\r\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\r\n *\r\n * curve.type accepts centripetal(default), chordal and catmullrom\r\n * curve.tension is used for catmullrom which defaults to 0.5\r\n */\r\nexport class CatmullRomCurve3 extends Curve<Vector3>\r\n{\r\n    isCatmullRomCurve3 = true;\r\n\r\n    points: Vector3[];\r\n    closed: boolean;\r\n    curveType: string;\r\n    tension: number;\r\n\r\n    constructor(points: Vector3[] = [], closed = false, curveType = 'centripetal', tension = 0.5)\r\n    {\r\n        super();\r\n\r\n        this.points = points;\r\n        this.closed = closed;\r\n        this.curveType = curveType;\r\n        this.tension = tension;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector3())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        const points = this.points;\r\n        const l = points.length;\r\n\r\n        const p = (l - (this.closed ? 0 : 1)) * t;\r\n        let intPoint = Math.floor(p);\r\n        let weight = p - intPoint;\r\n\r\n        if (this.closed)\r\n        {\r\n            intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\r\n        }\r\n        else if (weight === 0 && intPoint === l - 1)\r\n        {\r\n            intPoint = l - 2;\r\n            weight = 1;\r\n        }\r\n\r\n        let p0: Vector3; let\r\n            p3: Vector3; // 4 points (p1 & p2 defined below)\r\n\r\n        if (this.closed || intPoint > 0)\r\n        {\r\n            p0 = points[(intPoint - 1) % l];\r\n        }\r\n        else\r\n        {\r\n            // extrapolate first point\r\n            tmp.copy(points[0]).sub(points[1]).add(points[0]);\r\n            p0 = tmp;\r\n        }\r\n\r\n        const p1 = points[intPoint % l];\r\n        const p2 = points[(intPoint + 1) % l];\r\n\r\n        if (this.closed || intPoint + 2 < l)\r\n        {\r\n            p3 = points[(intPoint + 2) % l];\r\n        }\r\n        else\r\n        {\r\n            // extrapolate last point\r\n            tmp.copy(points[l - 1]).sub(points[l - 2]).add(points[l - 1]);\r\n            p3 = tmp;\r\n        }\r\n\r\n        if (this.curveType === 'centripetal' || this.curveType === 'chordal')\r\n        {\r\n            // init Centripetal / Chordal Catmull-Rom\r\n            const pow = this.curveType === 'chordal' ? 0.5 : 0.25;\r\n            let dt0 = Math.pow(p0.distanceSquared(p1), pow);\r\n            let dt1 = Math.pow(p1.distanceSquared(p2), pow);\r\n            let dt2 = Math.pow(p2.distanceSquared(p3), pow);\r\n\r\n            // safety check for repeated points\r\n            if (dt1 < 1e-4) dt1 = 1.0;\r\n            if (dt0 < 1e-4) dt0 = dt1;\r\n            if (dt2 < 1e-4) dt2 = dt1;\r\n\r\n            px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\r\n            py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\r\n            pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\r\n        }\r\n        else if (this.curveType === 'catmullrom')\r\n        {\r\n            px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\r\n            py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\r\n            pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\r\n        }\r\n\r\n        point.set(\r\n            px.calc(weight),\r\n            py.calc(weight),\r\n            pz.calc(weight)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n\r\n/*\r\nBased on an optimized c++ solution in\r\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\r\n - http://ideone.com/NoEbVM\r\n\r\nThis CubicPoly class could be used for reusing some variables and calculations,\r\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\r\nwhich can be placed in CurveUtils.\r\n*/\r\nclass CubicPoly\r\n{\r\n    c0 = 0;\r\n    c1 = 0;\r\n    c2 = 0;\r\n    c3 = 0;\r\n\r\n    /*\r\n     * Compute coefficients for a cubic polynomial\r\n     *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\r\n     * such that\r\n     *   p(0) = x0, p(1) = x1\r\n     *  and\r\n     *   p'(0) = t0, p'(1) = t1.\r\n     */\r\n    init(x0: number, x1: number, t0: number, t1: number)\r\n    {\r\n        this.c0 = x0;\r\n        this.c1 = t0;\r\n        this.c2 = (-3 * x0) + (3 * x1) - (2 * t0) - t1;\r\n        this.c3 = (2 * x0) - (2 * x1) + t0 + t1;\r\n    }\r\n\r\n    initCatmullRom(x0: number, x1: number, x2: number, x3: number, tension: number)\r\n    {\r\n        this.init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\r\n    }\r\n\r\n    initNonuniformCatmullRom(x0: number, x1: number, x2: number, x3: number, dt0: number, dt1: number, dt2: number)\r\n    {\r\n        // compute tangents when parameterized in [t1,t2]\r\n        let t1 = ((x1 - x0) / dt0) - ((x2 - x0) / (dt0 + dt1)) + ((x2 - x1) / dt1);\r\n        let t2 = ((x2 - x1) / dt1) - ((x3 - x1) / (dt1 + dt2)) + ((x3 - x2) / dt2);\r\n\r\n        // rescale tangents for parametrization in [0,1]\r\n        t1 *= dt1;\r\n        t2 *= dt1;\r\n\r\n        this.init(x1, x2, t1, t2);\r\n    }\r\n\r\n    calc(t: number)\r\n    {\r\n        const t2 = t * t;\r\n        const t3 = t2 * t;\r\n\r\n        return this.c0 + (this.c1 * t) + (this.c2 * t2) + (this.c3 * t3);\r\n    }\r\n}\r\n\r\n//\r\nconst tmp = new Vector3();\r\nconst px = new CubicPoly();\r\nconst py = new CubicPoly();\r\nconst pz = new CubicPoly();\r\n","import { Vector3 } from '../../geom/Vector3';\r\nimport { Curve } from '../core/Curve';\r\nimport { Interpolations } from '../core/Interpolations';\r\n\r\nexport class CubicBezierCurve3 extends Curve<Vector3>\r\n{\r\n    v0: Vector3;\r\n    v1: Vector3;\r\n    v2: Vector3;\r\n    v3: Vector3;\r\n\r\n    constructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3())\r\n    {\r\n        super();\r\n\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n        this.v3 = v3;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector3())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        const v0 = this.v0;\r\n        const v1 = this.v1;\r\n        const v2 = this.v2;\r\n        const v3 = this.v3;\r\n\r\n        point.set(\r\n            Interpolations.CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\r\n            Interpolations.CubicBezier(t, v0.y, v1.y, v2.y, v3.y),\r\n            Interpolations.CubicBezier(t, v0.z, v1.z, v2.z, v3.z)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n","import { Vector3 } from '../../geom/Vector3';\r\nimport { Curve } from '../core/Curve';\r\n\r\nexport class LineCurve3 extends Curve<Vector3>\r\n{\r\n    v1: Vector3;\r\n    v2: Vector3;\r\n\r\n    constructor(v1 = new Vector3(), v2 = new Vector3())\r\n    {\r\n        super();\r\n\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n    }\r\n\r\n    getResolution(_divisions: number): number\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector3())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        if (t === 1)\r\n        {\r\n            point.copy(this.v2);\r\n        }\r\n        else\r\n        {\r\n            point.copy(this.v2).sub(this.v1);\r\n            point.multiplyNumber(t).add(this.v1);\r\n        }\r\n\r\n        return point;\r\n    }\r\n\r\n    // Line curve is linear, so we can overwrite default getPointAt\r\n\r\n    getPointAt(u: number, optionalTarget = new Vector3())\r\n    {\r\n        return this.getPoint(u, optionalTarget);\r\n    }\r\n}\r\n\r\n","import { Vector3 } from '../../geom/Vector3';\r\nimport { Curve } from '../core/Curve';\r\nimport { Interpolations } from '../core/Interpolations';\r\n\r\nexport class QuadraticBezierCurve3 extends Curve<Vector3>\r\n{\r\n    v0: Vector3;\r\n    v1: Vector3;\r\n    v2: Vector3;\r\n\r\n    constructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3())\r\n    {\r\n        super();\r\n\r\n        this.v0 = v0;\r\n        this.v1 = v1;\r\n        this.v2 = v2;\r\n    }\r\n\r\n    getPoint(t: number, optionalTarget = new Vector3())\r\n    {\r\n        const point = optionalTarget;\r\n\r\n        const v0 = this.v0;\r\n        const v1 = this.v1;\r\n        const v2 = this.v2;\r\n\r\n        point.set(\r\n            Interpolations.QuadraticBezier(t, v0.x, v1.x, v2.x),\r\n            Interpolations.QuadraticBezier(t, v0.y, v1.y, v2.y),\r\n            Interpolations.QuadraticBezier(t, v0.z, v1.z, v2.z)\r\n        );\r\n\r\n        return point;\r\n    }\r\n}\r\n","/**\r\n * A GLenum specifying the intended usage pattern of the data store for optimization purposes.\r\n *\r\n * 指定数据存储区的使用方法。\r\n *\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/bufferData\r\n */\r\nexport enum AttributeUsage\r\n{\r\n    /**\r\n     * The contents are intended to be specified once by the application, and used many times as the source for WebGL drawing and image specification commands.\r\n     *\r\n     * 内容由应用程序指定一次，并多次用作WebGL绘图和图像规范命令的源。\r\n     *\r\n     * 缓冲区的内容可能经常使用，而不会经常更改。内容被写入缓冲区，但不被读取。\r\n     */\r\n    STATIC_DRAW = 'STATIC_DRAW',\r\n    /**\r\n     * The contents are intended to be respecified repeatedly by the application, and used many times as the source for WebGL drawing and image specification commands.\r\n     *\r\n     * 这些内容将由应用程序反复重新指定，并多次用作WebGL绘图和图像规范命令的源。\r\n     */\r\n    DYNAMIC_DRAW = 'DYNAMIC_DRAW',\r\n    /**\r\n     * The contents are intended to be specified once by the application, and used at most a few times as the source for WebGL drawing and image specification commands.\r\n     *\r\n     * 内容由应用程序指定一次，最多几次用作WebGL绘图和图像规范命令的源。\r\n     */\r\n    STREAM_DRAW = 'STREAM_DRAW',\r\n}\r\n","/**\r\n * GL 数组数据类型\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\r\n */\r\nexport enum GLArrayType\r\n{\r\n    /**\r\n     * signed 8-bit integer, with values in [-128, 127]\r\n     */\r\n    BYTE = 'BYTE',\r\n    /**\r\n     *  signed 16-bit integer, with values in [-32768, 32767]\r\n     */\r\n    SHORT = 'SHORT',\r\n    /**\r\n     * unsigned 8-bit integer, with values in [0, 255]\r\n     */\r\n    UNSIGNED_BYTE = 'UNSIGNED_BYTE',\r\n    /**\r\n     * unsigned 16-bit integer, with values in [0, 65535]\r\n     */\r\n    UNSIGNED_SHORT = 'UNSIGNED_SHORT',\r\n    /**\r\n     * 32-bit floating point number\r\n     */\r\n    FLOAT = 'FLOAT',\r\n    UNSIGNED_INT = 'UNSIGNED_INT',\r\n    /**\r\n     * using a WebGL 2 context\r\n     * 16-bit floating point number\r\n     */\r\n    HALF_FLOAT = 'HALF_FLOAT',\r\n}\r\n","import { TextureDataType } from '../gl/enums/TextureDataType';\r\nimport { TextureFormat } from '../gl/enums/TextureFormat';\r\nimport { TextureMagFilter } from '../gl/enums/TextureMagFilter';\r\nimport { TextureMinFilter } from '../gl/enums/TextureMinFilter';\r\nimport { TextureType } from '../gl/enums/TextureType';\r\nimport { TextureWrap } from '../gl/enums/TextureWrap';\r\nimport { GL } from '../gl/GL';\r\nimport { WebGLRenderer } from '../WebGLRenderer';\r\n\r\nexport interface Texture\r\n{\r\n    /**\r\n     * 纹理类型\r\n     */\r\n    textureType: TextureType;\r\n\r\n    /**\r\n     * 格式\r\n     */\r\n    format: TextureFormat;\r\n\r\n    /**\r\n     * 数据类型\r\n     */\r\n    type: TextureDataType;\r\n\r\n    /**\r\n     * 是否生成mipmap\r\n     */\r\n    generateMipmap: boolean;\r\n\r\n    /**\r\n     * 对图像进行Y轴反转。默认值为false\r\n     */\r\n    flipY: boolean;\r\n\r\n    /**\r\n     * 将图像RGB颜色值得每一个分量乘以A。默认为false\r\n     */\r\n    premulAlpha: boolean;\r\n\r\n    minFilter: TextureMinFilter;\r\n\r\n    magFilter: TextureMagFilter;\r\n\r\n    /**\r\n     * 表示x轴的纹理的回环方式，就是当纹理的宽度小于需要贴图的平面的宽度的时候，平面剩下的部分应该p以何种方式贴图的问题。\r\n     */\r\n    wrapS: TextureWrap;\r\n\r\n    /**\r\n     * 表示y轴的纹理回环方式。 magFilter和minFilter表示过滤的方式，这是OpenGL的基本概念，我将在下面讲一下，目前你不用担心它的使用。当您不设置的时候，它会取默认值，所以，我们这里暂时不理睬他。\r\n     */\r\n    wrapT: TextureWrap;\r\n\r\n    /**\r\n     * 各向异性过滤。使用各向异性过滤能够使纹理的效果更好，但是会消耗更多的内存、CPU、GPU时间。默认为0。\r\n     */\r\n    anisotropy: number;\r\n\r\n    /**\r\n     * 当前使用的贴图数据\r\n     */\r\n    activePixels: TexImageSource | TexImageSource[];\r\n\r\n    /**\r\n     * 是否为渲染目标纹理\r\n     */\r\n    isRenderTarget: boolean;\r\n\r\n    OFFSCREEN_WIDTH: number;\r\n\r\n    OFFSCREEN_HEIGHT: number;\r\n\r\n    /**\r\n     * 是否失效，值为true时重新创建 WebGLTexture\r\n     */\r\n    invalid: boolean;\r\n}\r\n\r\nexport class Texture\r\n{\r\n    /**\r\n     *\r\n     * @param gl\r\n     * @param data\r\n     * @returns\r\n     */\r\n    static active(gl: GL, data: Texture)\r\n    {\r\n        const texture = this.getTexture(gl, data);\r\n\r\n        const textureType = gl[data.textureType];\r\n\r\n        // 绑定纹理\r\n        gl.bindTexture(textureType, texture);\r\n        // 设置纹理参数\r\n        gl.texParameteri(textureType, gl.TEXTURE_MIN_FILTER, gl[data.minFilter]);\r\n        gl.texParameteri(textureType, gl.TEXTURE_MAG_FILTER, gl[data.magFilter]);\r\n        gl.texParameteri(textureType, gl.TEXTURE_WRAP_S, gl[data.wrapS]);\r\n        gl.texParameteri(textureType, gl.TEXTURE_WRAP_T, gl[data.wrapT]);\r\n\r\n        //\r\n        gl.texParameterfAnisotropy(textureType, data.anisotropy);\r\n\r\n        return texture;\r\n    }\r\n\r\n    /**\r\n     * 获取顶点属性缓冲\r\n     * @param data 数据\r\n     */\r\n    static getTexture(gl: GL, data: Texture)\r\n    {\r\n        if (data.invalid)\r\n        {\r\n            this.clear(data);\r\n            data.invalid = false;\r\n        }\r\n        let texture = gl.cache.textures.get(data);\r\n        if (!texture)\r\n        {\r\n            texture = gl.createTexture(); // Create a texture object\r\n            if (!texture)\r\n            {\r\n                console.error('createTexture 失败！');\r\n                throw '';\r\n            }\r\n            gl.cache.textures.set(data, texture);\r\n\r\n            //\r\n            const textureType = gl[data.textureType];\r\n            const format = gl[data.format];\r\n            const type = gl[data.type];\r\n\r\n            // 设置图片y轴方向\r\n            gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, data.flipY ? 1 : 0);\r\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, data.premulAlpha ? 1 : 0);\r\n            // 绑定纹理\r\n            gl.bindTexture(textureType, texture);\r\n            // 设置纹理图片\r\n            switch (textureType)\r\n            {\r\n                case gl.TEXTURE_CUBE_MAP:\r\n                    const pixels: TexImageSource[] = data.activePixels as any;\r\n                    const faces = [\r\n                        gl.TEXTURE_CUBE_MAP_POSITIVE_X, gl.TEXTURE_CUBE_MAP_POSITIVE_Y, gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\r\n                        gl.TEXTURE_CUBE_MAP_NEGATIVE_X, gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, gl.TEXTURE_CUBE_MAP_NEGATIVE_Z\r\n                    ];\r\n                    for (let i = 0; i < faces.length; i++)\r\n                    {\r\n                        if (data.isRenderTarget)\r\n                        {\r\n                            gl.texImage2D(faces[i], 0, format, data.OFFSCREEN_WIDTH, data.OFFSCREEN_HEIGHT, 0, format, type, null);\r\n                        }\r\n                        else\r\n                        {\r\n                            gl.texImage2D(faces[i], 0, format, format, type, pixels[i]);\r\n                        }\r\n                    }\r\n                    break;\r\n                case gl.TEXTURE_2D:\r\n                    const _pixel: TexImageSource = data.activePixels as any;\r\n                    if (data.isRenderTarget)\r\n                    {\r\n                        gl.texImage2D(textureType, 0, format, data.OFFSCREEN_WIDTH, data.OFFSCREEN_HEIGHT, 0, format, type, null);\r\n                    }\r\n                    else\r\n                    {\r\n                        gl.texImage2D(textureType, 0, format, format, type, _pixel);\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw '';\r\n            }\r\n            if (data.generateMipmap)\r\n            {\r\n                gl.generateMipmap(textureType);\r\n            }\r\n        }\r\n\r\n        return texture;\r\n    }\r\n\r\n    /**\r\n     * 清除纹理\r\n     *\r\n     * @param data\r\n     */\r\n    static clear(data: Texture)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            const tex = gl.cache.textures.get(data);\r\n            if (tex)\r\n            {\r\n                gl.deleteTexture(tex);\r\n                gl.cache.textures.delete(data);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { Attribute } from '../data/Attribute';\r\nimport { FrameBuffer } from '../data/FrameBuffer';\r\nimport { Index } from '../data/Index';\r\nimport { CompileShaderResult } from '../data/Shader';\r\nimport { Texture } from '../data/Texture';\r\nimport { RenderBuffer } from '../RenderBuffer';\r\nimport { GL } from './GL';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsGLCache\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface GLCache extends MixinsGLCache { }\r\n\r\n/**\r\n * GL 缓存\r\n */\r\nexport class GLCache\r\n{\r\n    compileShaderResults: { [key: string]: CompileShaderResult } = {};\r\n\r\n    private _gl: GL;\r\n\r\n    /**\r\n     * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n     */\r\n    textures = new Map<Texture, WebGLTexture>();\r\n\r\n    /**\r\n     * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n     */\r\n    attributes = new Map<Attribute, WebGLBuffer>();\r\n\r\n    /**\r\n     * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n     */\r\n    indices = new Map<Index, WebGLBuffer>();\r\n\r\n    /**\r\n     * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n     */\r\n    renderBuffers = new Map<RenderBuffer, WebGLBuffer>();\r\n\r\n    /**\r\n     * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n     */\r\n    frameBuffers = new Map<FrameBuffer, WebGLFramebuffer>();\r\n\r\n    constructor(gl: GL)\r\n    {\r\n        gl.cache = this;\r\n        this._gl = gl;\r\n    }\r\n}\r\n","import { GL } from './GL';\r\n\r\n/**\r\n * WEBGL 支持功能\r\n *\r\n * @see https://webglreport.com\r\n * @see http://html5test.com\r\n */\r\nexport class GLCapabilities\r\n{\r\n    /**\r\n     * 是否为 WebGL2\r\n     */\r\n    isWebGL2: boolean;\r\n\r\n    /**\r\n     * 纹理各向异性过滤最大值\r\n     */\r\n    maxAnisotropy: number;\r\n\r\n    /**\r\n     * 支持最大纹理数量\r\n     */\r\n    maxTextures: number;\r\n\r\n    /**\r\n     * 支持最大顶点纹理数量\r\n     */\r\n    maxVertexTextures: number;\r\n\r\n    /**\r\n     * 支持最大纹理尺寸\r\n     */\r\n    maxTextureSize: number;\r\n\r\n    /**\r\n     * 支持最大立方体贴图尺寸\r\n     */\r\n    maxCubemapSize: number;\r\n\r\n    /**\r\n     * 支持属性数量\r\n     */\r\n    maxAttributes: number;\r\n\r\n    /**\r\n     * 顶点着色器支持最大 Uniform 数量\r\n     */\r\n    maxVertexUniforms: number;\r\n\r\n    /**\r\n     * 支持最大shader之间传递的变量数\r\n     */\r\n    maxVaryings: number;\r\n\r\n    /**\r\n     * 片段着色器支持最大 Uniform 数量\r\n     */\r\n    maxFragmentUniforms: number;\r\n\r\n    /**\r\n     * 是否支持顶点纹理\r\n     */\r\n    vertexTextures: boolean;\r\n\r\n    /**\r\n     * 是否支持浮点类型片段着色器纹理\r\n     */\r\n    floatFragmentTextures: boolean;\r\n\r\n    /**\r\n     * 是否支持浮点类型顶点着色器纹理\r\n     */\r\n    floatVertexTextures: boolean;\r\n\r\n    /**\r\n     * Shader中支持浮点类型的最高精度\r\n     */\r\n    maxPrecision: 'highp' | 'mediump' | 'lowp';\r\n\r\n    /**\r\n     *\r\n     */\r\n    maxSamples: number;\r\n\r\n    /**\r\n     * 支持模板的位数\r\n     */\r\n    stencilBits: number;\r\n\r\n    constructor(gl: GL)\r\n    {\r\n        gl.capabilities = this;\r\n        function getMaxPrecision(precision)\r\n        {\r\n            if (precision === 'highp')\r\n            {\r\n                if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0\r\n                    && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0)\r\n                {\r\n                    return 'highp';\r\n                }\r\n                precision = 'mediump';\r\n            }\r\n            if (precision === 'mediump')\r\n            {\r\n                if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0\r\n                    && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0)\r\n                {\r\n                    return 'mediump';\r\n                }\r\n            }\r\n\r\n            return 'lowp';\r\n        }\r\n\r\n        this.isWebGL2 = false;\r\n        let gl2: WebGL2RenderingContext = null;\r\n        if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext)\r\n        {\r\n            gl2 = gl;\r\n            this.isWebGL2 = true;\r\n        }\r\n        if (gl.extensions.EXT_texture_filter_anisotropic)\r\n        {\r\n            this.maxAnisotropy = gl.getParameter(gl.extensions.EXT_texture_filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\r\n        }\r\n        else\r\n        {\r\n            this.maxAnisotropy = 0;\r\n        }\r\n        this.maxPrecision = getMaxPrecision('highp');\r\n\r\n        this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\r\n        this.maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\r\n        this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\r\n        this.maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\r\n\r\n        this.maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\r\n        this.maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\r\n        this.maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);\r\n        this.maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\r\n\r\n        this.vertexTextures = this.maxVertexTextures > 0;\r\n        this.floatFragmentTextures = this.isWebGL2 || !!gl.getExtension('OES_texture_float');\r\n        this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures;\r\n\r\n        this.maxSamples = this.isWebGL2 ? gl.getParameter(gl2.MAX_SAMPLES) : 0;\r\n        this.stencilBits = gl.getParameter(gl.STENCIL_BITS);\r\n    }\r\n}\r\n","/* eslint-disable camelcase */\r\nimport { GL } from './GL';\r\n\r\n/**\r\n * GL扩展\r\n */\r\nexport class GLExtension\r\n{\r\n    ANGLE_instanced_arrays: ANGLE_instanced_arrays;\r\n    EXT_blend_minmax: EXT_blend_minmax;\r\n    EXT_color_buffer_half_float: any;\r\n    EXT_frag_depth: EXT_frag_depth;\r\n    EXT_sRGB: EXT_sRGB;\r\n    EXT_shader_texture_lod: EXT_shader_texture_lod;\r\n    EXT_texture_filter_anisotropic: EXT_texture_filter_anisotropic;\r\n    OES_element_index_uint: OES_element_index_uint;\r\n    OES_standard_derivatives: OES_standard_derivatives;\r\n    OES_texture_float: OES_texture_float;\r\n    OES_texture_float_linear: OES_texture_float_linear;\r\n    OES_texture_half_float: OES_texture_half_float;\r\n    OES_texture_half_float_linear: OES_texture_half_float_linear;\r\n    OES_vertex_array_object: OES_vertex_array_object;\r\n    WEBGL_color_buffer_float: WEBGL_color_buffer_float;\r\n    WEBGL_compressed_texture_atc: any;\r\n    WEBGL_compressed_texture_etc1: any;\r\n    WEBGL_compressed_texture_pvrtc: any;\r\n    WEBGL_compressed_texture_s3tc: WEBGL_compressed_texture_s3tc;\r\n    WEBGL_debug_renderer_info: WEBGL_debug_renderer_info;\r\n    WEBGL_debug_shaders: WEBGL_debug_shaders;\r\n    WEBGL_depth_texture: WEBGL_depth_texture;\r\n    WEBGL_draw_buffers: WEBGL_draw_buffers;\r\n    WEBGL_lose_context: any;\r\n\r\n    constructor(gl: GL)\r\n    {\r\n        console.assert(!gl.extensions, `${gl} ${gl.extensions} 存在！`);\r\n        gl.extensions = this;\r\n\r\n        this.initExtensions(gl);\r\n        this.cacheGLQuery(gl);\r\n        this.wrap(gl);\r\n    }\r\n\r\n    private initExtensions(gl: GL)\r\n    {\r\n        this.ANGLE_instanced_arrays = gl.getExtension('ANGLE_instanced_arrays');\r\n        this.EXT_blend_minmax = gl.getExtension('EXT_blend_minmax');\r\n        if (this.EXT_blend_minmax)\r\n        {\r\n            gl['MIN_EXT'] = this.EXT_blend_minmax.MIN_EXT;\r\n            gl['MAX_EXT'] = this.EXT_blend_minmax.MAX_EXT;\r\n        }\r\n        this.EXT_color_buffer_half_float = gl.getExtension('EXT_color_buffer_half_float');\r\n        this.EXT_frag_depth = gl.getExtension('EXT_frag_depth');\r\n        this.EXT_sRGB = gl.getExtension('EXT_sRGB');\r\n        this.EXT_shader_texture_lod = gl.getExtension('EXT_shader_texture_lod');\r\n        this.EXT_texture_filter_anisotropic = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\r\n        this.OES_element_index_uint = gl.getExtension('OES_element_index_uint');\r\n        this.OES_standard_derivatives = gl.getExtension('OES_standard_derivatives');\r\n        this.OES_texture_float = gl.getExtension('OES_texture_float');\r\n        this.OES_texture_float_linear = gl.getExtension('OES_texture_float_linear');\r\n        this.OES_texture_half_float = gl.getExtension('OES_texture_half_float');\r\n        this.OES_texture_half_float_linear = gl.getExtension('OES_texture_half_float_linear');\r\n        this.OES_vertex_array_object = gl.getExtension('OES_vertex_array_object');\r\n        this.WEBGL_color_buffer_float = gl.getExtension('WEBGL_color_buffer_float');\r\n        this.WEBGL_compressed_texture_atc = gl.getExtension('WEBGL_compressed_texture_atc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_atc');\r\n        this.WEBGL_compressed_texture_etc1 = gl.getExtension('WEBGL_compressed_texture_etc1');\r\n        this.WEBGL_compressed_texture_pvrtc = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\r\n        this.WEBGL_compressed_texture_s3tc = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\r\n        this.WEBGL_debug_renderer_info = gl.getExtension('WEBGL_debug_renderer_info');\r\n        this.WEBGL_debug_shaders = gl.getExtension('WEBGL_debug_shaders');\r\n        this.WEBGL_depth_texture = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\r\n        this.WEBGL_draw_buffers = gl.getExtension('WEBGL_draw_buffers');\r\n        this.WEBGL_lose_context = gl.getExtension('WEBGL_lose_context') || gl.getExtension('WEBKIT_WEBGL_lose_context') || gl.getExtension('MOZ_WEBGL_lose_context');\r\n    }\r\n\r\n    /**\r\n     * 缓存GL查询\r\n     * @param gl GL实例\r\n     */\r\n    private cacheGLQuery(gl: GL)\r\n    {\r\n        const oldGetExtension = gl.getExtension;\r\n        gl.getExtension = function (name: string)\r\n        {\r\n            if (!gl.extensions[name])\r\n            {\r\n                // eslint-disable-next-line prefer-rest-params\r\n                gl.extensions[name] = oldGetExtension.apply(gl, arguments);\r\n            }\r\n\r\n            return gl.extensions[name];\r\n        };\r\n    }\r\n\r\n    private wrap(gl: GL)\r\n    {\r\n        if (!gl.texParameterfAnisotropy)\r\n        {\r\n            gl.texParameterfAnisotropy = (target, anisotropy) =>\r\n            {\r\n                if (anisotropy <= 0) return;\r\n\r\n                if (gl.extensions.EXT_texture_filter_anisotropic)\r\n                {\r\n                    if (anisotropy > gl.capabilities.maxAnisotropy)\r\n                    {\r\n                        anisotropy = gl.capabilities.maxAnisotropy;\r\n                        console.warn(`${anisotropy} 超出 maxAnisotropy 的最大值 ${gl.capabilities.maxAnisotropy} ！,使用最大值替换。`);\r\n                    }\r\n                    gl.texParameterf(target, gl.extensions.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, anisotropy);\r\n                }\r\n                else\r\n                {\r\n                    console.warn('浏览器不支持各向异性过滤（anisotropy）特性！');\r\n                }\r\n            };\r\n        }\r\n\r\n        //\r\n        if (!gl.vertexAttribDivisor)\r\n        {\r\n            gl.vertexAttribDivisor = (index, divisor) =>\r\n            {\r\n                if (gl.extensions.ANGLE_instanced_arrays)\r\n                {\r\n                    gl.extensions.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(index, divisor);\r\n                }\r\n                else\r\n                {\r\n                    console.warn(`浏览器 不支持 drawElementsInstanced ！`);\r\n                }\r\n            };\r\n        }\r\n        if (!gl.drawElementsInstanced)\r\n        {\r\n            gl.drawElementsInstanced = (mode, count, type, offset, instanceCount) =>\r\n            {\r\n                if (gl.extensions.ANGLE_instanced_arrays)\r\n                {\r\n                    gl.extensions.ANGLE_instanced_arrays.drawElementsInstancedANGLE(mode, count, type, offset, instanceCount);\r\n                }\r\n                else\r\n                {\r\n                    console.warn(`浏览器 不支持 drawElementsInstanced ！`);\r\n                }\r\n            };\r\n        }\r\n        if (!gl.drawArraysInstanced)\r\n        {\r\n            gl.drawArraysInstanced = (mode, first, count, instanceCount) =>\r\n            {\r\n                if (gl.extensions.ANGLE_instanced_arrays)\r\n                {\r\n                    gl.extensions.ANGLE_instanced_arrays.drawArraysInstancedANGLE(mode, first, count, instanceCount);\r\n                }\r\n                else\r\n                {\r\n                    console.warn(`浏览器 不支持 drawArraysInstanced ！`);\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable no-new */\r\nimport { lazy } from '@feng3d/polyfill';\r\nimport { Attribute } from './data/Attribute';\r\nimport { RenderAtomic, RenderAtomicData } from './data/RenderAtomic';\r\nimport { AttributeInfo, UniformInfo } from './data/Shader';\r\nimport { Texture } from './data/Texture';\r\nimport { Uniforms } from './data/Uniform';\r\nimport { GL } from './gl/GL';\r\nimport { GLCache } from './gl/GLCache';\r\nimport { GLCapabilities } from './gl/GLCapabilities';\r\nimport { GLExtension } from './gl/GLExtension';\r\n\r\n/**\r\n * WEBGL 渲染器\r\n *\r\n * 所有渲染都由该渲染器执行\r\n */\r\nexport class WebGLRenderer\r\n{\r\n    static glList: GL[] = [];\r\n\r\n    gl: GL;\r\n    private preActiveAttributes: number[] = [];\r\n\r\n    constructor(canvas: HTMLCanvasElement, contextAttributes?: WebGLContextAttributes)\r\n    {\r\n        const contextIds = ['webgl2', 'webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl'];\r\n        // var contextIds = [\"webgl\"];\r\n        let gl: GL = <any>null;\r\n        for (let i = 0; i < contextIds.length; ++i)\r\n        {\r\n            try\r\n            {\r\n                gl = <any>canvas.getContext(contextIds[i], contextAttributes);\r\n                gl.contextId = contextIds[i];\r\n                gl.contextAttributes = contextAttributes;\r\n                break;\r\n            }\r\n            // eslint-disable-next-line no-empty\r\n            catch (e) { }\r\n        }\r\n        if (!gl)\r\n        { throw '无法初始化WEBGL'; }\r\n        this.gl = gl;\r\n        //\r\n        new GLCache(gl);\r\n        new GLExtension(gl);\r\n        new GLCapabilities(gl);\r\n        //\r\n        gl.clearColor(0.0, 0.0, 0.0, 1.0); // Clear to black, fully opaque\r\n        gl.clearDepth(1.0); // Clear everything\r\n        gl.enable(gl.DEPTH_TEST); // Enable depth testing\r\n        gl.depthFunc(gl.LEQUAL); // Near things obscure far things\r\n        WebGLRenderer.glList.push(gl);\r\n\r\n        console.assert(!gl.render, `${gl} ${gl.render} 存在！`);\r\n    }\r\n\r\n    render(renderAtomic: RenderAtomic)\r\n    {\r\n        const instanceCount = renderAtomic.getInstanceCount();\r\n        if (instanceCount === 0) return;\r\n        const shaderMacro = renderAtomic.getShaderMacro();\r\n        const shader = renderAtomic.getShader();\r\n        shader.shaderMacro = shaderMacro;\r\n        const shaderResult = shader.activeShaderProgram(this.gl);\r\n        if (!shaderResult) return;\r\n        //\r\n        const checkedRenderAtomic: RenderAtomicData = this.checkRenderData(renderAtomic);\r\n        if (!checkedRenderAtomic) return;\r\n        //\r\n        this.gl.useProgram(shaderResult.program);\r\n        checkedRenderAtomic.renderParams.updateRenderParams(this.gl);\r\n        this.activeAttributes(checkedRenderAtomic, shaderResult.attributes);\r\n        this.activeUniforms(checkedRenderAtomic, shaderResult.uniforms);\r\n        this.draw(checkedRenderAtomic, this.gl[checkedRenderAtomic.renderParams.renderMode]);\r\n    }\r\n\r\n    private checkRenderData(renderAtomic: RenderAtomic)\r\n    {\r\n        const shader = renderAtomic.getShader();\r\n        const shaderResult = shader.activeShaderProgram(this.gl);\r\n        if (!shaderResult)\r\n        {\r\n            console.warn(`缺少着色器，无法渲染!`);\r\n\r\n            return null;\r\n        }\r\n\r\n        const attributes: { [name: string]: Attribute; } = {};\r\n        for (const key in shaderResult.attributes)\r\n        {\r\n            const attribute = renderAtomic.getAttributeByKey(key);\r\n            if (!attribute)\r\n            {\r\n                console.warn(`缺少顶点 attribute 数据 ${key} ，无法渲染!`);\r\n\r\n                return null;\r\n            }\r\n            attributes[key] = attribute;\r\n        }\r\n\r\n        const uniforms: { [name: string]: Uniforms; } = {};\r\n        for (let key in shaderResult.uniforms)\r\n        {\r\n            const activeInfo = shaderResult.uniforms[key];\r\n            if (activeInfo.name)\r\n            {\r\n                key = activeInfo.name;\r\n            }\r\n            const uniform = renderAtomic.getUniformByKey(key);\r\n            if (uniform === undefined)\r\n            {\r\n                console.warn(`缺少 uniform 数据 ${key} ,无法渲染！`);\r\n\r\n                return null;\r\n            }\r\n            uniforms[key] = uniform;\r\n        }\r\n\r\n        const indexBuffer = renderAtomic.getIndexBuffer();\r\n\r\n        const checkedRenderAtomic: RenderAtomicData\r\n            = {\r\n            shader,\r\n            attributes,\r\n            uniforms,\r\n            renderParams: renderAtomic.getRenderParams(),\r\n            index: indexBuffer,\r\n            instanceCount: renderAtomic.getInstanceCount(),\r\n        };\r\n\r\n        return checkedRenderAtomic;\r\n    }\r\n\r\n    /**\r\n     * 激活属性\r\n     */\r\n    private activeAttributes(renderAtomic: RenderAtomicData, attributeInfos: { [name: string]: AttributeInfo })\r\n    {\r\n        const gl = this.gl;\r\n\r\n        const activeAttributes: number[] = [];\r\n        for (const name in attributeInfos)\r\n        {\r\n            const activeInfo = attributeInfos[name];\r\n            const buffer: Attribute = renderAtomic.attributes[name];\r\n            buffer.active(gl, activeInfo.location);\r\n            activeAttributes.push(activeInfo.location);\r\n\r\n            const index = this.preActiveAttributes.indexOf(activeInfo.location);\r\n            if (index !== -1)\r\n            {\r\n                this.preActiveAttributes.splice(index, 1);\r\n            }\r\n        }\r\n        this.preActiveAttributes.forEach((location) =>\r\n        {\r\n            gl.disableVertexAttribArray(location);\r\n        });\r\n        this.preActiveAttributes = activeAttributes;\r\n    }\r\n\r\n    /**\r\n     * 激活常量\r\n     */\r\n    private activeUniforms(renderAtomic: RenderAtomicData, uniformInfos: { [name: string]: UniformInfo })\r\n    {\r\n        const uniforms = renderAtomic.uniforms;\r\n        for (const name in uniformInfos)\r\n        {\r\n            const activeInfo = uniformInfos[name];\r\n            const paths = activeInfo.paths;\r\n            let uniformData = uniforms[paths[0]];\r\n            for (let i = 1; i < paths.length; i++)\r\n            {\r\n                uniformData = uniformData[paths[i]];\r\n            }\r\n            this.setContext3DUniform(activeInfo, uniformData);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置环境Uniform数据\r\n     */\r\n    private setContext3DUniform(activeInfo: UniformInfo, data)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        let vec: number[] = data;\r\n        if (data.toArray) vec = data.toArray();\r\n        const location = activeInfo.location;\r\n        switch (activeInfo.type)\r\n        {\r\n            case gl.INT:\r\n                gl.uniform1i(location, data);\r\n                break;\r\n            case gl.FLOAT_MAT3:\r\n                gl.uniformMatrix3fv(location, false, vec);\r\n                break;\r\n            case gl.FLOAT_MAT4:\r\n                gl.uniformMatrix4fv(location, false, vec);\r\n                break;\r\n            case gl.FLOAT:\r\n                gl.uniform1f(location, data);\r\n                break;\r\n            case gl.FLOAT_VEC2:\r\n                gl.uniform2f(location, vec[0], vec[1]);\r\n                break;\r\n            case gl.FLOAT_VEC3:\r\n                gl.uniform3f(location, vec[0], vec[1], vec[2]);\r\n                break;\r\n            case gl.FLOAT_VEC4:\r\n                gl.uniform4f(location, vec[0], vec[1], vec[2], vec[3]);\r\n                break;\r\n            case gl.SAMPLER_2D:\r\n            case gl.SAMPLER_CUBE:\r\n                const textureInfo = data as Texture;\r\n                // 激活纹理编号\r\n                gl.activeTexture(gl[`TEXTURE${activeInfo.textureID}`]);\r\n                Texture.active(gl, textureInfo);\r\n                // 设置纹理所在采样编号\r\n                gl.uniform1i(location, activeInfo.textureID);\r\n                break;\r\n            default:\r\n                console.error(`无法识别的uniform类型 ${activeInfo.name} ${data}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     */\r\n    private draw(renderAtomic: RenderAtomicData, renderMode: number)\r\n    {\r\n        const gl = this.gl;\r\n\r\n        const instanceCount = ~~lazy.getvalue(renderAtomic.instanceCount);\r\n\r\n        const indexBuffer = renderAtomic.index;\r\n        if (indexBuffer)\r\n        {\r\n            indexBuffer.active(gl);\r\n            const arrayType = gl[indexBuffer.type];\r\n            if (indexBuffer.count === 0)\r\n            {\r\n                // console.warn(`顶点索引为0，不进行渲染！`);\r\n                return;\r\n            }\r\n            if (instanceCount > 1)\r\n            {\r\n                gl.drawElementsInstanced(renderMode, indexBuffer.count, arrayType, indexBuffer.offset, instanceCount);\r\n            }\r\n            else\r\n            {\r\n                gl.drawElements(renderMode, indexBuffer.count, arrayType, indexBuffer.offset);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const vertexNum = ((attributes) =>\r\n            {\r\n                for (const attr in attributes)\r\n                {\r\n                    // eslint-disable-next-line no-prototype-builtins\r\n                    if (attributes.hasOwnProperty(attr))\r\n                    {\r\n                        const attribute: Attribute = attributes[attr];\r\n\r\n                        return attribute.data.length / attribute.size;\r\n                    }\r\n                }\r\n\r\n                return 0;\r\n            })(renderAtomic.attributes);\r\n            if (vertexNum === 0)\r\n            {\r\n                console.warn(`顶点数量为0，不进行渲染！`);\r\n\r\n                return;\r\n            }\r\n            if (instanceCount > 1)\r\n            {\r\n                gl.drawArraysInstanced(renderMode, 0, vertexNum, instanceCount);\r\n            }\r\n            else\r\n            {\r\n                gl.drawArrays(renderMode, 0, vertexNum);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { gPartial } from '@feng3d/polyfill';\r\nimport { AttributeUsage } from '../gl/enums/AttributeUsage';\r\nimport { GLArrayType } from '../gl/enums/GLArrayType';\r\nimport { GL } from '../gl/GL';\r\nimport { WebGLRenderer } from '../WebGLRenderer';\r\n\r\n/**\r\n * 属性渲染数据\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\r\n */\r\nexport class Attribute\r\n{\r\n    name: string;\r\n\r\n    /**\r\n     * 属性数据\r\n     */\r\n    get data()\r\n    {\r\n        return this._data;\r\n    }\r\n    set data(v)\r\n    {\r\n        this._data = v;\r\n        this.invalidate();\r\n    }\r\n    private _data: number[];\r\n\r\n    /**\r\n     * 数据尺寸\r\n     *\r\n     * A GLint specifying the number of components per vertex attribute. Must be 1, 2, 3, or 4.\r\n     */\r\n    size = 3;\r\n\r\n    /**\r\n     *  A GLenum specifying the data type of each component in the array. Possible values:\r\n            - gl.BYTE: signed 8-bit integer, with values in [-128, 127]\r\n            - gl.SHORT: signed 16-bit integer, with values in [-32768, 32767]\r\n            - gl.UNSIGNED_BYTE: unsigned 8-bit integer, with values in [0, 255]\r\n            - gl.UNSIGNED_SHORT: unsigned 16-bit integer, with values in [0, 65535]\r\n            - gl.FLOAT: 32-bit floating point number\r\n        When using a WebGL 2 context, the following values are available additionally:\r\n           - gl.HALF_FLOAT: 16-bit floating point number\r\n     */\r\n    type: 'BYTE' | 'SHORT' | 'UNSIGNED_BYTE' | 'UNSIGNED_SHORT' | 'FLOAT' | 'UNSIGNED_INT' | 'UNSIGNED_INT' | 'HALF_FLOAT' = GLArrayType.FLOAT;\r\n\r\n    /**\r\n     * A GLboolean specifying whether integer data values should be normalized when being casted to a float.\r\n          -  If true, signed integers are normalized to [-1, 1].\r\n          -  If true, unsigned integers are normalized to [0, 1].\r\n          -  For types gl.FLOAT and gl.HALF_FLOAT, this parameter has no effect.\r\n     */\r\n    normalized = false;\r\n    /**\r\n     * A GLsizei specifying the offset in bytes between the beginning of consecutive vertex attributes. Cannot be larger than 255.\r\n     */\r\n    stride = 0;\r\n    /**\r\n     * A GLintptr specifying an offset in bytes of the first component in the vertex attribute array. Must be a multiple of type.\r\n     */\r\n    offset = 0;\r\n\r\n    /**\r\n     * drawElementsInstanced时将会用到的因子，表示divisor个geometry共用一个数据\r\n     *\r\n     * A GLuint specifying the number of instances that will pass between updates of the generic attribute.\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays/vertexAttribDivisorANGLE\r\n     */\r\n    divisor = 0;\r\n\r\n    /**\r\n     * A GLenum specifying the intended usage pattern of the data store for optimization purposes.\r\n     *\r\n     * 为优化目的指定数据存储的预期使用模式的GLenum。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferData\r\n     */\r\n    usage = AttributeUsage.STATIC_DRAW;\r\n\r\n    /**\r\n     * 是否失效\r\n     */\r\n    invalid = true;\r\n\r\n    constructor(source?: gPartial<Attribute>)\r\n    {\r\n        Object.assign(this, source);\r\n    }\r\n\r\n    /**\r\n     * 使数据失效\r\n     */\r\n    invalidate()\r\n    {\r\n        this.invalid = true;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param gl\r\n     * @param location A GLuint specifying the index of the vertex attribute that is to be modified.\r\n     */\r\n    active(gl: GL, location: number)\r\n    {\r\n        gl.enableVertexAttribArray(location);\r\n        const buffer = this.getBuffer(gl);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n        gl.vertexAttribPointer(location, this.size, gl[this.type], this.normalized, this.stride, this.offset);\r\n\r\n        gl.vertexAttribDivisor(location, this.divisor);\r\n    }\r\n\r\n    /**\r\n     * 获取缓冲\r\n     */\r\n    getBuffer(gl: GL)\r\n    {\r\n        if (this.invalid)\r\n        {\r\n            this.clear(this);\r\n            this.invalid = false;\r\n        }\r\n        let buffer = gl.cache.attributes.get(this);\r\n        if (!buffer)\r\n        {\r\n            buffer = gl.createBuffer();\r\n            if (!buffer)\r\n            {\r\n                console.error('createBuffer 失败！');\r\n                throw '';\r\n            }\r\n            gl.cache.attributes.set(this, buffer);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.data), gl[this.usage]);\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * 清理缓冲\r\n     */\r\n    clear(attribute: Attribute)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            const buffer = gl.cache.attributes.get(attribute);\r\n            if (buffer)\r\n            {\r\n                gl.deleteBuffer(buffer);\r\n                gl.cache.attributes.delete(attribute);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { GL } from '../gl/GL';\r\nimport { WebGLRenderer } from '../WebGLRenderer';\r\n\r\nexport class FrameBuffer\r\n{\r\n    /**\r\n     * 是否失效\r\n     */\r\n    private _invalid = true;\r\n\r\n    static active(gl: GL, frameBuffer: FrameBuffer)\r\n    {\r\n        if (frameBuffer._invalid)\r\n        {\r\n            frameBuffer._invalid = false;\r\n            this.clear(frameBuffer);\r\n        }\r\n\r\n        // Create a framebuffer object (FBO)\r\n        let buffer = gl.cache.frameBuffers.get(frameBuffer);\r\n        if (!buffer)\r\n        {\r\n            buffer = gl.createFramebuffer();\r\n            if (!buffer)\r\n            {\r\n                console.warn('Failed to create frame buffer object');\r\n\r\n                return null;\r\n            }\r\n            gl.cache.frameBuffers.set(frameBuffer, buffer);\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * 清理缓存\r\n     */\r\n    static clear(frameBuffer: FrameBuffer)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            const buffer = gl.cache.frameBuffers.get(frameBuffer);\r\n            if (buffer)\r\n            {\r\n                gl.deleteFramebuffer(buffer);\r\n                gl.cache.frameBuffers.delete(frameBuffer);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { gPartial } from '@feng3d/polyfill';\r\nimport { GLArrayType } from '../gl/enums/GLArrayType';\r\nimport { GL } from '../gl/GL';\r\nimport { WebGLRenderer } from '../WebGLRenderer';\r\n\r\n/**\r\n * 索引渲染数据\r\n */\r\nexport class Index\r\n{\r\n    /**\r\n     * 索引数据\r\n     */\r\n    get indices()\r\n    {\r\n        return this._indices;\r\n    }\r\n    set indices(v)\r\n    {\r\n        this._indices = v;\r\n        this.invalidate();\r\n    }\r\n    private _indices: number[];\r\n\r\n    constructor(source?: gPartial<Index>)\r\n    {\r\n        Object.assign(this, source);\r\n    }\r\n\r\n    invalidate()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    /**\r\n     * 渲染数量\r\n     */\r\n    get count()\r\n    {\r\n        if (!this.indices)\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        return this.indices.length;\r\n    }\r\n\r\n    /**\r\n     * 数据类型，gl.UNSIGNED_BYTE、gl.UNSIGNED_SHORT\r\n     */\r\n    type = GLArrayType.UNSIGNED_INT;\r\n\r\n    /**\r\n     * 索引偏移\r\n     */\r\n    offset = 0;\r\n\r\n    /**\r\n     * 是否失效\r\n     */\r\n    private _invalid = true;\r\n\r\n    /**\r\n     * 激活缓冲\r\n     * @param gl\r\n     */\r\n    active(gl: GL)\r\n    {\r\n        const buffer = Index.getBuffer(gl, this);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n    }\r\n\r\n    /**\r\n     * 获取缓冲\r\n     */\r\n    static getBuffer(gl: GL, index: Index)\r\n    {\r\n        if (index._invalid)\r\n        {\r\n            this.clear(index);\r\n            index._invalid = false;\r\n        }\r\n        let buffer = gl.cache.indices.get(index);\r\n        if (!buffer)\r\n        {\r\n            buffer = gl.createBuffer();\r\n            if (!buffer)\r\n            {\r\n                console.error('createBuffer 失败！');\r\n                throw '';\r\n            }\r\n            gl.cache.indices.set(index, buffer);\r\n\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint32Array(index.indices), gl.STATIC_DRAW);\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * 清理缓冲\r\n     */\r\n    static clear(index: Index)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            const buffer = gl.cache.indices.get(index);\r\n            if (buffer)\r\n            {\r\n                gl.deleteBuffer(buffer);\r\n                gl.cache.indices.delete(index);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/**\r\n * 混合方法\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation\r\n */\r\nexport enum BlendEquation\r\n{\r\n    /**\r\n     * 源 + 目标\r\n     *\r\n     *  source + destination\r\n     */\r\n    FUNC_ADD = 'FUNC_ADD',\r\n\r\n    /**\r\n     * 源 - 目标\r\n     *\r\n     * source - destination\r\n     */\r\n    FUNC_SUBTRACT = 'FUNC_SUBTRACT',\r\n\r\n    /**\r\n     * 目标 - 源\r\n     *\r\n     * destination - source\r\n     */\r\n    FUNC_REVERSE_SUBTRACT = 'FUNC_REVERSE_SUBTRACT',\r\n\r\n    /**\r\n     * 源与目标的最小值，当开启 EXT_blend_minmax 扩展时生效。\r\n     *\r\n     * When using the EXT_blend_minmax extension:\r\n     * Minimum of source and destination\r\n     */\r\n    MIN_EXT = 'MIN_EXT',\r\n\r\n    /**\r\n     * 源与目标的最大值，当开启 EXT_blend_minmax 扩展时生效。\r\n     *\r\n     * When using the EXT_blend_minmax extension:\r\n     * Maximum of source and destination.\r\n     */\r\n    MAX_EXT = 'MAX_EXT',\r\n\r\n    /**\r\n     * 源与目标的最小值，在 WebGL 2 中可使用。\r\n     *\r\n     * using a WebGL 2 context\r\n     * Minimum of source and destination\r\n     */\r\n    MIN = 'MIN',\r\n\r\n    /**\r\n     * 源与目标的最大值，在 WebGL 2 中可使用。\r\n     *\r\n     * using a WebGL 2 context\r\n     * Maximum of source and destination.\r\n     */\r\n    MAX = 'MAX',\r\n}\r\n","/**\r\n * 混合因子（R分量系数，G分量系数，B分量系数）\r\n *\r\n * 混合颜色的公式可以这样描述：color(RGBA) = (sourceColor * sfactor) + (destinationColor * dfactor)。这里的 RGBA 值均在0与1之间。\r\n *\r\n * The formula for the blending color can be described like this: color(RGBA) = (sourceColor * sfactor) + (destinationColor * dfactor). The RBGA values are between 0 and 1.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFunc\r\n */\r\nexport enum BlendFactor\r\n{\r\n    /**\r\n     * Factor: 0,0,0,0\r\n     *\r\n     * 把所有颜色都乘以0。\r\n     *\r\n     * Multiplies all colors by 0.\r\n     */\r\n    ZERO = 'ZERO',\r\n\r\n    /**\r\n     * Factor: 1,1,1,1\r\n     *\r\n     * 把所有颜色都乘以1。\r\n     *\r\n     * Multiplies all colors by 1.\r\n     */\r\n    ONE = 'ONE',\r\n\r\n    /**\r\n     * Factor: Rs, Gs, Bs, As\r\n     *\r\n     * 将所有颜色乘以源颜色。\r\n     *\r\n     * Multiplies all colors by the source colors.\r\n     */\r\n    SRC_COLOR = 'SRC_COLOR',\r\n\r\n    /**\r\n     * Factor: 1-Rs, 1-Gs, 1-Bs, 1-As\r\n     *\r\n     * 将所有颜色乘以1减去每个源颜色。\r\n     *\r\n     * Multiplies all colors by 1 minus each source color.\r\n     */\r\n    ONE_MINUS_SRC_COLOR = 'ONE_MINUS_SRC_COLOR',\r\n\r\n    /**\r\n     * Factor: Rd, Gd, Bd, Ad\r\n     *\r\n     * 将所有颜色乘以目标颜色。\r\n     *\r\n     * Multiplies all colors by the destination color.\r\n     */\r\n    DST_COLOR = 'DST_COLOR',\r\n\r\n    /**\r\n     * Factor: 1-Rd, 1-Gd, 1-Bd, 1-Ad\r\n     *\r\n     * 将所有颜色乘以1减去每个目标颜色。\r\n     *\r\n     * Multiplies all colors by 1 minus each destination color.\r\n     */\r\n    ONE_MINUS_DST_COLOR = 'ONE_MINUS_DST_COLOR',\r\n\r\n    /**\r\n     * Factor: As, As, As, As\r\n     *\r\n     * 将所有颜色乘以源alpha值。\r\n     *\r\n     * Multiplies all colors by the source alpha value.\r\n     */\r\n    SRC_ALPHA = 'SRC_ALPHA',\r\n\r\n    /**\r\n     * Factor: 1-As, 1-As, 1-As, 1-As\r\n     *\r\n     * 将所有颜色乘以1减去源alpha值。\r\n     *\r\n     * Multiplies all colors by 1 minus the source alpha value.\r\n     */\r\n    ONE_MINUS_SRC_ALPHA = 'ONE_MINUS_SRC_ALPHA',\r\n\r\n    /**\r\n     * Factor: Ad, Ad, Ad, Ad\r\n     *\r\n     * 将所有颜色乘以目标alpha值。\r\n     *\r\n     * Multiplies all colors by the destination alpha value.\r\n     */\r\n    DST_ALPHA = 'DST_ALPHA',\r\n\r\n    /**\r\n     * Factor: 1-Ad, 1-Ad, 1-Ad, 1-Ad\r\n     *\r\n     * 将所有颜色乘以1减去目标alpha值。\r\n     *\r\n     * Multiplies all colors by 1 minus the destination alpha value.\r\n     */\r\n    ONE_MINUS_DST_ALPHA = 'ONE_MINUS_DST_ALPHA',\r\n\r\n    /**\r\n     * Factor: Rc, Gc, Bc, Ac\r\n     *\r\n     * 将所有颜色乘以一个常数颜色。\r\n     *\r\n     * Multiplies all colors by a constant color.\r\n     */\r\n    CONSTANT_COLOR = 'CONSTANT_COLOR',\r\n\r\n    /**\r\n     * Factor: 1-Rc, 1-Gc, 1-Bc, 1-Ac\r\n     *\r\n     * 所有颜色乘以1减去一个常数颜色。\r\n     *\r\n     * Multiplies all colors by 1 minus a constant color.\r\n     */\r\n    ONE_MINUS_CONSTANT_COLOR = 'ONE_MINUS_CONSTANT_COLOR',\r\n\r\n    /**\r\n     * Factor: Ac, Ac, Ac, Ac\r\n     *\r\n     * 将所有颜色乘以一个常量alpha值。\r\n     *\r\n     * Multiplies all colors by a constant alpha value.\r\n     */\r\n    CONSTANT_ALPHA = 'CONSTANT_ALPHA',\r\n\r\n    /**\r\n     * Factor: 1-Ac, 1-Ac, 1-Ac, 1-Ac\r\n     *\r\n     * 将所有颜色乘以1减去一个常数alpha值。\r\n     *\r\n     * Multiplies all colors by 1 minus a constant alpha value.\r\n     */\r\n    ONE_MINUS_CONSTANT_ALPHA = 'ONE_MINUS_CONSTANT_ALPHA',\r\n\r\n    /**\r\n     * Factor: min(As, 1 - Ad), min(As, 1 - Ad), min(As, 1 - Ad), 1\r\n     *\r\n     * 将RGB颜色乘以源alpha值与1减去目标alpha值的较小值。alpha值乘以1。\r\n     *\r\n     * Multiplies the RGB colors by the smaller of either the source alpha value or the value of 1 minus the destination alpha value. The alpha value is multiplied by 1.\r\n     */\r\n    SRC_ALPHA_SATURATE = 'SRC_ALPHA_SATURATE',\r\n}\r\n","/**\r\n * 决定给WebGLRenderingContext.colorMask何种参数。\r\n */\r\nexport enum ColorMask\r\n{\r\n    NONE = 0,\r\n    R = 1,\r\n    G = 2,\r\n    B = 4,\r\n    A = 8,\r\n    RGB = R | G | B,\r\n    /**\r\n     *\r\n     */\r\n    RGBA = R | G | B | A,\r\n}\r\n","/**\r\n * 裁剪面枚举\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/cullFace\r\n */\r\nexport enum CullFace\r\n{\r\n    /**\r\n     * 关闭裁剪面\r\n     */\r\n    NONE = 'NONE',\r\n    /**\r\n     * 正面\r\n     */\r\n    FRONT = 'FRONT',\r\n    /**\r\n     * 背面\r\n     */\r\n    BACK = 'BACK',\r\n    /**\r\n     * 正面与背面\r\n     */\r\n    FRONT_AND_BACK = 'FRONT_AND_BACK',\r\n}\r\n","/**\r\n * 指定深度比较函数的枚举，该函数设置绘制像素的条件，默认 LESS，如果传入值小于深度缓冲区值则通过。\r\n *\r\n * A GLenum specifying the depth comparison function, which sets the conditions under which the pixel will be drawn. The default value is gl.LESS.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/depthFunc\r\n */\r\nexport enum DepthFunc\r\n{\r\n    /**\r\n     * 总是不通过。\r\n     *\r\n     * never pass.\r\n     */\r\n    NEVER = 'NEVER',\r\n\r\n    /**\r\n     * 如果传入值小于深度缓冲区值则通过。\r\n     *\r\n     * pass if the incoming value is less than the depth buffer value.\r\n     */\r\n    LESS = 'LESS',\r\n\r\n    /**\r\n     * 如果传入值等于深度缓冲区值则通过。\r\n     *\r\n     * pass if the incoming value equals the the depth buffer value.\r\n     */\r\n    EQUAL = 'EQUAL',\r\n\r\n    /**\r\n     * 如果传入值小于或等于深度缓冲区值则通过。\r\n     *\r\n     * pass if the incoming value is less than or equal to the depth buffer value.\r\n     */\r\n    LEQUAL = 'LEQUAL',\r\n\r\n    /**\r\n     * 如果传入值大于深度缓冲区值则通过。。\r\n     *\r\n     * pass if the incoming value is greater than the depth buffer value.\r\n     */\r\n    GREATER = 'GREATER',\r\n\r\n    /**\r\n     * 如果传入值不等于深度缓冲区值则通过。\r\n     *\r\n     * pass if the incoming value is not equal to the depth buffer value.\r\n     */\r\n    NOTEQUAL = 'NOTEQUAL',\r\n\r\n    /**\r\n     * 如果传入值大于或等于深度缓冲区值则通过。\r\n     *\r\n     * pass if the incoming value is greater than or equal to the depth buffer value.\r\n     */\r\n    GEQUAL = 'GEQUAL',\r\n\r\n    /**\r\n     * 总是通过。\r\n     *\r\n     * always pass.\r\n     */\r\n    ALWAYS = 'ALWAYS',\r\n}\r\n","/**\r\n * 正面方向枚举\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/frontFace\r\n */\r\nexport enum FrontFace\r\n{\r\n    /**\r\n     * 顺时钟方向\r\n     *\r\n     * Clock-wise winding.\r\n     */\r\n    CW = 'CW',\r\n    /**\r\n     * 逆时钟方向\r\n     *\r\n     *  Counter-clock-wise winding.\r\n     */\r\n    CCW = 'CCW',\r\n}\r\n","/**\r\n * 渲染模式，描述绘制图元的类型。\r\n *\r\n * A GLenum specifying the type primitive to render.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/drawElements\r\n */\r\nexport enum RenderMode\r\n{\r\n    /**\r\n     * 绘制单个点。\r\n     *\r\n     * gl.POINTS: Draws a single dot.\r\n     */\r\n    POINTS = 'POINTS',\r\n\r\n    /**\r\n     * 绘制循环连线。\r\n     *\r\n     * gl.LINE_LOOP: Draws a straight line to the next vertex, and connects the last vertex back to the first.\r\n     */\r\n    LINE_LOOP = 'LINE_LOOP',\r\n\r\n    /**\r\n     * 绘制连线\r\n     *\r\n     * gl.LINE_STRIP: Draws a straight line to the next vertex.\r\n     */\r\n    LINE_STRIP = 'LINE_STRIP',\r\n\r\n    /**\r\n     * 每两个顶点绘制一条线段。\r\n     *\r\n     * gl.LINES: Draws a line between a pair of vertices.\r\n     */\r\n    LINES = 'LINES',\r\n\r\n    /**\r\n     * 每三个顶点绘制一个三角形。\r\n     *\r\n     * gl.TRIANGLES: Draws a triangle for a group of three vertices.\r\n     */\r\n    TRIANGLES = 'TRIANGLES',\r\n\r\n    /**\r\n     * 绘制三角形条带。\r\n     *\r\n     * gl.TRIANGLE_STRIP\r\n     * @see https://en.wikipedia.org/wiki/Triangle_strip\r\n     */\r\n    TRIANGLE_STRIP = 'TRIANGLE_STRIP',\r\n\r\n    /**\r\n     * 绘制三角扇形。\r\n     *\r\n     * gl.TRIANGLE_FAN\r\n     * @see https://en.wikipedia.org/wiki/Triangle_fan\r\n     */\r\n    TRIANGLE_FAN = 'TRIANGLE_FAN',\r\n}\r\n","/**\r\n * A GLenum specifying the test function. The default function is gl.ALWAYS.\r\n *\r\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc\r\n */\r\nexport enum StencilFunc\r\n{\r\n    /**\r\n     * 总是不通过。\r\n     *\r\n     * Never pass.\r\n     */\r\n    NEVER = 'NEVER',\r\n\r\n    /**\r\n     * 如果 (ref & mask) <  (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) <  (stencil & mask).\r\n     */\r\n    LESS = 'LESS',\r\n\r\n    /**\r\n     * 如果 (ref & mask) = (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) = (stencil & mask).\r\n     */\r\n    EQUAL = 'EQUAL',\r\n\r\n    /**\r\n     * 如果 (ref & mask) <= (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) <= (stencil & mask).\r\n     */\r\n    LEQUAL = 'LEQUAL',\r\n\r\n    /**\r\n     * 如果 (ref & mask) > (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) > (stencil & mask).\r\n     */\r\n    GREATER = 'GREATER',\r\n\r\n    /**\r\n     * 如果 (ref & mask) != (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) != (stencil & mask).\r\n     */\r\n    NOTEQUAL = 'NOTEQUAL',\r\n\r\n    /**\r\n     * 如果 (ref & mask) >= (stencil & mask) 则通过。\r\n     *\r\n     * Pass if (ref & mask) >= (stencil & mask).\r\n     */\r\n    GEQUAL = 'GEQUAL',\r\n\r\n    /**\r\n     * 总是通过。\r\n     *\r\n     * Always pass.\r\n     */\r\n    ALWAYS = 'ALWAYS',\r\n}\r\n","/**\r\n * The WebGLRenderingContext.stencilOp() method of the WebGL API sets both the front and back-facing stencil test actions.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOp\r\n */\r\nexport enum StencilOp\r\n{\r\n    /**\r\n     * 保持当前值。\r\n     *\r\n     * Keeps the current value.\r\n     */\r\n    KEEP = 'KEEP',\r\n\r\n    /**\r\n     * 设置模板缓冲值为0.\r\n     *\r\n     * Sets the stencil buffer value to 0.\r\n     */\r\n    ZERO = 'ZERO',\r\n\r\n    /**\r\n     * 将模板缓冲区的值设置为WebGLRenderingContext.stencilFunc()指定的参考值。\r\n     *\r\n     * Sets the stencil buffer value to the reference value as specified by WebGLRenderingContext.stencilFunc().\r\n     */\r\n    REPLACE = 'REPLACE',\r\n\r\n    /**\r\n     * 增加当前模板缓冲区的值。最大到可表示的无符号值的最大值。\r\n     *\r\n     * Increments the current stencil buffer value. Clamps to the maximum representable unsigned value.\r\n     */\r\n    INCR = 'INCR',\r\n\r\n    /**\r\n     * 增加当前模板缓冲区的值。当增加最大的可表示无符号值时，将模板缓冲区值包装为零。\r\n     *\r\n     * Increments the current stencil buffer value. Wraps stencil buffer value to zero when incrementing the maximum representable unsigned value.\r\n     */\r\n    INCR_WRAP = 'INCR_WRAP',\r\n\r\n    /**\r\n     * 递减当前模板缓冲区的值。最小为0。\r\n     *\r\n     * Decrements the current stencil buffer value. Clamps to 0.\r\n     */\r\n    DECR = 'DECR',\r\n\r\n    /**\r\n     * 递减当前模板缓冲区的值。当模板缓冲区值减为0时，将模板缓冲区值包装为可表示的最大无符号值。\r\n     *\r\n     * Decrements the current stencil buffer value. Wraps stencil buffer value to the maximum representable unsigned value when decrementing a stencil buffer value of 0.\r\n     */\r\n    DECR_WRAP = 'DECR_WRAP',\r\n\r\n    /**\r\n     * 按位反转当前模板缓冲区值。\r\n     *\r\n     * Inverts the current stencil buffer value bitwise.\r\n     */\r\n    INVERT = 'INVERT',\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { BlendEquation } from '../gl/enums/BlendEquation';\r\nimport { BlendFactor } from '../gl/enums/BlendFactor';\r\nimport { ColorMask } from '../gl/enums/ColorMask';\r\nimport { CullFace } from '../gl/enums/CullFace';\r\nimport { DepthFunc } from '../gl/enums/DepthFunc';\r\nimport { FrontFace } from '../gl/enums/FrontFace';\r\nimport { RenderMode } from '../gl/enums/RenderMode';\r\nimport { StencilFunc } from '../gl/enums/StencilFunc';\r\nimport { StencilOp } from '../gl/enums/StencilOp';\r\nimport { GL } from '../gl/GL';\r\n\r\n/**\r\n * 渲染参数\r\n */\r\nexport class RenderParams\r\n{\r\n    /**\r\n     * 渲染模式，默认 TRIANGLES，每三个顶点绘制一个三角形。\r\n     *\r\n     * A GLenum specifying the type primitive to render. Possible values are:\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/drawElements\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '渲染模式，默认RenderMode.TRIANGLES', componentParam: { enumClass: RenderMode } })\r\n    renderMode: 'POINTS' | 'LINE_LOOP' | 'LINE_STRIP' | 'LINES' | 'TRIANGLES' | 'TRIANGLE_STRIP' | 'TRIANGLE_FAN' = RenderMode.TRIANGLES;\r\n\r\n    /**\r\n     * 剔除面，默认 BACK，剔除背面。\r\n     *\r\n     * 默认情况下，逆时针的顶点连接顺序被定义为三角形的正面。\r\n     * 使用gl.frontFace(gl.CW);调整顺时针为正面\r\n     *\r\n     * @see http://www.jianshu.com/p/ee04165f2a02\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/cullFace\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '剔除面', componentParam: { enumClass: CullFace } })\r\n    cullFace: 'NONE' | 'FRONT' | 'BACK' | 'FRONT_AND_BACK' = CullFace.BACK;\r\n\r\n    /**\r\n     * 正向方向，默认 CW。三角形顺时针方向为正面。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/frontFace\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '正面方向，默认FrontFace.CW 顺时针为正面', componentParam: { enumClass: FrontFace } })\r\n    frontFace: 'CW' | 'CCW' = FrontFace.CW;\r\n\r\n    /**\r\n     * 是否开启混合，默认 false，不开启混合。\r\n     *\r\n     * <混合后的颜色> = <源颜色>*sfactor + <目标颜色>*dfactor\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '是否开启混合' })\r\n    enableBlend = false;\r\n\r\n    /**\r\n     * 混合方式，默认 FUNC_ADD，源 + 目标。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '混合方式，默认BlendEquation.FUNC_ADD', componentParam: { enumClass: BlendEquation } })\r\n    blendEquation: 'FUNC_ADD' | 'FUNC_SUBTRACT' | 'FUNC_REVERSE_SUBTRACT' = BlendEquation.FUNC_ADD;\r\n\r\n    /**\r\n     * 源混合因子，默认 SRC_ALPHA，将所有颜色乘以源alpha值。\r\n     *\r\n     * @see BlendFactor\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFunc\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '源混合因子，默认BlendFactor.SRC_ALPHA', componentParam: { enumClass: BlendFactor } })\r\n    sfactor: 'ZERO' | 'ONE' | 'SRC_COLOR' | 'ONE_MINUS_SRC_COLOR' | 'DST_COLOR' | 'ONE_MINUS_DST_COLOR' | 'SRC_ALPHA' | 'ONE_MINUS_SRC_ALPHA' | 'DST_ALPHA' | 'ONE_MINUS_DST_ALPHA' | 'SRC_ALPHA_SATURATE' = BlendFactor.SRC_ALPHA;\r\n\r\n    /**\r\n     * 目标混合因子，默认 ONE_MINUS_SRC_ALPHA，将所有颜色乘以1减去源alpha值。\r\n     *\r\n     * @see BlendFactor\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFunc\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '目标混合因子，默认BlendFactor.ONE_MINUS_SRC_ALPHA', componentParam: { enumClass: BlendFactor } })\r\n    dfactor: 'ZERO' | 'ONE' | 'SRC_COLOR' | 'ONE_MINUS_SRC_COLOR' | 'DST_COLOR' | 'ONE_MINUS_DST_COLOR' | 'SRC_ALPHA' | 'ONE_MINUS_SRC_ALPHA' | 'DST_ALPHA' | 'ONE_MINUS_DST_ALPHA' | 'SRC_ALPHA_SATURATE' = BlendFactor.ONE_MINUS_SRC_ALPHA;\r\n\r\n    /**\r\n     * 是否开启深度检查，默认 true，开启深度检测。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/depthFunc\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '是否开启深度检查' })\r\n    depthtest = true;\r\n\r\n    /**\r\n     * 指定深度比较函数的枚举，该函数设置绘制像素的条件，默认 LESS，如果传入值小于深度缓冲区值则通过。\r\n     *\r\n     * A GLenum specifying the depth comparison function, which sets the conditions under which the pixel will be drawn. The default value is gl.LESS.\r\n     *\r\n     * @see DepthFunc\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/depthFunc\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '深度检测方法', componentParam: { enumClass: DepthFunc } })\r\n    depthFunc: 'NEVER' | 'LESS' | 'EQUAL' | 'LEQUAL' | 'GREATER' | 'NOTEQUAL' | 'GEQUAL' | 'ALWAYS' = DepthFunc.LESS;\r\n\r\n    /**\r\n     * 是否开启深度标记\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/depthMask\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '是否开启深度标记' })\r\n    depthMask = true;\r\n\r\n    /**\r\n     * 控制那些颜色分量是否可以被写入到帧缓冲器。\r\n     *\r\n     * [red, green, blue, alpha]\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/colorMask\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '深度检测方法', componentParam: { enumClass: ColorMask } })\r\n    colorMask = ColorMask.RGBA;\r\n\r\n    /**\r\n     * 是否使用 viewport，默认不使用，不使用时viewport为画布区域。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/viewport\r\n     */\r\n    @oav({ tooltip: '是否使用 viewRect' })\r\n    @serialize\r\n    useViewPort = false;\r\n\r\n    /**\r\n     * 通过WebGL API的WebGLRenderingContext.viewport()方法设置了viewport，指定了x和y从标准化设备坐标到窗口坐标的仿射变换。\r\n     *\r\n     * The WebGLRenderingContext.viewport() method of the WebGL API sets the viewport, which specifies the affine transformation of x and y from normalized device coordinates to window coordinates.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/viewport\r\n     */\r\n    @oav({ tooltip: '绘制在画布上的区域' })\r\n    @serialize\r\n    viewPort: { x: number, y: number, width: number, height: number } = { x: 0, y: 0, width: 100, height: 100 };\r\n\r\n    /**\r\n     * 是否开启剪刀裁剪，默认不开启。\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/scissor\r\n     */\r\n    @oav({ tooltip: 'https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/scissor' })\r\n    @serialize\r\n    useScissor = false;\r\n\r\n    /**\r\n     * WebGL API的WebGLRenderingContext.scissor()方法设置了一个剪刀盒，它将绘图限制为一个指定的矩形。\r\n     *\r\n     * The WebGLRenderingContext.scissor() method of the WebGL API sets a scissor box, which limits the drawing to a specified rectangle.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/scissor\r\n     */\r\n    @oav({ tooltip: 'https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/scissor' })\r\n    @serialize\r\n    scissor: { x: number, y: number, width: number, height: number } = { x: 0, y: 0, width: 100, height: 100 };\r\n\r\n    /**\r\n     * 是否开启 gl.POLYGON_OFFSET_FILL，默认不开启。\r\n     *\r\n     * WebGL API的WebGLRenderingContext.polygonOffset()方法指定了计算深度值的比例因子和单位。\r\n     * 在执行深度测试和将值写入深度缓冲区之前添加偏移量。\r\n     *\r\n     * The WebGLRenderingContext.polygonOffset() method of the WebGL API specifies the scale factors and units to calculate depth values.\r\n     * The offset is added before the depth test is performed and before the value is written into the depth buffer.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/polygonOffset\r\n     */\r\n    @oav({ tooltip: 'The WebGLRenderingContext.polygonOffset() method of the WebGL API specifies the scale factors and units to calculate depth values.' })\r\n    @serialize\r\n    usePolygonOffset = false;\r\n\r\n    /**\r\n     * 为每个多边形设置可变深度偏移的比例因子。缺省值为0。\r\n     *\r\n     * A GLfloat which sets the scale factor for the variable depth offset for each polygon. The default value is 0.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/polygonOffset\r\n     */\r\n    @oav({ tooltip: 'A GLfloat which sets the scale factor for the variable depth offset for each polygon. The default value is 0.' })\r\n    @serialize\r\n    polygonOffsetFactor = 0;\r\n\r\n    /**\r\n     * 它设置特定于实现的值乘以的乘数，以创建恒定的深度偏移量。缺省值为0。\r\n     *\r\n     * A GLfloat which sets the multiplier by which an implementation-specific value is multiplied with to create a constant depth offset. The default value is 0.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/polygonOffset\r\n     */\r\n    @oav({ tooltip: 'A GLfloat which sets the multiplier by which an implementation-specific value is multiplied with to create a constant depth offset. The default value is 0.' })\r\n    @serialize\r\n    polygonOffsetUnits = 0;\r\n\r\n    /**\r\n     * 是否开启模板测试与更新模板缓冲。\r\n     *\r\n     * Activates stencil testing and updates to the stencil buffer.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc\r\n     */\r\n    @oav({ tooltip: 'Activates stencil testing and updates to the stencil buffer. See WebGLRenderingContext.stencilFunc().' })\r\n    @serialize\r\n    useStencil = false;\r\n\r\n    /**\r\n     * 描述模板测试的方法。默认ALWAYS，总是通过。\r\n     *\r\n     * A GLenum specifying the test function. The default function is gl.ALWAYS.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc\r\n     */\r\n    @oav({ tooltip: 'A GLenum specifying the test function. The default function is gl.ALWAYS. ', component: 'OAVEnum', componentParam: { enumClass: StencilFunc } })\r\n    @serialize\r\n    stencilFunc: 'NEVER' | 'LESS' | 'EQUAL' | 'LEQUAL' | 'GREATER' | 'NOTEQUAL' | 'GEQUAL' | 'ALWAYS' = StencilFunc.ALWAYS;\r\n\r\n    /**\r\n     * 一个为模板测试指定参考值。这个值被限制在0到2^n -1的范围内，其中n是模板缓冲区中的位数。默认0。\r\n     *\r\n     * A GLint specifying the reference value for the stencil test. This value is clamped to the range 0 to 2^n -1 where n is the number of bitplanes in the stencil buffer. The default value is 0.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc\r\n     */\r\n    @oav({ tooltip: 'A GLint specifying the reference value for the stencil test. This value is clamped to the range 0 to 2^n -1 where n is the number of bitplanes in the stencil buffer. The default value is 0. ' })\r\n    @serialize\r\n    stencilFuncRef = 0;\r\n\r\n    /**\r\n     * 模板测试时使用的mask值，默认1。\r\n     *\r\n     * A GLuint specifying a bit-wise mask that is used to AND the reference value and the stored stencil value when the test is done. The default value is all 1.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc\r\n     */\r\n    @oav({ tooltip: 'A GLuint specifying a bit-wise mask that is used to AND the reference value and the stored stencil value when the test is done. The default value is all 1.' })\r\n    @serialize\r\n    stencilFuncMask = 1;\r\n\r\n    /**\r\n     * 指定模板测试失败时使用的函数的枚举。默认KEEP，保持当前值。\r\n     *\r\n     * A GLenum specifying the function to use when the stencil test fails. The default value is gl.KEEP.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\r\n     */\r\n    @oav({ tooltip: 'A GLenum specifying the function to use when the stencil test fails. The default value is gl.KEEP.', component: 'OAVEnum', componentParam: { enumClass: StencilOp } })\r\n    @serialize\r\n    stencilOpFail: 'KEEP' | 'ZERO' | 'REPLACE' | 'INCR' | 'INCR_WRAP' | 'DECR' | 'DECR_WRAP' | 'INVERT' = StencilOp.KEEP;\r\n\r\n    /**\r\n     * 指定在模板测试通过但深度测试失败时使用的函数枚举。默认KEEP，保持当前值。\r\n     *\r\n     * A GLenum specifying the function to use when the stencil test passes, but the depth test fails. The default value is gl.KEEP.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\r\n     */\r\n    @oav({ tooltip: 'A GLenum specifying the function to use when the stencil test passes, but the depth test fails. The default value is gl.KEEP.', component: 'OAVEnum', componentParam: { enumClass: StencilOp } })\r\n    @serialize\r\n    stencilOpZFail: 'KEEP' | 'ZERO' | 'REPLACE' | 'INCR' | 'INCR_WRAP' | 'DECR' | 'DECR_WRAP' | 'INVERT' = StencilOp.KEEP;\r\n\r\n    /**\r\n     * 指定在模板测试和深度测试通过时使用的函数枚举，或在模板测试通过且没有深度缓冲或禁用深度测试时使用的函数枚举。默认KEEP，保持当前值。\r\n     *\r\n     * A GLenum specifying the function to use when both the stencil test and the depth test pass, or when the stencil test passes and there is no depth buffer or depth testing is disabled. The default value is gl.KEEP.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\r\n     */\r\n    @oav({ tooltip: 'A GLenum specifying the function to use when both the stencil test and the depth test pass, or when the stencil test passes and there is no depth buffer or depth testing is disabled. The default value is gl.KEEP.', component: 'OAVEnum', componentParam: { enumClass: StencilOp } })\r\n    @serialize\r\n    stencilOpZPass: 'KEEP' | 'ZERO' | 'REPLACE' | 'INCR' | 'INCR_WRAP' | 'DECR' | 'DECR_WRAP' | 'INVERT' = StencilOp.KEEP;\r\n\r\n    /**\r\n     * 指定位掩码以启用或禁用在模板平面中写入单个位的正整数。默认1。\r\n     *\r\n     * A GLuint specifying a bit mask to enable or disable writing of individual bits in the stencil planes. By default, the mask is all 1.\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\r\n     */\r\n    @oav({ tooltip: 'A GLuint specifying a bit mask to enable or disable writing of individual bits in the stencil planes. By default, the mask is all 1.' })\r\n    @serialize\r\n    stencilMask = 1;\r\n\r\n    constructor(raw?: Partial<RenderParams>)\r\n    {\r\n        Object.assign(this, raw);\r\n    }\r\n\r\n    /**\r\n     * 更新渲染参数\r\n     *\r\n     * @param gl WebGL渲染上下文\r\n     */\r\n    updateRenderParams(gl: GL)\r\n    {\r\n        const cullfaceEnum = this.cullFace;\r\n        const blendEquation = gl[this.blendEquation];\r\n        const sfactor = gl[this.sfactor];\r\n        const dfactor = gl[this.dfactor];\r\n        const cullFace = gl[this.cullFace];\r\n        const frontFace = gl[this.frontFace];\r\n        const enableBlend = this.enableBlend;\r\n        const depthtest = this.depthtest;\r\n        const depthMask = this.depthMask;\r\n        const depthFunc = gl[this.depthFunc];\r\n        let viewPort = this.viewPort;\r\n        const useViewPort = this.useViewPort;\r\n        const useScissor = this.useScissor;\r\n        const scissor = this.scissor;\r\n        const colorMask = this.colorMask;\r\n        const colorMaskB = [ColorMask.R, ColorMask.G, ColorMask.B, ColorMask.A].map((v) => !!(colorMask & v));\r\n\r\n        const usePolygonOffset = this.usePolygonOffset;\r\n        const polygonOffsetFactor = this.polygonOffsetFactor;\r\n        const polygonOffsetUnits = this.polygonOffsetUnits;\r\n\r\n        const useStencil = this.useStencil;\r\n        const stencilFunc = gl[this.stencilFunc];\r\n        const stencilFuncRef = this.stencilFuncRef;\r\n        const stencilFuncMask = this.stencilFuncMask;\r\n        const stencilOpFail = gl[this.stencilOpFail];\r\n        const stencilOpZFail = gl[this.stencilOpZFail];\r\n        const stencilOpZPass = gl[this.stencilOpZPass];\r\n        const stencilMask = this.stencilMask;\r\n\r\n        if (!useViewPort)\r\n        {\r\n            viewPort = { x: 0, y: 0, width: gl.canvas.width, height: gl.canvas.height };\r\n        }\r\n\r\n        if (cullfaceEnum !== CullFace.NONE)\r\n        {\r\n            gl.enable(gl.CULL_FACE);\r\n            gl.cullFace(cullFace);\r\n            gl.frontFace(frontFace);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.CULL_FACE);\r\n        }\r\n\r\n        if (enableBlend)\r\n        {\r\n            //\r\n            gl.enable(gl.BLEND);\r\n            gl.blendEquation(blendEquation);\r\n            gl.blendFunc(sfactor, dfactor);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.BLEND);\r\n        }\r\n\r\n        if (depthtest)\r\n        {\r\n            gl.enable(gl.DEPTH_TEST);\r\n            gl.depthFunc(depthFunc);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.DEPTH_TEST);\r\n        }\r\n        gl.depthMask(depthMask);\r\n\r\n        gl.colorMask(colorMaskB[0], colorMaskB[1], colorMaskB[2], colorMaskB[3]);\r\n\r\n        gl.viewport(viewPort.x, viewPort.y, viewPort.width, viewPort.height);\r\n\r\n        if (usePolygonOffset)\r\n        {\r\n            gl.enable(gl.POLYGON_OFFSET_FILL);\r\n            gl.polygonOffset(polygonOffsetFactor, polygonOffsetUnits);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.POLYGON_OFFSET_FILL);\r\n        }\r\n\r\n        if (useScissor)\r\n        {\r\n            gl.enable(gl.SCISSOR_TEST);\r\n            gl.scissor(scissor.x, scissor.y, scissor.width, scissor.height);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.SCISSOR_TEST);\r\n        }\r\n\r\n        if (useStencil)\r\n        {\r\n            if (gl.capabilities.stencilBits === 0)\r\n            {\r\n                console.warn(`${gl} 不支持 stencil，参考 https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext WebGL context attributes: stencil`);\r\n            }\r\n            gl.enable(gl.STENCIL_TEST);\r\n            gl.stencilFunc(stencilFunc, stencilFuncRef, stencilFuncMask);\r\n            gl.stencilOp(stencilOpFail, stencilOpZFail, stencilOpZPass);\r\n            gl.stencilMask(stencilMask);\r\n        }\r\n        else\r\n        {\r\n            gl.disable(gl.STENCIL_TEST);\r\n        }\r\n    }\r\n}\r\n","const shaderMacroKeys = ['if', 'ifdef', 'defined'];\r\n\r\nexport class ShaderMacroUtils\r\n{\r\n    /**\r\n     * 从着色器代码中获取宏变量列表\r\n     * @param vertex\r\n     * @param fragment\r\n     */\r\n    getMacroVariablesFromShaderCode(vertex: string, fragment: string)\r\n    {\r\n        const variables0 = this.getMacroVariablesFromCode(vertex);\r\n        const variables1 = this.getMacroVariablesFromCode(fragment);\r\n        for (let i = 0; i < variables1.length; i++)\r\n        {\r\n            const element = variables1[i];\r\n            if (variables0.indexOf(element) === -1)\r\n            {\r\n                variables0.push(element);\r\n            }\r\n        }\r\n\r\n        return variables0;\r\n    }\r\n\r\n    /**\r\n     * 从着色器代码中获取宏变量列表\r\n     * @param code\r\n     */\r\n    getMacroVariablesFromCode(code: string)\r\n    {\r\n        const variables: string[] = [];\r\n        const lines = code.split('\\n');\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            const line = lines[i];\r\n            if (line.indexOf('#if') !== -1)\r\n            {\r\n                const reg = /(\\w+)/g;\r\n                let result: RegExpExecArray = reg.exec(line);\r\n                while (result)\r\n                {\r\n                    const key = result[1];\r\n                    if (key !== null && isNaN(Number(key)) && shaderMacroKeys.indexOf(key) === -1 && variables.indexOf(key) === -1)\r\n                    {\r\n                        variables.push(key);\r\n                    }\r\n                    result = reg.exec(line);\r\n                }\r\n            }\r\n        }\r\n\r\n        return variables;\r\n    }\r\n}\r\n\r\n/**\r\n * 着色器代码宏工具\r\n */\r\nexport const shaderMacroUtils = new ShaderMacroUtils();\r\n","import { RenderParams } from '../data/RenderParams';\r\nimport { shaderMacroUtils } from './ShaderMacroUtils';\r\n\r\nexport const shaderConfig: ShaderConfig = { shaders: {}, modules: {} };\r\n\r\n/**\r\n * 着色器库，由shader.ts初始化\r\n */\r\nexport interface ShaderConfig\r\n{\r\n    shaders: {\r\n        [shaderName: string]: {\r\n            /**\r\n             * 从glsl读取的vertex shader\r\n             */\r\n            vertex: string,\r\n            /**\r\n             * 从glsl读取的fragment shader\r\n             */\r\n            fragment: string,\r\n            cls?: new (...arg: any[]) => any,\r\n            renderParams?: Partial<RenderParams>,\r\n        }\r\n    },\r\n    /**\r\n     * shader 模块\r\n     */\r\n    modules: {\r\n        [moduleName: string]: string\r\n    }\r\n}\r\n\r\n/**\r\n * 渲染代码库\r\n\r\n */\r\nexport class ShaderLib\r\n{\r\n    get shaderConfig()\r\n    {\r\n        this._shaderConfig = this._shaderConfig || shaderConfig;\r\n\r\n        return this._shaderConfig;\r\n    }\r\n    set shaderConfig(v)\r\n    {\r\n        this._shaderConfig = v;\r\n    }\r\n    private _shaderConfig: ShaderConfig;\r\n\r\n    private _shaderCache: { [shaderName: string]: { vertex: string, fragment: string, vertexMacroVariables: string[], fragmentMacroVariables: string[] } } = {};\r\n\r\n    /**\r\n     * 获取shaderCode\r\n     */\r\n    getShader(shaderName: string)\r\n    {\r\n        if (this._shaderCache[shaderName])\r\n        {\r\n            return this._shaderCache[shaderName];\r\n        }\r\n\r\n        const shader = shaderlib.shaderConfig.shaders[shaderName];\r\n        //\r\n        const vertex = shaderlib.uninclude(shader.vertex);\r\n        //\r\n        const fragment = shaderlib.uninclude(shader.fragment);\r\n        const vertexMacroVariables = shaderMacroUtils.getMacroVariablesFromCode(vertex);\r\n        const fragmentMacroVariables = shaderMacroUtils.getMacroVariablesFromCode(fragment);\r\n\r\n        this._shaderCache[shaderName] = { vertex, fragment, vertexMacroVariables, fragmentMacroVariables };\r\n\r\n        return this._shaderCache[shaderName];\r\n    }\r\n\r\n    /**\r\n     * 展开 include\r\n     */\r\n    uninclude(shaderCode: string)\r\n    {\r\n        // #include 正则表达式\r\n        const includeRegExp = /#include<(.+)>/g;\r\n        //\r\n        let match = includeRegExp.exec(shaderCode);\r\n        while (match)\r\n        {\r\n            let moduleshader = this.shaderConfig.modules[match[1]];\r\n            if (!moduleshader)\r\n            {\r\n                console.error(`无法找到着色器 ${match[1]}`);\r\n            }\r\n            moduleshader = this.uninclude(moduleshader);\r\n            shaderCode = shaderCode.replace(match[0], moduleshader);\r\n            includeRegExp.lastIndex = 0;\r\n            match = includeRegExp.exec(shaderCode);\r\n        }\r\n\r\n        return shaderCode;\r\n    }\r\n\r\n    /**\r\n     * 获取shader列表\r\n     */\r\n    getShaderNames()\r\n    {\r\n        return Object.keys(this.shaderConfig.shaders);\r\n    }\r\n\r\n    /**\r\n     * 清除缓存\r\n     */\r\n    clearCache()\r\n    {\r\n        this._shaderCache = {};\r\n    }\r\n}\r\n\r\n/**\r\n * shader 库\r\n */\r\nexport const shaderlib = new ShaderLib();\r\n","import { gPartial } from '@feng3d/polyfill';\r\nimport { GL } from '../gl/GL';\r\nimport { ShaderMacro } from '../shader/Macro';\r\nimport { shaderlib } from '../shader/ShaderLib';\r\n\r\n/**\r\n * shader\r\n */\r\nexport class Shader\r\n{\r\n    /**\r\n     * shader 中的 宏\r\n     */\r\n    shaderMacro: ShaderMacro = {} as any;\r\n\r\n    constructor(source?: gPartial<Shader>)\r\n    {\r\n        Object.assign(this, source);\r\n    }\r\n\r\n    setShader(vertex: string, fragment: string)\r\n    {\r\n        this.vertex = vertex;\r\n        this.fragment = fragment;\r\n    }\r\n\r\n    /**\r\n     * 激活渲染程序\r\n     */\r\n    activeShaderProgram(gl: GL)\r\n    {\r\n        this.updateShaderCode();\r\n\r\n        const shaderKey = this.vertex + this.fragment;\r\n        let result = gl.cache.compileShaderResults[shaderKey];\r\n        if (result) return result;\r\n\r\n        // 渲染程序\r\n        try\r\n        {\r\n            result = gl.cache.compileShaderResults[shaderKey] = this.compileShaderProgram(gl, this.vertex, this.fragment);\r\n        }\r\n        catch (error)\r\n        {\r\n            console.error(`${this.shaderName} 编译失败！\\n${error}`);\r\n\r\n            return null;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 着色器名称\r\n     */\r\n    shaderName: string;\r\n    /**\r\n     * 顶点着色器代码\r\n     */\r\n    vertex: string;\r\n    /**\r\n     * 片段着色器代码\r\n     */\r\n    fragment: string;\r\n\r\n    /**\r\n     * 更新渲染代码\r\n     */\r\n    private updateShaderCode()\r\n    {\r\n        if (!this.shaderName) return;\r\n\r\n        // 获取着色器代码\r\n        const result = shaderlib.getShader(this.shaderName);\r\n\r\n        const vMacroCode = this.getMacroCode(result.vertexMacroVariables, this.shaderMacro);\r\n        this.vertex = vMacroCode + result.vertex;\r\n        const fMacroCode = this.getMacroCode(result.fragmentMacroVariables, this.shaderMacro);\r\n        this.fragment = fMacroCode + result.fragment;\r\n    }\r\n\r\n    /**\r\n     * 编译着色器代码\r\n     * @param gl GL上下文\r\n     * @param type 着色器类型\r\n     * @param code 着色器代码\r\n     * @return 编译后的着色器对象\r\n     */\r\n    private compileShaderCode(gl: GL, type: number, code: string)\r\n    {\r\n        const shader = gl.createShader(type);\r\n        if (!shader)\r\n        {\r\n            throw 'unable to create shader';\r\n        }\r\n\r\n        gl.shaderSource(shader, code);\r\n        gl.compileShader(shader);\r\n\r\n        // 检查编译结果\r\n        const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!compiled)\r\n        {\r\n            const error = gl.getShaderInfoLog(shader);\r\n            gl.deleteShader(shader);\r\n            throw `Failed to compile shader: ${error}`;\r\n        }\r\n\r\n        return shader;\r\n    }\r\n\r\n    private createLinkProgram(gl: GL, vertexShader: WebGLShader, fragmentShader: WebGLShader)\r\n    {\r\n        // 创建程序对象\r\n        const program = gl.createProgram();\r\n        if (!program)\r\n        {\r\n            throw '创建 WebGLProgram 失败！';\r\n        }\r\n\r\n        // 添加着色器\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n\r\n        // 链接程序\r\n        gl.linkProgram(program);\r\n\r\n        // 检查结果\r\n        const linked = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (!linked)\r\n        {\r\n            const error = gl.getProgramInfoLog(program);\r\n            gl.deleteProgram(program);\r\n            gl.deleteShader(fragmentShader);\r\n            gl.deleteShader(vertexShader);\r\n            throw `Failed to link program: ${error}`;\r\n        }\r\n\r\n        return program;\r\n    }\r\n\r\n    private compileShaderProgram(gl: GL, vshader: string, fshader: string): CompileShaderResult\r\n    {\r\n        // 创建着色器程序\r\n        // 编译顶点着色器\r\n        const vertexShader = this.compileShaderCode(gl, gl.VERTEX_SHADER, vshader);\r\n\r\n        // 编译片段着色器\r\n        const fragmentShader = this.compileShaderCode(gl, gl.FRAGMENT_SHADER, fshader);\r\n\r\n        // 创建着色器程序\r\n        const shaderProgram = this.createLinkProgram(gl, vertexShader, fragmentShader);\r\n\r\n        // 获取属性信息\r\n        const numAttributes = gl.getProgramParameter(shaderProgram, gl.ACTIVE_ATTRIBUTES);\r\n        const attributes: { [name: string]: AttributeInfo } = {};\r\n        let i = 0;\r\n        while (i < numAttributes)\r\n        {\r\n            const activeInfo = gl.getActiveAttrib(shaderProgram, i++);\r\n            attributes[activeInfo.name] = { name: activeInfo.name, size: activeInfo.size, type: activeInfo.type, location: gl.getAttribLocation(shaderProgram, activeInfo.name) };\r\n        }\r\n        // 获取uniform信息\r\n        const numUniforms = gl.getProgramParameter(shaderProgram, gl.ACTIVE_UNIFORMS);\r\n        const uniforms: { [name: string]: UniformInfo } = {};\r\n        i = 0;\r\n        let textureID = 0;\r\n        while (i < numUniforms)\r\n        {\r\n            const activeInfo = gl.getActiveUniform(shaderProgram, i++);\r\n            const reg = /(\\w+)/g;\r\n\r\n            let name = activeInfo.name;\r\n            const names = [name];\r\n            if (activeInfo.size > 1)\r\n            {\r\n                console.assert(name.substr(-3, 3) === '[0]');\r\n                const baseName = name.substring(0, name.length - 3);\r\n                for (let j = 1; j < activeInfo.size; j++)\r\n                {\r\n                    names[j] = `${baseName}[${j}]`;\r\n                }\r\n            }\r\n\r\n            for (let j = 0; j < names.length; j++)\r\n            {\r\n                name = names[j];\r\n                let result: RegExpExecArray = reg.exec(name);\r\n                const paths: string[] = [];\r\n                while (result)\r\n                {\r\n                    paths.push(result[1]);\r\n                    result = reg.exec(name);\r\n                }\r\n                uniforms[name] = { name: paths[0], paths, size: activeInfo.size, type: activeInfo.type, location: gl.getUniformLocation(shaderProgram, name), textureID };\r\n                if (activeInfo.type === gl.SAMPLER_2D || activeInfo.type === gl.SAMPLER_CUBE)\r\n                {\r\n                    textureID++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return { program: shaderProgram, vertex: vertexShader, fragment: fragmentShader, attributes, uniforms };\r\n    }\r\n\r\n    private getMacroCode(variables: string[], valueObj: Object)\r\n    {\r\n        let macroHeader = '';\r\n        variables.forEach((macroName) =>\r\n        {\r\n            const value = valueObj[macroName];\r\n            if (typeof value === 'boolean')\r\n            {\r\n                value && (macroHeader += `#define ${macroName}\\n`);\r\n            }\r\n            else if (typeof value === 'number')\r\n            {\r\n                macroHeader += `#define ${macroName} ${value}\\n`;\r\n            }\r\n        });\r\n\r\n        return macroHeader.length > 0 ? (`${macroHeader}\\n`) : macroHeader;\r\n    }\r\n}\r\n\r\nexport interface CompileShaderResult\r\n{\r\n    program: WebGLProgram, vertex: WebGLShader, fragment: WebGLShader\r\n    /**\r\n     * 属性信息列表\r\n     */\r\n    attributes: { [name: string]: AttributeInfo };\r\n    /**\r\n     * uniform信息列表\r\n     */\r\n    uniforms: { [name: string]: UniformInfo };\r\n}\r\n\r\n/**\r\n * WebGL渲染程序有效信息\r\n */\r\nexport interface UniformInfo\r\n{\r\n    /**\r\n     * uniform名称\r\n     */\r\n    name: string;\r\n\r\n    size: number;\r\n    type: number;\r\n    /**\r\n     * uniform地址\r\n     */\r\n    location: WebGLUniformLocation;\r\n    /**\r\n     * texture索引\r\n     */\r\n    textureID: number;\r\n\r\n    /**\r\n     * Uniform数组索引，当Uniform数据为数组数据时生效\r\n     */\r\n    paths: string[];\r\n}\r\n\r\nexport interface AttributeInfo\r\n{\r\n    /**\r\n     * 名称\r\n     */\r\n    name: string;\r\n\r\n    size: number;\r\n    type: number;\r\n\r\n    /**\r\n     * 属性地址\r\n     */\r\n    location: number;\r\n}\r\n","import { gPartial, Lazy, lazy } from '@feng3d/polyfill';\r\nimport { ShaderMacro } from '../shader/Macro';\r\nimport { Attribute } from './Attribute';\r\nimport { Attributes } from './Attributes';\r\nimport { Index } from './Index';\r\nimport { RenderParams } from './RenderParams';\r\nimport { Shader } from './Shader';\r\nimport { LazyUniforms, Uniforms } from './Uniform';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsRenderAtomic\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface RenderAtomic extends MixinsRenderAtomic { }\r\n\r\n/**\r\n * 渲染原子（该对象会收集一切渲染所需数据以及参数）\r\n */\r\nexport class RenderAtomic\r\n{\r\n    /**\r\n     * 下一个结点\r\n     */\r\n    next: RenderAtomic;\r\n\r\n    /**\r\n     * 顶点索引缓冲\r\n     */\r\n    get index()\r\n    {\r\n        return this._index;\r\n    }\r\n    set index(v)\r\n    {\r\n        if (v instanceof Index)\r\n        {\r\n            this._index = v;\r\n        }\r\n        else\r\n        {\r\n            this._index = new Index(v);\r\n        }\r\n    }\r\n    private _index: Index;\r\n\r\n    /**\r\n     * 属性数据列表\r\n     */\r\n    get attributes()\r\n    {\r\n        return this._attributes;\r\n    }\r\n\r\n    set attributes(v)\r\n    {\r\n        this._attributes = {} as any;\r\n        for (const key in v)\r\n        {\r\n            if (v[key] instanceof Attribute)\r\n            {\r\n                this._attributes[key] = v[key];\r\n            }\r\n            else\r\n            {\r\n                this._attributes[key] = new Attribute(v[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _attributes: Attributes = {} as any;\r\n\r\n    /**\r\n     * Uniform渲染数据\r\n     */\r\n    uniforms: LazyUniforms = {} as any;\r\n\r\n    /**\r\n     * 渲染实例数量\r\n     */\r\n    instanceCount: Lazy<number>;\r\n\r\n    /**\r\n     * 渲染程序\r\n     */\r\n    get shader()\r\n    {\r\n        return this._shader;\r\n    }\r\n    set shader(v)\r\n    {\r\n        if (v instanceof Shader)\r\n        {\r\n            this._shader = v;\r\n        }\r\n        else\r\n        {\r\n            this._shader = new Shader(v);\r\n        }\r\n    }\r\n    private _shader: Shader;\r\n\r\n    /**\r\n     * shader 中的 宏\r\n     */\r\n    shaderMacro: ShaderMacro = {} as any;\r\n\r\n    /**\r\n     * 渲染参数\r\n     */\r\n    get renderParams()\r\n    {\r\n        return this._renderParams;\r\n    }\r\n    set renderParams(v)\r\n    {\r\n        if (v instanceof RenderParams)\r\n        {\r\n            this._renderParams = v;\r\n        }\r\n        else\r\n        {\r\n            this._renderParams = new RenderParams(v);\r\n        }\r\n    }\r\n    private _renderParams = new RenderParams();\r\n\r\n    constructor(source?: gPartial<RenderAtomic>)\r\n    {\r\n        Object.assign(this, source);\r\n    }\r\n\r\n    getIndexBuffer(): Index\r\n    {\r\n        if (this.index !== undefined) return this.index;\r\n\r\n        return (this.next && this.next.getIndexBuffer());\r\n    }\r\n\r\n    getAttributes(attributes: Attributes = {} as any)\r\n    {\r\n        this.next && this.next.getAttributes(attributes);\r\n        Object.assign(attributes, this.attributes);\r\n\r\n        return attributes;\r\n    }\r\n\r\n    getAttributeByKey(key: string): Attribute\r\n    {\r\n        if (this.attributes[key] !== undefined) return this.attributes[key];\r\n\r\n        return (this.next && this.next.getAttributeByKey(key));\r\n    }\r\n\r\n    getUniforms(uniforms: LazyUniforms = {} as any)\r\n    {\r\n        this.next && this.next.getUniforms(uniforms);\r\n        Object.assign(uniforms, this.uniforms);\r\n\r\n        return uniforms;\r\n    }\r\n\r\n    getUniformByKey(key: string): Uniforms\r\n    {\r\n        if (this.uniforms[key] !== undefined) return lazy.getvalue(this.uniforms[key]);\r\n\r\n        return (this.next && this.next.getUniformByKey(key));\r\n    }\r\n\r\n    getInstanceCount(): number\r\n    {\r\n        if (this.instanceCount !== undefined) return lazy.getvalue(this.instanceCount);\r\n\r\n        return this.next && this.next.getInstanceCount();\r\n    }\r\n\r\n    getShader(): Shader\r\n    {\r\n        if (this.shader !== undefined) return this.shader;\r\n\r\n        return this.next && this.next.getShader();\r\n    }\r\n\r\n    getRenderParams(renderParams = new RenderParams())\r\n    {\r\n        this.next && this.next.getRenderParams(renderParams);\r\n        Object.assign(renderParams, this.renderParams);\r\n\r\n        return renderParams;\r\n    }\r\n\r\n    getShaderMacro(shaderMacro: ShaderMacro = {} as any)\r\n    {\r\n        this.next && this.next.getShaderMacro(shaderMacro);\r\n        Object.assign(shaderMacro, this.shaderMacro);\r\n\r\n        return shaderMacro;\r\n    }\r\n}\r\n\r\nexport interface RenderAtomicData\r\n{\r\n    shader: Shader;\r\n    attributes: { [name: string]: Attribute; };\r\n    uniforms: { [name: string]: Uniforms; };\r\n    renderParams: RenderParams;\r\n    index: Index;\r\n    instanceCount: number;\r\n}\r\n","/**\r\n * 纹理数据类型\r\n * A GLenum specifying the data type of the texel data\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\r\n */\r\nexport enum TextureDataType\r\n{\r\n    /**\r\n     * 8 bits per channel for gl.RGBA\r\n     */\r\n    UNSIGNED_BYTE = 'UNSIGNED_BYTE',\r\n    /**\r\n     * 5 red bits, 6 green bits, 5 blue bits.\r\n     */\r\n    UNSIGNED_SHORT_5_6_5 = 'UNSIGNED_SHORT_5_6_5',\r\n    /**\r\n     * 4 red bits, 4 green bits, 4 blue bits, 4 alpha bits.\r\n     */\r\n    UNSIGNED_SHORT_4_4_4_4 = 'UNSIGNED_SHORT_4_4_4_4',\r\n    /**\r\n     * 5 red bits, 5 green bits, 5 blue bits, 1 alpha bit.\r\n     */\r\n    UNSIGNED_SHORT_5_5_5_1 = 'UNSIGNED_SHORT_5_5_5_1',\r\n    // /**\r\n    //  * When using the WEBGL_depth_texture extension:\r\n    //  */\r\n    // UNSIGNED_SHORT = 'UNSIGNED_SHORT',\r\n    // /**\r\n    //  * When using the WEBGL_depth_texture extension:\r\n    //  */\r\n    // UNSIGNED_INT = 'UNSIGNED_INT',\r\n    // /**\r\n    //  * When using the WEBGL_depth_texture extension:\r\n    //  *  (constant provided by the extension)\r\n    //  */\r\n    // UNSIGNED_INT_24_8_WEBGL = 'UNSIGNED_INT_24_8_WEBGL',\r\n    // //When using the OES_texture_half_float extension:\r\n    // /**\r\n    //  * When using the OES_texture_float extension:\r\n    //  */\r\n    // FLOAT = 'FLOAT',\r\n    // /**\r\n    //  * When using the OES_texture_half_float extension:\r\n    //  *  (constant provided by the extension)\r\n    //  */\r\n    // HALF_FLOAT_OES = 'HALF_FLOAT_OES',\r\n    // // When using a WebGL 2 context, the following values are available additionally:\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // BYTE = 'BYTE',\r\n    // // UNSIGNED_SHORT   // 与上面合并处理\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // SHORT = 'SHORT',\r\n    // // UNSIGNED_INT     // 与上面合并处理\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // INT = 'INT',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // HALF_FLOAT = 'HALF_FLOAT',\r\n    // // FLOAT               // 与上面合并处理\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // UNSIGNED_INT_2_10_10_10_REV = 'UNSIGNED_INT_2_10_10_10_REV',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // UNSIGNED_INT_10F_11F_11F_REV = 'UNSIGNED_INT_10F_11F_11F_REV',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // UNSIGNED_INT_5_9_9_9_REV = 'UNSIGNED_INT_5_9_9_9_REV',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // UNSIGNED_INT_24_8 = 'UNSIGNED_INT_24_8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  *  (pixels must be null)\r\n    //  */\r\n    // FLOAT_32_UNSIGNED_INT_24_8_REV = 'FLOAT_32_UNSIGNED_INT_24_8_REV',\r\n}\r\n","/**\r\n * 纹理颜色格式\r\n * A GLint specifying the color components in the texture\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\r\n */\r\nexport enum TextureFormat\r\n{\r\n    /**\r\n     * Discards the red, green and blue components and reads the alpha component.\r\n     */\r\n    ALPHA = 'ALPHA',\r\n    /**\r\n     *  Discards the alpha components and reads the red, green and blue components.\r\n     */\r\n    RGB = 'RGB',\r\n    /**\r\n     * Red, green, blue and alpha components are read from the color buffer.\r\n     */\r\n    RGBA = 'RGBA',\r\n    /**\r\n     * Each color component is a luminance component, alpha is 1.0.\r\n     */\r\n    LUMINANCE = 'LUMINANCE',\r\n    /**\r\n     * Each component is a luminance/alpha component.\r\n     */\r\n    LUMINANCE_ALPHA = 'LUMINANCE_ALPHA',\r\n\r\n    // /**\r\n    //  * When using the WEBGL_depth_texture extension:\r\n    //  */\r\n    // DEPTH_COMPONENT = 'DEPTH_COMPONENT',\r\n    // /**\r\n    //  * When using the WEBGL_depth_texture extension:\r\n    //  */\r\n    // DEPTH_STENCIL = 'DEPTH_STENCIL',\r\n    // /**\r\n    //  * When using the EXT_sRGB extension:\r\n    //  */\r\n    // SRGB_EXT = 'SRGB_EXT',\r\n    // /**\r\n    //  * When using the EXT_sRGB extension:\r\n    //  */\r\n    // SRGB_ALPHA_EXT = 'SRGB_ALPHA_EXT',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // R8 = 'R8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // R16F = 'R16F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // R32F = 'R32F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // R8UI = 'R8UI',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG8 = 'RG8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG16F = 'RG16F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG32F = 'RG32F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG8UI = 'RG8UI',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG16UI = 'RG16UI',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RG32UI = 'RG32UI',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB8 = 'RGB8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // SRGB8 = 'SRGB8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB565 = 'RGB565',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // R11F_G11F_B10F = 'R11F_G11F_B10F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB9_E5 = 'RGB9_E5',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB16F = 'RGB16F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB32F = 'RGB32F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB8UI = 'RGB8UI',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGBA8 = 'RGBA8',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // // SRGB8_APLHA8,\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB5_A1 = 'RGB5_A1',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGB10_A2 = 'RGB10_A2',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGBA4 = 'RGBA4',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGBA16F = 'RGBA16F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGBA32F = 'RGBA32F',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  */\r\n    // RGBA8UI = 'RGBA8UI',\r\n}\r\n","/**\r\n * 纹理放大滤波器\r\n * Texture magnification filter\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter\r\n */\r\nexport enum TextureMagFilter\r\n{\r\n    /**\r\n     *  (default value)\r\n     */\r\n    LINEAR = 'LINEAR',\r\n    NEAREST = 'NEAREST',\r\n}\r\n","/**\r\n * 纹理缩小过滤器\r\n * Texture minification filter\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter\r\n */\r\nexport enum TextureMinFilter\r\n{\r\n    LINEAR = 'LINEAR',\r\n    NEAREST = 'NEAREST',\r\n    NEAREST_MIPMAP_NEAREST = 'NEAREST_MIPMAP_NEAREST',\r\n    LINEAR_MIPMAP_NEAREST = 'LINEAR_MIPMAP_NEAREST',\r\n    /**\r\n     *  (default value)\r\n     */\r\n    NEAREST_MIPMAP_LINEAR = 'NEAREST_MIPMAP_LINEAR',\r\n    LINEAR_MIPMAP_LINEAR = 'LINEAR_MIPMAP_LINEAR',\r\n}\r\n","/**\r\n * 纹理类型\r\n * A GLenum specifying the binding point (target). Possible values:\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bindTexture\r\n */\r\nexport enum TextureType\r\n{\r\n    /**\r\n     * gl.TEXTURE_2D: A two-dimensional texture.\r\n     */\r\n    TEXTURE_2D = 'TEXTURE_2D',\r\n    /**\r\n     * gl.TEXTURE_CUBE_MAP: A cube-mapped texture.\r\n     */\r\n    TEXTURE_CUBE_MAP = 'TEXTURE_CUBE_MAP',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  * gl.TEXTURE_3D: A three-dimensional texture.\r\n    //  */\r\n    // TEXTURE_3D = 'TEXTURE_3D',\r\n    // /**\r\n    //  * using a WebGL 2 context\r\n    //  * gl.TEXTURE_2D_ARRAY: A two-dimensional array texture.\r\n    //  */\r\n    // TEXTURE_2D_ARRAY = 'TEXTURE_2D_ARRAY',\r\n}\r\n","/**\r\n * 纹理坐标s包装函数枚举\r\n * Wrapping function for texture coordinate s\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter\r\n */\r\nexport enum TextureWrap\r\n{\r\n    /**\r\n     * (default value)\r\n     */\r\n    REPEAT = 'REPEAT',\r\n    CLAMP_TO_EDGE = 'CLAMP_TO_EDGE',\r\n    MIRRORED_REPEAT = 'MIRRORED_REPEAT',\r\n}\r\n","import { GL } from './gl/GL';\r\nimport { WebGLRenderer } from './WebGLRenderer';\r\n\r\nexport class RenderBuffer\r\n{\r\n    get OFFSCREEN_WIDTH()\r\n    {\r\n        return this._OFFSCREEN_WIDTH;\r\n    }\r\n    set OFFSCREEN_WIDTH(v)\r\n    {\r\n        this._OFFSCREEN_WIDTH = v;\r\n        this.invalidate();\r\n    }\r\n    private _OFFSCREEN_WIDTH = 1024;\r\n\r\n    get OFFSCREEN_HEIGHT()\r\n    {\r\n        return this._OFFSCREEN_HEIGHT;\r\n    }\r\n    set OFFSCREEN_HEIGHT(v)\r\n    {\r\n        this._OFFSCREEN_HEIGHT = v;\r\n        this.invalidate();\r\n    }\r\n    private _OFFSCREEN_HEIGHT = 1024;\r\n\r\n    /**\r\n     * 是否失效\r\n     */\r\n    private _invalid = true;\r\n\r\n    /**\r\n     * 使失效\r\n     */\r\n    protected invalidate()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    /**\r\n     * 激活\r\n     * @param gl\r\n     */\r\n    static active(gl: GL, renderBuffer: RenderBuffer)\r\n    {\r\n        if (renderBuffer._invalid)\r\n        {\r\n            this.clear(renderBuffer);\r\n            renderBuffer._invalid = false;\r\n        }\r\n\r\n        let buffer = gl.cache.renderBuffers.get(renderBuffer);\r\n        if (!buffer)\r\n        {\r\n            // Create a renderbuffer object and Set its size and parameters\r\n            buffer = gl.createRenderbuffer(); // Create a renderbuffer object\r\n            if (!buffer)\r\n            {\r\n                console.warn('Failed to create renderbuffer object');\r\n\r\n                return;\r\n            }\r\n            gl.cache.renderBuffers.set(renderBuffer, buffer);\r\n            gl.bindRenderbuffer(gl.RENDERBUFFER, buffer);\r\n            gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, renderBuffer.OFFSCREEN_WIDTH, renderBuffer.OFFSCREEN_HEIGHT);\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n\r\n    /**\r\n     * 清理纹理\r\n     */\r\n    static clear(renderBuffer: RenderBuffer)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            const buffer = gl.cache.renderBuffers.get(renderBuffer);\r\n            if (buffer)\r\n            {\r\n                gl.deleteRenderbuffer(buffer);\r\n                gl.cache.renderBuffers.delete(renderBuffer);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/**\r\n * 任务函数\r\n */\r\nexport interface TaskFunction\r\n{\r\n    /**\r\n     * 函数自身名称\r\n     */\r\n    readonly name?: string;\r\n    /**\r\n     * 函数自身\r\n     */\r\n    (callback: () => void): void;\r\n}\r\n\r\n/**\r\n * 任务\r\n *\r\n * 处理 异步任务(函数)串联并联执行功能\r\n */\r\nclass Task\r\n{\r\n    /**\r\n     * 并联多个异步函数为一个函数\r\n     *\r\n     * 这些异步函数同时执行\r\n     *\r\n     * @param fns 一组异步函数\r\n     */\r\n    parallel(fns: TaskFunction[]): TaskFunction\r\n    {\r\n        const result: TaskFunction = (callback) =>\r\n        {\r\n            if (fns.length === 0)\r\n            {\r\n                callback();\r\n\r\n                return;\r\n            }\r\n            let index = 0;\r\n\r\n            fns.forEach((fn) =>\r\n            {\r\n                let callbackNum = 0;\r\n\r\n                fn(() =>\r\n                {\r\n                    callbackNum++;\r\n                    if (callbackNum === 1)\r\n                    {\r\n                        index++;\r\n                        if (index === fns.length)\r\n                        {\r\n                            callback();\r\n                        }\r\n                    }\r\n                    else { console.warn(`${fn.name ? `函数${fn.name}` : '匿名函数'} 多次调用回调函数，当前次数 ${callbackNum}`); }\r\n                });\r\n            });\r\n        };\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 串联多个异步函数为一个函数\r\n     *\r\n     * 这些异步函数按顺序依次执行，等待前一个异步函数执行完调用回调后才执行下一个异步函数。\r\n     *\r\n     * @param fns 一组异步函数\r\n     */\r\n    series(fns: TaskFunction[]): TaskFunction\r\n    {\r\n        const result: TaskFunction = (callback) =>\r\n        {\r\n            if (fns.length === 0)\r\n            {\r\n                callback();\r\n\r\n                return;\r\n            }\r\n            let index = 0;\r\n            const next = () =>\r\n            {\r\n                const fn = fns[index];\r\n                let callbackNum = 0;\r\n\r\n                fn(() =>\r\n                {\r\n                    callbackNum++;\r\n                    if (callbackNum === 1)\r\n                    {\r\n                        index++;\r\n                        if (index < fns.length)\r\n                        {\r\n                            next();\r\n                        }\r\n                        else\r\n                        {\r\n                            callback && callback();\r\n                        }\r\n                    }\r\n                    else { console.warn(`${fn.name ? `函数${fn.name}` : '匿名函数'} 多次调用回调函数，当前次数 ${callbackNum}`); }\r\n                });\r\n            };\r\n\r\n            next();\r\n        };\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 创建一组并行同类任务，例如同时加载一组资源，并在回调中返回结果数组\r\n     *\r\n     * @param ps 一组参数\r\n     * @param fn 单一任务函数\r\n     * @param done 完成回调\r\n     */\r\n    parallelResults<P, R>(ps: P[], fn: (p: P, callback: (r: R) => void) => void, done: (rs: R[]) => void)\r\n    {\r\n        const map = new Map();\r\n        // 包装函数\r\n        const fns = ps.map((p) => (callback: () => void) =>\r\n        {\r\n            fn(p, (r) =>\r\n            {\r\n                map.set(p, r);\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.parallel(fns)(() =>\r\n        {\r\n            const results = ps.map((p) =>\r\n                map.get(p));\r\n\r\n            map.clear();\r\n            done(results);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建一组串联同类任务，例如排序加载一组资源\r\n     *\r\n     * @param ps 一组参数\r\n     * @param fn 单一任务函数\r\n     * @param done 完成回调\r\n     */\r\n    seriesResults<P, R>(ps: P[], fn: (p: P, callback: (r: R) => void) => void, done: (rs: R[]) => void)\r\n    {\r\n        const map = new Map();\r\n        // 包装函数\r\n        const fns = ps.map((p) => (callback: () => void) =>\r\n        {\r\n            fn(p, (r) =>\r\n            {\r\n                map.set(p, r);\r\n                callback();\r\n            });\r\n        });\r\n\r\n        this.series(fns)(() =>\r\n        {\r\n            const results = ps.map((p) =>\r\n                map.get(p));\r\n\r\n            map.clear();\r\n            done(results);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 任务，用于处理任务之间依赖\r\n */\r\nexport const task = new Task();\r\n","/**\r\n * 加载数据类型\r\n */\r\nexport enum LoaderDataFormat\r\n{\r\n    /**\r\n     * 以原始二进制数据形式接收下载的数据。\r\n     */\r\n    BINARY = 'binary',\r\n    /**\r\n     * 以文本形式接收已下载的数据。\r\n     */\r\n    TEXT = 'text',\r\n    /**\r\n     * 图片数据\r\n     */\r\n    IMAGE = 'image',\r\n}\r\n","import { LoaderDataFormat } from './LoaderDataFormat';\r\n\r\n/**\r\n * 加载类\r\n */\r\nexport class Loader\r\n{\r\n    /**\r\n     * 加载文本\r\n     * @param url 路径\r\n     */\r\n    loadText(url: string, onCompleted?: (content: string) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        xmlHttpRequestLoad({ url, dataFormat: LoaderDataFormat.TEXT, onCompleted, onProgress: onRequestProgress, onError });\r\n    }\r\n\r\n    /**\r\n     * 加载二进制\r\n     * @param url 路径\r\n     */\r\n    loadBinary(url: string, onCompleted?: (content: ArrayBuffer) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        xmlHttpRequestLoad({ url, dataFormat: LoaderDataFormat.BINARY, onCompleted, onProgress: onRequestProgress, onError });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param url 路径\r\n     */\r\n    loadImage(url: string, onCompleted?: (content: HTMLImageElement) => void, onRequestProgress?: () => void, onError?: (e: Error) => void)\r\n    {\r\n        const image = new Image();\r\n\r\n        image.crossOrigin = 'Anonymous';\r\n        image.onload = (_event) =>\r\n        {\r\n            onCompleted && onCompleted(image);\r\n        };\r\n        image.onerror = (_event) =>\r\n        {\r\n            console.error(`Error while trying to load texture: ${url}`);\r\n            //\r\n            image.src = 'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z';\r\n            //\r\n            const err = new Error(`${url} 加载失败！`);\r\n\r\n            onError && onError(err);\r\n        };\r\n        image.src = url;\r\n    }\r\n}\r\n\r\n/**\r\n * 加载类\r\n */\r\nexport const loader = new Loader();\r\n\r\ninterface LoadItem\r\n{\r\n    url: string;\r\n    dataFormat: LoaderDataFormat;\r\n    onCompleted?: (content: string | ArrayBuffer) => void;\r\n    onProgress?: (loaded: number, total: number) => void;\r\n    onError?: (ev: Error) => void;\r\n}\r\n\r\n/**\r\n * 使用XMLHttpRequest加载\r\n * @param url 加载路径\r\n * @param dataFormat 数据类型\r\n */\r\nfunction xmlHttpRequestLoad(loadItem: LoadItem)\r\n{\r\n    const request = new XMLHttpRequest();\r\n\r\n    request.open('Get', loadItem.url, true);\r\n    request.setRequestHeader('Access-Control-Allow-Origin', '*');\r\n    request.responseType = loadItem.dataFormat === LoaderDataFormat.BINARY ? 'arraybuffer' : '';\r\n    request.onreadystatechange = onRequestReadystatechange(request, loadItem);\r\n    request.onprogress = onRequestProgress(request, loadItem);\r\n    request.send();\r\n}\r\n\r\n/**\r\n * 请求进度回调\r\n */\r\nfunction onRequestProgress(request: XMLHttpRequest, loadItem: LoadItem)\r\n{\r\n    return (event: ProgressEvent) =>\r\n    {\r\n        loadItem.onProgress && loadItem.onProgress(event.loaded, event.total);\r\n    };\r\n}\r\n\r\n/**\r\n * 请求状态变化回调\r\n */\r\nfunction onRequestReadystatechange(request: XMLHttpRequest, loadItem: LoadItem)\r\n{\r\n    return (_ev) =>\r\n    {\r\n        if (request.readyState === 4)\r\n        { // 4 = \"loaded\"\r\n            request.onreadystatechange = null;\r\n\r\n            if (request.status >= 200 && request.status < 300)\r\n            {\r\n                const content = loadItem.dataFormat === LoaderDataFormat.TEXT ? request.responseText : request.response;\r\n\r\n                loadItem.onCompleted && loadItem.onCompleted(content);\r\n            }\r\n            else\r\n            {\r\n                const err = new Error(`${loadItem.url} 加载失败！`);\r\n\r\n                loadItem.onError && loadItem.onError(err);\r\n                loadItem.onCompleted && loadItem.onCompleted(null);\r\n            }\r\n        }\r\n    };\r\n}\r\n","const databases: { [name: string]: IDBDatabase } = {};\r\n\r\n/**\r\n *\r\n */\r\nexport class _IndexedDB\r\n{\r\n    /**\r\n     * 数据库状态\r\n     */\r\n    private _dbStatus: {\r\n        [dbname: string]: {\r\n            /**\r\n             * 状态\r\n             */\r\n            status: DBStatus,\r\n            /**\r\n             * 开启或者升级成功回调\r\n             */\r\n            onsuccessCallbacks: ((err: Error, database: IDBDatabase) => void)[],\r\n            /**\r\n             * 升级回调\r\n             */\r\n            onupgradeneededCallbacks: ((newdatabase: IDBDatabase) => void)[],\r\n        }\r\n    } = {};\r\n\r\n    /**\r\n     * 是否支持 indexedDB\r\n     */\r\n    support()\r\n    {\r\n        if (typeof indexedDB === 'undefined')\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 获取数据库，如果不存在则新建数据库\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     */\r\n    getDatabase(dbname: string, callback: (err: any, database: IDBDatabase) => void)\r\n    {\r\n        if (databases[dbname])\r\n        {\r\n            callback(null, databases[dbname]);\r\n\r\n            return;\r\n        }\r\n\r\n        this._open(dbname, callback);\r\n    }\r\n\r\n    /**\r\n     * 打开或者升级数据库\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     * @param upgrade 是否升级数据库\r\n     * @param onupgrade 升级回调\r\n     */\r\n    private _open(dbname: string, callback: (err: any, database: IDBDatabase) => void, upgrade = false, onupgrade?: (newdatabase: IDBDatabase) => void)\r\n    {\r\n        if (!this._dbStatus[dbname]) this._dbStatus[dbname] = { status: DBStatus.unOpen, onsuccessCallbacks: [], onupgradeneededCallbacks: [] };\r\n\r\n        this._dbStatus[dbname].onsuccessCallbacks.push(callback);\r\n        if (upgrade)\r\n        {\r\n            console.assert(!!onupgrade);\r\n            this._dbStatus[dbname].onupgradeneededCallbacks.push(onupgrade);\r\n        }\r\n        if (this._dbStatus[dbname].status === DBStatus.opening || this._dbStatus[dbname].status === DBStatus.upgrading) return;\r\n\r\n        let request: IDBOpenDBRequest;\r\n\r\n        if (!upgrade)\r\n        {\r\n            request = indexedDB.open(dbname);\r\n            this._dbStatus[dbname].status = DBStatus.opening;\r\n        }\r\n        else\r\n        {\r\n            const oldDatabase = databases[dbname];\r\n\r\n            oldDatabase.close();\r\n            delete databases[dbname];\r\n\r\n            request = indexedDB.open(dbname, oldDatabase.version + 1);\r\n            this._dbStatus[dbname].status = DBStatus.upgrading;\r\n        }\r\n\r\n        request.onupgradeneeded = (event) =>\r\n        {\r\n            const newdatabase: IDBDatabase = (event.target as any).result;\r\n\r\n            request.onupgradeneeded = null;\r\n\r\n            const callbacks = this._dbStatus[dbname].onupgradeneededCallbacks.concat();\r\n\r\n            this._dbStatus[dbname].onupgradeneededCallbacks.length = 0;\r\n            callbacks.forEach((element) =>\r\n            {\r\n                element(newdatabase);\r\n            });\r\n        };\r\n        request.onsuccess = (event) =>\r\n        {\r\n            databases[dbname] = (event.target as any).result;\r\n            request.onsuccess = null;\r\n\r\n            this._dbStatus[dbname].status = DBStatus.opened;\r\n\r\n            const callbacks = this._dbStatus[dbname].onsuccessCallbacks.concat();\r\n\r\n            this._dbStatus[dbname].onsuccessCallbacks.length = 0;\r\n            callbacks.forEach((element) =>\r\n            {\r\n                element(null, databases[dbname]);\r\n            });\r\n        };\r\n        request.onerror = (event) =>\r\n        {\r\n            request.onerror = null;\r\n\r\n            this._dbStatus[dbname].status = DBStatus.error;\r\n\r\n            const callbacks = this._dbStatus[dbname].onsuccessCallbacks.concat();\r\n\r\n            this._dbStatus[dbname].onsuccessCallbacks.length = 0;\r\n            callbacks.forEach((element) =>\r\n            {\r\n                element(event as any, null);\r\n            });\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 删除数据库\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param callback 完成回调\r\n     */\r\n    deleteDatabase(dbname: string, callback?: (err: any) => void)\r\n    {\r\n        const request = indexedDB.deleteDatabase(dbname);\r\n\r\n        request.onsuccess = function (_event)\r\n        {\r\n            delete databases[dbname];\r\n            callback && callback(null);\r\n            request.onsuccess = null;\r\n        };\r\n        request.onerror = function (event)\r\n        {\r\n            callback && callback(event);\r\n            request.onerror = null;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定的对象存储\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    hasObjectStore(dbname: string, objectStroreName: string, callback: (has: boolean) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            callback(database.objectStoreNames.contains(objectStroreName));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储名称列表\r\n     *\r\n     * @param dbname 数据库\r\n     * @param callback 完成回调\r\n     */\r\n    getObjectStoreNames(dbname: string, callback: (err: Error | null, objectStoreNames: string[]) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            const objectStoreNames: string[] = [];\r\n\r\n            for (let i = 0; i < database.objectStoreNames.length; i++)\r\n            {\r\n                objectStoreNames.push(database.objectStoreNames.item(i));\r\n            }\r\n            callback(null, objectStoreNames);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建对象存储\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    createObjectStore(dbname: string, objectStroreName: string, callback?: (err: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            if (database.objectStoreNames.contains(objectStroreName))\r\n            {\r\n                callback && callback(null);\r\n\r\n                return;\r\n            }\r\n\r\n            this._open(dbname, callback, true, (newdatabase: IDBDatabase) =>\r\n            {\r\n                newdatabase.createObjectStore(objectStroreName);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除对象存储\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    deleteObjectStore(dbname: string, objectStroreName: string, callback?: (err: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            if (!database.objectStoreNames.contains(objectStroreName))\r\n            {\r\n                callback && callback(null);\r\n\r\n                return;\r\n            }\r\n            this._open(dbname, callback, true, (newdatabase: IDBDatabase) =>\r\n            {\r\n                newdatabase.deleteObjectStore(objectStroreName);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储中所有键列表\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    getAllKeys(dbname: string, objectStroreName: string, callback?: (err: Error, keys: string[]) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            try\r\n            {\r\n                const transaction = database.transaction([objectStroreName], 'readwrite');\r\n                const objectStore = transaction.objectStore(objectStroreName);\r\n                const request = objectStore.getAllKeys();\r\n\r\n                request.onsuccess = function (event)\r\n                {\r\n                    callback && callback(null, (event.target as any).result);\r\n                    request.onsuccess = null;\r\n                };\r\n            }\r\n            catch (error)\r\n            {\r\n                callback && callback(error, null);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取对象存储中指定键对应的数据\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreGet(dbname: string, objectStroreName: string, key: string | number, callback?: (err: Error, data: any) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            const transaction = database.transaction([objectStroreName], 'readwrite');\r\n            const objectStore = transaction.objectStore(objectStroreName);\r\n            const request = objectStore.get(key);\r\n\r\n            request.onsuccess = function (event)\r\n            {\r\n                const result = (event.target as any).result;\r\n\r\n                callback && callback(result !== undefined ? null : new Error(`没有找到资源 ${key}`), result);\r\n                request.onsuccess = null;\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 设置对象存储的键与值，如果不存在指定键则新增否则修改。\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param data 数据\r\n     * @param callback 完成回调\r\n     */\r\n    objectStorePut(dbname: string, objectStroreName: string, key: string | number, data: any, callback?: (err: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            try\r\n            {\r\n                const transaction = database.transaction([objectStroreName], 'readwrite');\r\n                const objectStore = transaction.objectStore(objectStroreName);\r\n                const request = objectStore.put(data, key);\r\n\r\n                request.onsuccess = function (_event)\r\n                {\r\n                    callback && callback(null);\r\n                    request.onsuccess = null;\r\n                };\r\n            }\r\n            catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除对象存储中指定键以及对于数据\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param key 键\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreDelete(dbname: string, objectStroreName: string, key: string | number, callback?: (err?: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            try\r\n            {\r\n                const transaction = database.transaction([objectStroreName], 'readwrite');\r\n                const objectStore = transaction.objectStore(objectStroreName);\r\n                const request = objectStore.delete(key);\r\n\r\n                request.onsuccess = function (_event)\r\n                {\r\n                    callback && callback();\r\n                    request.onsuccess = null;\r\n                };\r\n            }\r\n            catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 清空对象存储中数据\r\n     *\r\n     * @param dbname 数据库名称\r\n     * @param objectStroreName 对象存储名称\r\n     * @param callback 完成回调\r\n     */\r\n    objectStoreClear(dbname: string, objectStroreName: string, callback?: (err?: Error) => void)\r\n    {\r\n        this.getDatabase(dbname, (_err, database) =>\r\n        {\r\n            try\r\n            {\r\n                const transaction = database.transaction([objectStroreName], 'readwrite');\r\n                const objectStore = transaction.objectStore(objectStroreName);\r\n                const request = objectStore.clear();\r\n\r\n                request.onsuccess = function (_event)\r\n                {\r\n                    callback && callback();\r\n                    request.onsuccess = null;\r\n                };\r\n            }\r\n            catch (error)\r\n            {\r\n                callback && callback(error);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport const _indexedDB = new _IndexedDB();\r\n\r\n/**\r\n * 数据库状态\r\n */\r\nenum DBStatus\r\n{\r\n    /**\r\n     * 未开启\r\n     */\r\n    unOpen,\r\n\r\n    /**\r\n     * 正在开启中\r\n     */\r\n    opening,\r\n\r\n    /**\r\n     * 已开启\r\n     */\r\n    opened,\r\n\r\n    /**\r\n     * 正在升级中\r\n     */\r\n    upgrading,\r\n\r\n    /**\r\n     * 开启或者升级失败\r\n     */\r\n    error,\r\n}\r\n","import { IReadFS } from './IReadFS';\r\nimport { ReadFS } from './ReadFS';\r\n\r\nexport class FS\r\n{\r\n    /**\r\n     * 默认文件系统\r\n     */\r\n    static fs: ReadFS;\r\n\r\n    /**\r\n     * 默认基础文件系统\r\n     */\r\n    static basefs: IReadFS;\r\n}\r\n","/**\r\n * 文件系统类型\r\n */\r\nexport enum FSType\r\n{\r\n    http = 'http',\r\n    native = 'native',\r\n    indexedDB = 'indexedDB'\r\n}\r\n","import { loader } from './base/Loader';\r\nimport { FS } from './FS';\r\nimport { FSType } from './FSType';\r\nimport { IReadFS } from './IReadFS';\r\n\r\n/**\r\n * Http可读文件系统\r\n */\r\nexport class HttpFS implements IReadFS\r\n{\r\n    /**\r\n     * 根路径\r\n     */\r\n    rootPath = '';\r\n\r\n    type = FSType.http;\r\n\r\n    constructor(rootPath = '')\r\n    {\r\n        this.rootPath = rootPath;\r\n        if (this.rootPath === '')\r\n        {\r\n            if (typeof document !== 'undefined')\r\n            {\r\n                const url = document.URL.split('?').shift();\r\n\r\n                this.rootPath = url.substring(0, url.lastIndexOf('/') + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, data: ArrayBuffer) => void)\r\n    {\r\n        // rootPath\r\n        loader.loadBinary(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                callback(null, content);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 读取文件为字符串\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, data: string) => void)\r\n    {\r\n        loader.loadText(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                callback(null, content);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 读取文件为Object\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, data: any) => void)\r\n    {\r\n        loader.loadText(this.getAbsolutePath(path),\r\n            (content) =>\r\n            {\r\n                const obj = JSON.parse(content);\r\n\r\n                callback(null, obj);\r\n            },\r\n            null,\r\n            (e) =>\r\n            {\r\n                callback(e, null);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        const img = new Image();\r\n\r\n        img.onload = () =>\r\n        {\r\n            callback(null, img);\r\n        };\r\n        img.onerror = (_evt) =>\r\n        {\r\n            callback(new Error(`加载图片${path}失败`), null);\r\n        };\r\n        img.src = this.getAbsolutePath(path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     * @param callback 回调函数\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return this.rootPath + path;\r\n    }\r\n}\r\n\r\nFS.basefs = new HttpFS();\r\n\r\n","import { globalEmitter } from '@feng3d/event';\r\nimport { dataTransform } from '@feng3d/polyfill';\r\nimport { _indexedDB } from './base/_IndexedDB';\r\nimport { FSType } from './FSType';\r\nimport { IReadWriteFS } from './IReadWriteFS';\r\n\r\n/**\r\n * 用于是否为文件夹\r\n */\r\nconst directorytoken = '!!!___directory___!!!';\r\n\r\n/**\r\n * 索引数据文件系统\r\n */\r\nexport class IndexedDBFS implements IReadWriteFS\r\n{\r\n    get type()\r\n    {\r\n        return FSType.indexedDB;\r\n    }\r\n\r\n    /**\r\n     * 数据库名称\r\n     */\r\n    DBname: string;\r\n\r\n    /**\r\n     * 项目名称（表单名称）\r\n     */\r\n    projectname: string;\r\n\r\n    constructor(DBname = 'feng3d-editor', projectname = 'testproject')\r\n    {\r\n        this.DBname = DBname;\r\n        this.projectname = projectname;\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, data: ArrayBuffer) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                callback(null, data);\r\n            }\r\n            else if (data instanceof Object)\r\n            {\r\n                const str = JSON.stringify(data, null, '\\t').replace(/[\\n\\t]+([\\d\\.e\\-\\[\\]]+)/g, '$1');\r\n                const arraybuffer = dataTransform.stringToArrayBuffer(str);\r\n\r\n                callback(null, arraybuffer);\r\n            }\r\n            else\r\n            {\r\n                const arraybuffer = dataTransform.stringToArrayBuffer(data);\r\n\r\n                callback(null, arraybuffer);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, data: string) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                dataTransform.arrayBufferToString(data, (str) =>\r\n                {\r\n                    callback(null, str);\r\n                });\r\n            }\r\n            else if (data instanceof Object)\r\n            {\r\n                const str = JSON.stringify(data, null, '\\t').replace(/[\\n\\t]+([\\d\\.e\\-\\[\\]]+)/g, '$1');\r\n\r\n                callback(null, str);\r\n            }\r\n            else\r\n            {\r\n                callback(null, data);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, data: any) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, data);\r\n\r\n                return;\r\n            }\r\n            if (data instanceof ArrayBuffer)\r\n            {\r\n                dataTransform.arrayBufferToString(data, (str) =>\r\n                {\r\n                    const obj = JSON.parse(str);\r\n\r\n                    callback(null, obj);\r\n                });\r\n            }\r\n            else if (data instanceof Object)\r\n            {\r\n                callback(null, data);\r\n            }\r\n            else\r\n            {\r\n                console.assert(typeof data === 'string');\r\n                const obj = JSON.parse(data);\r\n\r\n                callback(null, obj);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        this.readArrayBuffer(path, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err, null);\r\n\r\n                return;\r\n            }\r\n            dataTransform.arrayBufferToImage(data, (img) =>\r\n            {\r\n                callback(null, img);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     * @param callback 回调函数\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return path;\r\n    }\r\n\r\n    /**\r\n     * 是否为文件夹\r\n     *\r\n     * @param path 文件路径\r\n     * @param callback 完成回调\r\n     */\r\n    isDirectory(path: string, callback: (result: boolean) => void)\r\n    {\r\n        this.readString(path, (_err, data) =>\r\n        {\r\n            callback(data === directorytoken);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 文件是否存在\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    exists(path: string, callback: (exists: boolean) => void): void\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, path, (_err, data) =>\r\n        {\r\n            callback(!!data);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件夹中文件列表\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    readdir(path: string, callback: (err: Error, files: string[]) => void): void\r\n    {\r\n        _indexedDB.getAllKeys(this.DBname, this.projectname, (err, allfilepaths) =>\r\n        {\r\n            if (!allfilepaths)\r\n            {\r\n                callback(err, null);\r\n\r\n                return;\r\n            }\r\n            const subfilemap = {};\r\n\r\n            allfilepaths.forEach((element) =>\r\n            {\r\n                const dirp = path === '' ? path : (`${path}/`);\r\n\r\n                if (element.substr(0, dirp.length) === dirp && element !== path)\r\n                {\r\n                    const result = element.substr(dirp.length);\r\n                    const subfile = result.split('/').shift();\r\n\r\n                    subfilemap[subfile] = 1;\r\n                }\r\n            });\r\n            const files = Object.keys(subfilemap);\r\n\r\n            callback(null, files);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 新建文件夹\r\n     * @param path 文件夹路径\r\n     * @param callback 回调函数\r\n     */\r\n    mkdir(path: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.exists(path, (exists) =>\r\n        {\r\n            if (exists)\r\n            {\r\n                callback(new Error(`文件夹${path}已存在无法新建`));\r\n\r\n                return;\r\n            }\r\n            _indexedDB.objectStorePut(this.DBname, this.projectname, path, directorytoken, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除文件\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFile(path: string, callback: (err: Error) => void)\r\n    {\r\n        // 删除文件\r\n        _indexedDB.objectStoreDelete(this.DBname, this.projectname, path, callback);\r\n        globalEmitter.emit('fs.delete', path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param data 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeArrayBuffer(path: string, data: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, data, callback);\r\n        globalEmitter.emit('fs.write', path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param data 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeString(path: string, data: string, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, data, callback);\r\n        globalEmitter.emit('fs.write', path);\r\n    }\r\n\r\n    /**\r\n     * 写文件\r\n     * @param path 文件路径\r\n     * @param object 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeObject(path: string, object: any, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStorePut(this.DBname, this.projectname, path, object, callback);\r\n        globalEmitter.emit('fs.write', path);\r\n    }\r\n\r\n    /**\r\n     * 写图片\r\n     * @param path 图片路径\r\n     * @param image 图片\r\n     * @param callback 回调函数\r\n     */\r\n    writeImage(path: string, image: HTMLImageElement, callback?: (err: Error) => void)\r\n    {\r\n        dataTransform.imageToArrayBuffer(image, (arraybuffer) =>\r\n        {\r\n            this.writeArrayBuffer(path, arraybuffer, callback);\r\n            globalEmitter.emit('fs.write', path);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制文件\r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    copyFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        _indexedDB.objectStoreGet(this.DBname, this.projectname, src, (err, data) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(err);\r\n\r\n                return;\r\n            }\r\n            _indexedDB.objectStorePut(this.DBname, this.projectname, dest, data, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    hasProject(projectname: string, callback: (has: boolean) => void)\r\n    {\r\n        _indexedDB.getObjectStoreNames(this.DBname, (err, objectStoreNames) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback(false);\r\n\r\n                return;\r\n            }\r\n            callback(objectStoreNames.indexOf(projectname) !== -1);\r\n        });\r\n    }\r\n    /**\r\n     * 初始化项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    initproject(projectname: string, callback: (err: Error) => void)\r\n    {\r\n        this.projectname = projectname;\r\n        _indexedDB.createObjectStore(this.DBname, projectname, callback);\r\n    }\r\n}\r\n\r\n/**\r\n * 索引数据文件系统\r\n */\r\nexport const indexedDBFS = new IndexedDBFS();\r\n","/**\r\n * 路径工具\r\n */\r\nexport class PathUtils\r\n{\r\n    /**\r\n     * 标准化文件夹路径\r\n     * @param path\r\n     */\r\n    normalizeDir(path: string): string\r\n    {\r\n        if (path[path.length - 1] === '/')\r\n        {\r\n            path = path.substr(0, path.length - 1);\r\n        }\r\n\r\n        return path;\r\n    }\r\n    /**\r\n     * 是否为HTTP地址\r\n     *\r\n     * @param path 地址\r\n     */\r\n    isHttpURL(path: string): any\r\n    {\r\n        if (path.indexOf('http://') !== -1 || path.indexOf('https://') !== -1 || path.indexOf('file:///') !== -1)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 获取不带后缀名称\r\n     * @param path 路径\r\n     */\r\n    getName(path: string)\r\n    {\r\n        console.assert(path !== undefined);\r\n        let name = this.basename(path);\r\n\r\n        if (this.isDirectory(path))\r\n        {\r\n            return name;\r\n        }\r\n        name = name.split('.').shift();\r\n\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * 获取带后缀名称\r\n     * @param path 路径\r\n     */\r\n    basename(path: string)\r\n    {\r\n        console.assert(path !== undefined);\r\n        const paths = path.split('/');\r\n        let name = paths.pop();\r\n\r\n        if (name === '')\r\n        {\r\n            name = paths.pop();\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * 获取后缀\r\n     * @param path 路径\r\n     */\r\n    extname(path: string)\r\n    {\r\n        console.assert(path !== undefined);\r\n        const name = this.basename(path);\r\n        const index = name.indexOf('.');\r\n\r\n        if (index === -1) return '';\r\n\r\n        return name.substr(index);\r\n    }\r\n\r\n    /**\r\n     * 父路径\r\n     * @param path 路径\r\n     */\r\n    dirname(path: string)\r\n    {\r\n        console.assert(path !== undefined);\r\n        const paths = path.split('/');\r\n\r\n        if (this.isDirectory(path))\r\n        {\r\n            paths.pop();\r\n        }\r\n        paths.pop();\r\n\r\n        return paths.join('/');\r\n    }\r\n\r\n    /**\r\n     * 获取子文件（非文件夹）路径\r\n     *\r\n     * @param parentPath 父文件夹路径\r\n     * @param childName 子文件名称\r\n     */\r\n    getChildFilePath(parentPath: string, childName: string)\r\n    {\r\n        console.assert(parentPath !== undefined);\r\n        console.assert(childName !== undefined);\r\n\r\n        if (parentPath.charAt(parentPath.length - 1) !== '/') parentPath += '/';\r\n\r\n        return parentPath + childName;\r\n    }\r\n\r\n    /**\r\n     * 获取子文件夹路径\r\n     *\r\n     * @param parentPath 父文件夹路径\r\n     * @param childFolderName 子文件夹名称\r\n     */\r\n    getChildFolderPath(parentPath: string, childFolderName: string)\r\n    {\r\n        if (parentPath.charAt(parentPath.length - 1) !== '/') parentPath += '/';\r\n        if (childFolderName.charAt(childFolderName.length - 1) !== '/') childFolderName += '/';\r\n\r\n        return parentPath + childFolderName;\r\n    }\r\n\r\n    /**\r\n     * 是否文件夹\r\n     * @param path 路径\r\n     */\r\n    isDirectory(path: string)\r\n    {\r\n        return path.split('/').pop() === '';\r\n    }\r\n\r\n    /**\r\n     * 获取目录深度\r\n     * @param path 路径\r\n     */\r\n    getDirDepth(path: string)\r\n    {\r\n        let length = path.split('/').length;\r\n\r\n        if (this.isDirectory(path))\r\n        {\r\n            length--;\r\n        }\r\n\r\n        return length - 1;\r\n    }\r\n}\r\n\r\n/**\r\n * 路径工具\r\n */\r\nexport const pathUtils = new PathUtils();\r\n","import { task } from '@feng3d/task';\r\nimport { FS } from './FS';\r\nimport { FSType } from './FSType';\r\nimport { IReadFS } from './IReadFS';\r\n\r\n/**\r\n * 可读文件系统\r\n */\r\nexport class ReadFS\r\n{\r\n    /**\r\n     * 基础文件系统\r\n     */\r\n    get fs() { return this._fs || FS.basefs; }\r\n    set fs(v) { this._fs = v; }\r\n    protected _fs: IReadFS;\r\n\r\n    /**\r\n     * 文件系统类型\r\n     */\r\n    get type(): FSType\r\n    {\r\n        return this.fs.type;\r\n    }\r\n\r\n    constructor(fs?: IReadFS)\r\n    {\r\n        this.fs = fs;\r\n    }\r\n\r\n    /**\r\n     * 读取文件为ArrayBuffer\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readArrayBuffer(path: string, callback: (err: Error, arraybuffer: ArrayBuffer) => void)\r\n    {\r\n        this.fs.readArrayBuffer(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件为字符串\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readString(path: string, callback: (err: Error, str: string) => void)\r\n    {\r\n        this.fs.readString(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件为Object\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readObject(path: string, callback: (err: Error, object: any) => void)\r\n    {\r\n        this.fs.readObject(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 加载图片\r\n     * @param path 图片路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    readImage(path: string, callback: (err: Error, img: HTMLImageElement) => void)\r\n    {\r\n        this.fs.readImage(path, callback);\r\n\r\n        // functionwrap.wrapF(this.fs, this.fs.readImage, [path], callback);\r\n    }\r\n\r\n    /**\r\n     * 获取文件绝对路径\r\n     * @param path （相对）路径\r\n     */\r\n    getAbsolutePath(path: string)\r\n    {\r\n        return this.fs.getAbsolutePath(path);\r\n    }\r\n\r\n    /**\r\n     * 读取文件列表为字符串列表\r\n     *\r\n     * @param path 路径\r\n     * @param callback 读取完成回调 当err不为null时表示读取失败\r\n     */\r\n    readStrings(paths: string[], callback: (strs: (string | Error)[]) => void)\r\n    {\r\n        task.parallelResults(paths, (path, callback) =>\r\n        {\r\n            this.readString(path, (err, str) =>\r\n            {\r\n                callback(err || str);\r\n            });\r\n        }, callback);\r\n    }\r\n\r\n    protected _images: { [path: string]: HTMLImageElement } = {};\r\n\r\n    private _state: { [eventtype: string]: true } = {};\r\n}\r\n\r\nFS.fs = new ReadFS();\r\n\r\n","import { dataTransform } from '@feng3d/polyfill';\r\nimport { IReadWriteFS } from './IReadWriteFS';\r\nimport { pathUtils } from './PathUtils';\r\nimport { ReadFS } from './ReadFS';\r\n\r\nexport interface ReadWriteFS\r\n{\r\n    get fs(): IReadWriteFS;\r\n}\r\n\r\n/**\r\n * 可读写文件系统\r\n *\r\n * 扩展基础可读写文件系统\r\n */\r\nexport class ReadWriteFS extends ReadFS\r\n{\r\n    /**\r\n     * 项目名称（表单名称）\r\n     */\r\n    projectname: string;\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n    constructor(fs?: IReadWriteFS)\r\n    {\r\n        super(fs);\r\n    }\r\n\r\n    /**\r\n     * 文件是否存在\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    exists(path: string, callback: (exists: boolean) => void)\r\n    {\r\n        this.fs.exists(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件夹中文件列表\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    readdir(path: string, callback: (err: Error, files: string[]) => void)\r\n    {\r\n        this.fs.readdir(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 新建文件夹\r\n     * @param path 文件夹路径\r\n     * @param callback 回调函数\r\n     */\r\n    mkdir(path: string, callback?: (err: Error) => void)\r\n    {\r\n        path = pathUtils.normalizeDir(path);\r\n\r\n        this.fs.exists(path, (exists) =>\r\n        {\r\n            if (exists)\r\n            {\r\n                callback && callback(null);\r\n\r\n                return;\r\n            }\r\n            this.fs.mkdir(path, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除文件\r\n     * @param path 文件路径\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFile(path: string, callback?: (err: Error) => void)\r\n    {\r\n        this.fs.deleteFile(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 写(新建)文件\r\n     * 自动根据文件类型保存为对应结构\r\n     *\r\n     * @param path 文件路径\r\n     * @param arraybuffer 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeFile(path: string, arraybuffer: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        let ext = pathUtils.extname(path);\r\n\r\n        ext = ext.split('.').pop();\r\n        const fileTypedic = { meta: 'txt', json: 'object', jpg: 'arraybuffer', png: 'arraybuffer', mp3: 'arraybuffer', js: 'txt', ts: 'txt', map: 'txt', html: 'txt' };\r\n        let type = fileTypedic[ext];\r\n\r\n        if (path === 'tsconfig.json' || path === '.vscode/settings.json')\r\n        {\r\n            type = 'txt';\r\n        }\r\n\r\n        if (type === 'txt')\r\n        {\r\n            dataTransform.arrayBufferToString(arraybuffer, (str) =>\r\n            {\r\n                this.fs.writeString(path, str, (err) =>\r\n                {\r\n                    callback(err);\r\n                });\r\n            });\r\n        }\r\n        else if (type === 'object')\r\n        {\r\n            dataTransform.arrayBufferToObject(arraybuffer, (obj) =>\r\n            {\r\n                this.fs.writeObject(path, obj, (err) =>\r\n                {\r\n                    callback(err);\r\n                });\r\n            });\r\n        }\r\n        else if (type === 'arraybuffer')\r\n        {\r\n            this.writeArrayBuffer(path, arraybuffer, (err) =>\r\n            {\r\n                callback(err);\r\n            });\r\n        }\r\n        else\r\n        {\r\n            console.error(`无法导入文件 ${path}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 写ArrayBuffer(新建)文件\r\n     * @param path 文件路径\r\n     * @param arraybuffer 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeArrayBuffer(path: string, arraybuffer: ArrayBuffer, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        const dirpath = pathUtils.dirname(path);\r\n\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.fs.writeArrayBuffer(path, arraybuffer, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写字符串到(新建)文件\r\n     * @param path 文件路径\r\n     * @param str 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeString(path: string, str: string, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        const dirpath = pathUtils.dirname(path);\r\n\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.fs.writeString(path, str, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写Object到(新建)文件\r\n     * @param path 文件路径\r\n     * @param object 文件数据\r\n     * @param callback 回调函数\r\n     */\r\n    writeObject(path: string, object: any, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        const dirpath = pathUtils.dirname(path);\r\n\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.fs.writeObject(path, object, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写图片\r\n     * @param path 图片路径\r\n     * @param image 图片\r\n     * @param callback 回调函数\r\n     */\r\n    writeImage(path: string, image: HTMLImageElement, callback?: (err: Error) => void)\r\n    {\r\n        // 如果所属文件夹不存在则新建\r\n        const dirpath = pathUtils.dirname(path);\r\n\r\n        this.mkdir(dirpath, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.fs.writeImage(path, image, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制文件\r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    copyFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        this.fs.copyFile(src, dest, callback);\r\n    }\r\n\r\n    /**\r\n     * 是否为文件夹\r\n     *\r\n     * @param path 文件路径\r\n     * @param callback 完成回调\r\n     */\r\n    isDirectory(path: string, callback: (result: boolean) => void)\r\n    {\r\n        this.fs.isDirectory(path, callback);\r\n    }\r\n\r\n    /**\r\n     * 初始化项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    initproject(projectname: string, callback: (err: Error) => void)\r\n    {\r\n        this.fs.initproject(projectname, callback);\r\n    }\r\n\r\n    /**\r\n     * 是否存在指定项目\r\n     * @param projectname 项目名称\r\n     * @param callback 回调函数\r\n     */\r\n    hasProject(projectname: string, callback: (has: boolean) => void)\r\n    {\r\n        this.fs.hasProject(projectname, callback);\r\n    }\r\n\r\n    /**\r\n     * 获取指定文件下所有文件路径列表\r\n     */\r\n    getAllPathsInFolder(dirpath = '', callback: (err: Error, filepaths: string[]) => void): void\r\n    {\r\n        const dirs = [dirpath];\r\n        const result = [];\r\n        let currentdir = '';\r\n\r\n        // 递归获取文件\r\n        const handle = () =>\r\n        {\r\n            if (dirs.length > 0)\r\n            {\r\n                currentdir = dirs.shift();\r\n                this.readdir(currentdir, (_err, files) =>\r\n                {\r\n                    // 获取子文件路径\r\n                    const getChildPath = () =>\r\n                    {\r\n                        if (files.length === 0)\r\n                        {\r\n                            handle();\r\n\r\n                            return;\r\n                        }\r\n                        const childpath = currentdir + (currentdir === '' ? '' : '/') + files.shift();\r\n\r\n                        result.push(childpath);\r\n                        this.isDirectory(childpath, (result) =>\r\n                        {\r\n                            if (result) dirs.push(childpath);\r\n                            getChildPath();\r\n                        });\r\n                    };\r\n\r\n                    getChildPath();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                callback(null, result);\r\n            }\r\n        };\r\n\r\n        handle();\r\n    }\r\n\r\n    /**\r\n     * 移动文件\r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    moveFile(src: string, dest: string, callback?: (err: Error) => void)\r\n    {\r\n        this.copyFile(src, dest, (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.deleteFile(src, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 重命名文件\r\n     * @param oldPath 老路径\r\n     * @param newPath 新路径\r\n     * @param callback 回调函数\r\n     */\r\n    renameFile(oldPath: string, newPath: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.moveFile(oldPath, newPath, callback);\r\n    }\r\n\r\n    /**\r\n     * 移动一组文件\r\n     * @param movelists 移动列表\r\n     * @param callback 回调函数\r\n     */\r\n    moveFiles(movelists: [string, string][], callback?: (err: Error) => void)\r\n    {\r\n        this.copyFiles(movelists.concat(), (err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            const deletelists = movelists.reduce((value: string[], current) =>\r\n            {\r\n                value.push(current[0]);\r\n\r\n                return value;\r\n            }, []);\r\n\r\n            this.deleteFiles(deletelists, callback);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 复制一组文件\r\n     * @param copylists 复制列表\r\n     * @param callback 回调函数\r\n     */\r\n    copyFiles(copylists: [string, string][], callback?: (err: Error) => void)\r\n    {\r\n        if (copylists.length > 0)\r\n        {\r\n            const copyitem: [string, string] = copylists.shift();\r\n\r\n            this.copyFile(copyitem[0], copyitem[1], (err) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    callback && callback(err);\r\n\r\n                    return;\r\n                }\r\n                this.copyFiles(copylists, callback);\r\n            });\r\n\r\n            return;\r\n        }\r\n        callback && callback(null);\r\n    }\r\n\r\n    /**\r\n     * 删除一组文件\r\n     * @param deletelists 删除列表\r\n     * @param callback 回调函数\r\n     */\r\n    deleteFiles(deletelists: string[], callback?: (err: Error) => void)\r\n    {\r\n        if (deletelists.length > 0)\r\n        {\r\n            this.deleteFile(deletelists.shift(), (err) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    callback && callback(err);\r\n\r\n                    return;\r\n                }\r\n                this.deleteFiles(deletelists, callback);\r\n            });\r\n\r\n            return;\r\n        }\r\n        callback && callback(null);\r\n    }\r\n\r\n    /**\r\n     * 重命名文件(夹)\r\n     * @param oldPath 老路径\r\n     * @param newPath 新路径\r\n     * @param callback 回调函数\r\n     */\r\n    rename(oldPath: string, newPath: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.isDirectory(oldPath, (result) =>\r\n        {\r\n            if (result)\r\n            {\r\n                this.getAllPathsInFolder(oldPath, (err, filepaths) =>\r\n                {\r\n                    if (err)\r\n                    {\r\n                        callback && callback(err);\r\n\r\n                        return;\r\n                    }\r\n                    const renamelists: [string, string][] = [[oldPath, newPath]];\r\n\r\n                    filepaths.forEach((element) =>\r\n                    {\r\n                        renamelists.push([element, element.replace(oldPath, newPath)]);\r\n                    });\r\n                    this.moveFiles(renamelists, callback);\r\n                });\r\n            }\r\n            else\r\n            {\r\n                this.renameFile(oldPath, newPath, callback);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 移动文件(夹)\r\n     *\r\n     * @param src 源路径\r\n     * @param dest 目标路径\r\n     * @param callback 回调函数\r\n     */\r\n    move(src: string, dest: string, callback?: (err?: Error) => void): void\r\n    {\r\n        this.rename(src, dest, callback);\r\n    }\r\n\r\n    /**\r\n     * 删除文件(夹)\r\n     * @param path 路径\r\n     * @param callback 回调函数\r\n     */\r\n    delete(path: string, callback?: (err: Error) => void): void\r\n    {\r\n        this.isDirectory(path, (result) =>\r\n        {\r\n            if (result)\r\n            {\r\n                this.getAllPathsInFolder(path, (err, filepaths) =>\r\n                {\r\n                    if (err)\r\n                    {\r\n                        callback && callback(err);\r\n\r\n                        return;\r\n                    }\r\n                    const removelists: string[] = filepaths.concat(path);\r\n\r\n                    this.deleteFiles(removelists, callback);\r\n                });\r\n            }\r\n            else\r\n            {\r\n                this.deleteFile(path, callback);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { EventEmitter, IEvent } from '@feng3d/event';\r\n\r\n/**\r\n * 代理 EventTarget, 处理js事件中this关键字问题\r\n */\r\nexport class EventProxy<T = any> extends EventEmitter<T>\r\n{\r\n    pageX = 0;\r\n    pageY = 0;\r\n    clientX = 0;\r\n    clientY = 0;\r\n\r\n    /**\r\n     * 是否右击\r\n     */\r\n    rightmouse = false;\r\n\r\n    key = '';\r\n\r\n    keyCode = 0;\r\n\r\n    deltaY = 0;\r\n\r\n    private listentypes: (keyof T)[] = [];\r\n\r\n    get target()\r\n    {\r\n        return this._target;\r\n    }\r\n    set target(v)\r\n    {\r\n        if (this._target === v) return;\r\n        if (this._target)\r\n        {\r\n            this.listentypes.forEach((element) =>\r\n            {\r\n                this._target.removeEventListener(element as any, this.onMouseKey);\r\n            });\r\n        }\r\n        this._target = v;\r\n        if (this._target)\r\n        {\r\n            this.listentypes.forEach((element) =>\r\n            {\r\n                this._target.addEventListener(element as any, this.onMouseKey);\r\n            });\r\n        }\r\n    }\r\n\r\n    private _target: EventTarget;\r\n\r\n    constructor(target?: EventTarget)\r\n    {\r\n        super();\r\n        this.target = target;\r\n    }\r\n\r\n    /**\r\n     * 监听一次事件后将会被移除\r\n     * @param type 事件的类型。\r\n     * @param listener 处理事件的侦听器函数。\r\n     * @param thisObject listener函数作用域\r\n     * @param priority 事件侦听器的优先级。数字越大，优先级越高。默认优先级为 0。\r\n     */\r\n    once<K extends keyof T>(type: K, listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority?: number)\r\n    {\r\n        this.on(type as any, listener, thisObject, priority, true);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 添加监听\r\n     * @param type 事件的类型。\r\n     * @param listener 处理事件的侦听器函数。\r\n     * @param priority 事件侦听器的优先级。数字越大，优先级越高。默认优先级为 0。\r\n     */\r\n    on<K extends keyof T & string>(type: K, listener: (event: IEvent<T[K]>) => void, thisObject?: any, priority = 0, once = false): this\r\n    {\r\n        super.on(type, listener, thisObject, priority, once);\r\n        if (this.listentypes.indexOf(type) === -1)\r\n        {\r\n            this.listentypes.push(type);\r\n            this._target.addEventListener(type as any, this.onMouseKey);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 移除监听\r\n     * @param dispatcher 派发器\r\n     * @param type 事件的类型。\r\n     * @param listener 要删除的侦听器对象。\r\n     */\r\n    off<K extends keyof T & string>(type?: K, listener?: (event: IEvent<T[K]>) => void, thisObject?: any): this\r\n    {\r\n        super.off(type, listener, thisObject);\r\n        if (!type)\r\n        {\r\n            this.listentypes.forEach((element) =>\r\n            {\r\n                this._target.removeEventListener(element as any, this.onMouseKey);\r\n            });\r\n            this.listentypes.length = 0;\r\n        }\r\n        else if (!this.has(type))\r\n        {\r\n            this._target.removeEventListener(type, this.onMouseKey);\r\n            this.listentypes.splice(this.listentypes.indexOf(type), 1);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 处理鼠标按下时同时出发 \"mousemove\" 事件bug\r\n     */\r\n    private handleMouseMoveBug = true;\r\n    private mousedownposition: { x: number, y: number };\r\n    /**\r\n     * 键盘按下事件\r\n     */\r\n    private onMouseKey = (event) =>\r\n    {\r\n        // this.clear();\r\n\r\n        if (event.clientX !== undefined)\r\n        {\r\n            this.clientX = event.clientX;\r\n            this.clientY = event.clientY;\r\n            this.pageX = event.pageX;\r\n            this.pageY = event.pageY;\r\n        }\r\n\r\n        if (event instanceof MouseEvent)\r\n        {\r\n            this.rightmouse = event.button === 2;\r\n\r\n            // 处理鼠标按下时同时出发 \"mousemove\" 事件bug\r\n            if (this.handleMouseMoveBug)\r\n            {\r\n                if (event.type === 'mousedown')\r\n                {\r\n                    this.mousedownposition = { x: event.clientX, y: event.clientY };\r\n                }\r\n                if (event.type === 'mousemove')\r\n                {\r\n                    if (this.mousedownposition)\r\n                    {\r\n                        if (this.mousedownposition.x === event.clientX && this.mousedownposition.y === event.clientY)\r\n                        {\r\n                            // console.log(`由于系统原因，触发mousedown同时触发了mousemove，此处屏蔽mousemove事件派发！`);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                if (event.type === 'mouseup')\r\n                {\r\n                    this.mousedownposition = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (event instanceof KeyboardEvent)\r\n        {\r\n            this.keyCode = event.keyCode;\r\n            this.key = event.key;\r\n        }\r\n\r\n        if (event instanceof WheelEvent)\r\n        {\r\n            this.deltaY = event.deltaY;\r\n        }\r\n\r\n        // 赋值上次鼠标事件值\r\n        // event.clientX = this.clientX;\r\n        // event.clientY = this.clientY;\r\n        // event.pageX = this.pageX;\r\n        // event.pageY = this.pageY;\r\n\r\n        this.emit(event.type, event);\r\n    };\r\n\r\n    /**\r\n     * 清理数据\r\n     */\r\n    private clear()\r\n    {\r\n        this.clientX = 0;\r\n        this.clientY = 0;\r\n        this.rightmouse = false;\r\n        this.key = '';\r\n        this.keyCode = 0;\r\n        this.deltaY = 0;\r\n    }\r\n}\r\n","import { EventEmitter } from '@feng3d/event';\r\n\r\n/**\r\n * 按键状态\r\n */\r\nexport class KeyState extends EventEmitter\r\n{\r\n    /**\r\n     * 按键状态{key:键名称,value:是否按下}\r\n     */\r\n    private _keyStateDic: { [key: string]: boolean };\r\n\r\n    /**\r\n     * 构建\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n        this._keyStateDic = {};\r\n    }\r\n\r\n    /**\r\n     * 按下键\r\n     * @param key 键名称\r\n     * @param data 携带数据\r\n     */\r\n    pressKey(key: string, data: KeyboardEvent | WheelEvent | MouseEvent): void\r\n    {\r\n        // 处理鼠标中键与右键\r\n        if (data instanceof MouseEvent)\r\n        {\r\n            if (['click', 'mousedown', 'mouseup'].indexOf(data.type) !== -1)\r\n            {\r\n                key = ['', 'middle', 'right'][data.button] + data.type;\r\n            }\r\n        }\r\n        this._keyStateDic[key] = true;\r\n        this.emit(key, data);\r\n    }\r\n\r\n    /**\r\n     * 释放键\r\n     * @param key 键名称\r\n     * @param data 携带数据\r\n     */\r\n    releaseKey(key: string, data: KeyboardEvent | WheelEvent | MouseEvent): void\r\n    {\r\n        // 处理鼠标中键与右键\r\n        if (data instanceof MouseEvent)\r\n        {\r\n            if (['click', 'mousedown', 'mouseup'].indexOf(data.type) !== -1)\r\n            {\r\n                key = ['', 'middle', 'right'][data.button] + data.type;\r\n            }\r\n        }\r\n        this._keyStateDic[key] = false;\r\n        this.emit(key, data);\r\n    }\r\n\r\n    /**\r\n     * 获取按键状态\r\n     * @param key 按键名称\r\n     */\r\n    getKeyState(key: string): boolean\r\n    {\r\n        return !!this._keyStateDic[key];\r\n    }\r\n}\r\n","import { IEvent } from '@feng3d/event';\r\nimport { ShortCut } from '../ShortCut';\r\nimport { KeyState } from './KeyState';\r\n\r\n/**\r\n * 快捷键捕获\r\n */\r\nexport class ShortCutCapture\r\n{\r\n    /**\r\n     * 快捷键环境\r\n     */\r\n    private _shortCut: ShortCut;\r\n\r\n    /**\r\n     * 快捷键\r\n     */\r\n    private _key: string;\r\n\r\n    /**\r\n     * 要执行的命令名称\r\n     */\r\n    private _command: string | undefined;\r\n\r\n    /**\r\n     * 可执行的状态命令\r\n     */\r\n    private _stateCommand: string | undefined;\r\n\r\n    /**\r\n     * 快捷键处于活动状态的条件\r\n     */\r\n    private _when: string | undefined;\r\n\r\n    /**\r\n     * 按键状态\r\n     */\r\n    private _keyState: KeyState;\r\n\r\n    /**\r\n     * 按键列表\r\n     */\r\n    private _keys: Key[];\r\n\r\n    /**\r\n     * 状态列表\r\n     */\r\n    private _states: State[];\r\n\r\n    /**\r\n     * 命令列表\r\n     */\r\n    private _commands: string[];\r\n\r\n    /**\r\n     * 命令列表\r\n     */\r\n    private _stateCommands: StateCommand[];\r\n\r\n    /**\r\n     * 构建快捷键捕获\r\n     * @param shortCut 快捷键环境\r\n     * @param key 快捷键；用“+”连接多个按键，“!”表示没按下某键；例如 “a+!b”表示按下“a”与没按下“b”时触发。\r\n     * @param command 要执行的command的id；使用“,”连接触发多个命令；例如 “commandA,commandB”表示满足触发条件后依次执行commandA与commandB命令。\r\n     * @param stateCommand 要执行的状态命令id；使用“,”连接触发多个状态命令，没带“!”表示激活该状态，否则表示使其处于非激活状态；例如 “stateA,!stateB”表示满足触发条件后激活状态“stateA，使“stateB处于非激活状态。\r\n     * @param when 快捷键激活的条件；使用“+”连接多个状态，没带“!”表示需要处于激活状态，否则需要处于非激活状态； 例如 “stateA+!stateB”表示stateA处于激活状态且stateB处于非激活状态时会判断按键是否满足条件。\r\n     */\r\n    constructor(shortCut: ShortCut, key: string, command?: string, stateCommand?: string, when?: string)\r\n    {\r\n        this._shortCut = shortCut;\r\n        this._keyState = shortCut.keyState;\r\n        this._key = key;\r\n        this._command = command;\r\n        this._stateCommand = stateCommand;\r\n        this._when = when;\r\n\r\n        this._keys = this.getKeys(key);\r\n        this._states = this.getStates(when);\r\n        this._commands = this.getCommands(command);\r\n        this._stateCommands = this.getStateCommand(stateCommand);\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    private init(): void\r\n    {\r\n        for (let i = 0; i < this._keys.length; i++)\r\n        {\r\n            this._keyState.on(this._keys[i].key, this.onCapture, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 处理捕获事件\r\n     */\r\n    private onCapture(event: IEvent<any>): void\r\n    {\r\n        const inWhen = this.checkActivityStates(this._states);\r\n        const pressKeys = this.checkActivityKeys(this._keys);\r\n\r\n        if (pressKeys && inWhen)\r\n        {\r\n            this.dispatchCommands(this._commands, event);\r\n            this.executeStateCommands(this._stateCommands);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 派发命令\r\n     */\r\n    private dispatchCommands(commands: string[], data: IEvent<any>): void\r\n    {\r\n        for (let i = 0; i < commands.length; i++)\r\n        {\r\n            this._shortCut.emit(commands[i], data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 执行状态命令\r\n     */\r\n    private executeStateCommands(stateCommands: StateCommand[]): void\r\n    {\r\n        for (let i = 0; i < stateCommands.length; i++)\r\n        {\r\n            const stateCommand: StateCommand = stateCommands[i];\r\n\r\n            if (stateCommand.not)\r\n            {\r\n                this._shortCut.deactivityState(stateCommand.state);\r\n            }\r\n            else\r\n            {\r\n                this._shortCut.activityState(stateCommand.state);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 检测快捷键是否处于活跃状态\r\n     */\r\n    private checkActivityStates(states: State[]): boolean\r\n    {\r\n        for (let i = 0; i < states.length; i++)\r\n        {\r\n            if (!this.getState(states[i]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 获取是否处于指定状态中（支持一个！取反）\r\n     * @param state 状态名称\r\n     */\r\n    private getState(state: State): boolean\r\n    {\r\n        let result = this._shortCut.getState(state.state);\r\n\r\n        if (state.not)\r\n        {\r\n            result = !result;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 检测是否按下给出的键\r\n     * @param keys 按键数组\r\n     */\r\n    private checkActivityKeys(keys: Key[]): boolean\r\n    {\r\n        for (let i = 0; i < keys.length; i++)\r\n        {\r\n            if (!this.getKeyValue(keys[i]))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 获取按键状态（true：按下状态，false：弹起状态）\r\n     */\r\n    private getKeyValue(key: Key): boolean\r\n    {\r\n        let value = this._keyState.getKeyState(key.key);\r\n\r\n        if (key.not)\r\n        {\r\n            value = !value;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 获取状态列表\r\n     * @param when 状态字符串\r\n     */\r\n    private getStates(when?: string): State[]\r\n    {\r\n        const states: State[] = [];\r\n\r\n        if (!when)\r\n        {\r\n            return states;\r\n        }\r\n        const state: string = when.trim();\r\n\r\n        if (state.length === 0)\r\n        {\r\n            return states;\r\n        }\r\n\r\n        const stateStrs = state.split('+');\r\n\r\n        for (let i = 0; i < stateStrs.length; i++)\r\n        {\r\n            states.push(new State(stateStrs[i]));\r\n        }\r\n\r\n        return states;\r\n    }\r\n\r\n    /**\r\n     * 获取键列表\r\n     * @param key 快捷键\r\n     */\r\n    private getKeys(key: string): Key[]\r\n    {\r\n        const keyStrs = key.split('+');\r\n        const keys: Key[] = [];\r\n\r\n        for (let i = 0; i < keyStrs.length; i++)\r\n        {\r\n            keys.push(new Key(keyStrs[i]));\r\n        }\r\n\r\n        return keys;\r\n    }\r\n\r\n    /**\r\n     * 获取命令列表\r\n     * @param command 命令\r\n     */\r\n    private getCommands(command?: string): string[]\r\n    {\r\n        const commands: string[] = [];\r\n\r\n        if (!command)\r\n        { return commands; }\r\n\r\n        command = command.trim();\r\n        const commandStrs = command.split(',');\r\n\r\n        for (let i = 0; i < commandStrs.length; i++)\r\n        {\r\n            const commandStr: string = commandStrs[i].trim();\r\n\r\n            if (commandStr.length > 0)\r\n            {\r\n                commands.push(commandStr);\r\n            }\r\n        }\r\n\r\n        return commands;\r\n    }\r\n\r\n    /**\r\n     * 获取状态命令列表\r\n     * @param stateCommand 状态命令\r\n     */\r\n    private getStateCommand(stateCommand?: string): StateCommand[]\r\n    {\r\n        const stateCommands: StateCommand[] = [];\r\n\r\n        if (!stateCommand)\r\n        {\r\n            return stateCommands;\r\n        }\r\n\r\n        stateCommand = stateCommand.trim();\r\n        const stateCommandStrs = stateCommand.split(',');\r\n\r\n        for (let i = 0; i < stateCommandStrs.length; i++)\r\n        {\r\n            const commandStr: string = stateCommandStrs[i].trim();\r\n\r\n            if (commandStr.length > 0)\r\n            {\r\n                stateCommands.push(new StateCommand(commandStr));\r\n            }\r\n        }\r\n\r\n        return stateCommands;\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    destroy(): void\r\n    {\r\n        for (let i = 0; i < this._keys.length; i++)\r\n        {\r\n            this._keyState.off(this._keys[i].key, this.onCapture, this);\r\n        }\r\n        this._shortCut = null;\r\n        this._keys = null;\r\n        this._states = null;\r\n    }\r\n}\r\n\r\n/**\r\n * 按键\r\n */\r\nclass Key\r\n{\r\n    /**\r\n     * 是否取反\r\n     */\r\n    not: boolean;\r\n\r\n    /**\r\n     * 状态名称\r\n     */\r\n    key: string;\r\n\r\n    constructor(key: string)\r\n    {\r\n        key = key.trim();\r\n        if (key.charAt(0) === '!')\r\n        {\r\n            this.not = true;\r\n            key = key.substr(1).trim();\r\n        }\r\n        this.key = key;\r\n    }\r\n}\r\n\r\n/**\r\n * 状态\r\n */\r\nclass State\r\n{\r\n    /**\r\n     * 是否取反\r\n     */\r\n    not: boolean;\r\n\r\n    /**\r\n     * 状态名称\r\n     */\r\n    state: string;\r\n\r\n    constructor(state: string)\r\n    {\r\n        state = state.trim();\r\n        if (state.charAt(0) === '!')\r\n        {\r\n            this.not = true;\r\n            state = state.substr(1).trim();\r\n        }\r\n        this.state = state;\r\n    }\r\n}\r\n\r\n/**\r\n * 状态命令\r\n */\r\nclass StateCommand\r\n{\r\n    /**\r\n     * 是否取反\r\n     */\r\n    not: boolean;\r\n\r\n    /**\r\n     * 状态名称\r\n     */\r\n    state: string;\r\n\r\n    constructor(state: string)\r\n    {\r\n        state = state.trim();\r\n        if (state.charAt(0) === '!')\r\n        {\r\n            this.not = true;\r\n            state = state.substr(1).trim();\r\n        }\r\n        this.state = state;\r\n    }\r\n}\r\n\r\n","/**\r\n * 键盘按键字典 （补充常量，a-z以及鼠标按键不必再次列出）\r\n * 例如 boardKeyDic[17] = \"ctrl\";\r\n */\r\nconst boardKeyDic: { [keyCode: number]: string } = {\r\n    17: 'ctrl',\r\n    16: 'shift',\r\n    32: 'escape',\r\n    18: 'alt',\r\n    46: 'del',\r\n};\r\n\r\nexport class KeyBoard\r\n{\r\n    /**\r\n     * 获取键盘按键名称\r\n     * @param code 按键值\r\n     */\r\n    static getKey(code: number): string\r\n    {\r\n        let key = boardKeyDic[code];\r\n\r\n        if ((key === undefined || key === null) && code >= 65 && code <= 90)\r\n        {\r\n            key = String.fromCharCode(code).toLocaleLowerCase();\r\n        }\r\n\r\n        return key;\r\n    }\r\n\r\n    /**\r\n     * 获取按键值\r\n     * @param key 按键\r\n     */\r\n    static getCode(key: string)\r\n    {\r\n        key = key.toLocaleLowerCase();\r\n        const code = key.charCodeAt(0);\r\n\r\n        if (key.length === 1 && code >= 65 && code <= 90)\r\n        {\r\n            return code;\r\n        }\r\n        for (const code in boardKeyDic)\r\n        {\r\n            if (boardKeyDic[code] === key)\r\n            {\r\n                return Number(code);\r\n            }\r\n        }\r\n        console.error(`无法获取按键 ${key} 的值！`);\r\n\r\n        return code;\r\n    }\r\n}\r\n","import { EventProxy } from './EventProxy';\r\n\r\n/**\r\n * 键盘鼠标输入\r\n */\r\nexport const windowEventProxy = new EventProxy<WindowEventMap>(self);\r\n","import { IEvent } from '@feng3d/event';\r\nimport { KeyBoard } from '../Keyboard';\r\nimport { ShortCut } from '../ShortCut';\r\nimport { windowEventProxy } from '../WindowEventProxy';\r\nimport { KeyState } from './KeyState';\r\n\r\n/**\r\n * 按键捕获\r\n */\r\nexport class KeyCapture\r\n{\r\n    /**\r\n     * 捕获的按键字典\r\n     */\r\n    private _mouseKeyDic = {};\r\n\r\n    /**\r\n     * 按键状态\r\n     */\r\n    private _keyState: KeyState;\r\n    private shortcut: ShortCut;\r\n\r\n    /**\r\n     * 构建\r\n     * @param stage 舞台\r\n     */\r\n    constructor(shortcut: ShortCut)\r\n    {\r\n        this.shortcut = shortcut;\r\n        this._keyState = shortcut.keyState;\r\n        //\r\n        if (!windowEventProxy)\r\n        {\r\n            return;\r\n        }\r\n        windowEventProxy.on('keydown', this.onKeydown, this);\r\n        windowEventProxy.on('keyup', this.onKeyup, this);\r\n\r\n        // 监听鼠标事件\r\n        const mouseEvents = [ //\r\n            'dblclick', //\r\n            'click', //\r\n            'mousedown',\r\n            'mouseup',\r\n            'mousemove',\r\n            'mouseover',\r\n            'mouseout',\r\n        ];\r\n\r\n        for (let i = 0; i < mouseEvents.length; i++)\r\n        {\r\n            windowEventProxy.on(mouseEvents[i] as any, this.onMouseOnce, this);\r\n        }\r\n        windowEventProxy.on('wheel', this.onMousewheel, this);\r\n    }\r\n\r\n    /**\r\n     * 鼠标事件\r\n     */\r\n    private onMouseOnce(event: IEvent<MouseEvent>): void\r\n    {\r\n        if (!this.shortcut.enable)\r\n        {\r\n            return;\r\n        }\r\n        const mouseKey: string = event.type;\r\n\r\n        this._keyState.pressKey(mouseKey, event.data);\r\n        this._keyState.releaseKey(mouseKey, event.data);\r\n    }\r\n\r\n    /**\r\n     * 鼠标事件\r\n     */\r\n    private onMousewheel(event: IEvent<WheelEvent>): void\r\n    {\r\n        if (!this.shortcut.enable)\r\n        {\r\n            return;\r\n        }\r\n        const mouseKey: string = event.type;\r\n\r\n        this._keyState.pressKey(mouseKey, event.data);\r\n        this._keyState.releaseKey(mouseKey, event.data);\r\n    }\r\n\r\n    /**\r\n     * 键盘按下事件\r\n     */\r\n    private onKeydown(event: IEvent<KeyboardEvent>): void\r\n    {\r\n        if (!this.shortcut.enable)\r\n        {\r\n            return;\r\n        }\r\n        let boardKey: string = KeyBoard.getKey(event.data.keyCode);\r\n\r\n        boardKey = boardKey || event.data.key;\r\n        if (boardKey)\r\n        {\r\n            boardKey = boardKey.toLocaleLowerCase();\r\n            this._keyState.pressKey(boardKey, event.data);\r\n        }\r\n        else\r\n        {\r\n            console.error(`无法识别按钮 ${event.data.key}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 键盘弹起事件\r\n     */\r\n    private onKeyup(event: IEvent<KeyboardEvent>): void\r\n    {\r\n        if (!this.shortcut.enable)\r\n        {\r\n            return;\r\n        }\r\n        let boardKey: string = KeyBoard.getKey(event.data.keyCode);\r\n\r\n        boardKey = boardKey || event.data.key;\r\n        if (boardKey)\r\n        {\r\n            boardKey = boardKey.toLocaleLowerCase();\r\n            this._keyState.releaseKey(boardKey, event.data);\r\n        }\r\n        else\r\n        {\r\n            console.error(`无法识别按钮 ${event.data.key}`);\r\n        }\r\n    }\r\n}\r\n","import { EventEmitter } from '@feng3d/event';\r\nimport { KeyCapture } from './handle/KeyCapture';\r\nimport { KeyState } from './handle/KeyState';\r\nimport { ShortCutCapture } from './handle/ShortCutCapture';\r\n\r\n/**\r\n * 初始化快捷键模块\r\n *\r\n * <pre>\r\nvar shortcuts:Array = [ //\r\n//在按下key1时触发命令command1\r\n{key: \"key1\", command: \"command1\", when: \"\"}, //\r\n //在按下key1时触发状态命令改变stateCommand1为激活状态\r\n{key: \"key1\", stateCommand: \"stateCommand1\", when: \"state1\"}, //\r\n //处于state1状态时按下key1触发命令command1\r\n{key: \"key1\", command: \"command1\", when: \"state1\"}, //\r\n//处于state1状态不处于state2时按下key1与没按下key2触发command1与command2，改变stateCommand1为激活状态，stateCommand2为非激活状态\r\n{key: \"key1+ ! key2\", command: \"command1,command2\", stateCommand: \"stateCommand1,!stateCommand2\", when: \"state1+!state2\"}, //\r\n];\r\n//添加快捷键\r\nshortCut.addShortCuts(shortcuts);\r\n//监听命令\r\nEvent.on(shortCut,\"run\" as any, function(e:Event):void\r\n{\r\ntrace(\"接受到命令：\" + e.type);\r\n});\r\n * </pre>\r\n */\r\nexport class ShortCut extends EventEmitter\r\n{\r\n    /**\r\n     * 按键状态\r\n     */\r\n    keyState: KeyState;\r\n\r\n    /**\r\n     * 状态字典\r\n     */\r\n    stateDic: { [state: string]: boolean };\r\n\r\n    /**\r\n     * 按键捕获\r\n     */\r\n    keyCapture: KeyCapture;\r\n\r\n    /**\r\n     * 捕获字典\r\n     */\r\n    captureDic: { [capture: string]: ShortCutCapture };\r\n\r\n    /**\r\n     * 启动\r\n     */\r\n    enable = true;\r\n\r\n    /**\r\n     * 初始化快捷键模块\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n        this.keyState = new KeyState();\r\n        this.keyCapture = new KeyCapture(this);\r\n\r\n        this.captureDic = {};\r\n        this.stateDic = {};\r\n    }\r\n\r\n    /**\r\n     * 添加快捷键\r\n     * @param shortcuts 快捷键列表\r\n     */\r\n    addShortCuts(shortcuts: { key: string, command?: string, stateCommand?: string, when?: string }[]): void\r\n    {\r\n        for (let i = 0; i < shortcuts.length; i++)\r\n        {\r\n            const shortcut = shortcuts[i];\r\n            const shortcutUniqueKey: string = this.getShortcutUniqueKey(shortcut);\r\n\r\n            this.captureDic[shortcutUniqueKey] = this.captureDic[shortcutUniqueKey] || new ShortCutCapture(this, shortcut.key, shortcut.command, shortcut.stateCommand, shortcut.when);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除快捷键\r\n     * @param shortcuts 快捷键列表\r\n     */\r\n    removeShortCuts(shortcuts: { key: string, command?: string, stateCommand?: string, when?: string }[]): void\r\n    {\r\n        for (let i = 0; i < shortcuts.length; i++)\r\n        {\r\n            const shortcutUniqueKey: string = this.getShortcutUniqueKey(shortcuts[i]);\r\n            const shortCutCapture: ShortCutCapture = this.captureDic[shortcutUniqueKey];\r\n\r\n            if (ShortCutCapture !== null)\r\n            {\r\n                shortCutCapture.destroy();\r\n            }\r\n            delete this.captureDic[shortcutUniqueKey];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移除所有快捷键\r\n     */\r\n    removeAllShortCuts(): void\r\n    {\r\n        const keys: string[] = [];\r\n        let key: string;\r\n\r\n        for (key in this.captureDic)\r\n        {\r\n            keys.push(key);\r\n        }\r\n\r\n        keys.forEach((key) =>\r\n        {\r\n            const shortCutCapture: ShortCutCapture = this.captureDic[key];\r\n\r\n            shortCutCapture.destroy();\r\n            delete this.captureDic[key];\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 激活状态\r\n     * @param state 状态名称\r\n     */\r\n    activityState(state: string): void\r\n    {\r\n        this.stateDic[state] = true;\r\n    }\r\n\r\n    /**\r\n     * 取消激活状态\r\n     * @param state 状态名称\r\n     */\r\n    deactivityState(state: string): void\r\n    {\r\n        delete this.stateDic[state];\r\n    }\r\n\r\n    /**\r\n     * 获取状态\r\n     * @param state 状态名称\r\n     */\r\n    getState(state: string): boolean\r\n    {\r\n        return !!this.stateDic[state];\r\n    }\r\n\r\n    /**\r\n     * 获取快捷键唯一字符串\r\n     */\r\n    private getShortcutUniqueKey(shortcut: { key: string, command?: string, stateCommand?: string, when?: string }): string\r\n    {\r\n        return `${shortcut.key},${shortcut.command},${shortcut.stateCommand},${shortcut.when}`;\r\n    }\r\n}\r\n\r\n/**\r\n * 快捷键\r\n */\r\nexport const shortcut = new ShortCut();\r\n","/**\r\n * 运行环境枚举\r\n */\r\nexport enum RunEnvironment\r\n{\r\n    /**\r\n     * 在feng3d模式下运行\r\n     */\r\n    feng3d = 1 << 0,\r\n\r\n    /**\r\n     * 运行在编辑器中\r\n     */\r\n    editor = 1 << 1,\r\n\r\n    /**\r\n     * 在所有环境中运行\r\n     */\r\n    all = (1 << 8) - 1,\r\n}\r\n","/**\r\n * 在检查器中控制对象销毁、保存和可见性的位掩码。\r\n */\r\nexport enum HideFlags\r\n{\r\n    /**\r\n     * 一个正常的,可见对象。这是默认的。\r\n     */\r\n    None = 0,\r\n    /**\r\n     * 不会出现在层次界面中。\r\n     */\r\n    HideInHierarchy = 1,\r\n    /**\r\n     * 不会出现在检查器界面中。\r\n     */\r\n    HideInInspector = 2,\r\n    /**\r\n     * 不会保存到编辑器中的场景中。\r\n     */\r\n    DontSaveInEditor = 4,\r\n    /**\r\n     * 在检查器中不可编辑。\r\n     */\r\n    NotEditable = 8,\r\n    /**\r\n     * 在构建播放器时对象不会被保存。\r\n     */\r\n    DontSaveInBuild = 16,\r\n    /**\r\n     * 对象不会被Resources.UnloadUnusedAssets卸载。\r\n     */\r\n    DontUnloadUnusedAsset = 32,\r\n    /**\r\n     * 不能被变换\r\n     */\r\n    DontTransform = 64,\r\n    /**\r\n     * 隐藏\r\n     */\r\n    Hide = HideInHierarchy | HideInInspector,\r\n    /**\r\n     * 对象不会保存到场景中。加载新场景时不会被销毁。相当于DontSaveInBuild | HideFlags。DontSaveInEditor | HideFlags.DontUnloadUnusedAsset\r\n     */\r\n    DontSave = DontSaveInEditor | DontSaveInBuild,\r\n    /**\r\n     * 不显示在层次界面中，不保存到场景中，加载新场景时不会被销毁。\r\n     */\r\n    HideAndDontSave = 61\r\n}\r\n","import { EventEmitter } from '@feng3d/event';\r\nimport { Constructor, IDisposable, mathUtil } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { HideFlags } from './HideFlags';\r\n\r\nexport interface Feng3dObjectEventMap\r\n{\r\n    /**\r\n     * 销毁事件。当对象将被销毁是发射销毁事件。\r\n     */\r\n    // destroy: Feng3dObject;\r\n}\r\n\r\n/**\r\n * 所有feng3d对象的基类\r\n */\r\nexport class Feng3dObject<T extends Feng3dObjectEventMap = Feng3dObjectEventMap> extends EventEmitter<T> implements IDisposable\r\n{\r\n    /**\r\n     * 名称\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * 隐藏标记，用于控制是否在层级界面、检查器显示，是否保存\r\n     */\r\n    @serialize\r\n    hideFlags = HideFlags.None;\r\n\r\n    /**\r\n     * 通用唯一标识符（Universally Unique Identifier）\r\n     */\r\n    readonly uuid: string;\r\n\r\n    /**\r\n     * 是否已销毁\r\n     */\r\n    get disposed() { return this._disposed; }\r\n    protected _disposed = false;\r\n\r\n    /**\r\n     * 构建\r\n     *\r\n     * 新增不可修改属性 guid\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n        Object.defineProperty(this, 'uuid', { value: mathUtil.uuid() });\r\n        Object.defineProperty(this, 'disposed', { value: false, configurable: true });\r\n        console.assert(!Feng3dObject.objectLib[this.uuid], `唯一标识符存在重复！？`);\r\n        Feng3dObject.objectLib[this.uuid] = this;\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        Object.defineProperty(this, 'disposed', { value: true, configurable: false });\r\n    }\r\n\r\n    /**\r\n     * 获取对象\r\n     *\r\n     * @param uuid 通用唯一标识符\r\n     */\r\n    static getObject(uuid: string)\r\n    {\r\n        return this.objectLib[uuid];\r\n    }\r\n\r\n    /**\r\n     * 获取对象\r\n     *\r\n     * @param type\r\n     */\r\n    static getObjects<T extends Feng3dObject>(type?: Constructor<T>): T[]\r\n    {\r\n        const objects = Object.keys(this.objectLib).map((v) => this.objectLib[v]);\r\n        //\r\n        let filterResult = objects;\r\n        if (type)\r\n        {\r\n            filterResult = objects.filter((v) => v instanceof type);\r\n        }\r\n\r\nreturn <T[]>filterResult;\r\n    }\r\n\r\n    /**\r\n     * 对象库\r\n     */\r\n    private static objectLib: { [guid: string]: Feng3dObject };\r\n}\r\nObject.defineProperty(Feng3dObject, 'objectLib', { value: {} });\r\n\r\nserialization.serializeHandlers.push(\r\n    // 处理 Feng3dObject\r\n    {\r\n        priority: 0,\r\n        handler (target, source, property)\r\n        {\r\n            const spv = source[property];\r\n            if (spv instanceof Feng3dObject && (spv.hideFlags & HideFlags.DontSave))\r\n            {\r\n                return true;\r\n            }\r\n\r\nreturn false;\r\n        }\r\n    },\r\n);\r\n\r\n","import { IEvent } from '@feng3d/event';\r\nimport { Constructor, IDisposable } from '@feng3d/polyfill';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Feng3dObject } from '../core/Feng3dObject';\r\nimport { GameObject, GameObjectEventMap } from '../core/GameObject';\r\nimport { Scene } from '../scene/Scene';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsComponentMap { }\r\n    interface MixinsComponent { }\r\n}\r\n\r\ninterface ComponentInfo\r\n{\r\n    /**\r\n     * 组件名称，默认构造函数名称。当组件重名时可以使用该参数进行取别名，并且在接口 ComponentMap 中相应调整。\r\n     */\r\n    name: string;\r\n    /**\r\n     * 是否唯一，同类型组件只允许一个。\r\n     */\r\n    single: boolean;\r\n    /**\r\n     * 构造函数\r\n     */\r\n    type: Constructor<Component>;\r\n    /**\r\n     * 所依赖的组件列表。当该组件被添加Entity上时，会补齐缺少的依赖组件。\r\n     */\r\n    dependencies: Constructor<Component>[];\r\n}\r\n\r\n/**\r\n * 组件信息属性常量，保存组件名称与组件依赖ComponentInfo，由 @RegisterComponent 装饰器进行填充。\r\n */\r\nconst __component__ = '__component__';\r\n\r\n/**\r\n * 注册组件\r\n *\r\n * 使用 @RegisterComponent 在组件类定义上注册组件，配合扩展 ComponentMap 接口后可使用 GameObject.getComponent 等方法。\r\n *\r\n * @param component 组件名称，默认使用类名称\r\n */\r\nexport function RegisterComponent(component?: {\r\n    /**\r\n     * 组件名称，默认构造函数名称。当组件重名时可以使用该参数进行取别名，并且在接口 ComponentMap 中相应调整。\r\n     */\r\n    name: string,\r\n    /**\r\n     * 是否唯一，同类型组件只允许一个。\r\n     */\r\n    single?: boolean,\r\n    /**\r\n     * 所依赖的组件列表。当该组件被添加Entity上时，会补齐缺少的依赖组件。\r\n     */\r\n    dependencies?: Constructor<Component>[]\r\n})\r\n{\r\n    return (constructor: Constructor<Component>) =>\r\n    {\r\n        component = component || <any>{};\r\n        const info = component as ComponentInfo;\r\n        info.name = info.name || component.name || constructor.name;\r\n        info.type = constructor;\r\n        info.dependencies = info.dependencies || [];\r\n        constructor.prototype[__component__] = info;\r\n\r\n        if (Component._componentMap[info.name])\r\n        {\r\n            console.warn(`重复定义组件${info.name}，${Component._componentMap[info.name]} ${constructor} ！`);\r\n        }\r\n        else\r\n        {\r\n            Component._componentMap[info.name] = constructor;\r\n        }\r\n    };\r\n}\r\n\r\nexport function getComponentType<T extends ComponentNames>(type: T): Constructor<ComponentMap[T]>\r\n{\r\n    return Component._componentMap[type] as any;\r\n}\r\n\r\n/**\r\n * 组件名称与类定义映射，由 @RegisterComponent 装饰器进行填充。\r\n */\r\nexport const componentMap: ComponentMap = <any>{};\r\n\r\n/**\r\n * 组件名称与类定义映射，新建组件一般都需扩展该接口。\r\n */\r\nexport interface ComponentMap extends MixinsComponentMap { Component: Component }\r\n\r\nexport type ComponentNames = keyof ComponentMap;\r\nexport type Components = ComponentMap[ComponentNames];\r\n\r\nexport interface Component extends MixinsComponent { }\r\n\r\n/**\r\n * 组件\r\n *\r\n * 所有附加到GameObjects的基类。\r\n *\r\n * 注意，您的代码永远不会直接创建组件。相反，你可以编写脚本代码，并将脚本附加到GameObject(游戏物体)上。\r\n */\r\nexport class Component extends Feng3dObject<GameObjectEventMap> implements IDisposable\r\n{\r\n    // ------------------------------------------\r\n    // Variables\r\n    // ------------------------------------------\r\n    /**\r\n     * 此组件附加到的游戏对象。组件总是附加到游戏对象上。\r\n     */\r\n    get gameObject()\r\n    {\r\n        return this._gameObject;\r\n    }\r\n\r\n    /**\r\n     * 标签\r\n     */\r\n    get tag()\r\n    {\r\n        return this._gameObject.tag;\r\n    }\r\n\r\n    /**\r\n     * The Transform attached to this GameObject (null if there is none attached).\r\n     */\r\n    get transform()\r\n    {\r\n        return this._gameObject && this._gameObject.transform;\r\n    }\r\n\r\n    /**\r\n     * 是否唯一，同类型3D对象组件只允许一个\r\n     */\r\n    get single()\r\n    {\r\n        return false;\r\n    }\r\n\r\n    // ------------------------------------------\r\n    // Functions\r\n    // ------------------------------------------\r\n    /**\r\n     * 创建一个组件\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n        this.onAny(this._onAnyListener, this);\r\n    }\r\n\r\n    /**\r\n     * 初始化组件\r\n     *\r\n     * 在添加到GameObject时立即被调用。\r\n     */\r\n    init()\r\n    {\r\n    }\r\n\r\n    /**\r\n     * Adds a component class of type componentType to the game object.\r\n     *\r\n     * @param type A component class of type.\r\n     * @returns The component that is added.\r\n     */\r\n    /**\r\n     * Adds a component class of type componentType to the game object.\r\n     *\r\n     * @param type 组件类定义。\r\n     * @returns 被添加的组件。\r\n     */\r\n    addComponent<T extends Component>(type: Constructor<T>): T\r\n    {\r\n        return this._gameObject.addComponent(type);\r\n    }\r\n\r\n    /**\r\n     * Returns the component of Type type if the game object has one attached, null if it doesn't.\r\n     *\r\n     * Using gameObject.GetComponent will return the first component that is found. If you expect there to be more than one component of the\r\n     * same type, use gameObject.GetComponents instead, and cycle through the returned components testing for some unique property.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @returns The component to retrieve.\r\n     */\r\n    /**\r\n     * 返回游戏对象附加的一个指定类型的组件，如果没有，则返回 null。\r\n     *\r\n     * 使用 gameObject.GetComponent 将返回找到的第一个组件。如果您希望有多个相同类型的组件，请改用 gameObject.GetComponents，并循环通过返回的组件测试某些唯一属性。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @returns 要检索的组件。\r\n     */\r\n    getComponent<T extends Component>(type: Constructor<T>): T\r\n    {\r\n        return this._gameObject.getComponent(type);\r\n    }\r\n\r\n    /**\r\n     * Returns the component of Type type in the GameObject or any of its children using depth first search.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @returns A component of the matching type, if found.\r\n     */\r\n    /**\r\n     * 使用深度优先搜索返回 GameObject 或其任何子项中的 Type 组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 是否包含不活跃组件。\r\n     * @returns 匹配类型的组件（如果找到）。\r\n     */\r\n    getComponentInChildren<T extends Component>(type: Constructor<T>, includeInactive = false): T\r\n    {\r\n        return this._gameObject.getComponentInChildren(type, includeInactive);\r\n    }\r\n\r\n    /**\r\n     * Retrieves the component of Type type in the GameObject or any of its parents.\r\n     *\r\n     * This method recurses upwards until it finds a GameObject with a matching component. Only components on active GameObjects are matched.\r\n     *\r\n     * @param type Type of component to find.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @returns Returns a component if a component matching the type is found. Returns null otherwise.\r\n     */\r\n    /**\r\n     * 检索GameObject或其任何父项type中的 Type 组件。\r\n     *\r\n     * 此方法向上递归，直到找到具有匹配组件的 GameObject。仅匹配活动游戏对象上的组件。\r\n     *\r\n     * @param type 要查找的组件类型。\r\n     * @param includeInactive 是否包含不活跃组件。\r\n     * @returns 如果找到与类型匹配的组件，则返回一个组件。否则返回 null。\r\n     */\r\n    getComponentInParent<T extends Component>(type: Constructor<T>, includeInactive = false): T\r\n    {\r\n        return this._gameObject.getComponentInParent(type, includeInactive);\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type `type` in the GameObject.\r\n     *\r\n     * @param type The type of component to retrieve.\r\n     * @param results List to receive the results.\r\n     * @returns all components of Type type in the GameObject.\r\n     */\r\n    /**\r\n     * 返回GameObject中指定类型的所有组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param results 列出接收找到的组件。\r\n     * @returns GameObject中指定类型的所有组件。\r\n     */\r\n    getComponents<T extends Component>(type: Constructor<T>, results: T[] = []): T[]\r\n    {\r\n        return this._gameObject.getComponents(type, results);\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type type in the GameObject or any of its children children using depth first search. Works recursively.\r\n     *\r\n     * Unity searches for components recursively on child GameObjects. This means that it also includes all the child GameObjects of the target GameObject, and all subsequent child GameObjects.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @param results List to receive found Components.\r\n     * @returns All found Components.\r\n     */\r\n    /**\r\n     * 使用深度优先搜索返回 GameObject 或其任何子子项中 Type 的所有组件。递归工作。\r\n     *\r\n     * Unity 在子游戏对象上递归搜索组件。这意味着它还包括目标 GameObject 的所有子 GameObject，以及所有后续子 GameObject。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 非活动游戏对象上的组件是否应该包含在搜索结果中？\r\n     * @param results 列出接收找到的组件。\r\n     * @returns 所有找到的组件。\r\n     */\r\n    getComponentsInChildren<T extends Component>(type: Constructor<T>, includeInactive = false, results: T[] = []): T[]\r\n    {\r\n        return this._gameObject.getComponentsInChildren(type, includeInactive, results);\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type type in the GameObject or any of its parents.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should inactive Components be included in the found set?\r\n     * @param results List holding the found Components.\r\n     * @returns All components of Type type in the GameObject or any of its parents.\r\n     */\r\n    /**\r\n     * 返回GameObject或其任何父级中指定的所有组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 非活动组件是否应该包含在搜索结果中？\r\n     * @param results 列出找到的组件。\r\n     * @returns GameObject或其任何父级中指定的所有组件。\r\n     */\r\n    getComponentsInParent<T extends Component>(type: Constructor<T>, includeInactive = false, results: T[] = []): T[]\r\n    {\r\n        return this._gameObject.getComponentsInParent(type, includeInactive, results);\r\n    }\r\n\r\n    /**\r\n     * 把事件分享到实体上。\r\n     */\r\n    getShareTargets()\r\n    {\r\n        return [this._gameObject];\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        this._gameObject = <any>null;\r\n        this._disposed = true;\r\n    }\r\n\r\n    beforeRender(_renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * 监听对象的所有事件并且传播到所有组件中\r\n     */\r\n    private _onAnyListener(e: IEvent<any>)\r\n    {\r\n        if (this._gameObject)\r\n        { this._gameObject.emitEvent(e); }\r\n    }\r\n\r\n    /**\r\n     * 该方法仅在GameObject中使用\r\n     * @private\r\n     *\r\n     * @param gameObject 游戏对象\r\n     */\r\n    setGameObject(gameObject: GameObject)\r\n    {\r\n        this._gameObject = gameObject;\r\n    }\r\n    protected _gameObject: GameObject;\r\n\r\n    /**\r\n     * 组件名称与类定义映射，由 @RegisterComponent 装饰器进行填充。\r\n     * @private\r\n     */\r\n    static _componentMap: { [name: string]: Constructor<Component> } = {};\r\n\r\n    /**\r\n     * 获取组件依赖列表\r\n     *\r\n     * @param type 组件类定义\r\n     */\r\n    static getDependencies(type: Constructor<Component>)\r\n    {\r\n        let prototype = type.prototype;\r\n        let dependencies: Constructor<Component>[] = [];\r\n        while (prototype)\r\n        {\r\n            dependencies = dependencies.concat((prototype[__component__] as ComponentInfo)?.dependencies || []);\r\n            prototype = prototype.__proto__;\r\n        }\r\n\r\n        return dependencies;\r\n    }\r\n\r\n    /**\r\n     * 判断组件是否为唯一组件。\r\n     *\r\n     * @param type 组件类定义\r\n     */\r\n    static isSingleComponent<T extends Component>(type: Constructor<T>)\r\n    {\r\n        let prototype = type.prototype;\r\n        let isSingle = false;\r\n        while (prototype && !isSingle)\r\n        {\r\n            isSingle = !!((prototype[__component__] as ComponentInfo)?.single);\r\n            prototype = prototype.__proto__;\r\n        }\r\n\r\n        return isSingle;\r\n    }\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { RunEnvironment } from '../core/RunEnvironment';\r\nimport { RegisterComponent, Component } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Behaviour: Behaviour;\r\n    }\r\n}\r\n\r\n/**\r\n * 行为\r\n *\r\n * 可以控制开关的组件\r\n */\r\n@RegisterComponent()\r\nexport class Behaviour extends Component\r\n{\r\n    /**\r\n     * 是否启用update方法\r\n     */\r\n    @oav()\r\n    @serialize\r\n    enabled = true;\r\n\r\n    /**\r\n     * 可运行环境\r\n     */\r\n    runEnvironment = RunEnvironment.all;\r\n\r\n    /**\r\n     * Has the Behaviour had enabled called.\r\n     * 是否所在GameObject显示且该行为已启动。\r\n     */\r\n    get isVisibleAndEnabled()\r\n    {\r\n        const v = this.enabled && this.gameObject && this.gameObject.activeSelf;\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 每帧执行\r\n     */\r\n    update(_interval?: number)\r\n    {\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.enabled = false;\r\n        super.dispose();\r\n    }\r\n}\r\n","import { Constructor } from '@feng3d/polyfill';\r\nimport { Components, ComponentNames } from './component/Component';\r\n\r\n/**\r\n * 添加组件菜单\r\n *\r\n * 在组件类上新增 @feng3d.AddComponentMenu(\"UI/Text\") 可以把该组件添加到组件菜单上。\r\n *\r\n * @param path 组件菜单中路径\r\n * @param componentOrder 组件菜单中组件的顺序(从低到高)。\r\n */\r\nexport function AddComponentMenu(path: string, componentOrder = 0)\r\n{\r\n    return (target: Constructor<Components>) =>\r\n    {\r\n        if (!menuConfig.component) menuConfig.component = [];\r\n        menuConfig.component.push({ path, order: componentOrder, type: target.name as any });\r\n\r\n        menuConfig.component.sort((a, b) =>\r\n        {\r\n            if (a.path < b.path) return -1;\r\n\r\n            return 1;\r\n        });\r\n        menuConfig.component.sort((a, b) => a.order - b.order);\r\n    };\r\n}\r\n\r\n/**\r\n * 菜单配置\r\n */\r\nexport const menuConfig: MenuConfig = {};\r\n\r\n/**\r\n * 菜单配置\r\n */\r\nexport interface MenuConfig\r\n{\r\n    /**\r\n     * 组件菜单\r\n     */\r\n    component?: ComponentMenu[];\r\n}\r\n\r\n/**\r\n * 组件菜单\r\n */\r\nexport interface ComponentMenu\r\n{\r\n    /**\r\n     * 组件菜单中路径\r\n     */\r\n    path: string;\r\n    /**\r\n     * 组件菜单中组件的顺序(从低到高)。\r\n     */\r\n    order: number;\r\n    /**\r\n     * 组件类定义\r\n     */\r\n    type: ComponentNames;\r\n}\r\n","/**\r\n * 资源扩展名\r\n */\r\nexport enum AssetType\r\n{\r\n    /**\r\n     * 文件夹\r\n     */\r\n    folder = 'folder',\r\n\r\n    /**\r\n     * 音频\r\n     */\r\n    audio = 'audio',\r\n\r\n    /**\r\n     * ts文件\r\n     */\r\n    ts = 'ts',\r\n    /**\r\n     * js文件\r\n     */\r\n    js = 'js',\r\n    /**\r\n     * 文本文件\r\n     */\r\n    txt = 'txt',\r\n    /**\r\n     * json文件\r\n     */\r\n    json = 'json',\r\n    /**\r\n     * OBJ模型资源附带的材质文件\r\n     */\r\n    mtl = 'mtl',\r\n    /**\r\n     * OBJ模型文件\r\n     */\r\n    obj = 'obj',\r\n    /**\r\n     * MD5模型文件\r\n     */\r\n    md5mesh = 'md5mesh',\r\n    /**\r\n     * MD5动画\r\n     */\r\n    md5anim = 'md5anim',\r\n    /**\r\n     * 魔兽MDL模型\r\n     */\r\n    mdl = 'mdl',\r\n    // -- feng3d中的类型\r\n    /**\r\n     * 纹理\r\n     */\r\n    texture = 'texture',\r\n    /**\r\n     * 立方体纹理\r\n     */\r\n    texturecube = 'texturecube',\r\n    /**\r\n     * 材质\r\n     */\r\n    material = 'material',\r\n    /**\r\n     * 几何体\r\n     */\r\n    geometry = 'geometry',\r\n    /**\r\n     * 游戏对象\r\n     */\r\n    gameobject = 'gameobject',\r\n    /**\r\n     * 场景\r\n     */\r\n    scene = 'scene',\r\n    /**\r\n     * 动画\r\n     */\r\n    anim = 'anim',\r\n    /**\r\n     * 着色器\r\n     */\r\n    shader = 'shader',\r\n    /**\r\n     * 脚本\r\n     */\r\n    script = 'script',\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { Feng3dObject } from '../core/Feng3dObject';\r\nimport { PropertyClip } from './PropertyClip';\r\n\r\nexport class AnimationClip extends Feng3dObject\r\n{\r\n    readonly assetType = AssetType.anim;\r\n\r\n    @oav()\r\n    @serialize\r\n    declare name: string;\r\n    /**\r\n     * 动画时长，单位ms\r\n     */\r\n    @serialize\r\n    length: number;\r\n\r\n    @oav()\r\n    @serialize\r\n    loop = true;\r\n\r\n    @serialize\r\n    propertyClips: PropertyClip[];\r\n}\r\n","import { Vector3, Quaternion } from '@feng3d/math';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\nexport class PropertyClip\r\n{\r\n    /**\r\n     * 属性路径\r\n     */\r\n    @serialize\r\n    path: PropertyClipPath;\r\n\r\n    @serialize\r\n    propertyName: string;\r\n\r\n    @serialize\r\n    type: 'Number' | 'Vector3' | 'Quaternion';\r\n\r\n    @serialize\r\n    propertyValues: [number, number[]][];\r\n\r\n    private _cacheValues = {};\r\n    private _propertyValues: [number, number | Vector3 | Quaternion][];\r\n\r\n    getValue(cliptime: number, fps: number)\r\n    {\r\n        const frame = Math.round(fps * cliptime / 1000);\r\n        if (this._cacheValues[frame] !== undefined)\r\n        {\r\n            return this._cacheValues[frame];\r\n        }\r\n\r\n        this._propertyValues = this._propertyValues || <any> this.propertyValues.map((v) =>\r\n            [v[0], this.getpropertyValue(v[1])]);\r\n\r\n        const propertyValues = this._propertyValues;\r\n        let propertyValue = propertyValues[0][1];\r\n        if (cliptime <= propertyValues[0][0])\r\n        // eslint-disable-next-line no-empty\r\n        {\r\n\r\n        }\r\n        else if (cliptime >= propertyValues[propertyValues.length - 1][0])\r\n        {\r\n            propertyValue = propertyValues[propertyValues.length - 1][1];\r\n        }\r\n        else\r\n        {\r\n            for (let j = 0; j < propertyValues.length - 1; j++)\r\n            {\r\n                if (propertyValues[j][0] <= cliptime && cliptime < propertyValues[j + 1][0])\r\n                {\r\n                    propertyValue = this.interpolation(\r\n                        propertyValues[j][1],\r\n                        propertyValues[j + 1][1],\r\n                        (cliptime - propertyValues[j][0]) / (propertyValues[j + 1][0] - propertyValues[j][0])\r\n                    );\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this._cacheValues[frame] = propertyValue;\r\n\r\n        return propertyValue;\r\n    }\r\n\r\n    private interpolation(prevalue: ClipPropertyType, nextValue: ClipPropertyType, factor: number)\r\n    {\r\n        let propertyValue: ClipPropertyType;\r\n        if (prevalue instanceof Quaternion)\r\n        {\r\n            propertyValue = prevalue.clone();\r\n            propertyValue.lerp(prevalue, <Quaternion>nextValue, factor);\r\n        }\r\n        else if (prevalue instanceof Vector3)\r\n        {\r\n            propertyValue = new Vector3(\r\n                prevalue.x * (1 - factor) + (<Vector3>nextValue).x * factor,\r\n                prevalue.y * (1 - factor) + (<Vector3>nextValue).y * factor,\r\n                prevalue.z * (1 - factor) + (<Vector3>nextValue).z * factor,\r\n            );\r\n        }\r\n        else\r\n        {\r\n            propertyValue = prevalue * (1 - factor) + <number>nextValue * factor;\r\n        }\r\n\r\n        return propertyValue;\r\n    }\r\n\r\n    private getpropertyValue(value: number[])\r\n    {\r\n        if (this.type === 'Number')\r\n        {\r\n            return value[0];\r\n        }\r\n        if (this.type === 'Vector3')\r\n        {\r\n            return Vector3.fromArray(value);\r\n        }\r\n        if (this.type === 'Quaternion')\r\n        {\r\n            return Quaternion.fromArray(value);\r\n        }\r\n\r\n        console.error(`未处理 动画数据类型 ${this.type}`);\r\n        console.error(``);\r\n    }\r\n\r\n    cacheIndex: number;\r\n}\r\n\r\n/**\r\n * [time:number,value:number | Vector3 | Quaternion]\r\n */\r\nexport type ClipPropertyType = number | Vector3 | Quaternion;\r\nexport type PropertyClipPath = [PropertyClipPathItemType, string][];\r\n\r\nexport enum PropertyClipPathItemType\r\n{\r\n    GameObject,\r\n    Component,\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { getComponentType, RegisterComponent } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { AnimationClip } from './AnimationClip';\r\nimport { PropertyClip, PropertyClipPathItemType } from './PropertyClip';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap { Animation: Animation; }\r\n}\r\n\r\n@AddComponentMenu('Animator/Animation')\r\n@RegisterComponent()\r\nexport class Animation extends Behaviour\r\n{\r\n    @oav({ component: 'OAVDefault', componentParam: { dragparam: { accepttype: 'animationclip', datatype: 'animationclip' } } })\r\n    @serialize\r\n    @watch('_onAnimationChanged')\r\n    animation: AnimationClip;\r\n\r\n    @oav({ component: 'OAVArray', componentParam: { dragparam: { accepttype: 'animationclip', datatype: 'animationclip' }, defaultItem: () => new AnimationClip() } })\r\n    @serialize\r\n    animations: AnimationClip[] = [];\r\n\r\n    /**\r\n     * 动画事件，单位为ms\r\n     */\r\n    @oav()\r\n    @watch('_onTimeChanged')\r\n    time = 0;\r\n\r\n    @oav()\r\n    @serialize\r\n    isplaying = false;\r\n\r\n    /**\r\n     * 播放速度\r\n     */\r\n    @oav()\r\n    @serialize\r\n    playspeed = 1;\r\n\r\n    /**\r\n     * 动作名称\r\n     */\r\n    get clipName()\r\n    {\r\n        return this.animation ? this.animation.name : null;\r\n    }\r\n\r\n    get frame()\r\n    {\r\n        if (!this.animation) return -1;\r\n        const cycle = this.animation.length;\r\n        const cliptime = (this.time % cycle + cycle) % cycle;\r\n        const _frame = Math.round(this._fps * cliptime / 1000);\r\n\r\n        return _frame;\r\n    }\r\n\r\n    update(interval: number)\r\n    {\r\n        if (this.isplaying) this.time += interval * this.playspeed;\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.animation = null;\r\n        this.animations = null;\r\n        super.dispose();\r\n    }\r\n\r\n    private num = 0;\r\n    private _fps = 24;\r\n    private _objectCache = new Map();\r\n\r\n    private _updateAni()\r\n    {\r\n        if (!this.animation) return;\r\n        if ((this.num++) % 2 !== 0) return;\r\n\r\n        const cycle = this.animation.length;\r\n        const cliptime = (this.time % cycle + cycle) % cycle;\r\n\r\n        const propertyClips = this.animation.propertyClips;\r\n\r\n        for (let i = 0; i < propertyClips.length; i++)\r\n        {\r\n            const propertyClip = propertyClips[i];\r\n\r\n            const propertyValues = propertyClip.propertyValues;\r\n            if (propertyValues.length === 0) continue;\r\n            const propertyHost = this.getPropertyHost(propertyClip);\r\n            if (!propertyHost) continue;\r\n            propertyHost[propertyClip.propertyName] = propertyClip.getValue(cliptime, this._fps);\r\n        }\r\n    }\r\n\r\n    private getPropertyHost(propertyClip: PropertyClip)\r\n    {\r\n        if (propertyClip.cacheIndex && this._objectCache[propertyClip.cacheIndex])\r\n        { return this._objectCache[propertyClip.cacheIndex]; }\r\n\r\n        if (!propertyClip.cacheIndex)\r\n        { propertyClip.cacheIndex = autoobjectCacheID++; }\r\n\r\n        let propertyHost = this.gameObject;\r\n        const path = propertyClip.path;\r\n\r\n        for (let i = 0; i < path.length; i++)\r\n        {\r\n            const element = path[i];\r\n            switch (element[0])\r\n            {\r\n                case PropertyClipPathItemType.GameObject:\r\n                    propertyHost = propertyHost.find(element[1]);\r\n                    break;\r\n                case PropertyClipPathItemType.Component:\r\n                    const componentClass = getComponentType(element[1] as any);\r\n                    propertyHost = propertyHost.getComponent(componentClass);\r\n                    break;\r\n                default:\r\n                    console.error(`无法获取 PropertyHost ${element}`);\r\n            }\r\n            if (!propertyHost)\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n        this._objectCache[propertyClip.cacheIndex] = propertyHost;\r\n\r\n        return propertyHost;\r\n    }\r\n\r\n    private _onAnimationChanged()\r\n    {\r\n        this.time = 0;\r\n    }\r\n\r\n    private _onTimeChanged()\r\n    {\r\n        this._updateAni();\r\n    }\r\n}\r\nlet autoobjectCacheID = 1;\r\n","import { Matrix4x4 } from '@feng3d/math';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\n// /**\r\n//  * 骨骼数据\r\n//\r\n//  */\r\n// export class Skeleton\r\n// {\r\n\r\n// }\r\n\r\n/**\r\n * 骨骼关节数据\r\n\r\n */\r\nexport class SkeletonJoint\r\n{\r\n    /** 父关节索引 （-1说明本身是总父结点，这个序号其实就是行号了，譬如上面”origin“结点的序号就是0，无父结点； \"body\"结点序号是1，父结点序号是0，也就是说父结点是”origin“）*/\r\n    @serialize\r\n    parentIndex = -1;\r\n\r\n    /** 关节名字 */\r\n    @serialize\r\n    name: string;\r\n\r\n    /** 骨骼全局矩阵 */\r\n    @serialize\r\n    matrix: Matrix4x4;\r\n\r\n    children: number[] = [];\r\n\r\n    get invertMatrix()\r\n    {\r\n        if (!this._invertMatrix)\r\n        {\r\n            this._invertMatrix = this.matrix.clone().invert();\r\n        }\r\n\r\n        return this._invertMatrix;\r\n    }\r\n    private _invertMatrix: Matrix4x4;\r\n}\r\n","import { GameObject } from '../core/GameObject';\r\n\r\n/**\r\n *\r\n */\r\nexport interface MenuItem\r\n{\r\n    /**\r\n     * 标签的路径\r\n     */\r\n    path: string;\r\n    /**\r\n     * 优先级，数字越大，显示越靠前，默认为0\r\n     */\r\n    priority?: number;\r\n    /**\r\n     * 点击事件\r\n     */\r\n    click?: () => GameObject,\r\n    /**\r\n     * 是否启用，禁用时显示灰色\r\n     */\r\n    enable?: () => boolean;\r\n    /**\r\n     * 是否显示，默认显示\r\n     */\r\n    show?: () => boolean;\r\n}\r\n\r\nexport const createNodeMenu: MenuItem[] = [];\r\n","import { Box3, Vector3 } from '@feng3d/math';\r\nimport { Component } from '../component/Component';\r\nimport { GameObject } from './GameObject';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        /**\r\n         * 获取自身包围盒\r\n         */\r\n        getSelfBounds: { bounds: Box3[] };\r\n\r\n        /**\r\n         * 自身包围盒发生变化\r\n         */\r\n        selfBoundsChanged: Component;\r\n    }\r\n}\r\n\r\n/**\r\n * 轴对称包围盒\r\n *\r\n * 用于优化计算射线碰撞检测以及视锥剔除等。\r\n */\r\nexport class BoundingBox\r\n{\r\n    private _gameObject: GameObject;\r\n\r\n    protected _selfLocalBounds = new Box3();\r\n    protected _selfWorldBounds = new Box3();\r\n    protected _worldBounds = new Box3();\r\n\r\n    protected _selfBoundsInvalid = true;\r\n    protected _selfWorldBoundsInvalid = true;\r\n    protected _worldBoundsInvalid = true;\r\n\r\n    constructor(gameObject: GameObject)\r\n    {\r\n        this._gameObject = gameObject;\r\n        gameObject.on('selfBoundsChanged', this._invalidateSelfLocalBounds, this);\r\n        gameObject.on('scenetransformChanged', this._invalidateSelfWorldBounds, this);\r\n    }\r\n\r\n    /**\r\n     * 自身局部包围盒通常有Renderable组件提供\r\n     */\r\n    get selfLocalBounds()\r\n    {\r\n        if (this._selfBoundsInvalid)\r\n        {\r\n            this._updateSelfBounds();\r\n            this._selfBoundsInvalid = false;\r\n        }\r\n\r\n        return this._selfLocalBounds;\r\n    }\r\n\r\n    /**\r\n     * 自身世界空间的包围盒\r\n     */\r\n    get selfWorldBounds()\r\n    {\r\n        if (this._selfWorldBoundsInvalid)\r\n        {\r\n            this._updateSelfWorldBounds();\r\n            this._selfWorldBoundsInvalid = false;\r\n        }\r\n\r\n        return this._selfWorldBounds;\r\n    }\r\n\r\n    /**\r\n     * 世界包围盒\r\n     */\r\n    get worldBounds()\r\n    {\r\n        if (this._worldBoundsInvalid)\r\n        {\r\n            this._updateWorldBounds();\r\n            this._worldBoundsInvalid = false;\r\n        }\r\n\r\n        return this._worldBounds;\r\n    }\r\n\r\n    /**\r\n     * 更新自身包围盒\r\n     *\r\n     * 自身包围盒通常有Renderable组件提供\r\n     */\r\n    protected _updateSelfBounds()\r\n    {\r\n        const bounds = this._selfLocalBounds.empty();\r\n\r\n        // 获取对象上的包围盒\r\n        const data: { bounds: Box3[]; } = { bounds: [] };\r\n        this._gameObject.emit('getSelfBounds', data);\r\n\r\n        data.bounds.forEach((b) =>\r\n        {\r\n            bounds.union(b);\r\n        });\r\n        if (bounds.isEmpty())\r\n        {\r\n            bounds.fromPoints([new Vector3()]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新自身世界包围盒\r\n     */\r\n    protected _updateSelfWorldBounds()\r\n    {\r\n        this._selfWorldBounds.copy(this.selfLocalBounds).applyMatrix(this._gameObject.transform.localToWorldMatrix);\r\n    }\r\n\r\n    /**\r\n     * 更新世界包围盒\r\n     */\r\n    protected _updateWorldBounds()\r\n    {\r\n        this._worldBounds.copy(this.selfWorldBounds);\r\n\r\n        // 获取子对象的世界包围盒与自身世界包围盒进行合并\r\n        this._gameObject.children.forEach((element) =>\r\n        {\r\n            this._worldBounds.union(element.boundingBox.worldBounds);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 使自身包围盒失效\r\n     */\r\n    protected _invalidateSelfLocalBounds()\r\n    {\r\n        if (this._selfBoundsInvalid) return;\r\n\r\n        this._selfBoundsInvalid = true;\r\n        this._invalidateSelfWorldBounds();\r\n    }\r\n\r\n    /**\r\n     * 使自身世界包围盒失效\r\n     */\r\n    protected _invalidateSelfWorldBounds()\r\n    {\r\n        if (this._selfWorldBoundsInvalid) return;\r\n\r\n        this._selfWorldBoundsInvalid = true;\r\n        this._invalidateWorldBounds();\r\n    }\r\n\r\n    /**\r\n     * 使世界包围盒失效\r\n     */\r\n    protected _invalidateWorldBounds()\r\n    {\r\n        if (this._worldBoundsInvalid) return;\r\n\r\n        this._worldBoundsInvalid = true;\r\n\r\n        // 世界包围盒失效会影响父对象世界包围盒失效\r\n        const parent = this._gameObject.parent;\r\n        if (!parent) return;\r\n        parent.boundingBox._invalidateWorldBounds();\r\n    }\r\n}\r\n","/**\r\n * 路径\r\n */\r\nexport interface Path\r\n{\r\n    /**\r\n     * 规范化字符串路径，减少'.'和'.'的部分。当发现多个斜杠时，它们被单个斜杠替换;当路径包含尾部斜杠时，它将被保留。在Windows上使用反斜杠。\r\n     *\r\n     * @param p 要规范化的字符串路径。\r\n     */\r\n    normalize(p: string): string;\r\n    /**\r\n     * 将所有参数连接在一起，并规范化生成的路径。参数必须是字符串。在v0.8中，非字符串参数被悄悄地忽略。在v0.10及以上版本中，会抛出异常。\r\n     *\r\n     * @param paths 用于连接的路径列表\r\n     */\r\n    join(...paths: string[]): string;\r\n    /**\r\n     * 最右边的参数被认为是{to}。其他参数被认为是{from}的数组。\r\n     *\r\n     * 从最左边的{from}参数开始，将{to}解析为一个绝对路径。\r\n     *\r\n     * 如果{to}还不是绝对的，则{from}参数将按从右到左的顺序预先设置，直到找到绝对路径为止。如果在使用所有{from}路径之后仍然没有找到绝对路径，则还将使用当前工作目录。得到的路径是规范化的，除非路径被解析到根目录，否则尾部斜杠将被删除。\r\n     *\r\n     * @param pathSegments 要连接的字符串路径。非字符串参数将被忽略。\r\n     */\r\n    resolve(...pathSegments: string[]): string;\r\n    /**\r\n     * 确定{path}是否是一个绝对路径。无论工作目录如何，绝对路径总是解析到相同的位置。\r\n     *\r\n     * @param path 用于测试的路径。\r\n     */\r\n    isAbsolute(path: string): boolean;\r\n    /**\r\n     * 解决从{from}到{to}的相对路径。有时我们有两条绝对路径，我们需要推导出一条到另一条的相对路径。这实际上是path.resolve的逆变换。\r\n     *\r\n     * @param from 起始路径\r\n     * @param to 目标路径\r\n     */\r\n    relative(from: string, to: string): string;\r\n    /**\r\n     * 返回路径的目录名。类似于Unix的dirname命令。\r\n     *\r\n     * @param p 求值的路径。\r\n     */\r\n    dirname(p: string): string;\r\n    /**\r\n     * 返回路径的最后一部分。类似于Unix basename命令。通常用于从完全限定的路径中提取文件名。\r\n     *\r\n     * @param p 求值的路径。\r\n     * @param ext 可选地，从结果中删除的扩展。\r\n     */\r\n    basename(p: string, ext?: string): string;\r\n    /**\r\n     * 返回路径的扩展名，在路径的最后一部分从最后一个'.'到字符串末尾。如果在路径的最后部分没有'.'或者最后一个字符时'.'则返回一个空字符串。\r\n     *\r\n     * @param p 求值的路径。\r\n     */\r\n    extname(p: string): string;\r\n    /**\r\n     * 特定平台的文件分隔符。'\\\\'或'/'。\r\n     */\r\n    sep: '\\\\' | '/';\r\n    /**\r\n     * 特定平台的文件分隔符。 ';' 或者 ':'.\r\n     */\r\n    delimiter: ';' | ':';\r\n    /**\r\n     * 从路径字符串返回一个对象 —— 与format()相反。\r\n     *\r\n     * @param pathString 路径字符串。\r\n     */\r\n    parse(pathString: string): ParsedPath;\r\n    /**\r\n     * 从对象返回路径字符串——与parse()相反。\r\n     *\r\n     * @param pathObject 路径对象。\r\n     */\r\n    format(pathObject: FormatInputPathObject): string;\r\n\r\n    win32: Path;\r\n    posix: Path;\r\n}\r\n\r\n/**\r\n * 由path.parse()生成或由path.format()使用的已解析路径对象。\r\n */\r\nexport interface ParsedPath\r\n{\r\n    /**\r\n     * 路径的根，如'/'或'c:\\'\r\n     */\r\n    root: string;\r\n    /**\r\n     * 完整的目录路径，如'/home/user/dir'或'c:\\path\\dir'\r\n     */\r\n    dir: string;\r\n    /**\r\n     * 包含扩展名(如有)的文件名，如'index.html'\r\n     */\r\n    base: string;\r\n    /**\r\n     * 文件扩展名(如果有)，如'.html'\r\n     */\r\n    ext: string;\r\n    /**\r\n     * 没有扩展名(如果有)的文件名，如'index'\r\n     */\r\n    name: string;\r\n}\r\n\r\nexport interface FormatInputPathObject\r\n{\r\n    /**\r\n     * 路径的根，如'/'或'c:\\'\r\n     */\r\n    root?: string;\r\n    /**\r\n     * 完整的目录路径，如'/home/user/dir'或'c:\\path\\dir'\r\n     */\r\n    dir?: string;\r\n    /**\r\n     * 包含扩展名(如有)的文件名，如'index.html'\r\n     */\r\n    base?: string;\r\n    /**\r\n     * 文件扩展名(如果有)，如'.html'\r\n     */\r\n    ext?: string;\r\n    /**\r\n     * 没有扩展名(如果有)的文件名，如'index'\r\n     */\r\n    name?: string;\r\n}\r\n\r\n/**\r\n * .\r\n */\r\nconst CHAR_DOT = 46;\r\n/**\r\n * :\r\n */\r\nconst CHAR_COLON = 58;\r\n/**\r\n * ?\r\n */\r\nconst CHAR_QUESTION_MARK = 63;\r\n/**\r\n * A\r\n */\r\nconst CHAR_UPPERCASE_A = 65;\r\n/**\r\n * Z\r\n */\r\nconst CHAR_UPPERCASE_Z = 90;\r\n/**\r\n * a\r\n */\r\nconst CHAR_LOWERCASE_A = 97;\r\n/**\r\n * z\r\n */\r\nconst CHAR_LOWERCASE_Z = 122;\r\n/**\r\n * /\r\n */\r\nconst CHAR_FORWARD_SLASH = 47;\r\n/**\r\n * \\\r\n */\r\nconst CHAR_BACKWARD_SLASH = 92;\r\n\r\n/**\r\n * 未实现其功能\r\n */\r\nconst process = {\r\n    platform: 'win32',\r\n    env: <any>{},\r\n    cwd() { return ''; },\r\n};\r\n\r\nclass ERR_INVALID_ARG_TYPE extends TypeError\r\n{\r\n    constructor(name: string, expected: string, actual: any)\r\n    {\r\n        assert(typeof name === 'string', '\\'name\\' must be a string');\r\n\r\n        // determiner: 'must be' or 'must not be'\r\n        let determiner;\r\n        if (typeof expected === 'string' && expected.startsWith('not '))\r\n        {\r\n            determiner = 'must not be';\r\n            expected = expected.replace(/^not /, '');\r\n        }\r\n        else\r\n        {\r\n            determiner = 'must be';\r\n        }\r\n\r\n        let msg;\r\n        if (name.endsWith(' argument'))\r\n        {\r\n            // For cases like 'first argument'\r\n            msg = `The ${name} ${determiner} ${oneOf(expected, 'type')}`;\r\n        }\r\n        else\r\n        {\r\n            const type = name.includes('.') ? 'property' : 'argument';\r\n            msg = `The \"${name}\" ${type} ${determiner} ${oneOf(expected, 'type')}`;\r\n        }\r\n\r\n        // TODO(BridgeAR): Improve the output by showing `null` and similar.\r\n        msg += `. Received type ${typeof actual}`;\r\n\r\n        super(msg);\r\n    }\r\n}\r\n\r\nfunction oneOf(expected: string | string[], thing: string)\r\n{\r\n    assert(typeof thing === 'string', '`thing` has to be of type string');\r\n    if (Array.isArray(expected))\r\n    {\r\n        const len = expected.length;\r\n        assert(len > 0, 'At least one expected value needs to be specified');\r\n        expected = expected.map((i) => String(i));\r\n        if (len > 2)\r\n        {\r\n            return `one of ${thing} ${expected.slice(0, len - 1).join(', ')}, or ${expected[len - 1]}`;\r\n        }\r\n        else if (len === 2)\r\n        {\r\n            return `one of ${thing} ${expected[0]} or ${expected[1]}`;\r\n        }\r\n\r\n        return `of ${thing} ${expected[0]}`;\r\n    }\r\n\r\n    return `of ${thing} ${String(expected)}`;\r\n}\r\n\r\nfunction assert(b: boolean, msg: string)\r\n{\r\n    if (!b) throw msg;\r\n}\r\n\r\nfunction validateString(value: string, name: string)\r\n{\r\n    if (typeof value !== 'string')\r\n    { throw new ERR_INVALID_ARG_TYPE(name, 'string', value); }\r\n}\r\n\r\nfunction isPathSeparator(code: number)\r\n{\r\n    return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\r\n}\r\n\r\nfunction isPosixPathSeparator(code: number)\r\n{\r\n    return code === CHAR_FORWARD_SLASH;\r\n}\r\n\r\nfunction isWindowsDeviceRoot(code: number)\r\n{\r\n    return code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z\r\n        || code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z;\r\n}\r\n\r\n// Resolves . and .. elements in a path with directory names\r\nfunction normalizeString(path: string, allowAboveRoot: boolean, separator: string, isPathSeparator: (code: number) => boolean)\r\n{\r\n    let res = '';\r\n    let lastSegmentLength = 0;\r\n    let lastSlash = -1;\r\n    let dots = 0;\r\n    let code = -1;\r\n    for (let i = 0; i <= path.length; ++i)\r\n    {\r\n        if (i < path.length)\r\n        { code = path.charCodeAt(i); }\r\n        else if (isPathSeparator(code))\r\n        { break; }\r\n        else\r\n        { code = CHAR_FORWARD_SLASH; }\r\n\r\n        if (isPathSeparator(code))\r\n        {\r\n            if (lastSlash === i - 1 || dots === 1)\r\n            {\r\n                // NOOP\r\n            }\r\n            else if (lastSlash !== i - 1 && dots === 2)\r\n            {\r\n                if (res.length < 2 || lastSegmentLength !== 2\r\n                    || res.charCodeAt(res.length - 1) !== CHAR_DOT\r\n                    || res.charCodeAt(res.length - 2) !== CHAR_DOT)\r\n                {\r\n                    if (res.length > 2)\r\n                    {\r\n                        const lastSlashIndex = res.lastIndexOf(separator);\r\n                        if (lastSlashIndex === -1)\r\n                        {\r\n                            res = '';\r\n                            lastSegmentLength = 0;\r\n                        }\r\n                        else\r\n                        {\r\n                            res = res.slice(0, lastSlashIndex);\r\n                            lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);\r\n                        }\r\n                        lastSlash = i;\r\n                        dots = 0;\r\n                        continue;\r\n                    }\r\n                    else if (res.length === 2 || res.length === 1)\r\n                    {\r\n                        res = '';\r\n                        lastSegmentLength = 0;\r\n                        lastSlash = i;\r\n                        dots = 0;\r\n                        continue;\r\n                    }\r\n                }\r\n                if (allowAboveRoot)\r\n                {\r\n                    if (res.length > 0)\r\n                    { res += `${separator}..`; }\r\n                    else\r\n                    { res = '..'; }\r\n                    lastSegmentLength = 2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (res.length > 0)\r\n                { res += separator + path.slice(lastSlash + 1, i); }\r\n                else\r\n                { res = path.slice(lastSlash + 1, i); }\r\n                lastSegmentLength = i - lastSlash - 1;\r\n            }\r\n            lastSlash = i;\r\n            dots = 0;\r\n        }\r\n        else if (code === CHAR_DOT && dots !== -1)\r\n        {\r\n            ++dots;\r\n        }\r\n        else\r\n        {\r\n            dots = -1;\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nfunction _format(sep: string, pathObject: { dir: string, root: string, base: string, name: string, ext: string })\r\n{\r\n    const dir = pathObject.dir || pathObject.root;\r\n    const base = pathObject.base\r\n        || ((pathObject.name || '') + (pathObject.ext || ''));\r\n    if (!dir)\r\n    {\r\n        return base;\r\n    }\r\n    if (dir === pathObject.root)\r\n    {\r\n        return dir + base;\r\n    }\r\n\r\n    return dir + sep + base;\r\n}\r\n\r\nclass Win32Path implements Path\r\n{\r\n    // path.resolve([from ...], to)\r\n    resolve(..._pathSegments: string[]): string\r\n    {\r\n        let resolvedDevice = '';\r\n        let resolvedTail = '';\r\n        let resolvedAbsolute = false;\r\n\r\n        for (let i = arguments.length - 1; i >= -1; i--)\r\n        {\r\n            let path: string;\r\n            if (i >= 0)\r\n            {\r\n                // eslint-disable-next-line prefer-rest-params\r\n                path = arguments[i];\r\n            }\r\n            else if (!resolvedDevice)\r\n            {\r\n                path = process.cwd();\r\n            }\r\n            else\r\n            {\r\n                // Windows has the concept of drive-specific current working\r\n                // directories. If we've resolved a drive letter but not yet an\r\n                // absolute path, get cwd for that drive, or the process cwd if\r\n                // the drive cwd is not available. We're sure the device is not\r\n                // a UNC path at this points, because UNC paths are always absolute.\r\n                path = process.env[`=${resolvedDevice}`] || process.cwd();\r\n\r\n                // Verify that a cwd was found and that it actually points\r\n                // to our drive. If not, default to the drive's root.\r\n                if (path === undefined\r\n                    || path.slice(0, 3).toLowerCase()\r\n                    !== `${resolvedDevice.toLowerCase()}\\\\`)\r\n                {\r\n                    path = `${resolvedDevice}\\\\`;\r\n                }\r\n            }\r\n\r\n            validateString(path, 'path');\r\n\r\n            // Skip empty entries\r\n            if (path.length === 0)\r\n            {\r\n                continue;\r\n            }\r\n\r\n            const len = path.length;\r\n            let rootEnd = 0;\r\n            let device = '';\r\n            let isAbsolute = false;\r\n            const code = path.charCodeAt(0);\r\n\r\n            // Try to match a root\r\n            if (len > 1)\r\n            {\r\n                if (isPathSeparator(code))\r\n                {\r\n                    // Possible UNC root\r\n\r\n                    // If we started with a separator, we know we at least have an\r\n                    // absolute path of some kind (UNC or otherwise)\r\n                    isAbsolute = true;\r\n\r\n                    if (isPathSeparator(path.charCodeAt(1)))\r\n                    {\r\n                        // Matched double path separator at beginning\r\n                        let j = 2;\r\n                        let last = j;\r\n                        // Match 1 or more non-path separators\r\n                        for (; j < len; ++j)\r\n                        {\r\n                            if (isPathSeparator(path.charCodeAt(j)))\r\n                            { break; }\r\n                        }\r\n                        if (j < len && j !== last)\r\n                        {\r\n                            const firstPart = path.slice(last, j);\r\n                            // Matched!\r\n                            last = j;\r\n                            // Match 1 or more path separators\r\n                            for (; j < len; ++j)\r\n                            {\r\n                                if (!isPathSeparator(path.charCodeAt(j)))\r\n                                { break; }\r\n                            }\r\n                            if (j < len && j !== last)\r\n                            {\r\n                                // Matched!\r\n                                last = j;\r\n                                // Match 1 or more non-path separators\r\n                                for (; j < len; ++j)\r\n                                {\r\n                                    // eslint-disable-next-line max-depth\r\n                                    if (isPathSeparator(path.charCodeAt(j))) { break; }\r\n                                }\r\n                                if (j === len)\r\n                                {\r\n                                    // We matched a UNC root only\r\n\r\n                                    device = `\\\\\\\\${firstPart}\\\\${path.slice(last)}`;\r\n                                    rootEnd = j;\r\n                                }\r\n                                else if (j !== last)\r\n                                {\r\n                                    // We matched a UNC root with leftovers\r\n\r\n                                    device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\r\n                                    rootEnd = j;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        rootEnd = 1;\r\n                    }\r\n                }\r\n                else if (isWindowsDeviceRoot(code))\r\n                {\r\n                    // Possible device root\r\n\r\n                    if (path.charCodeAt(1) === CHAR_COLON)\r\n                    {\r\n                        device = path.slice(0, 2);\r\n                        rootEnd = 2;\r\n                        if (len > 2)\r\n                        {\r\n                            if (isPathSeparator(path.charCodeAt(2)))\r\n                            {\r\n                                // Treat separator following drive name as an absolute path\r\n                                // indicator\r\n                                isAbsolute = true;\r\n                                rootEnd = 3;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (isPathSeparator(code))\r\n            {\r\n                // `path` contains just a path separator\r\n                rootEnd = 1;\r\n                isAbsolute = true;\r\n            }\r\n\r\n            if (device.length > 0\r\n                && resolvedDevice.length > 0\r\n                && device.toLowerCase() !== resolvedDevice.toLowerCase())\r\n            {\r\n                // This path points to another device so it is not applicable\r\n                continue;\r\n            }\r\n\r\n            if (resolvedDevice.length === 0 && device.length > 0)\r\n            {\r\n                resolvedDevice = device;\r\n            }\r\n            if (!resolvedAbsolute)\r\n            {\r\n                resolvedTail = `${path.slice(rootEnd)}\\\\${resolvedTail}`;\r\n                resolvedAbsolute = isAbsolute;\r\n            }\r\n\r\n            if (resolvedDevice.length > 0 && resolvedAbsolute)\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        // At this point the path should be resolved to a full absolute path,\r\n        // but handle relative paths to be safe (might happen when process.cwd()\r\n        // fails)\r\n\r\n        // Normalize the tail path\r\n        resolvedTail = normalizeString(resolvedTail, !resolvedAbsolute, '\\\\',\r\n            isPathSeparator);\r\n\r\n        return (resolvedDevice + (resolvedAbsolute ? '\\\\' : '') + resolvedTail)\r\n            || '.';\r\n    }\r\n\r\n    normalize(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        const len = path.length;\r\n        if (len === 0)\r\n        { return '.'; }\r\n        let rootEnd = 0;\r\n        let device;\r\n        let isAbsolute = false;\r\n        const code = path.charCodeAt(0);\r\n\r\n        // Try to match a root\r\n        if (len > 1)\r\n        {\r\n            if (isPathSeparator(code))\r\n            {\r\n                // Possible UNC root\r\n\r\n                // If we started with a separator, we know we at least have an absolute\r\n                // path of some kind (UNC or otherwise)\r\n                isAbsolute = true;\r\n\r\n                if (isPathSeparator(path.charCodeAt(1)))\r\n                {\r\n                    // Matched double path separator at beginning\r\n                    let j = 2;\r\n                    let last = j;\r\n                    // Match 1 or more non-path separators\r\n                    for (; j < len; ++j)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(j)))\r\n                        { break; }\r\n                    }\r\n                    if (j < len && j !== last)\r\n                    {\r\n                        const firstPart = path.slice(last, j);\r\n                        // Matched!\r\n                        last = j;\r\n                        // Match 1 or more path separators\r\n                        for (; j < len; ++j)\r\n                        {\r\n                            if (!isPathSeparator(path.charCodeAt(j)))\r\n                            { break; }\r\n                        }\r\n                        if (j < len && j !== last)\r\n                        {\r\n                            // Matched!\r\n                            last = j;\r\n                            // Match 1 or more non-path separators\r\n                            for (; j < len; ++j)\r\n                            {\r\n                                // eslint-disable-next-line max-depth\r\n                                if (isPathSeparator(path.charCodeAt(j))) { break; }\r\n                            }\r\n                            if (j === len)\r\n                            {\r\n                                // We matched a UNC root only\r\n                                // Return the normalized version of the UNC root since there\r\n                                // is nothing left to process\r\n\r\n                                return `\\\\\\\\${firstPart}\\\\${path.slice(last)}\\\\`;\r\n                            }\r\n                            else if (j !== last)\r\n                            {\r\n                                // We matched a UNC root with leftovers\r\n\r\n                                device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\r\n                                rootEnd = j;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    rootEnd = 1;\r\n                }\r\n            }\r\n            else if (isWindowsDeviceRoot(code))\r\n            {\r\n                // Possible device root\r\n\r\n                if (path.charCodeAt(1) === CHAR_COLON)\r\n                {\r\n                    device = path.slice(0, 2);\r\n                    rootEnd = 2;\r\n                    if (len > 2)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(2)))\r\n                        {\r\n                            // Treat separator following drive name as an absolute path\r\n                            // indicator\r\n                            isAbsolute = true;\r\n                            rootEnd = 3;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (isPathSeparator(code))\r\n        {\r\n            // `path` contains just a path separator, exit early to avoid unnecessary\r\n            // work\r\n            return '\\\\';\r\n        }\r\n\r\n        let tail: string;\r\n        if (rootEnd < len)\r\n        {\r\n            tail = normalizeString(path.slice(rootEnd), !isAbsolute, '\\\\',\r\n                isPathSeparator);\r\n        }\r\n        else\r\n        {\r\n            tail = '';\r\n        }\r\n        if (tail.length === 0 && !isAbsolute)\r\n        { tail = '.'; }\r\n        if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1)))\r\n        { tail += '\\\\'; }\r\n        if (device === undefined)\r\n        {\r\n            if (isAbsolute)\r\n            {\r\n                if (tail.length > 0)\r\n                { return `\\\\${tail}`; }\r\n\r\n                return '\\\\';\r\n            }\r\n            else if (tail.length > 0)\r\n            {\r\n                return tail;\r\n            }\r\n\r\n            return '';\r\n        }\r\n        else if (isAbsolute)\r\n        {\r\n            if (tail.length > 0)\r\n            { return `${device}\\\\${tail}`; }\r\n\r\n            return `${device}\\\\`;\r\n        }\r\n        else if (tail.length > 0)\r\n        {\r\n            return device + tail;\r\n        }\r\n\r\n        return device;\r\n    }\r\n\r\n    isAbsolute(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        const len = path.length;\r\n        if (len === 0)\r\n        { return false; }\r\n\r\n        const code = path.charCodeAt(0);\r\n        if (isPathSeparator(code))\r\n        {\r\n            return true;\r\n        }\r\n        else if (isWindowsDeviceRoot(code))\r\n        {\r\n            // Possible device root\r\n\r\n            if (len > 2 && path.charCodeAt(1) === CHAR_COLON)\r\n            {\r\n                if (isPathSeparator(path.charCodeAt(2)))\r\n                { return true; }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    join()\r\n    {\r\n        if (arguments.length === 0)\r\n        { return '.'; }\r\n\r\n        let joined;\r\n        let firstPart;\r\n        for (let i = 0; i < arguments.length; ++i)\r\n        {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            const arg = arguments[i];\r\n            validateString(arg, 'path');\r\n            if (arg.length > 0)\r\n            {\r\n                if (joined === undefined)\r\n                { joined = firstPart = arg; }\r\n                else\r\n                { joined += `\\\\${arg}`; }\r\n            }\r\n        }\r\n\r\n        if (joined === undefined)\r\n        { return '.'; }\r\n\r\n        // Make sure that the joined path doesn't start with two slashes, because\r\n        // normalize() will mistake it for an UNC path then.\r\n        //\r\n        // This step is skipped when it is very clear that the user actually\r\n        // intended to point at an UNC path. This is assumed when the first\r\n        // non-empty string arguments starts with exactly two slashes followed by\r\n        // at least one more non-slash character.\r\n        //\r\n        // Note that for normalize() to treat a path as an UNC path it needs to\r\n        // have at least 2 components, so we don't filter for that here.\r\n        // This means that the user can use join to construct UNC paths from\r\n        // a server name and a share name; for example:\r\n        //   path.join('//server', 'share') -> '\\\\\\\\server\\\\share\\\\')\r\n        let needsReplace = true;\r\n        let slashCount = 0;\r\n        if (isPathSeparator(firstPart.charCodeAt(0)))\r\n        {\r\n            ++slashCount;\r\n            const firstLen = firstPart.length;\r\n            if (firstLen > 1)\r\n            {\r\n                if (isPathSeparator(firstPart.charCodeAt(1)))\r\n                {\r\n                    ++slashCount;\r\n                    if (firstLen > 2)\r\n                    {\r\n                        if (isPathSeparator(firstPart.charCodeAt(2)))\r\n                        { ++slashCount; }\r\n                        else\r\n                        {\r\n                            // We matched a UNC path in the first part\r\n                            needsReplace = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (needsReplace)\r\n        {\r\n            // Find any more consecutive slashes we need to replace\r\n            for (; slashCount < joined.length; ++slashCount)\r\n            {\r\n                if (!isPathSeparator(joined.charCodeAt(slashCount)))\r\n                { break; }\r\n            }\r\n\r\n            // Replace the slashes if needed\r\n            if (slashCount >= 2)\r\n            { joined = `\\\\${joined.slice(slashCount)}`; }\r\n        }\r\n\r\n        return win32.normalize(joined);\r\n    }\r\n\r\n    // It will solve the relative path from `from` to `to`, for instance:\r\n    //  from = 'C:\\\\orandea\\\\test\\\\aaa'\r\n    //  to = 'C:\\\\orandea\\\\impl\\\\bbb'\r\n    // The output of the function should be: '..\\\\..\\\\impl\\\\bbb'\r\n    relative(from: string, to: string)\r\n    {\r\n        validateString(from, 'from');\r\n        validateString(to, 'to');\r\n\r\n        if (from === to)\r\n        { return ''; }\r\n\r\n        const fromOrig = win32.resolve(from);\r\n        const toOrig = win32.resolve(to);\r\n\r\n        if (fromOrig === toOrig)\r\n        { return ''; }\r\n\r\n        from = fromOrig.toLowerCase();\r\n        to = toOrig.toLowerCase();\r\n\r\n        if (from === to)\r\n        { return ''; }\r\n\r\n        // Trim any leading backslashes\r\n        let fromStart = 0;\r\n        for (; fromStart < from.length; ++fromStart)\r\n        {\r\n            if (from.charCodeAt(fromStart) !== CHAR_BACKWARD_SLASH)\r\n            { break; }\r\n        }\r\n        // Trim trailing backslashes (applicable to UNC paths only)\r\n        let fromEnd = from.length;\r\n        for (; fromEnd - 1 > fromStart; --fromEnd)\r\n        {\r\n            if (from.charCodeAt(fromEnd - 1) !== CHAR_BACKWARD_SLASH)\r\n            { break; }\r\n        }\r\n        const fromLen = (fromEnd - fromStart);\r\n\r\n        // Trim any leading backslashes\r\n        let toStart = 0;\r\n        for (; toStart < to.length; ++toStart)\r\n        {\r\n            if (to.charCodeAt(toStart) !== CHAR_BACKWARD_SLASH)\r\n            { break; }\r\n        }\r\n        // Trim trailing backslashes (applicable to UNC paths only)\r\n        let toEnd = to.length;\r\n        for (; toEnd - 1 > toStart; --toEnd)\r\n        {\r\n            if (to.charCodeAt(toEnd - 1) !== CHAR_BACKWARD_SLASH)\r\n            { break; }\r\n        }\r\n        const toLen = (toEnd - toStart);\r\n\r\n        // Compare paths to find the longest common path from root\r\n        const length = (fromLen < toLen ? fromLen : toLen);\r\n        let lastCommonSep = -1;\r\n        let i = 0;\r\n        for (; i <= length; ++i)\r\n        {\r\n            if (i === length)\r\n            {\r\n                if (toLen > length)\r\n                {\r\n                    if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH)\r\n                    {\r\n                        // We get here if `from` is the exact base path for `to`.\r\n                        // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo\\\\bar\\\\baz'\r\n                        return toOrig.slice(toStart + i + 1);\r\n                    }\r\n                    else if (i === 2)\r\n                    {\r\n                        // We get here if `from` is the device root.\r\n                        // For example: from='C:\\\\'; to='C:\\\\foo'\r\n                        return toOrig.slice(toStart + i);\r\n                    }\r\n                }\r\n                if (fromLen > length)\r\n                {\r\n                    if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH)\r\n                    {\r\n                        // We get here if `to` is the exact base path for `from`.\r\n                        // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo'\r\n                        lastCommonSep = i;\r\n                    }\r\n                    else if (i === 2)\r\n                    {\r\n                        // We get here if `to` is the device root.\r\n                        // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\'\r\n                        lastCommonSep = 3;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            const fromCode = from.charCodeAt(fromStart + i);\r\n            const toCode = to.charCodeAt(toStart + i);\r\n            if (fromCode !== toCode)\r\n            { break; }\r\n            else if (fromCode === CHAR_BACKWARD_SLASH)\r\n            { lastCommonSep = i; }\r\n        }\r\n\r\n        // We found a mismatch before the first common path separator was seen, so\r\n        // return the original `to`.\r\n        if (i !== length && lastCommonSep === -1)\r\n        {\r\n            return toOrig;\r\n        }\r\n\r\n        let out = '';\r\n        if (lastCommonSep === -1)\r\n        { lastCommonSep = 0; }\r\n        // Generate the relative path based on the path difference between `to` and\r\n        // `from`\r\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i)\r\n        {\r\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH)\r\n            {\r\n                if (out.length === 0)\r\n                { out += '..'; }\r\n                else\r\n                { out += '\\\\..'; }\r\n            }\r\n        }\r\n\r\n        // Lastly, append the rest of the destination (`to`) path that comes after\r\n        // the common path parts\r\n        if (out.length > 0)\r\n        { return out + toOrig.slice(toStart + lastCommonSep, toEnd); }\r\n\r\n        toStart += lastCommonSep;\r\n        if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH)\r\n        { ++toStart; }\r\n\r\n        return toOrig.slice(toStart, toEnd);\r\n    }\r\n\r\n    toNamespacedPath(path: string)\r\n    {\r\n        // Note: this will *probably* throw somewhere.\r\n        if (typeof path !== 'string')\r\n        { return path; }\r\n\r\n        if (path.length === 0)\r\n        {\r\n            return '';\r\n        }\r\n\r\n        const resolvedPath = win32.resolve(path);\r\n\r\n        if (resolvedPath.length >= 3)\r\n        {\r\n            if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH)\r\n            {\r\n                // Possible UNC root\r\n\r\n                if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH)\r\n                {\r\n                    const code = resolvedPath.charCodeAt(2);\r\n                    if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT)\r\n                    {\r\n                        // Matched non-long UNC root, convert the path to a long UNC path\r\n                        return `\\\\\\\\?\\\\UNC\\\\${resolvedPath.slice(2)}`;\r\n                    }\r\n                }\r\n            }\r\n            else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0)))\r\n            {\r\n                // Possible device root\r\n\r\n                if (resolvedPath.charCodeAt(1) === CHAR_COLON\r\n                    && resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH)\r\n                {\r\n                    // Matched device root, convert the path to a long UNC path\r\n                    return `\\\\\\\\?\\\\${resolvedPath}`;\r\n                }\r\n            }\r\n        }\r\n\r\n        return path;\r\n    }\r\n\r\n    dirname(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        const len = path.length;\r\n        if (len === 0)\r\n        { return '.'; }\r\n        let rootEnd = -1;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        let offset = 0;\r\n        const code = path.charCodeAt(0);\r\n\r\n        // Try to match a root\r\n        if (len > 1)\r\n        {\r\n            if (isPathSeparator(code))\r\n            {\r\n                // Possible UNC root\r\n\r\n                rootEnd = offset = 1;\r\n\r\n                if (isPathSeparator(path.charCodeAt(1)))\r\n                {\r\n                    // Matched double path separator at beginning\r\n                    let j = 2;\r\n                    let last = j;\r\n                    // Match 1 or more non-path separators\r\n                    for (; j < len; ++j)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(j)))\r\n                        { break; }\r\n                    }\r\n                    if (j < len && j !== last)\r\n                    {\r\n                        // Matched!\r\n                        last = j;\r\n                        // Match 1 or more path separators\r\n                        for (; j < len; ++j)\r\n                        {\r\n                            if (!isPathSeparator(path.charCodeAt(j)))\r\n                            { break; }\r\n                        }\r\n                        if (j < len && j !== last)\r\n                        {\r\n                            // Matched!\r\n                            last = j;\r\n                            // Match 1 or more non-path separators\r\n                            for (; j < len; ++j)\r\n                            {\r\n                                // eslint-disable-next-line max-depth\r\n                                if (isPathSeparator(path.charCodeAt(j))) { break; }\r\n                            }\r\n                            if (j === len)\r\n                            {\r\n                                // We matched a UNC root only\r\n                                return path;\r\n                            }\r\n                            if (j !== last)\r\n                            {\r\n                                // We matched a UNC root with leftovers\r\n\r\n                                // Offset by 1 to include the separator after the UNC root to\r\n                                // treat it as a \"normal root\" on top of a (UNC) root\r\n                                rootEnd = offset = j + 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (isWindowsDeviceRoot(code))\r\n            {\r\n                // Possible device root\r\n\r\n                if (path.charCodeAt(1) === CHAR_COLON)\r\n                {\r\n                    rootEnd = offset = 2;\r\n                    if (len > 2)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(2)))\r\n                        { rootEnd = offset = 3; }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (isPathSeparator(code))\r\n        {\r\n            // `path` contains just a path separator, exit early to avoid\r\n            // unnecessary work\r\n            return path;\r\n        }\r\n\r\n        for (let i = len - 1; i >= offset; --i)\r\n        {\r\n            if (isPathSeparator(path.charCodeAt(i)))\r\n            {\r\n                if (!matchedSlash)\r\n                {\r\n                    end = i;\r\n                    break;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // We saw the first non-path separator\r\n                matchedSlash = false;\r\n            }\r\n        }\r\n\r\n        if (end === -1)\r\n        {\r\n            if (rootEnd === -1)\r\n            { return '.'; }\r\n            end = rootEnd;\r\n        }\r\n\r\n        return path.slice(0, end);\r\n    }\r\n\r\n    basename(path: string, ext: string)\r\n    {\r\n        if (ext !== undefined)\r\n        { validateString(ext, 'ext'); }\r\n        validateString(path, 'path');\r\n        let start = 0;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        let i;\r\n\r\n        // Check for a drive letter prefix so as not to mistake the following\r\n        // path separator as an extra separator at the end of the path that can be\r\n        // disregarded\r\n        if (path.length >= 2)\r\n        {\r\n            const drive = path.charCodeAt(0);\r\n            if (isWindowsDeviceRoot(drive))\r\n            {\r\n                if (path.charCodeAt(1) === CHAR_COLON)\r\n                { start = 2; }\r\n            }\r\n        }\r\n\r\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length)\r\n        {\r\n            if (ext.length === path.length && ext === path)\r\n            { return ''; }\r\n            let extIdx = ext.length - 1;\r\n            let firstNonSlashEnd = -1;\r\n            for (i = path.length - 1; i >= start; --i)\r\n            {\r\n                const code = path.charCodeAt(i);\r\n                if (isPathSeparator(code))\r\n                {\r\n                    // If we reached a path separator that was not part of a set of path\r\n                    // separators at the end of the string, stop now\r\n                    if (!matchedSlash)\r\n                    {\r\n                        start = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if (firstNonSlashEnd === -1)\r\n                    {\r\n                        // We saw the first non-path separator, remember this index in case\r\n                        // we need it if the extension ends up not matching\r\n                        matchedSlash = false;\r\n                        firstNonSlashEnd = i + 1;\r\n                    }\r\n                    if (extIdx >= 0)\r\n                    {\r\n                        // Try to match the explicit extension\r\n                        if (code === ext.charCodeAt(extIdx))\r\n                        {\r\n                            if (--extIdx === -1)\r\n                            {\r\n                                // We matched the extension, so mark this as the end of our path\r\n                                // component\r\n                                end = i;\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            // Extension does not match, so our result is the entire path\r\n                            // component\r\n                            extIdx = -1;\r\n                            end = firstNonSlashEnd;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (start === end)\r\n            { end = firstNonSlashEnd; }\r\n            else if (end === -1)\r\n            { end = path.length; }\r\n\r\n            return path.slice(start, end);\r\n        }\r\n        for (i = path.length - 1; i >= start; --i)\r\n        {\r\n            if (isPathSeparator(path.charCodeAt(i)))\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    start = i + 1;\r\n                    break;\r\n                }\r\n            }\r\n            else if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // path component\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n        }\r\n\r\n        if (end === -1)\r\n        { return ''; }\r\n\r\n        return path.slice(start, end);\r\n    }\r\n\r\n    extname(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        let start = 0;\r\n        let startDot = -1;\r\n        let startPart = 0;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        // Track the state of characters (if any) we see before our first dot and\r\n        // after any path separator we find\r\n        let preDotState = 0;\r\n\r\n        // Check for a drive letter prefix so as not to mistake the following\r\n        // path separator as an extra separator at the end of the path that can be\r\n        // disregarded\r\n\r\n        if (path.length >= 2\r\n            && path.charCodeAt(1) === CHAR_COLON\r\n            && isWindowsDeviceRoot(path.charCodeAt(0)))\r\n        {\r\n            start = startPart = 2;\r\n        }\r\n\r\n        for (let i = path.length - 1; i >= start; --i)\r\n        {\r\n            const code = path.charCodeAt(i);\r\n            if (isPathSeparator(code))\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    startPart = i + 1;\r\n                    break;\r\n                }\r\n                continue;\r\n            }\r\n            if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // extension\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n            if (code === CHAR_DOT)\r\n            {\r\n                // If this is our first dot, mark it as the start of our extension\r\n                if (startDot === -1)\r\n                { startDot = i; }\r\n                else if (preDotState !== 1)\r\n                { preDotState = 1; }\r\n            }\r\n            else if (startDot !== -1)\r\n            {\r\n                // We saw a non-dot and non-path separator before our dot, so we should\r\n                // have a good chance at having a non-empty extension\r\n                preDotState = -1;\r\n            }\r\n        }\r\n\r\n        if (startDot === -1\r\n            || end === -1\r\n            // We saw a non-dot character immediately before the dot\r\n            || preDotState === 0\r\n            // The (right-most) trimmed path component is exactly '..'\r\n            || (preDotState === 1\r\n                && startDot === end - 1\r\n                && startDot === startPart + 1))\r\n        {\r\n            return '';\r\n        }\r\n\r\n        return path.slice(startDot, end);\r\n    }\r\n\r\n    format(pathObject: {\r\n        dir: string;\r\n        root: string;\r\n        base: string;\r\n        name: string;\r\n        ext: string;\r\n    })\r\n    {\r\n        if (pathObject === null || typeof pathObject !== 'object')\r\n        {\r\n            throw new ERR_INVALID_ARG_TYPE('pathObject', 'Object', pathObject);\r\n        }\r\n\r\n        return _format('\\\\', pathObject);\r\n    }\r\n\r\n    parse(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n\r\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\r\n        if (path.length === 0)\r\n        { return ret; }\r\n\r\n        const len = path.length;\r\n        let rootEnd = 0;\r\n        let code = path.charCodeAt(0);\r\n\r\n        // Try to match a root\r\n        if (len > 1)\r\n        {\r\n            if (isPathSeparator(code))\r\n            {\r\n                // Possible UNC root\r\n\r\n                rootEnd = 1;\r\n                if (isPathSeparator(path.charCodeAt(1)))\r\n                {\r\n                    // Matched double path separator at beginning\r\n                    let j = 2;\r\n                    let last = j;\r\n                    // Match 1 or more non-path separators\r\n                    for (; j < len; ++j)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(j)))\r\n                        { break; }\r\n                    }\r\n                    if (j < len && j !== last)\r\n                    {\r\n                        // Matched!\r\n                        last = j;\r\n                        // Match 1 or more path separators\r\n                        for (; j < len; ++j)\r\n                        {\r\n                            if (!isPathSeparator(path.charCodeAt(j)))\r\n                            { break; }\r\n                        }\r\n                        if (j < len && j !== last)\r\n                        {\r\n                            // Matched!\r\n                            last = j;\r\n                            // Match 1 or more non-path separators\r\n                            for (; j < len; ++j)\r\n                            {\r\n                                // eslint-disable-next-line max-depth\r\n                                if (isPathSeparator(path.charCodeAt(j)))\r\n                                {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (j === len)\r\n                            {\r\n                                // We matched a UNC root only\r\n\r\n                                rootEnd = j;\r\n                            }\r\n                            else if (j !== last)\r\n                            {\r\n                                // We matched a UNC root with leftovers\r\n\r\n                                rootEnd = j + 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (isWindowsDeviceRoot(code))\r\n            {\r\n                // Possible device root\r\n\r\n                if (path.charCodeAt(1) === CHAR_COLON)\r\n                {\r\n                    rootEnd = 2;\r\n                    if (len > 2)\r\n                    {\r\n                        if (isPathSeparator(path.charCodeAt(2)))\r\n                        {\r\n                            if (len === 3)\r\n                            {\r\n                                // `path` contains just a drive root, exit early to avoid\r\n                                // unnecessary work\r\n                                ret.root = ret.dir = path;\r\n\r\n                                return ret;\r\n                            }\r\n                            rootEnd = 3;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        // `path` contains just a drive root, exit early to avoid\r\n                        // unnecessary work\r\n                        ret.root = ret.dir = path;\r\n\r\n                        return ret;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (isPathSeparator(code))\r\n        {\r\n            // `path` contains just a path separator, exit early to avoid\r\n            // unnecessary work\r\n            ret.root = ret.dir = path;\r\n\r\n            return ret;\r\n        }\r\n\r\n        if (rootEnd > 0)\r\n        { ret.root = path.slice(0, rootEnd); }\r\n\r\n        let startDot = -1;\r\n        let startPart = rootEnd;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        let i = path.length - 1;\r\n\r\n        // Track the state of characters (if any) we see before our first dot and\r\n        // after any path separator we find\r\n        let preDotState = 0;\r\n\r\n        // Get non-dir info\r\n        for (; i >= rootEnd; --i)\r\n        {\r\n            code = path.charCodeAt(i);\r\n            if (isPathSeparator(code))\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    startPart = i + 1;\r\n                    break;\r\n                }\r\n                continue;\r\n            }\r\n            if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // extension\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n            if (code === CHAR_DOT)\r\n            {\r\n                // If this is our first dot, mark it as the start of our extension\r\n                if (startDot === -1)\r\n                { startDot = i; }\r\n                else if (preDotState !== 1)\r\n                { preDotState = 1; }\r\n            }\r\n            else if (startDot !== -1)\r\n            {\r\n                // We saw a non-dot and non-path separator before our dot, so we should\r\n                // have a good chance at having a non-empty extension\r\n                preDotState = -1;\r\n            }\r\n        }\r\n\r\n        if (startDot === -1\r\n            || end === -1\r\n            // We saw a non-dot character immediately before the dot\r\n            || preDotState === 0\r\n            // The (right-most) trimmed path component is exactly '..'\r\n            || (preDotState === 1\r\n                && startDot === end - 1\r\n                && startDot === startPart + 1))\r\n        {\r\n            if (end !== -1)\r\n            {\r\n                ret.base = ret.name = path.slice(startPart, end);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            ret.name = path.slice(startPart, startDot);\r\n            ret.base = path.slice(startPart, end);\r\n            ret.ext = path.slice(startDot, end);\r\n        }\r\n\r\n        // If the directory is the root, use the entire root as the `dir` including\r\n        // the trailing slash if any (`C:\\abc` -> `C:\\`). Otherwise, strip out the\r\n        // trailing slash (`C:\\abc\\def` -> `C:\\abc`).\r\n        if (startPart > 0 && startPart !== rootEnd)\r\n        { ret.dir = path.slice(0, startPart - 1); }\r\n        else\r\n        { ret.dir = ret.root; }\r\n\r\n        return ret;\r\n    }\r\n\r\n    sep: '\\\\' | '/' = '\\\\';\r\n    delimiter: ';' | ':' = ';';\r\n    win32: Win32Path = <any>null;\r\n    posix: PosixPath = <any>null;\r\n}\r\n\r\nclass PosixPath implements Path\r\n{\r\n    // path.resolve([from ...], to)\r\n    resolve(..._pathSegments: string[]): string\r\n    {\r\n        let resolvedPath = '';\r\n        let resolvedAbsolute = false;\r\n\r\n        for (let i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--)\r\n        {\r\n            let path;\r\n            if (i >= 0)\r\n            // eslint-disable-next-line prefer-rest-params\r\n            { path = arguments[i]; }\r\n            else\r\n            {\r\n                path = process.cwd();\r\n            }\r\n\r\n            validateString(path, 'path');\r\n\r\n            // Skip empty entries\r\n            if (path.length === 0)\r\n            {\r\n                continue;\r\n            }\r\n\r\n            resolvedPath = `${path}/${resolvedPath}`;\r\n            resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\r\n        }\r\n\r\n        // At this point the path should be resolved to a full absolute path, but\r\n        // handle relative paths to be safe (might happen when process.cwd() fails)\r\n\r\n        // Normalize the path\r\n        resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, '/',\r\n            isPosixPathSeparator);\r\n\r\n        if (resolvedAbsolute)\r\n        {\r\n            if (resolvedPath.length > 0)\r\n            { return `/${resolvedPath}`; }\r\n\r\n            return '/';\r\n        }\r\n        else if (resolvedPath.length > 0)\r\n        {\r\n            return resolvedPath;\r\n        }\r\n\r\n        return '.';\r\n    }\r\n\r\n    normalize(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n\r\n        if (path.length === 0)\r\n        { return '.'; }\r\n\r\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\r\n        const trailingSeparator\r\n            = path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;\r\n\r\n        // Normalize the path\r\n        path = normalizeString(path, !isAbsolute, '/', isPosixPathSeparator);\r\n\r\n        if (path.length === 0 && !isAbsolute)\r\n        { path = '.'; }\r\n        if (path.length > 0 && trailingSeparator)\r\n        { path += '/'; }\r\n\r\n        if (isAbsolute)\r\n        { return `/${path}`; }\r\n\r\n        return path;\r\n    }\r\n\r\n    isAbsolute(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n\r\n        return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;\r\n    }\r\n\r\n    join()\r\n    {\r\n        if (arguments.length === 0)\r\n        { return '.'; }\r\n        let joined;\r\n        for (let i = 0; i < arguments.length; ++i)\r\n        {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            const arg = arguments[i];\r\n            validateString(arg, 'path');\r\n            if (arg.length > 0)\r\n            {\r\n                if (joined === undefined)\r\n                { joined = arg; }\r\n                else\r\n                { joined += `/${arg}`; }\r\n            }\r\n        }\r\n        if (joined === undefined)\r\n        { return '.'; }\r\n\r\n        return posix.normalize(joined);\r\n    }\r\n\r\n    relative(from: string, to: string)\r\n    {\r\n        validateString(from, 'from');\r\n        validateString(to, 'to');\r\n\r\n        if (from === to)\r\n        { return ''; }\r\n\r\n        from = posix.resolve(from);\r\n        to = posix.resolve(to);\r\n\r\n        if (from === to)\r\n        { return ''; }\r\n\r\n        // Trim any leading backslashes\r\n        let fromStart = 1;\r\n        for (; fromStart < from.length; ++fromStart)\r\n        {\r\n            if (from.charCodeAt(fromStart) !== CHAR_FORWARD_SLASH)\r\n            { break; }\r\n        }\r\n        const fromEnd = from.length;\r\n        const fromLen = (fromEnd - fromStart);\r\n\r\n        // Trim any leading backslashes\r\n        let toStart = 1;\r\n        for (; toStart < to.length; ++toStart)\r\n        {\r\n            if (to.charCodeAt(toStart) !== CHAR_FORWARD_SLASH)\r\n            { break; }\r\n        }\r\n        const toEnd = to.length;\r\n        const toLen = (toEnd - toStart);\r\n\r\n        // Compare paths to find the longest common path from root\r\n        const length = (fromLen < toLen ? fromLen : toLen);\r\n        let lastCommonSep = -1;\r\n        let i = 0;\r\n        for (; i <= length; ++i)\r\n        {\r\n            if (i === length)\r\n            {\r\n                if (toLen > length)\r\n                {\r\n                    if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH)\r\n                    {\r\n                        // We get here if `from` is the exact base path for `to`.\r\n                        // For example: from='/foo/bar'; to='/foo/bar/baz'\r\n                        return to.slice(toStart + i + 1);\r\n                    }\r\n                    else if (i === 0)\r\n                    {\r\n                        // We get here if `from` is the root\r\n                        // For example: from='/'; to='/foo'\r\n                        return to.slice(toStart + i);\r\n                    }\r\n                }\r\n                else if (fromLen > length)\r\n                {\r\n                    if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH)\r\n                    {\r\n                        // We get here if `to` is the exact base path for `from`.\r\n                        // For example: from='/foo/bar/baz'; to='/foo/bar'\r\n                        lastCommonSep = i;\r\n                    }\r\n                    else if (i === 0)\r\n                    {\r\n                        // We get here if `to` is the root.\r\n                        // For example: from='/foo'; to='/'\r\n                        lastCommonSep = 0;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            const fromCode = from.charCodeAt(fromStart + i);\r\n            const toCode = to.charCodeAt(toStart + i);\r\n            if (fromCode !== toCode)\r\n            { break; }\r\n            else if (fromCode === CHAR_FORWARD_SLASH)\r\n            { lastCommonSep = i; }\r\n        }\r\n\r\n        let out = '';\r\n        // Generate the relative path based on the path difference between `to`\r\n        // and `from`\r\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i)\r\n        {\r\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH)\r\n            {\r\n                if (out.length === 0)\r\n                { out += '..'; }\r\n                else\r\n                { out += '/..'; }\r\n            }\r\n        }\r\n\r\n        // Lastly, append the rest of the destination (`to`) path that comes after\r\n        // the common path parts\r\n        if (out.length > 0)\r\n        { return out + to.slice(toStart + lastCommonSep); }\r\n\r\n        toStart += lastCommonSep;\r\n        if (to.charCodeAt(toStart) === CHAR_FORWARD_SLASH)\r\n        { ++toStart; }\r\n\r\n        return to.slice(toStart);\r\n    }\r\n\r\n    toNamespacedPath(path: string)\r\n    {\r\n        // Non-op on posix systems\r\n        return path;\r\n    }\r\n\r\n    dirname(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        if (path.length === 0)\r\n        { return '.'; }\r\n        const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        for (let i = path.length - 1; i >= 1; --i)\r\n        {\r\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH)\r\n            {\r\n                if (!matchedSlash)\r\n                {\r\n                    end = i;\r\n                    break;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // We saw the first non-path separator\r\n                matchedSlash = false;\r\n            }\r\n        }\r\n\r\n        if (end === -1)\r\n        { return hasRoot ? '/' : '.'; }\r\n        if (hasRoot && end === 1)\r\n        { return '//'; }\r\n\r\n        return path.slice(0, end);\r\n    }\r\n\r\n    basename(path: string, ext: string)\r\n    {\r\n        if (ext !== undefined)\r\n        { validateString(ext, 'ext'); }\r\n        validateString(path, 'path');\r\n\r\n        let start = 0;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        let i;\r\n\r\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length)\r\n        {\r\n            if (ext.length === path.length && ext === path)\r\n            { return ''; }\r\n            let extIdx = ext.length - 1;\r\n            let firstNonSlashEnd = -1;\r\n            for (i = path.length - 1; i >= 0; --i)\r\n            {\r\n                const code = path.charCodeAt(i);\r\n                if (code === CHAR_FORWARD_SLASH)\r\n                {\r\n                    // If we reached a path separator that was not part of a set of path\r\n                    // separators at the end of the string, stop now\r\n                    if (!matchedSlash)\r\n                    {\r\n                        start = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if (firstNonSlashEnd === -1)\r\n                    {\r\n                        // We saw the first non-path separator, remember this index in case\r\n                        // we need it if the extension ends up not matching\r\n                        matchedSlash = false;\r\n                        firstNonSlashEnd = i + 1;\r\n                    }\r\n                    if (extIdx >= 0)\r\n                    {\r\n                        // Try to match the explicit extension\r\n                        if (code === ext.charCodeAt(extIdx))\r\n                        {\r\n                            if (--extIdx === -1)\r\n                            {\r\n                                // We matched the extension, so mark this as the end of our path\r\n                                // component\r\n                                end = i;\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            // Extension does not match, so our result is the entire path\r\n                            // component\r\n                            extIdx = -1;\r\n                            end = firstNonSlashEnd;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (start === end)\r\n            { end = firstNonSlashEnd; }\r\n            else if (end === -1)\r\n            { end = path.length; }\r\n\r\n            return path.slice(start, end);\r\n        }\r\n        for (i = path.length - 1; i >= 0; --i)\r\n        {\r\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH)\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    start = i + 1;\r\n                    break;\r\n                }\r\n            }\r\n            else if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // path component\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n        }\r\n\r\n        if (end === -1)\r\n        { return ''; }\r\n\r\n        return path.slice(start, end);\r\n    }\r\n\r\n    extname(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n        let startDot = -1;\r\n        let startPart = 0;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        // Track the state of characters (if any) we see before our first dot and\r\n        // after any path separator we find\r\n        let preDotState = 0;\r\n        for (let i = path.length - 1; i >= 0; --i)\r\n        {\r\n            const code = path.charCodeAt(i);\r\n            if (code === CHAR_FORWARD_SLASH)\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    startPart = i + 1;\r\n                    break;\r\n                }\r\n                continue;\r\n            }\r\n            if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // extension\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n            if (code === CHAR_DOT)\r\n            {\r\n                // If this is our first dot, mark it as the start of our extension\r\n                if (startDot === -1)\r\n                { startDot = i; }\r\n                else if (preDotState !== 1)\r\n                { preDotState = 1; }\r\n            }\r\n            else if (startDot !== -1)\r\n            {\r\n                // We saw a non-dot and non-path separator before our dot, so we should\r\n                // have a good chance at having a non-empty extension\r\n                preDotState = -1;\r\n            }\r\n        }\r\n\r\n        if (startDot === -1\r\n            || end === -1\r\n            // We saw a non-dot character immediately before the dot\r\n            || preDotState === 0\r\n            // The (right-most) trimmed path component is exactly '..'\r\n            || (preDotState === 1\r\n                && startDot === end - 1\r\n                && startDot === startPart + 1))\r\n        {\r\n            return '';\r\n        }\r\n\r\n        return path.slice(startDot, end);\r\n    }\r\n\r\n    format(pathObject: {\r\n        dir: string;\r\n        root: string;\r\n        base: string;\r\n        name: string;\r\n        ext: string;\r\n    })\r\n    {\r\n        if (pathObject === null || typeof pathObject !== 'object')\r\n        {\r\n            throw new ERR_INVALID_ARG_TYPE('pathObject', 'Object', pathObject);\r\n        }\r\n\r\n        return _format('/', pathObject);\r\n    }\r\n\r\n    parse(path: string)\r\n    {\r\n        validateString(path, 'path');\r\n\r\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\r\n        if (path.length === 0)\r\n        { return ret; }\r\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\r\n        let start;\r\n        if (isAbsolute)\r\n        {\r\n            ret.root = '/';\r\n            start = 1;\r\n        }\r\n        else\r\n        {\r\n            start = 0;\r\n        }\r\n        let startDot = -1;\r\n        let startPart = 0;\r\n        let end = -1;\r\n        let matchedSlash = true;\r\n        let i = path.length - 1;\r\n\r\n        // Track the state of characters (if any) we see before our first dot and\r\n        // after any path separator we find\r\n        let preDotState = 0;\r\n\r\n        // Get non-dir info\r\n        for (; i >= start; --i)\r\n        {\r\n            const code = path.charCodeAt(i);\r\n            if (code === CHAR_FORWARD_SLASH)\r\n            {\r\n                // If we reached a path separator that was not part of a set of path\r\n                // separators at the end of the string, stop now\r\n                if (!matchedSlash)\r\n                {\r\n                    startPart = i + 1;\r\n                    break;\r\n                }\r\n                continue;\r\n            }\r\n            if (end === -1)\r\n            {\r\n                // We saw the first non-path separator, mark this as the end of our\r\n                // extension\r\n                matchedSlash = false;\r\n                end = i + 1;\r\n            }\r\n            if (code === CHAR_DOT)\r\n            {\r\n                // If this is our first dot, mark it as the start of our extension\r\n                if (startDot === -1)\r\n                { startDot = i; }\r\n                else if (preDotState !== 1)\r\n                { preDotState = 1; }\r\n            }\r\n            else if (startDot !== -1)\r\n            {\r\n                // We saw a non-dot and non-path separator before our dot, so we should\r\n                // have a good chance at having a non-empty extension\r\n                preDotState = -1;\r\n            }\r\n        }\r\n\r\n        if (startDot === -1\r\n            || end === -1\r\n            // We saw a non-dot character immediately before the dot\r\n            || preDotState === 0\r\n            // The (right-most) trimmed path component is exactly '..'\r\n            || (preDotState === 1\r\n                && startDot === end - 1\r\n                && startDot === startPart + 1))\r\n        {\r\n            if (end !== -1)\r\n            {\r\n                if (startPart === 0 && isAbsolute)\r\n                { ret.base = ret.name = path.slice(1, end); }\r\n                else\r\n                { ret.base = ret.name = path.slice(startPart, end); }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (startPart === 0 && isAbsolute)\r\n            {\r\n                ret.name = path.slice(1, startDot);\r\n                ret.base = path.slice(1, end);\r\n            }\r\n            else\r\n            {\r\n                ret.name = path.slice(startPart, startDot);\r\n                ret.base = path.slice(startPart, end);\r\n            }\r\n            ret.ext = path.slice(startDot, end);\r\n        }\r\n\r\n        if (startPart > 0)\r\n        { ret.dir = path.slice(0, startPart - 1); }\r\n        else if (isAbsolute)\r\n        { ret.dir = '/'; }\r\n\r\n        return ret;\r\n    }\r\n\r\n    sep: '\\\\' | '/' = '/';\r\n    delimiter: ';' | ':' = ':';\r\n    win32: Win32Path = <any>null;\r\n    posix: PosixPath = <any>null;\r\n}\r\n\r\nconst win32 = new Win32Path();\r\nconst posix = new PosixPath();\r\n\r\nposix.win32 = win32.win32 = win32;\r\nposix.posix = win32.posix = posix;\r\n\r\n// Legacy internal API, docs-only deprecated: DEP0080\r\n// win32._makeLong = win32.toNamespacedPath;\r\n// posix._makeLong = posix.toNamespacedPath;\r\n\r\n// if (process.platform === 'win32')\r\n//     module.exports = win32;\r\n// else\r\n//     module.exports = posix;\r\n\r\n//\r\n\r\n/**\r\n * 路径\r\n *\r\n * 从nodeJs的path移植\r\n *\r\n * @see http://nodejs.cn/api/path.html\r\n * @see https://github.com/nodejs/node/blob/master/lib/path.js\r\n */\r\nexport const path: Path = (process.platform === 'win32') ? win32 : posix;\r\n","import { Lazy, lazy, ArrayUtils } from '@feng3d/polyfill';\r\n\r\n/**\r\n * 心跳计时器\r\n */\r\nexport class Ticker\r\n{\r\n    /**\r\n     * 帧率\r\n     */\r\n    frameRate = 60;\r\n    /**\r\n     * 注册帧函数\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    onframe(func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        this.on(() => 1000 / this.frameRate, func, thisObject, priority);\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 下一帧执行方法\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    nextframe(func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        this.once(() => 1000 / this.frameRate, func, thisObject, priority);\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 注销帧函数（只执行一次）\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    offframe(func: (interval: number) => void, thisObject?: Object)\r\n    {\r\n        this.off(() => 1000 / this.frameRate, func, thisObject);\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 注册周期函数\r\n     * @param interval  执行周期，以ms为单位\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    on(interval: Lazy<number>, func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        addTickerFunc({ interval, func, thisObject, priority, once: false });\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 注册周期函数（只执行一次）\r\n     * @param interval  执行周期，以ms为单位\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    once(interval: Lazy<number>, func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        addTickerFunc({ interval, func, thisObject, priority, once: true });\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 注销周期函数\r\n     * @param interval  执行周期，以ms为单位\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     */\r\n    off(interval: Lazy<number>, func: (interval: number) => void, thisObject?: Object)\r\n    {\r\n        removeTickerFunc({ interval, func, thisObject });\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 重复指定次数 执行函数\r\n     * @param interval  执行周期，以ms为单位\r\n     * @param \trepeatCount     执行次数\r\n     * @param func  执行方法\r\n     * @param thisObject    方法this指针\r\n     * @param priority      执行优先级\r\n     */\r\n    repeat(interval: Lazy<number>, repeatCount: number, func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        repeatCount = ~~repeatCount;\r\n        if (repeatCount < 1)\r\n        { return; }\r\n        const timer = new Timer(this, interval, repeatCount, func, thisObject, priority);\r\n\r\n        return timer;\r\n    }\r\n}\r\n\r\n/**\r\n * 心跳计时器\r\n */\r\nexport const ticker = new Ticker();\r\n\r\nexport class Timer\r\n{\r\n    private ticker: Ticker;\r\n    private interval: Lazy<number>;\r\n    private priority: number;\r\n    private func: (interval: number) => void;\r\n    private thisObject: Object;\r\n\r\n    /**\r\n     * 计时器从 0 开始后触发的总次数。\r\n     */\r\n    currentCount = 0;\r\n    /**\r\n     * 计时器事件间的延迟（以毫秒为单位）。\r\n     */\r\n    delay: number;\r\n    /**\r\n     * 设置的计时器运行总次数。\r\n     */\r\n    repeatCount: number;\r\n\r\n    constructor(ticker: Ticker, interval: Lazy<number>, repeatCount: number, func: (interval: number) => void, thisObject?: Object, priority = 0)\r\n    {\r\n        this.ticker = ticker;\r\n        this.interval = interval;\r\n        this.func = func;\r\n        this.thisObject = thisObject;\r\n        this.priority = priority;\r\n    }\r\n    /**\r\n     * 如果计时器尚未运行，则启动计时器。\r\n     */\r\n    start()\r\n    {\r\n        this.ticker.on(this.interval, this.runfunc, this, this.priority);\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 停止计时器。\r\n     */\r\n    stop()\r\n    {\r\n        this.ticker.off(this.interval, this.runfunc, this);\r\n\r\n        return this;\r\n    }\r\n    /**\r\n     * 如果计时器正在运行，则停止计时器，并将 currentCount 属性设回为 0，这类似于秒表的重置按钮。\r\n     */\r\n    reset()\r\n    {\r\n        this.stop();\r\n        this.currentCount = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    private runfunc()\r\n    {\r\n        this.currentCount++;\r\n        this.repeatCount--;\r\n        this.func.call(this.thisObject, lazy.getvalue(this.interval));\r\n        if (this.repeatCount < 1)\r\n        { this.stop(); }\r\n    }\r\n}\r\n\r\ninterface TickerFuncItem\r\n{\r\n    interval: Lazy<number>,\r\n    func: (interval: number) => void,\r\n    thisObject?: Object,\r\n    priority?: number,\r\n    once?: boolean\r\n    //\r\n    runtime?: number;\r\n}\r\nconst tickerFuncs: TickerFuncItem[] = [];\r\n\r\nfunction addTickerFunc(item: TickerFuncItem)\r\n{\r\n    if (running)\r\n    {\r\n        affers.push([addTickerFunc, [item]]);\r\n\r\n        return;\r\n    }\r\n    // removeTickerFunc(item);\r\n    if (item.priority === undefined)\r\n    { item.priority = 0; }\r\n    item.runtime = Date.now() + lazy.getvalue(item.interval);\r\n    tickerFuncs.push(item);\r\n}\r\n\r\nfunction removeTickerFunc(item: TickerFuncItem)\r\n{\r\n    if (running)\r\n    {\r\n        affers.push([removeTickerFunc, [item]]);\r\n\r\n        return;\r\n    }\r\n    for (let i = tickerFuncs.length - 1; i >= 0; i--)\r\n    {\r\n        const element = tickerFuncs[i];\r\n        if (lazy.getvalue(element.interval) === lazy.getvalue(item.interval)\r\n            && element.func === item.func\r\n            && element.thisObject === item.thisObject\r\n        )\r\n        {\r\n            tickerFuncs.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n\r\nlet running = false;\r\nconst affers: [Function, any[]][] = [];\r\n\r\nfunction runTickerFuncs()\r\n{\r\n    running = true;\r\n    // 倒序，优先级高的排在后面\r\n    tickerFuncs.sort((a, b) =>\r\n        <number>a.priority - <number>b.priority);\r\n    const currenttime = Date.now();\r\n    const needTickerFuncItems: TickerFuncItem[] = [];\r\n    for (let i = tickerFuncs.length - 1; i >= 0; i--)\r\n    {\r\n        const element = tickerFuncs[i];\r\n        if (<number>element.runtime < currenttime)\r\n        {\r\n            needTickerFuncItems.push(element);\r\n            if (element.once)\r\n            {\r\n                tickerFuncs.splice(i, 1);\r\n                continue;\r\n            }\r\n            element.runtime = nextRuntime(<number>element.runtime, lazy.getvalue(element.interval));\r\n        }\r\n    }\r\n    needTickerFuncItems.reverse();\r\n    // 相同的函数只执行一个\r\n    ArrayUtils.unique(needTickerFuncItems, (a, b) => (a.func === b.func && a.thisObject === b.thisObject));\r\n    needTickerFuncItems.forEach((v) =>\r\n    {\r\n        // try\r\n        // {\r\n        v.func.call(v.thisObject, lazy.getvalue(v.interval));\r\n        // } catch (error)\r\n        // {\r\n        //     console.warn(`${v.func} 方法执行错误，从 ticker 中移除`, error)\r\n        //     var index = tickerFuncs.indexOf(v);\r\n        //     if (index != -1) tickerFuncs.splice(index, 1);\r\n        // }\r\n    });\r\n    running = false;\r\n\r\n    for (let i = 0; i < affers.length; i++)\r\n    {\r\n        const affer = affers[i];\r\n        affer[0].apply(null, affer[1]);\r\n    }\r\n    affers.length = 0;\r\n\r\n    localrequestAnimationFrame(runTickerFuncs);\r\n\r\n    function nextRuntime(runtime: number, interval: number)\r\n    {\r\n        return runtime + Math.ceil((currenttime - runtime) / interval) * interval;\r\n    }\r\n}\r\n\r\nlet localrequestAnimationFrame: (callback: FrameRequestCallback) => number;\r\nif (typeof requestAnimationFrame === 'undefined')\r\n{\r\n    let _global: Window;\r\n    let global: any;\r\n    if (typeof window !== 'undefined')\r\n    {\r\n        _global = window;\r\n        localrequestAnimationFrame\r\n            = window['requestAnimationFrame']\r\n            || window['webkitRequestAnimationFrame']\r\n            || window['mozRequestAnimationFrame']\r\n            || window['oRequestAnimationFrame']\r\n            || window['msRequestAnimationFrame'];\r\n    }\r\n    else if (typeof global !== 'undefined')\r\n    {\r\n        _global = <any>global;\r\n    }\r\n    if (localrequestAnimationFrame === undefined)\r\n    {\r\n        localrequestAnimationFrame = function (callback)\r\n        {\r\n            return _global.setTimeout(callback, 1000 / ticker.frameRate);\r\n        };\r\n    }\r\n}\r\nelse\r\n{\r\n    localrequestAnimationFrame = requestAnimationFrame;\r\n}\r\n\r\nrunTickerFuncs();\r\n","import { anyEmitter } from '@feng3d/event';\r\nimport { pathUtils } from '@feng3d/filesystem';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { ticker } from '../utils/Ticker';\r\nimport { AssetMeta } from './AssetMeta';\r\nimport { AssetType } from './AssetType';\r\nimport { FolderAsset } from './FolderAsset';\r\nimport { ReadRS } from './rs/ReadRS';\r\nimport { ReadWriteRS } from './rs/ReadWriteRS';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsAssetTypeClassMap\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport function getAssetTypeClass<K extends keyof AssetTypeClassMap>(type: K)\r\n{\r\n    return assetTypeClassMap[type];\r\n}\r\n\r\nexport function setAssetTypeClass<K extends keyof AssetTypeClassMap>(type: K, cls: AssetTypeClassMap[K])\r\n{\r\n    assetTypeClassMap[type] = cls;\r\n}\r\n\r\nexport interface AssetTypeClassMap extends MixinsAssetTypeClassMap\r\n{\r\n}\r\n\r\nexport const assetTypeClassMap: AssetTypeClassMap = <any>{};\r\n\r\n/**\r\n * feng3d资源\r\n */\r\nexport abstract class FileAsset\r\n{\r\n    /**\r\n     * 资源路径\r\n     */\r\n    @serialize\r\n    assetPath: string;\r\n\r\n    /**\r\n     * 资源编号\r\n     */\r\n    @serialize\r\n    assetId: string;\r\n\r\n    /**\r\n     * 资源元标签，该对象也用来判断资源是否被加载，值为null表示未加载，否则已加载。\r\n     *\r\n     * 并且该对象还会用于存储主文件无法存储的数据，比如 TextureAsset 中存储了 Texture2D 信息\r\n     */\r\n    meta: AssetMeta;\r\n\r\n    /**\r\n     * 资源系统\r\n     *\r\n     * 加载或者创建该资源的资源系统\r\n     */\r\n    rs: ReadWriteRS;\r\n\r\n    /**\r\n     * 资源类型，由具体对象类型决定\r\n     */\r\n    assetType: AssetType;\r\n\r\n    /**\r\n     * 是否已加载\r\n     */\r\n    isLoaded = false;\r\n\r\n    /**\r\n     * 是否正在加载中\r\n     */\r\n    isLoading = false;\r\n\r\n    /**\r\n     * 文件后缀\r\n     */\r\n    get extenson()\r\n    {\r\n        console.assert(!!this.assetPath);\r\n        const ext = pathUtils.extname(this.assetPath);\r\n\r\n        return ext;\r\n    }\r\n\r\n    /**\r\n     * 父资源\r\n     */\r\n    get parentAsset()\r\n    {\r\n        const dir = pathUtils.dirname(this.assetPath);\r\n        const parent = this.rs.getAssetByPath(dir) as FolderAsset;\r\n\r\n        return parent;\r\n    }\r\n\r\n    /**\r\n     * 文件名称\r\n     *\r\n     * 不包含后缀\r\n     */\r\n    get fileName()\r\n    {\r\n        console.assert(!!this.assetPath);\r\n        const fn = pathUtils.getName(this.assetPath);\r\n\r\n        return fn;\r\n    }\r\n\r\n    /**\r\n     * 资源对象\r\n     */\r\n    data: any;\r\n\r\n    /**\r\n     * 初始化资源\r\n     */\r\n    initAsset()\r\n    {\r\n    }\r\n\r\n    /**\r\n     * 获取资源数据\r\n     *\r\n     * @param callback 完成回调，当资源已加载时会立即调用回调，否则在资源加载完成后调用。\r\n     */\r\n    getAssetData(callback?: (result: any) => void)\r\n    {\r\n        if (!this.isLoaded)\r\n        {\r\n            if (callback)\r\n            {\r\n                this.read((err) =>\r\n                {\r\n                    console.assert(!err);\r\n                    this.getAssetData(callback);\r\n                });\r\n            }\r\n\r\n            return null;\r\n        }\r\n        const assetData = this._getAssetData();\r\n        callback && callback(assetData);\r\n\r\n        return assetData;\r\n    }\r\n\r\n    /**\r\n     * 资源已加载时获取资源数据，内部使用\r\n     */\r\n    protected _getAssetData()\r\n    {\r\n        return this.data;\r\n    }\r\n\r\n    /**\r\n     * 读取资源\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    read(callback: (err?: Error) => void)\r\n    {\r\n        if (this.isLoaded)\r\n        {\r\n            callback();\r\n\r\n            return;\r\n        }\r\n        const eventtype = 'loaded';\r\n        anyEmitter.once(this, eventtype, () =>\r\n        {\r\n            this.isLoaded = true;\r\n            this.isLoading = false;\r\n            callback();\r\n        });\r\n        if (this.isLoading) return;\r\n        this.isLoading = true;\r\n        this.readMeta((err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                anyEmitter.emit(this, eventtype);\r\n\r\n                return;\r\n            }\r\n            this.readFile((_err) =>\r\n            {\r\n                anyEmitter.emit(this, eventtype);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写入资源\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    write(callback?: (err: Error) => void)\r\n    {\r\n        this.meta.mtimeMs = Date.now();\r\n        this.writeMeta((err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.saveFile((err) =>\r\n            {\r\n                callback && callback(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 删除资源\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    delete(callback?: (err?: Error) => void)\r\n    {\r\n        // 删除 meta 文件\r\n        this.deleteMeta((err) =>\r\n        {\r\n            if (err)\r\n            {\r\n                callback && callback(err);\r\n\r\n                return;\r\n            }\r\n            this.deleteFile((_err) =>\r\n            {\r\n                // 删除映射\r\n                ReadRS.rs.deleteAssetById(this.assetId);\r\n                callback && callback();\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取资源预览图标\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    readPreview(callback: (err: Error, image: HTMLImageElement) => void)\r\n    {\r\n        if (this._preview)\r\n        {\r\n            callback(null, this._preview);\r\n\r\n            return;\r\n        }\r\n        this.rs.fs.readImage(this.previewPath, (err, image) =>\r\n        {\r\n            this._preview = image;\r\n            callback(err, image);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取资源预览图标\r\n     *\r\n     * @param image 预览图\r\n     * @param callback 完成回调\r\n     */\r\n    writePreview(image: HTMLImageElement, callback?: (err: Error) => void)\r\n    {\r\n        if (this._preview === image)\r\n        {\r\n            callback && callback(null);\r\n\r\n            return;\r\n        }\r\n        this._preview = image;\r\n        this.rs.fs.writeImage(this.previewPath, image, callback);\r\n    }\r\n\r\n    /**\r\n     * 删除资源预览图标\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    deletePreview(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.deleteFile(this.previewPath, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    abstract readFile(callback?: (err: Error) => void): void;\r\n\r\n    /**\r\n     * 保存文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    abstract saveFile(callback?: (err: Error) => void): void;\r\n\r\n    /**\r\n     * 删除文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected deleteFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.deleteFile(this.assetPath, callback);\r\n\r\n        // 延迟一帧判断该资源是否被删除，排除移动文件时出现的临时删除情况\r\n        ticker.once(1000, () =>\r\n        {\r\n            if (!this.rs.getAssetById(this.assetId))\r\n            {\r\n                this.deletePreview();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 元标签路径\r\n     */\r\n    protected get metaPath()\r\n    {\r\n        return `${this.assetPath}.meta`;\r\n    }\r\n\r\n    /**\r\n     * 读取元标签\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected readMeta(callback?: (err?: Error) => void)\r\n    {\r\n        this.rs.fs.readObject(this.metaPath, (err, meta: AssetMeta) =>\r\n        {\r\n            this.meta = meta;\r\n            callback && callback(err);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写元标签\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected writeMeta(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.writeObject(this.metaPath, this.meta, callback);\r\n    }\r\n\r\n    /**\r\n     * 删除元标签\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected deleteMeta(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.deleteFile(this.metaPath, callback);\r\n    }\r\n\r\n    /**\r\n     * 预览图\r\n     */\r\n    private _preview: HTMLImageElement;\r\n\r\n    /**\r\n     * 预览图路径\r\n     */\r\n    private get previewPath()\r\n    {\r\n        return `previews/${this.assetId}.png`;\r\n    }\r\n}\r\n\r\n","import { ov } from '@feng3d/objectview';\r\nimport { AssetType } from './AssetType';\r\nimport { FileAsset, setAssetTypeClass } from './FileAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'folder': new () => FolderAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 文件夹资源\r\n */\r\n@ov({ component: 'OVFolderAsset' })\r\nexport class FolderAsset extends FileAsset\r\n{\r\n    static extenson = '';\r\n\r\n    assetType = AssetType.folder;\r\n\r\n    /**\r\n     * 子资源列表\r\n     */\r\n    get childrenAssets()\r\n    {\r\n        const children = this.rs.getChildrenAssetByPath(this.assetPath);\r\n\r\n        return children;\r\n    }\r\n\r\n    initAsset()\r\n    {\r\n    }\r\n\r\n    /**\r\n     * 删除资源\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    delete(callback?: (err: Error) => void)\r\n    {\r\n        super.delete(callback);\r\n    }\r\n\r\n    /**\r\n     * 保存文件\r\n     * @param callback 完成回调\r\n     */\r\n    saveFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.mkdir(this.assetPath, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     * @param callback 完成回调\r\n     */\r\n    readFile(callback?: (err: Error) => void)\r\n    {\r\n        callback && callback(null);\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('folder', FolderAsset);\r\n","import { FS, pathUtils, ReadFS } from '@feng3d/filesystem';\r\nimport { ArrayUtils, classUtils, Constructor, gPartial, mathUtil, ObjectUtils, __class__ } from '@feng3d/polyfill';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { task } from '@feng3d/task';\r\nimport { AssetData } from '../../core/AssetData';\r\nimport { path } from '../../utils/Path';\r\nimport { FileAsset } from '../FileAsset';\r\nimport { FolderAsset } from '../FolderAsset';\r\n\r\n/**\r\n * 可读资源系统\r\n */\r\nexport class ReadRS\r\n{\r\n    /**\r\n     * 默认资源系统\r\n     */\r\n    static rs = new ReadRS();\r\n\r\n    /**\r\n     * 文件系统\r\n     */\r\n    get fs() { return this._fs || FS.fs; }\r\n    private _fs: ReadFS;\r\n\r\n    /**\r\n     * 根资源路径\r\n     */\r\n    get rootPath() { return this._rootPath; }\r\n    private _rootPath = 'Assets';\r\n\r\n    /**\r\n     * 根资源\r\n     */\r\n    get root() { return this.getAssetByPath(this.rootPath) as FolderAsset; }\r\n\r\n    /**\r\n     * 资源编号映射\r\n     */\r\n    protected _idMap: { [id: string]: FileAsset } = {};\r\n\r\n    /**\r\n     * 资源路径映射\r\n     */\r\n    protected _pathMap: { [path: string]: FileAsset } = {};\r\n\r\n    /**\r\n     * 资源树保存路径\r\n     */\r\n    protected resources = 'resource.json';\r\n\r\n    /**\r\n     * 构建可读资源系统\r\n     *\r\n     * @param fs 可读文件系统\r\n     */\r\n    constructor(fs?: ReadFS)\r\n    {\r\n        this._fs = fs;\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    init(callback?: () => void)\r\n    {\r\n        this.fs.readObject(this.resources, (_err, object) =>\r\n        {\r\n            if (object)\r\n            {\r\n                const allAssets: FileAsset[] = <any>serialization.deserialize(object);\r\n                //\r\n                allAssets.forEach((asset) =>\r\n                {\r\n                    // 设置资源系统\r\n                    asset.rs = this as any;\r\n                    // 新增映射\r\n                    this.addAsset(asset);\r\n                });\r\n                callback();\r\n            }\r\n            else\r\n            {\r\n                this.createAsset(FolderAsset, this.rootPath, null, null, (_err, _asset) =>\r\n                {\r\n                    callback();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 新建资源\r\n     *\r\n     * @param Cls 资源类定义\r\n     * @param fileName 文件名称\r\n     * @param value 初始数据\r\n     * @param parent 所在文件夹，如果值为null时默认添加到根文件夹中\r\n     * @param callback 完成回调函数\r\n     */\r\n    createAsset<T extends FileAsset>(Cls: new () => T, fileName?: string, value?: gPartial<T>, parent?: FolderAsset, callback?: (err: Error, asset: T) => void)\r\n    {\r\n        parent = parent || this.root;\r\n        //\r\n        const asset: FileAsset = new Cls();\r\n        const assetId = mathUtil.uuid();\r\n\r\n        // 初始化\r\n        asset.rs = this as any;\r\n        serialization.setValue(<T>asset, value);\r\n        asset.assetId = assetId;\r\n        asset.meta = { guid: assetId, mtimeMs: Date.now(), birthtimeMs: Date.now(), assetType: asset.assetType };\r\n        asset.initAsset();\r\n        AssetData.addAssetData(asset.assetId, asset.data);\r\n\r\n        // 计算扩展名\r\n        let extenson = path.extname(fileName);\r\n        if (extenson === '') extenson = Cls['extenson'];\r\n        console.assert(extenson !== undefined, `对象 ${Cls} 没有设置 extenson 值，参考 FolderAsset.extenson`);\r\n\r\n        // 计算名称\r\n        fileName = pathUtils.getName(fileName);\r\n        // 设置默认名称\r\n        fileName = fileName || `new ${asset.assetType}`;\r\n        //\r\n        if (parent)\r\n        {\r\n            // 计算有效名称\r\n            fileName = this.getValidChildName(parent, fileName);\r\n            asset.assetPath = `${parent.assetPath}/${fileName}${extenson}`;\r\n        }\r\n        else\r\n        {\r\n            asset.assetPath = fileName + extenson;\r\n        }\r\n\r\n        // 新增映射\r\n        this.addAsset(asset);\r\n\r\n        //\r\n        asset.write((_err) =>\r\n        {\r\n            callback && callback(null, <T>asset);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取有效子文件名称\r\n     *\r\n     * @param parent 父文件夹\r\n     * @param fileName 文件名称\r\n     */\r\n    getValidChildName(parent: FolderAsset, fileName: string)\r\n    {\r\n        const childrenNames = parent.childrenAssets.map((v) => v.fileName);\r\n        let newName = fileName;\r\n        let index = 1;\r\n        while (childrenNames.indexOf(newName) !== -1)\r\n        {\r\n            newName = fileName + index;\r\n            index++;\r\n        }\r\n\r\n        return newName;\r\n    }\r\n\r\n    /**\r\n     * 读取文件为资源对象\r\n     * @param id 资源编号\r\n     * @param callback 读取完成回调\r\n     */\r\n    readAsset(id: string, callback: (err: Error, asset: FileAsset) => void)\r\n    {\r\n        const asset = this.getAssetById(id);\r\n        if (!asset)\r\n        {\r\n            callback(new Error(`不存在资源 ${id}`), asset);\r\n\r\n            return;\r\n        }\r\n        asset.read((err) =>\r\n        {\r\n            if (asset)\r\n            { AssetData.addAssetData(asset.assetId, asset.data); }\r\n            callback(err, asset);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取资源数据\r\n     *\r\n     * @param id 资源编号\r\n     * @param callback 完成回调\r\n     */\r\n    readAssetData(id: string, callback: (err: Error, data: AssetData) => void)\r\n    {\r\n        const asset = AssetData.getLoadedAssetData(id);\r\n        if (asset)\r\n        {\r\n            callback(null, asset);\r\n\r\n            return;\r\n        }\r\n        this.readAsset(id, (err, asset) =>\r\n        {\r\n            callback(err, asset && asset.getAssetData());\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取资源数据列表\r\n     *\r\n     * @param assetids 资源编号列表\r\n     * @param callback 完成回调\r\n     */\r\n    readAssetDatas(assetids: string[], callback: (err: Error, data: AssetData[]) => void)\r\n    {\r\n        const result: AssetData[] = [];\r\n        const fns = assetids.map((v) => (callback) =>\r\n        {\r\n            ReadRS.rs.readAssetData(v, (_err, data) =>\r\n            {\r\n                console.assert(!!data);\r\n                result.push(data);\r\n                callback();\r\n            });\r\n        });\r\n        task.parallel(fns)(() =>\r\n        {\r\n            console.assert(assetids.length === result.filter((v) => v !== null).length);\r\n            callback(null, result);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取指定类型资源\r\n     *\r\n     * @param type 资源类型\r\n     */\r\n    getAssetsByType<T extends FileAsset>(type: Constructor<T>): T[]\r\n    {\r\n        const assets = Object.keys(this._idMap).map((v) => this._idMap[v]);\r\n\r\n        return <any>assets.filter((v) => v instanceof type);\r\n    }\r\n\r\n    /**\r\n     * 获取指定类型资源数据\r\n     *\r\n     * @param type 资源类型\r\n     */\r\n    getLoadedAssetDatasByType<T>(type: Constructor<T>): T[]\r\n    {\r\n        const assets = AssetData.getAllLoadedAssetDatas();\r\n\r\n        return <any>assets.filter((v) => v instanceof type);\r\n    }\r\n\r\n    /**\r\n     * 获取指定编号资源\r\n     *\r\n     * @param id 资源编号\r\n     */\r\n    getAssetById(id: string)\r\n    {\r\n        return this._idMap[id];\r\n    }\r\n\r\n    /**\r\n     * 获取指定路径资源\r\n     *\r\n     * @param path 资源路径\r\n     */\r\n    getAssetByPath(path: string)\r\n    {\r\n        return this._pathMap[path];\r\n    }\r\n\r\n    /**\r\n     * 获取文件夹内子文件路径列表\r\n     *\r\n     * @param path 路径\r\n     */\r\n    getChildrenPathsByPath(path: string)\r\n    {\r\n        const paths = this.getAllPaths();\r\n        const childrenPaths = paths.filter((v) =>\r\n            pathUtils.dirname(v) === path);\r\n\r\n        return childrenPaths;\r\n    }\r\n\r\n    /**\r\n     * 获取文件夹内子文件列表\r\n     *\r\n     * @param path 文件夹路径\r\n     */\r\n    getChildrenAssetByPath(path: string)\r\n    {\r\n        const childrenPaths = this.getChildrenPathsByPath(path);\r\n\r\n        const children: FileAsset[] = childrenPaths.map((v) => this.getAssetByPath(v));\r\n\r\n        return children;\r\n    }\r\n\r\n    /**\r\n     * 新增资源\r\n     *\r\n     * @param asset 资源\r\n     */\r\n    addAsset(asset: FileAsset)\r\n    {\r\n        this._idMap[asset.assetId] = asset;\r\n        this._pathMap[asset.assetPath] = asset;\r\n    }\r\n\r\n    /**\r\n     * 获取所有资源编号列表\r\n     */\r\n    getAllIds()\r\n    {\r\n        return Object.keys(this._idMap);\r\n    }\r\n\r\n    /**\r\n     * 获取所有资源路径列表\r\n     */\r\n    getAllPaths()\r\n    {\r\n        return Object.keys(this._pathMap);\r\n    }\r\n\r\n    /**\r\n     * 获取所有资源\r\n     */\r\n    getAllAssets()\r\n    {\r\n        const assets = this.getAllIds().map((v) => this.getAssetById(v));\r\n\r\n        return assets;\r\n    }\r\n\r\n    /**\r\n     * 删除指定编号的资源\r\n     *\r\n     * @param id 资源编号\r\n     */\r\n    deleteAssetById(id: string)\r\n    {\r\n        this.deleteAsset0(this.getAssetById(id));\r\n    }\r\n\r\n    /**\r\n     * 删除指定路径的资源\r\n     *\r\n     * @param path 资源路径\r\n     */\r\n    deleteAssetByPath(path: string)\r\n    {\r\n        this.deleteAsset0(this._pathMap[path]);\r\n    }\r\n\r\n    /**\r\n     * 删除资源\r\n     *\r\n     * @param asset 资源\r\n     */\r\n    deleteAsset0(asset: FileAsset)\r\n    {\r\n        delete this._idMap[asset.assetId];\r\n        delete this._pathMap[asset.assetPath];\r\n    }\r\n\r\n    /**\r\n     * 获取需要反序列化对象中的资源id列表\r\n     */\r\n    getAssetsWithObject(object: any, assetids: string[] = [])\r\n    {\r\n        if (ObjectUtils.isBaseType(object)) return [];\r\n        //\r\n        if (AssetData.isAssetData(object)) assetids.push(object.assetId);\r\n        //\r\n        if (ObjectUtils.isObject(object) || Array.isArray(object))\r\n        {\r\n            const keys = Object.keys(object);\r\n            keys.forEach((k) =>\r\n            {\r\n                this.getAssetsWithObject(object[k], assetids);\r\n            });\r\n        }\r\n\r\n        return assetids;\r\n    }\r\n\r\n    /**\r\n     * 反序列化包含资源的对象\r\n     *\r\n     * @param object 反序列化的对象\r\n     * @param callback 完成回调\r\n     */\r\n    deserializeWithAssets(object: any, callback: (result: any) => void)\r\n    {\r\n        // 获取所包含的资源列表\r\n        const assetids = this.getAssetsWithObject(object);\r\n        // 不需要加载本资源，移除自身资源\r\n        ArrayUtils.deleteItem(assetids, object.assetId);\r\n        // 加载包含的资源数据\r\n        this.readAssetDatas(assetids, (_err, _result) =>\r\n        {\r\n            // 创建资源数据实例\r\n            const assetData = classUtils.getInstanceByName(object[__class__]);\r\n            // 默认反序列\r\n            serialization.setValue(assetData, object);\r\n            callback(assetData);\r\n        });\r\n    }\r\n}\r\n","import { classUtils, MapUtils, __class__ } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { ReadRS } from '../assets/rs/ReadRS';\r\nimport { Feng3dObject } from './Feng3dObject';\r\n\r\n/**\r\n * 资源数据\r\n *\r\n * 该对象可由资源文件中读取，或者保存为资源\r\n */\r\nexport class AssetData extends Feng3dObject\r\n{\r\n    /**\r\n     * 资源名称\r\n     */\r\n    @serialize\r\n    get assetName(): string\r\n    {\r\n        const asset = ReadRS.rs.getAssetById(this.assetId);\r\n        if (asset)\r\n        {\r\n            return asset.fileName;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 资源编号\r\n     */\r\n    @serialize\r\n    get assetId()\r\n    {\r\n        return this._assetId;\r\n    }\r\n    set assetId(v)\r\n    {\r\n        if (this._assetId === v) return;\r\n\r\n        if (this._assetId !== undefined)\r\n        {\r\n            console.error(`不允许修改 assetId`);\r\n\r\n            return;\r\n        }\r\n\r\n        this._assetId = v;\r\n    }\r\n    private _assetId: string;\r\n\r\n    /**\r\n     * 资源类型，由具体对象类型决定\r\n     */\r\n    assetType: AssetType;\r\n\r\n    /**\r\n     * 新增资源数据\r\n     *\r\n     * @param assetId 资源编号\r\n     * @param data 资源数据\r\n     */\r\n    static addAssetData<T>(assetId: string, data: T)\r\n    {\r\n        if (!data) return;\r\n        if (this.assetMap.has(data) || this.idAssetMap.has(assetId))\r\n        {\r\n            console.warn(`同一个材质被保存在多个资源中！`);\r\n        }\r\n\r\n        this.assetMap.set(data, assetId);\r\n        this.idAssetMap.set(assetId, data);\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * 删除资源数据\r\n     *\r\n     * @param data 资源数据\r\n     */\r\n    static deleteAssetData(data: any)\r\n    {\r\n        if (!data) return;\r\n        console.assert(this.assetMap.has(data));\r\n        const assetId = this.assetMap.get(data);\r\n        this._delete(assetId, data);\r\n    }\r\n\r\n    static deleteAssetDataById(assetId: string)\r\n    {\r\n        console.assert(this.idAssetMap.has(assetId));\r\n        const data = this.idAssetMap.get(assetId);\r\n        this._delete(assetId, data);\r\n    }\r\n\r\n    private static _delete(assetId, data: any)\r\n    {\r\n        this.assetMap.delete(data);\r\n        this.idAssetMap.delete(assetId);\r\n    }\r\n\r\n    /**\r\n     * 判断是否为资源数据\r\n     *\r\n     * @param asset 可能的资源数据\r\n     */\r\n    static isAssetData(asset: any): asset is AssetData\r\n    {\r\n        if (this.assetMap.has(asset)) return true;\r\n        if (asset instanceof AssetData) return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 资源属性标记名称\r\n     */\r\n    private static assetPropertySign = 'assetId';\r\n\r\n    /**\r\n     * 序列化\r\n     *\r\n     * @param asset 资源数据\r\n     */\r\n    static serialize(asset: AssetData)\r\n    {\r\n        const obj = <any>{};\r\n        obj[__class__] = classUtils.getQualifiedClassName(asset);\r\n        obj.assetId = asset.assetId;\r\n\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * 反序列化\r\n     *\r\n     * @param object 资源对象\r\n     */\r\n    static deserialize(object: any)\r\n    {\r\n        const result = this.getLoadedAssetData(object.assetId);\r\n        console.assert(!!result, `资源 ${object.assetId} 未加载，请使用 ReadRS.deserializeWithAssets 进行序列化包含加载的资源对象。`);\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 获取已加载的资源数据\r\n     *\r\n     * @param assetId 资源编号\r\n     */\r\n    static getLoadedAssetData(assetId: string)\r\n    {\r\n        return this.idAssetMap.get(assetId);\r\n    }\r\n\r\n    /**\r\n     * 获取所有已加载资源数据\r\n     */\r\n    static getAllLoadedAssetDatas()\r\n    {\r\n        return MapUtils.getKeys(this.assetMap);\r\n    }\r\n\r\n    /**\r\n     * 资源与编号对应表\r\n     */\r\n    static assetMap = new Map<any, string>();\r\n\r\n    /**\r\n     * 编号与资源对应表\r\n     */\r\n    static idAssetMap = new Map<string, any>();\r\n}\r\n\r\n/**\r\n * 设置函数列表\r\n */\r\nserialization.setValueHandlers.push(\r\n    // 处理资源\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n            if (AssetData.isAssetData(spv))\r\n            {\r\n                // 此处需要反序列化资源完整数据\r\n                if (property === '__root__')\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                target[property] = AssetData.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n            if (AssetData.isAssetData(tpv))\r\n            {\r\n                if (spv.__class__ === null)\r\n                {\r\n                    const className = classUtils.getQualifiedClassName(tpv);\r\n                    const inst = classUtils.getInstanceByName(className);\r\n                    param.serialization.setValue(inst, spv);\r\n                    target[property] = inst;\r\n                }\r\n                else\r\n                {\r\n                    target[property] = param.serialization.deserialize(spv);\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n);\r\n\r\nserialization.serializeHandlers.push(\r\n    // 处理资源\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property)\r\n        {\r\n            const spv = source[property];\r\n            if (AssetData.isAssetData(spv))\r\n            {\r\n                // 此处需要反序列化资源完整数据\r\n                if (property === '__root__')\r\n                {\r\n                    return false;\r\n                }\r\n                target[property] = AssetData.serialize(<any>spv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n);\r\n\r\nserialization.deserializeHandlers.push(\r\n    // 处理资源\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n            if (AssetData.isAssetData(spv))\r\n            {\r\n                // 此处需要反序列化资源完整数据\r\n                if (property === '__root__')\r\n                {\r\n                    return false;\r\n                }\r\n                target[property] = AssetData.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n            if (AssetData.isAssetData(tpv))\r\n            {\r\n                target[property] = param.serialization.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n    // 处理资源\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const tpv = target[property];\r\n            const spv = source[property];\r\n            if (AssetData.isAssetData(spv))\r\n            {\r\n                // 此处需要反序列化资源完整数据\r\n                if (property === '__root__')\r\n                {\r\n                    return false;\r\n                }\r\n                target[property] = AssetData.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n            if (AssetData.assetMap.has(tpv))\r\n            {\r\n                target[property] = param.serialization.deserialize(spv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n);\r\n\r\nserialization.differentHandlers.push(\r\n    // 资源\r\n    {\r\n        priority: 0,\r\n        handler(target, source, property, param)\r\n        {\r\n            const different = param.different;\r\n            const tpv = target[property];\r\n            if (AssetData.isAssetData(tpv))\r\n            {\r\n                // 此处需要反序列化资源完整数据\r\n                if (property === '__root__')\r\n                {\r\n                    return false;\r\n                }\r\n                different[property] = AssetData.serialize(tpv);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    },\r\n);\r\n\r\n","import { Box3, Matrix4x4, Ray3, Vector2, Vector3 } from '@feng3d/math';\r\nimport { CullFace } from '@feng3d/renderer';\r\n\r\nexport class GeometryUtils\r\n{\r\n    /**\r\n     * 根据顶点数量按顺序创建顶点索引\r\n     * @param positions 顶点数据\r\n     */\r\n    createIndices(positions: number[])\r\n    {\r\n        const vertexNum = positions.length / 3;\r\n        const indices: number[] = [];\r\n        for (let i = 0; i < vertexNum; i++)\r\n        {\r\n            indices[i] = i;\r\n        }\r\n\r\n        return indices;\r\n    }\r\n\r\n    /**\r\n     * 创建循环uv数据\r\n     * @param positions 顶点数据\r\n     */\r\n    createUVs(positions: number[])\r\n    {\r\n        let idx = 0; let\r\n            uvIdx = 0;\r\n        const target: number[] = [];\r\n        const len = positions.length / 3 * 2;\r\n        while (idx < len)\r\n        {\r\n            target[idx++] = uvIdx * 0.5;\r\n            target[idx++] = 1.0 - (uvIdx & 1);\r\n            if (++uvIdx === 3)\r\n            { uvIdx = 0; }\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 计算顶点法线数据\r\n     * @param indices 顶点索引\r\n     * @param positions 顶点数据\r\n     * @param useFaceWeights 是否使用面权重计算法线\r\n     */\r\n    createVertexNormals(indices: number[], positions: number[], useFaceWeights = false)\r\n    {\r\n        const faceNormalsResult = this.createFaceNormals(indices, positions, useFaceWeights);\r\n        const faceWeights = faceNormalsResult.faceWeights;\r\n        const faceNormals = faceNormalsResult.faceNormals;\r\n\r\n        let v1 = 0;\r\n        let f1 = 0; let f2 = 1; let\r\n            f3 = 2;\r\n        const lenV = positions.length;\r\n        const normalStride = 3;\r\n        const normalOffset = 0;\r\n        const normals = new Array<number>(lenV);\r\n        v1 = 0;\r\n        while (v1 < lenV)\r\n        {\r\n            normals[v1] = 0.0;\r\n            normals[v1 + 1] = 0.0;\r\n            normals[v1 + 2] = 0.0;\r\n            v1 += normalStride;\r\n        }\r\n        let i = 0; let\r\n            k = 0;\r\n        const lenI = indices.length;\r\n        let index = 0;\r\n        let weight = 0;\r\n        while (i < lenI)\r\n        {\r\n            weight = useFaceWeights ? faceWeights[k++] : 1;\r\n            index = normalOffset + indices[i++] * normalStride;\r\n            normals[index++] += faceNormals[f1] * weight;\r\n            normals[index++] += faceNormals[f2] * weight;\r\n            normals[index] += faceNormals[f3] * weight;\r\n            index = normalOffset + indices[i++] * normalStride;\r\n            normals[index++] += faceNormals[f1] * weight;\r\n            normals[index++] += faceNormals[f2] * weight;\r\n            normals[index] += faceNormals[f3] * weight;\r\n            index = normalOffset + indices[i++] * normalStride;\r\n            normals[index++] += faceNormals[f1] * weight;\r\n            normals[index++] += faceNormals[f2] * weight;\r\n            normals[index] += faceNormals[f3] * weight;\r\n            f1 += 3;\r\n            f2 += 3;\r\n            f3 += 3;\r\n        }\r\n        v1 = normalOffset;\r\n        while (v1 < lenV)\r\n        {\r\n            const vx = normals[v1];\r\n            const vy = normals[v1 + 1];\r\n            const vz = normals[v1 + 2];\r\n            const d = 1.0 / Math.sqrt(vx * vx + vy * vy + vz * vz);\r\n            normals[v1] = vx * d;\r\n            normals[v1 + 1] = vy * d;\r\n            normals[v1 + 2] = vz * d;\r\n            v1 += normalStride;\r\n        }\r\n\r\n        return normals;\r\n    }\r\n\r\n    /**\r\n     * 计算顶点切线数据\r\n     * @param indices 顶点索引\r\n     * @param positions 顶点数据\r\n     * @param uvs uv数据\r\n     * @param useFaceWeights 是否使用面权重计算切线数据\r\n     */\r\n    createVertexTangents(indices: number[], positions: number[], uvs: number[], useFaceWeights = false)\r\n    {\r\n        const faceTangentsResult = this.createFaceTangents(indices, positions, uvs, useFaceWeights);\r\n        const faceWeights = faceTangentsResult.faceWeights;\r\n        const faceTangents = faceTangentsResult.faceTangents;\r\n\r\n        let i = 0;\r\n        const lenV = positions.length;\r\n        const tangentStride = 3;\r\n        const tangentOffset = 0;\r\n        const target = new Array<number>(lenV);\r\n        i = tangentOffset;\r\n        while (i < lenV)\r\n        {\r\n            target[i] = 0.0;\r\n            target[i + 1] = 0.0;\r\n            target[i + 2] = 0.0;\r\n            i += tangentStride;\r\n        }\r\n        let k = 0;\r\n        const lenI = indices.length;\r\n        let index = 0;\r\n        let weight = 0;\r\n        let f1 = 0; let f2 = 1; let\r\n            f3 = 2;\r\n        i = 0;\r\n        while (i < lenI)\r\n        {\r\n            weight = useFaceWeights ? faceWeights[k++] : 1;\r\n            index = tangentOffset + indices[i++] * tangentStride;\r\n            target[index++] += faceTangents[f1] * weight;\r\n            target[index++] += faceTangents[f2] * weight;\r\n            target[index] += faceTangents[f3] * weight;\r\n            index = tangentOffset + indices[i++] * tangentStride;\r\n            target[index++] += faceTangents[f1] * weight;\r\n            target[index++] += faceTangents[f2] * weight;\r\n            target[index] += faceTangents[f3] * weight;\r\n            index = tangentOffset + indices[i++] * tangentStride;\r\n            target[index++] += faceTangents[f1] * weight;\r\n            target[index++] += faceTangents[f2] * weight;\r\n            target[index] += faceTangents[f3] * weight;\r\n            f1 += 3;\r\n            f2 += 3;\r\n            f3 += 3;\r\n        }\r\n        i = tangentOffset;\r\n        while (i < lenV)\r\n        {\r\n            const vx = target[i];\r\n            const vy = target[i + 1];\r\n            const vz = target[i + 2];\r\n            const d = 1.0 / Math.sqrt(vx * vx + vy * vy + vz * vz);\r\n            target[i] = vx * d;\r\n            target[i + 1] = vy * d;\r\n            target[i + 2] = vz * d;\r\n            i += tangentStride;\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    /**\r\n     * 计算面切线数据\r\n     * @param indices 顶点索引数据\r\n     * @param positions 顶点数据\r\n     * @param uvs uv数据\r\n     * @param useFaceWeights 是否计算面权重\r\n     */\r\n    createFaceTangents(indices: number[], positions: number[], uvs: number[], useFaceWeights = false)\r\n    {\r\n        let i = 0; let\r\n            k = 0;\r\n        let index1 = 0; let index2 = 0; let\r\n            index3 = 0;\r\n        const len = indices.length;\r\n        let ui = 0; let\r\n            vi = 0;\r\n        let v0 = 0;\r\n        let dv1 = 0; let\r\n            dv2 = 0;\r\n        let denom = 0;\r\n        let x0 = 0; let y0 = 0; let\r\n            z0 = 0;\r\n        let dx1 = 0; let dy1 = 0; let\r\n            dz1 = 0;\r\n        let dx2 = 0; let dy2 = 0; let\r\n            dz2 = 0;\r\n        let cx = 0; let cy = 0; let\r\n            cz = 0;\r\n        const posStride = 3;\r\n        const posOffset = 0;\r\n        const texStride = 2;\r\n        const texOffset = 0;\r\n        const faceTangents = new Array<number>(indices.length);\r\n        const faceWeights: number[] = [];\r\n        while (i < len)\r\n        {\r\n            index1 = indices[i];\r\n            index2 = indices[i + 1];\r\n            index3 = indices[i + 2];\r\n            ui = texOffset + index1 * texStride + 1;\r\n            v0 = uvs[ui];\r\n            ui = texOffset + index2 * texStride + 1;\r\n            dv1 = uvs[ui] - v0;\r\n            ui = texOffset + index3 * texStride + 1;\r\n            dv2 = uvs[ui] - v0;\r\n            vi = posOffset + index1 * posStride;\r\n            x0 = positions[vi];\r\n            y0 = positions[vi + 1];\r\n            z0 = positions[vi + 2];\r\n            vi = posOffset + index2 * posStride;\r\n            dx1 = positions[vi] - x0;\r\n            dy1 = positions[vi + 1] - y0;\r\n            dz1 = positions[vi + 2] - z0;\r\n            vi = posOffset + index3 * posStride;\r\n            dx2 = positions[vi] - x0;\r\n            dy2 = positions[vi + 1] - y0;\r\n            dz2 = positions[vi + 2] - z0;\r\n            cx = dv2 * dx1 - dv1 * dx2;\r\n            cy = dv2 * dy1 - dv1 * dy2;\r\n            cz = dv2 * dz1 - dv1 * dz2;\r\n            denom = Math.sqrt(cx * cx + cy * cy + cz * cz);\r\n            if (useFaceWeights)\r\n            {\r\n                let w = denom * 10000;\r\n                if (w < 1)\r\n                { w = 1; }\r\n                faceWeights[k++] = w;\r\n            }\r\n            denom = 1 / denom;\r\n            faceTangents[i++] = denom * cx;\r\n            faceTangents[i++] = denom * cy;\r\n            faceTangents[i++] = denom * cz;\r\n        }\r\n\r\n        return { faceTangents, faceWeights };\r\n    }\r\n\r\n    /**\r\n     * 计算面法线数据\r\n     * @param indices 顶点索引数据\r\n     * @param positions 顶点数据\r\n     * @param useFaceWeights 是否计算面权重\r\n     */\r\n    createFaceNormals(indices: number[], positions: number[], useFaceWeights = false)\r\n    {\r\n        let i = 0; let j = 0; let\r\n            k = 0;\r\n        let index = 0;\r\n        const len = indices.length;\r\n        let x1 = 0; let x2 = 0; let\r\n            x3 = 0;\r\n        let y1 = 0; let y2 = 0; let\r\n            y3 = 0;\r\n        let z1 = 0; let z2 = 0; let\r\n            z3 = 0;\r\n        let dx1 = 0; let dy1 = 0; let\r\n            dz1 = 0;\r\n        let dx2 = 0; let dy2 = 0; let\r\n            dz2 = 0;\r\n        let cx = 0; let cy = 0; let\r\n            cz = 0;\r\n        let d = 0;\r\n        const posStride = 3;\r\n        const faceNormals = new Array<number>(len);\r\n        const faceWeights: number[] = [];\r\n        while (i < len)\r\n        {\r\n            index = indices[i++] * posStride;\r\n            x1 = positions[index];\r\n            y1 = positions[index + 1];\r\n            z1 = positions[index + 2];\r\n            index = indices[i++] * posStride;\r\n            x2 = positions[index];\r\n            y2 = positions[index + 1];\r\n            z2 = positions[index + 2];\r\n            index = indices[i++] * posStride;\r\n            x3 = positions[index];\r\n            y3 = positions[index + 1];\r\n            z3 = positions[index + 2];\r\n            dx1 = x3 - x1;\r\n            dy1 = y3 - y1;\r\n            dz1 = z3 - z1;\r\n            dx2 = x2 - x1;\r\n            dy2 = y2 - y1;\r\n            dz2 = z2 - z1;\r\n            cx = dz1 * dy2 - dy1 * dz2;\r\n            cy = dx1 * dz2 - dz1 * dx2;\r\n            cz = dy1 * dx2 - dx1 * dy2;\r\n            d = Math.sqrt(cx * cx + cy * cy + cz * cz);\r\n            if (useFaceWeights)\r\n            {\r\n                let w = d * 10000;\r\n                if (w < 1)\r\n                { w = 1; }\r\n                faceWeights[k++] = w;\r\n            }\r\n            d = 1 / d;\r\n            faceNormals[j++] = cx * d;\r\n            faceNormals[j++] = cy * d;\r\n            faceNormals[j++] = cz * d;\r\n        }\r\n\r\n        return { faceNormals, faceWeights };\r\n    }\r\n\r\n    /**\r\n     * 应用变换矩阵\r\n     * @param transform 变换矩阵\r\n     * @param positions 顶点数据\r\n     * @param normals 顶点法线数据\r\n     * @param tangents 顶点切线数据\r\n     */\r\n    applyTransformation(transform: Matrix4x4, positions: number[], normals?: number[], tangents?: number[])\r\n    {\r\n        const posStride = 3;\r\n        const normalStride = 3;\r\n        const tangentStride = 3;\r\n\r\n        const len = positions.length / posStride;\r\n        let i: number; let i1: number; let\r\n            i2: number;\r\n        let vector = new Vector3();\r\n\r\n        const bakeNormals = !!normals;\r\n        const bakeTangents = !!tangents;\r\n        const invTranspose = new Matrix4x4();\r\n\r\n        if (bakeNormals || bakeTangents)\r\n        {\r\n            invTranspose.copy(transform);\r\n            invTranspose.invert();\r\n            invTranspose.transpose();\r\n        }\r\n\r\n        let vi0 = 0;\r\n        let ni0 = 0;\r\n        let ti0 = 0;\r\n\r\n        for (i = 0; i < len; ++i)\r\n        {\r\n            i1 = vi0 + 1;\r\n            i2 = vi0 + 2;\r\n\r\n            // bake position\r\n            vector.x = positions[vi0];\r\n            vector.y = positions[i1];\r\n            vector.z = positions[i2];\r\n            vector = transform.transformPoint3(vector);\r\n            positions[vi0] = vector.x;\r\n            positions[i1] = vector.y;\r\n            positions[i2] = vector.z;\r\n            vi0 += posStride;\r\n\r\n            // bake normal\r\n            if (bakeNormals)\r\n            {\r\n                i1 = ni0 + 1;\r\n                i2 = ni0 + 2;\r\n                vector.x = normals[ni0];\r\n                vector.y = normals[i1];\r\n                vector.z = normals[i2];\r\n                vector = invTranspose.transformVector3(vector);\r\n                vector.normalize();\r\n                normals[ni0] = vector.x;\r\n                normals[i1] = vector.y;\r\n                normals[i2] = vector.z;\r\n                ni0 += normalStride;\r\n            }\r\n\r\n            // bake tangent\r\n            if (bakeTangents)\r\n            {\r\n                i1 = ti0 + 1;\r\n                i2 = ti0 + 2;\r\n                vector.x = tangents[ti0];\r\n                vector.y = tangents[i1];\r\n                vector.z = tangents[i2];\r\n                vector = invTranspose.transformVector3(vector);\r\n                vector.normalize();\r\n                tangents[ti0] = vector.x;\r\n                tangents[i1] = vector.y;\r\n                tangents[i2] = vector.z;\r\n                ti0 += tangentStride;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 合并几何体\r\n     * @param geometrys 几何体列表\r\n     */\r\n    mergeGeometry(geometrys: { indices: number[], positions: number[], uvs?: number[], normals?: number[], tangents?: number[] }[])\r\n    {\r\n        // 此处存在隐患。\r\n        // 优化方案，遍历所有几何体，找到所有共有属性后进行合并。\r\n        const result: { indices: number[], positions: number[], uvs?: number[], normals?: number[], tangents?: number[] } = <any>{};\r\n        for (let i = 0; i < geometrys.length; i++)\r\n        {\r\n            const geometry = geometrys[i];\r\n            if (i === 0)\r\n            {\r\n                result.indices = geometry.indices.concat();\r\n                result.positions = geometry.positions.concat();\r\n                geometry.uvs && (result.uvs = geometry.uvs.concat());\r\n                geometry.normals && (result.normals = geometry.normals.concat());\r\n                geometry.tangents && (result.tangents = geometry.tangents.concat());\r\n            }\r\n            else\r\n            {\r\n                const startIndex = result.positions.length / 3;\r\n                geometry.indices.forEach((v) => result.indices.push(v + startIndex));\r\n                geometry.positions.forEach((v) => result.positions.push(v));\r\n                result.uvs && geometry.uvs.forEach((v) => result.uvs.push(v));\r\n                result.normals && geometry.normals.forEach((v) => result.normals.push(v));\r\n                result.tangents && geometry.tangents.forEach((v) => result.tangents.push(v));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 射线投影几何体\r\n     * @param ray                           射线\r\n     * @param shortestCollisionDistance     当前最短碰撞距离\r\n     * @param cullFace                      裁剪面枚举\r\n     *\r\n     * @todo\r\n     * @see 3D数学基础：图形与游戏开发 P278 是否可用该内容优化运算效率？\r\n     *\r\n     * @see 优化参考 three.js Ray.intersectTriangle\r\n     */\r\n    raycast(ray: Ray3, indices: number[], positions: number[], uvs: number[], shortestCollisionDistance = Number.MAX_VALUE, cullFace = CullFace.NONE)\r\n    {\r\n        if (cullFace === CullFace.FRONT_AND_BACK) return null;\r\n\r\n        let t = 0;\r\n        let i0 = 0; let i1 = 0; let\r\n            i2 = 0;\r\n        let rx = 0; let ry = 0; let\r\n            rz = 0;\r\n        let nx = 0; let ny = 0; let\r\n            nz = 0;\r\n        let cx = 0; let cy = 0; let\r\n            cz = 0;\r\n        let coeff = 0; let u = 0; let v = 0; let\r\n            w = 0;\r\n        let p0x = 0; let p0y = 0; let\r\n            p0z = 0;\r\n        let p1x = 0; let p1y = 0; let\r\n            p1z = 0;\r\n        let p2x = 0; let p2y = 0; let\r\n            p2z = 0;\r\n        let s0x = 0; let s0y = 0; let\r\n            s0z = 0;\r\n        let s1x = 0; let s1y = 0; let\r\n            s1z = 0;\r\n        let nl = 0; let nDotV = 0; let D = 0; let\r\n            disToPlane = 0;\r\n        let Q1Q2 = 0; let Q1Q1 = 0; let Q2Q2 = 0; let RQ1 = 0; let\r\n            RQ2 = 0;\r\n\r\n        let collisionTriangleIndex = -1;\r\n\r\n        const numIndices = indices.length;\r\n\r\n        const result: { rayEntryDistance: number, localPosition: Vector3, localNormal: Vector3, uv: Vector2, index: number } = <any>{};\r\n\r\n        // 遍历每个三角形 检测碰撞\r\n        for (let index = 0; index < numIndices; index += 3)\r\n        { // sweep all triangles\r\n            // 三角形三个顶点索引\r\n            i0 = indices[index] * 3;\r\n            i1 = indices[index + 1] * 3;\r\n            i2 = indices[index + 2] * 3;\r\n\r\n            // 三角形三个顶点数据\r\n            p0x = positions[i0];\r\n            p0y = positions[i0 + 1];\r\n            p0z = positions[i0 + 2];\r\n            p1x = positions[i1];\r\n            p1y = positions[i1 + 1];\r\n            p1z = positions[i1 + 2];\r\n            p2x = positions[i2];\r\n            p2y = positions[i2 + 1];\r\n            p2z = positions[i2 + 2];\r\n\r\n            // 计算出三角面的法线\r\n            s0x = p1x - p0x; // s0 = p1 - p0\r\n            s0y = p1y - p0y;\r\n            s0z = p1z - p0z;\r\n            s1x = p2x - p0x; // s1 = p2 - p0\r\n            s1y = p2y - p0y;\r\n            s1z = p2z - p0z;\r\n            nx = s0y * s1z - s0z * s1y; // n = s0 x s1\r\n            ny = s0z * s1x - s0x * s1z;\r\n            nz = s0x * s1y - s0y * s1x;\r\n            nl = 1 / Math.sqrt(nx * nx + ny * ny + nz * nz); // normalize n 此处使用了开平方根，性能很差\r\n            nx *= nl;\r\n            ny *= nl;\r\n            nz *= nl;\r\n\r\n            // 初始化射线数据\r\n            const rayPosition: Vector3 = ray.origin;\r\n            const rayDirection: Vector3 = ray.direction;\r\n\r\n            // 计算射线与法线的点积，不等于零表示射线所在直线与三角面相交\r\n            nDotV = nx * rayDirection.x + ny * rayDirection.y + nz * rayDirection.z; // rayDirection . normal\r\n            // 判断射线是否与三角面相交\r\n            if ((cullFace === CullFace.FRONT && nDotV > 0.0) || (cullFace === CullFace.BACK && nDotV < 0.0) || (cullFace === CullFace.NONE && nDotV !== 0.0))\r\n            { // an intersection must exist\r\n                // 计算平面方程D值，参考Plane3D\r\n                D = -(nx * p0x + ny * p0y + nz * p0z);\r\n                // 射线点到平面的距离\r\n                disToPlane = -(nx * rayPosition.x + ny * rayPosition.y + nz * rayPosition.z + D);\r\n                t = disToPlane / nDotV;\r\n                // 得到交点\r\n                cx = rayPosition.x + t * rayDirection.x;\r\n                cy = rayPosition.y + t * rayDirection.y;\r\n                cz = rayPosition.z + t * rayDirection.z;\r\n                // 判断交点是否在三角形内( using barycentric coordinates )\r\n                Q1Q2 = s0x * s1x + s0y * s1y + s0z * s1z;\r\n                Q1Q1 = s0x * s0x + s0y * s0y + s0z * s0z;\r\n                Q2Q2 = s1x * s1x + s1y * s1y + s1z * s1z;\r\n                rx = cx - p0x;\r\n                ry = cy - p0y;\r\n                rz = cz - p0z;\r\n                RQ1 = rx * s0x + ry * s0y + rz * s0z;\r\n                RQ2 = rx * s1x + ry * s1y + rz * s1z;\r\n                coeff = 1 / (Q1Q1 * Q2Q2 - Q1Q2 * Q1Q2);\r\n                v = coeff * (Q2Q2 * RQ1 - Q1Q2 * RQ2);\r\n                if (v < 0)\r\n                { continue; }\r\n                w = coeff * (-Q1Q2 * RQ1 + Q1Q1 * RQ2);\r\n                if (w < 0)\r\n                { continue; }\r\n                u = 1 - v - w;\r\n                // u v w都大于0表示点在三角形内 射线的坐标t大于0表示射线朝向三角面\r\n                if (u >= 0 && t >= 0 && t < shortestCollisionDistance)\r\n                {\r\n                    shortestCollisionDistance = t;\r\n                    collisionTriangleIndex = index / 3;\r\n                    result.rayEntryDistance = t;\r\n                    result.localPosition = new Vector3(cx, cy, cz);\r\n                    result.localNormal = new Vector3(nx, ny, nz);\r\n                    if (uvs)\r\n                    {\r\n                        result.uv = getCollisionUV(indices, uvs, index, v, w, u);\r\n                    }\r\n                    result.index = index;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (collisionTriangleIndex >= 0)\r\n        { return result; }\r\n\r\n        return null;\r\n\r\n        /**\r\n         * 获取碰撞uv\r\n         * @param indices 顶点数据\r\n         * @param uvs uv数据\r\n         * @param triangleIndex 三角形所有\r\n         * @param v\r\n         * @param w\r\n         * @param u\r\n         * @param uvOffset\r\n         * @param uvStride\r\n         * @return 碰撞uv\r\n         */\r\n        function getCollisionUV(indices: number[], uvs: number[], triangleIndex: number, v: number, w: number, u: number)\r\n        {\r\n            let uIndex = indices[triangleIndex] * 2;\r\n            const uv0x = uvs[uIndex];\r\n            const uv0y = uvs[uIndex + 1];\r\n            uIndex = indices[triangleIndex + 1] * 2;\r\n            const uv1x = uvs[uIndex];\r\n            const uv1y = uvs[uIndex + 1];\r\n            uIndex = indices[triangleIndex + 2] * 2;\r\n            const uv2x = uvs[uIndex];\r\n            const uv2y = uvs[uIndex + 1];\r\n            const uv = new Vector2();\r\n            uv.x = u * uv0x + v * uv1x + w * uv2x;\r\n            uv.y = u * uv0y + v * uv1y + w * uv2y;\r\n\r\n            return uv;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取包围盒\r\n     * @param positions 顶点数据\r\n     */\r\n    getAABB(positions: number[])\r\n    {\r\n        return Box3.formPositions(positions);\r\n    }\r\n}\r\n\r\nexport const geometryUtils = new GeometryUtils();\r\n","import { Box3, Matrix4x4, Ray3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { Constructor, gPartial } from '@feng3d/polyfill';\r\nimport { Attribute, Attributes, CullFace, Index, RenderAtomic } from '@feng3d/renderer';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { AssetData } from '../core/AssetData';\r\nimport { Feng3dObject } from '../core/Feng3dObject';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { geometryUtils } from './GeometryUtils';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsDefaultGeometry { }\r\n    interface MixinsGeometryTypes { }\r\n}\r\n\r\nexport interface GeometryTypes extends MixinsGeometryTypes { }\r\n\r\nexport type GeometryLike = GeometryTypes[keyof GeometryTypes];\r\n\r\nexport interface GeometryEventMap\r\n{\r\n    /**\r\n     * 包围盒失效\r\n     */\r\n    boundsInvalid: Geometry;\r\n}\r\n\r\n/**\r\n * 几何体\r\n */\r\nexport class Geometry<T extends GeometryEventMap = GeometryEventMap> extends Feng3dObject<T>\r\n{\r\n    @oav({ component: 'OAVFeng3dPreView' })\r\n    private preview = '';\r\n\r\n    @oav()\r\n    declare name: string;\r\n\r\n    /**\r\n     * 资源编号\r\n     */\r\n    assetId: string;\r\n\r\n    assetType = AssetType.geometry;\r\n\r\n    /**\r\n     * 几何体信息\r\n     */\r\n    @oav({ component: 'OAVMultiText', priority: -10 })\r\n    get geometryInfo()\r\n    {\r\n        const str = [\r\n            `Geometry Info`,\r\n            `  Vertices    ${this.numVertex}`,\r\n            `  Triangles    ${this.numTriangles}`,\r\n            `  Attributes    ${Object.keys(this._attributes).join(',')}`,\r\n        ].join('\\n');\r\n\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * 索引数据\r\n     */\r\n    get indices()\r\n    {\r\n        this.updateGrometry();\r\n\r\n        return this._indexBuffer.indices;\r\n    }\r\n\r\n    /**\r\n     * 更新顶点索引数据\r\n     */\r\n    set indices(value: number[])\r\n    {\r\n        this._indexBuffer.indices = value;\r\n    }\r\n\r\n    /**\r\n     * 坐标数据\r\n     */\r\n    get positions()\r\n    {\r\n        return this._attributes.a_position.data;\r\n    }\r\n\r\n    set positions(value)\r\n    {\r\n        this._attributes.a_position.data = value;\r\n    }\r\n\r\n    /**\r\n     * 颜色数据\r\n     */\r\n    get colors()\r\n    {\r\n        return this._attributes.a_color.data;\r\n    }\r\n\r\n    set colors(value)\r\n    {\r\n        this._attributes.a_color.data = value;\r\n    }\r\n\r\n    /**\r\n     * uv数据\r\n     */\r\n    get uvs()\r\n    {\r\n        return this._attributes.a_uv.data;\r\n    }\r\n\r\n    set uvs(value)\r\n    {\r\n        this._attributes.a_uv.data = value;\r\n    }\r\n\r\n    /**\r\n     * 法线数据\r\n     */\r\n    get normals()\r\n    {\r\n        return this._attributes.a_normal.data;\r\n    }\r\n\r\n    set normals(value)\r\n    {\r\n        this._attributes.a_normal.data = value;\r\n    }\r\n\r\n    /**\r\n     * 切线数据\r\n     */\r\n    get tangents()\r\n    {\r\n        return this._attributes.a_tangent.data;\r\n    }\r\n\r\n    set tangents(value)\r\n    {\r\n        this._attributes.a_tangent.data = value;\r\n    }\r\n\r\n    /**\r\n     * 蒙皮索引，顶点关联的关节索引\r\n     */\r\n    get skinIndices()\r\n    {\r\n        return this._attributes.a_skinIndices.data;\r\n    }\r\n\r\n    set skinIndices(value)\r\n    {\r\n        this._attributes.a_skinIndices.data = value;\r\n    }\r\n\r\n    /**\r\n     * 蒙皮权重，顶点关联的关节权重\r\n     */\r\n    get skinWeights()\r\n    {\r\n        return this._attributes.a_skinWeights.data;\r\n    }\r\n\r\n    set skinWeights(value)\r\n    {\r\n        this._attributes.a_skinWeights.data = value;\r\n    }\r\n\r\n    /**\r\n     * 蒙皮索引，顶点关联的关节索引\r\n     */\r\n    get skinIndices1()\r\n    {\r\n        return this._attributes.a_skinIndices1.data;\r\n    }\r\n\r\n    set skinIndices1(value)\r\n    {\r\n        this._attributes.a_skinIndices1.data = value;\r\n    }\r\n\r\n    /**\r\n     * 蒙皮权重，顶点关联的关节权重\r\n     */\r\n    get skinWeights1()\r\n    {\r\n        return this._attributes.a_skinWeights1.data;\r\n    }\r\n\r\n    set skinWeights1(value)\r\n    {\r\n        this._attributes.a_skinWeights1.data = value;\r\n    }\r\n\r\n    /**\r\n     * 创建一个几何体\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 标记需要更新几何体，在更改几何体数据后需要调用该函数。\r\n     */\r\n    @oav({ tooltip: '标记需要更新几何体，在更改几何体数据后需要调用该函数。' })\r\n    invalidateGeometry()\r\n    {\r\n        this._geometryInvalid = true;\r\n        this.invalidateBounds();\r\n    }\r\n\r\n    /**\r\n     * 更新几何体\r\n     */\r\n    updateGrometry()\r\n    {\r\n        if (this._geometryInvalid)\r\n        {\r\n            this._geometryInvalid = false;\r\n            this.buildGeometry();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 构建几何体\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n    }\r\n\r\n    /**\r\n     * 顶点数量\r\n     */\r\n    get numVertex()\r\n    {\r\n        return this.positions.length / 3;\r\n    }\r\n\r\n    /**\r\n     * 三角形数量\r\n     */\r\n    get numTriangles()\r\n    {\r\n        return this.indices.length / 3;\r\n    }\r\n\r\n    /**\r\n     * 添加几何体\r\n     * @param geometry          被添加的几何体\r\n     * @param transform         变换矩阵，把克隆被添加几何体的数据变换后再添加到该几何体中\r\n     */\r\n    addGeometry(geometry: Geometry, transform?: Matrix4x4)\r\n    {\r\n        // 更新几何体\r\n        this.updateGrometry();\r\n        geometry.updateGrometry();\r\n        // 变换被添加的几何体\r\n        if (transform)\r\n        {\r\n            geometry = geometry.clone();\r\n            geometry.applyTransformation(transform);\r\n        }\r\n\r\n        // 如果自身为空几何体\r\n        if (!this.indices)\r\n        {\r\n            this.cloneFrom(geometry);\r\n\r\n            return;\r\n        }\r\n\r\n        //\r\n        const attributes = this._attributes;\r\n        const addAttributes = geometry._attributes;\r\n        // 当前顶点数量\r\n        const oldNumVertex = this.numVertex;\r\n        // 合并索引\r\n        const indices = this.indices;\r\n        const targetIndices = geometry.indices;\r\n        const totalIndices = indices.concat();\r\n        for (let i = 0; i < targetIndices.length; i++)\r\n        {\r\n            totalIndices[indices.length + i] = targetIndices[i] + oldNumVertex;\r\n        }\r\n        this.indices = totalIndices;\r\n        // 合并后顶点数量\r\n        // const totalVertex = oldNumVertex + geometry.numVertex;\r\n        // 合并属性数据\r\n        for (const attributeName in attributes)\r\n        {\r\n            const attribute: Attribute = attributes[attributeName];\r\n            const addAttribute: Attribute = addAttributes[attributeName];\r\n            //\r\n            attribute.data = attribute.data.concat(addAttribute.data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 应用变换矩阵\r\n     * @param transform 变换矩阵\r\n     */\r\n    applyTransformation(transform: Matrix4x4)\r\n    {\r\n        this.updateGrometry();\r\n\r\n        const vertices = this.positions;\r\n        const normals = this.normals;\r\n        const tangents = this.tangents;\r\n\r\n        geometryUtils.applyTransformation(transform, vertices, normals, tangents);\r\n\r\n        this.positions = vertices;\r\n        this.normals = normals;\r\n        this.tangents = tangents;\r\n    }\r\n\r\n    /**\r\n     * 纹理U缩放，默认为1。\r\n     */\r\n    @serialize\r\n    @oav()\r\n    scaleU = 1;\r\n\r\n    /**\r\n     * 纹理V缩放，默认为1。\r\n     */\r\n    @serialize\r\n    @oav()\r\n    scaleV = 1;\r\n\r\n    /**\r\n     * 包围盒失效\r\n     */\r\n    invalidateBounds()\r\n    {\r\n        this._bounding = <any>null;\r\n        this.emit('boundsInvalid', this);\r\n    }\r\n\r\n    get bounding()\r\n    {\r\n        this.updateGrometry();\r\n        if (!this._bounding)\r\n        {\r\n            const positions = this.positions;\r\n            if (!positions || positions.length === 0)\r\n            { return new Box3(); }\r\n            this._bounding = Box3.formPositions(this.positions);\r\n        }\r\n\r\n        return this._bounding;\r\n    }\r\n\r\n    /**\r\n     * 射线投影几何体\r\n     * @param ray                           射线\r\n     * @param shortestCollisionDistance     当前最短碰撞距离\r\n     * @param cullFace                      裁剪面枚举\r\n     */\r\n    raycast(ray: Ray3, shortestCollisionDistance = Number.MAX_VALUE, cullFace = CullFace.NONE)\r\n    {\r\n        const result = geometryUtils.raycast(ray, this.indices, this.positions, this.uvs, shortestCollisionDistance, cullFace);\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 获取顶点列表\r\n     *\r\n     * @param result\r\n     */\r\n    getVertices(result: Vector3[] = [])\r\n    {\r\n        const positions = this.positions;\r\n        for (let i = 0, n = positions.length; i < n; i += 3)\r\n        {\r\n            result.push(new Vector3(positions[i], positions[i + 1], positions[i + 2]));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    getFaces(result: number[][] = [])\r\n    {\r\n        const indices = this.indices;\r\n        for (let i = 0, n = indices.length; i < n; i += 3)\r\n        {\r\n            result.push([indices[i], indices[i + 1], indices[i + 2]]);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 克隆一个几何体\r\n     */\r\n    clone()\r\n    {\r\n        const Cls = this.constructor as Constructor<Geometry>;\r\n        const geometry = new Cls();\r\n        geometry.cloneFrom(this);\r\n\r\n        return geometry;\r\n    }\r\n\r\n    /**\r\n     * 从一个几何体中克隆数据\r\n     */\r\n    cloneFrom(geometry: Geometry)\r\n    {\r\n        geometry.updateGrometry();\r\n        this.indices = geometry.indices.concat();\r\n        for (const attributeName in geometry._attributes)\r\n        {\r\n            const attribute: Attribute = this._attributes[attributeName];\r\n            const addAttribute: Attribute = geometry._attributes[attributeName];\r\n\r\n            attribute.data = addAttribute.data.concat();\r\n        }\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic)\r\n    {\r\n        this.updateGrometry();\r\n\r\n        renderAtomic.index = this._indexBuffer;\r\n\r\n        for (const key in this._attributes)\r\n        {\r\n            if (this._attributes.hasOwnProperty(key))\r\n            {\r\n                renderAtomic.attributes[key] = this._attributes[key];\r\n            }\r\n        }\r\n\r\n        renderAtomic.shaderMacro.SCALEU = this.scaleU;\r\n        renderAtomic.shaderMacro.SCALEV = this.scaleV;\r\n    }\r\n\r\n    /**\r\n     * 顶点索引缓冲\r\n     */\r\n    private _indexBuffer = new Index();\r\n\r\n    /**\r\n     * 属性数据列表\r\n     */\r\n    protected _attributes: Attributes = {\r\n        a_position: new Attribute({ name: 'a_position', data: [], size: 3 }),\r\n        a_color: new Attribute({ name: 'a_color', data: [], size: 4 }),\r\n        a_uv: new Attribute({ name: 'a_uv', data: [], size: 2 }),\r\n        a_normal: new Attribute({ name: 'a_normal', data: [], size: 3 }),\r\n        a_tangent: new Attribute({ name: 'a_tangent', data: [], size: 3 }),\r\n        a_skinIndices: new Attribute({ name: 'a_skinIndices', data: [], size: 4 }),\r\n        a_skinWeights: new Attribute({ name: 'a_skinWeights', data: [], size: 4 }),\r\n        a_skinIndices1: new Attribute({ name: 'a_skinIndices1', data: [], size: 4 }),\r\n        a_skinWeights1: new Attribute({ name: 'a_skinWeights1', data: [], size: 4 }),\r\n    };\r\n\r\n    /**\r\n     * 清理数据\r\n     */\r\n    clear()\r\n    {\r\n        for (const key in this._attributes)\r\n        {\r\n            const element: Attribute = this._attributes[key];\r\n            element.data = [];\r\n        }\r\n    }\r\n\r\n    private _geometryInvalid = true;\r\n    private _useFaceWeights = false;\r\n\r\n    private _bounding: Box3;\r\n\r\n    /**\r\n     * 设置默认几何体\r\n     *\r\n     * @param name 默认几何体名称\r\n     * @param geometry 默认几何体\r\n     */\r\n    static setDefault<K extends keyof DefaultGeometry>(name: K, geometry: DefaultGeometry[K], param?: gPartial<DefaultGeometry[K]>)\r\n    {\r\n        this._defaultGeometry[name] = geometry;\r\n        if (param) serialization.setValue(geometry, param);\r\n        serialization.setValue(geometry, { name, assetId: name, hideFlags: HideFlags.NotEditable });\r\n        AssetData.addAssetData(name, geometry);\r\n    }\r\n\r\n    /**\r\n     * 获取默认几何体\r\n     *\r\n     * @param name 默认几何体名称\r\n     */\r\n    static getDefault<K extends keyof DefaultGeometry>(name: K)\r\n    {\r\n        return this._defaultGeometry[name];\r\n    }\r\n    private static _defaultGeometry: DefaultGeometry = <any>{};\r\n}\r\n\r\n/**\r\n * 默认几何体\r\n */\r\nexport interface DefaultGeometry extends MixinsDefaultGeometry\r\n{\r\n}\r\n","/**\r\n * 阴影类型\r\n */\r\nexport enum ShadowType\r\n{\r\n    /**\r\n     * 没有阴影\r\n     */\r\n    No_Shadows = 0,\r\n    /**\r\n     * 硬阴影\r\n     */\r\n    Hard_Shadows = 1,\r\n    /**\r\n     * PCF 阴影\r\n     */\r\n    PCF_Shadows = 2,\r\n    /**\r\n     * PCF 软阴影\r\n     */\r\n    PCF_Soft_Shadows = 3,\r\n}\r\n","import { Matrix4x4 } from '@feng3d/math';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { Renderable } from '../../core/Renderable';\r\nimport { Texture2D } from '../../textures/Texture2D';\r\nimport { DirectionalLight } from '../DirectionalLight';\r\nimport { PointLight } from '../PointLight';\r\nimport { ShadowType } from '../shadow/ShadowType';\r\nimport { SpotLight } from '../SpotLight';\r\n\r\nexport class LightPicker\r\n{\r\n    private _model: Renderable;\r\n\r\n    constructor(model: Renderable)\r\n    {\r\n        this._model = model;\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic)\r\n    {\r\n        let pointLights: PointLight[] = [];\r\n        let directionalLights: DirectionalLight[] = [];\r\n        let spotLights: SpotLight[] = [];\r\n\r\n        const scene = this._model.gameObject.scene;\r\n        if (scene)\r\n        {\r\n            pointLights = scene.activePointLights;\r\n            directionalLights = scene.activeDirectionalLights;\r\n            spotLights = scene.activeSpotLights;\r\n        }\r\n\r\n        renderAtomic.shaderMacro.NUM_LIGHT = pointLights.length + directionalLights.length + spotLights.length;\r\n\r\n        // 设置点光源数据\r\n        const castShadowPointLights: PointLight[] = [];\r\n        const unCastShadowPointLights: PointLight[] = [];\r\n        const pointShadowMaps: Texture2D[] = [];\r\n        pointLights.forEach((element) =>\r\n        {\r\n            if (!element.isVisibleAndEnabled) return;\r\n            if (element.shadowType !== ShadowType.No_Shadows && this._model.receiveShadows)\r\n            {\r\n                castShadowPointLights.push(element);\r\n                pointShadowMaps.push(element.shadowMap);\r\n            }\r\n            else\r\n            {\r\n                unCastShadowPointLights.push(element);\r\n            }\r\n        });\r\n        renderAtomic.shaderMacro.NUM_POINTLIGHT = unCastShadowPointLights.length;\r\n        renderAtomic.shaderMacro.NUM_POINTLIGHT_CASTSHADOW = castShadowPointLights.length;\r\n        //\r\n        renderAtomic.uniforms.u_pointLights = unCastShadowPointLights;\r\n        renderAtomic.uniforms.u_castShadowPointLights = castShadowPointLights;\r\n        renderAtomic.uniforms.u_pointShadowMaps = pointShadowMaps;\r\n\r\n        // 设置聚光灯光源数据\r\n        const castShadowSpotLights: SpotLight[] = [];\r\n        const unCastShadowSpotLights: SpotLight[] = [];\r\n        const spotShadowMaps: Texture2D[] = [];\r\n        const spotShadowMatrix: Matrix4x4[] = [];\r\n        spotLights.forEach((element) =>\r\n        {\r\n            if (!element.isVisibleAndEnabled) return;\r\n            if (element.shadowType !== ShadowType.No_Shadows && this._model.receiveShadows)\r\n            {\r\n                castShadowSpotLights.push(element);\r\n                spotShadowMatrix.push(element.shadowCamera.viewProjection);\r\n                spotShadowMaps.push(element.shadowMap);\r\n            }\r\n            else\r\n            {\r\n                unCastShadowSpotLights.push(element);\r\n            }\r\n        });\r\n        renderAtomic.shaderMacro.NUM_SPOT_LIGHTS = unCastShadowSpotLights.length;\r\n        renderAtomic.shaderMacro.NUM_SPOT_LIGHTS_CASTSHADOW = castShadowSpotLights.length;\r\n        //\r\n        renderAtomic.uniforms.u_spotLights = unCastShadowSpotLights;\r\n        renderAtomic.uniforms.u_castShadowSpotLights = castShadowSpotLights;\r\n        renderAtomic.uniforms.u_spotShadowMatrix = spotShadowMatrix;\r\n        renderAtomic.uniforms.u_spotShadowMaps = spotShadowMaps;\r\n\r\n        // 设置方向光源数据\r\n        const castShadowDirectionalLights: DirectionalLight[] = [];\r\n        const unCastShadowDirectionalLights: DirectionalLight[] = [];\r\n        const directionalShadowMatrix: Matrix4x4[] = [];\r\n        const directionalShadowMaps: Texture2D[] = [];\r\n        directionalLights.forEach((element) =>\r\n        {\r\n            if (!element.isVisibleAndEnabled) return;\r\n            if (element.shadowType !== ShadowType.No_Shadows && this._model.receiveShadows)\r\n            {\r\n                castShadowDirectionalLights.push(element);\r\n                directionalShadowMatrix.push(element.shadowCamera.viewProjection);\r\n                directionalShadowMaps.push(element.shadowMap);\r\n            }\r\n            else\r\n            {\r\n                unCastShadowDirectionalLights.push(element);\r\n            }\r\n        });\r\n\r\n        renderAtomic.shaderMacro.NUM_DIRECTIONALLIGHT = unCastShadowDirectionalLights.length;\r\n        renderAtomic.shaderMacro.NUM_DIRECTIONALLIGHT_CASTSHADOW = castShadowDirectionalLights.length;\r\n        //\r\n        renderAtomic.uniforms.u_directionalLights = unCastShadowDirectionalLights;\r\n        renderAtomic.uniforms.u_castShadowDirectionalLights = castShadowDirectionalLights;\r\n        renderAtomic.uniforms.u_directionalShadowMatrixs = directionalShadowMatrix;\r\n        renderAtomic.uniforms.u_directionalShadowMaps = directionalShadowMaps;\r\n    }\r\n}\r\n","import { Vector2 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { dataTransform, mathUtil } from '@feng3d/polyfill';\r\nimport { Texture, TextureDataType, TextureFormat, TextureMagFilter, TextureMinFilter, TextureType, TextureWrap } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Feng3dObject, Feng3dObjectEventMap } from '../../core/Feng3dObject';\r\nimport { imageDatas } from '../../textures/Texture2D';\r\n\r\n/**\r\n * 纹理信息\r\n */\r\nexport abstract class TextureInfo<T extends Feng3dObjectEventMap> extends Feng3dObject<T> implements Texture\r\n{\r\n    /**\r\n     * 纹理类型\r\n     */\r\n    textureType: TextureType;\r\n\r\n    /**\r\n     * 格式\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureFormat } })\r\n    @watch('invalidate')\r\n    format = TextureFormat.RGBA;\r\n\r\n    /**\r\n     * 数据类型\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureDataType } })\r\n    @watch('invalidate')\r\n    type = TextureDataType.UNSIGNED_BYTE;\r\n\r\n    /**\r\n     * 是否生成mipmap\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidate')\r\n    generateMipmap = false;\r\n\r\n    /**\r\n     * 对图像进行Y轴反转。默认值为false\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidate')\r\n    flipY = false;\r\n\r\n    /**\r\n     * 将图像RGB颜色值得每一个分量乘以A。默认为false\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidate')\r\n    premulAlpha = false;\r\n\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureMinFilter } })\r\n    minFilter = TextureMinFilter.LINEAR;\r\n\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureMagFilter } })\r\n    magFilter = TextureMagFilter.LINEAR;\r\n    /**\r\n     * 表示x轴的纹理的回环方式，就是当纹理的宽度小于需要贴图的平面的宽度的时候，平面剩下的部分应该p以何种方式贴图的问题。\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureWrap } })\r\n    get wrapS()\r\n    {\r\n        if (!this.isPowerOfTwo)\r\n        { return TextureWrap.CLAMP_TO_EDGE; }\r\n\r\n        return this._wrapS;\r\n    }\r\n    set wrapS(v)\r\n    {\r\n        this._wrapS = v;\r\n    }\r\n    private _wrapS = TextureWrap.REPEAT;\r\n\r\n    /**\r\n     * 表示y轴的纹理回环方式。 magFilter和minFilter表示过滤的方式，这是OpenGL的基本概念，我将在下面讲一下，目前你不用担心它的使用。当您不设置的时候，它会取默认值，所以，我们这里暂时不理睬他。\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: TextureWrap } })\r\n    get wrapT()\r\n    {\r\n        if (!this.isPowerOfTwo)\r\n        { return TextureWrap.CLAMP_TO_EDGE; }\r\n\r\n        return this._wrapT;\r\n    }\r\n    set wrapT(v)\r\n    {\r\n        this._wrapT = v;\r\n    }\r\n    private _wrapT = TextureWrap.REPEAT;\r\n\r\n    /**\r\n     * 各向异性过滤。使用各向异性过滤能够使纹理的效果更好，但是会消耗更多的内存、CPU、GPU时间。默认为0。\r\n     */\r\n    @serialize\r\n    @oav()\r\n    anisotropy = 0;\r\n\r\n    invalid = true;\r\n\r\n    /**\r\n     * 需要使用的贴图数据\r\n     */\r\n    protected _pixels: TexImageSource | TexImageSource[];\r\n\r\n    /**\r\n     * 当贴图数据未加载好等情况时代替使用\r\n     */\r\n    noPixels: string | string[];\r\n\r\n    /**\r\n     * 当前使用的贴图数据\r\n     */\r\n    protected _activePixels: TexImageSource | TexImageSource[];\r\n\r\n    /**\r\n     * 是否为渲染目标纹理\r\n     */\r\n    isRenderTarget = false;\r\n\r\n    @watch('invalidate')\r\n    OFFSCREEN_WIDTH = 1024;\r\n\r\n    @watch('invalidate')\r\n    OFFSCREEN_HEIGHT = 1024;\r\n\r\n    /**\r\n     * 是否为2的幂贴图\r\n     */\r\n    get isPowerOfTwo()\r\n    {\r\n        if (this.isRenderTarget)\r\n        {\r\n            if (this.OFFSCREEN_WIDTH === 0 || !mathUtil.isPowerOfTwo(this.OFFSCREEN_WIDTH))\r\n            {\r\n                return false;\r\n            }\r\n            if (this.OFFSCREEN_HEIGHT === 0 || !mathUtil.isPowerOfTwo(this.OFFSCREEN_HEIGHT))\r\n            {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n        let pixels = this.activePixels;\r\n        if (!pixels) return false;\r\n        if (!Array.isArray(pixels))\r\n        { pixels = [pixels]; }\r\n        for (let i = 0; i < pixels.length; i++)\r\n        {\r\n            const element = pixels[i];\r\n            if (element.width === 0 || !mathUtil.isPowerOfTwo(element.width))\r\n            {\r\n                return false;\r\n            }\r\n            if (element.height === 0 || !mathUtil.isPowerOfTwo(element.height))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 纹理尺寸\r\n     */\r\n    getSize()\r\n    {\r\n        if (this.isRenderTarget)\r\n        {\r\n            return new Vector2(this.OFFSCREEN_WIDTH, this.OFFSCREEN_HEIGHT);\r\n        }\r\n        let pixels = this.activePixels;\r\n        if (!pixels)\r\n        {\r\n            return new Vector2(1, 1);\r\n        }\r\n        if (!Array.isArray(pixels))\r\n        {\r\n            pixels = [pixels];\r\n        }\r\n        if (pixels.length === 0)\r\n        {\r\n            return new Vector2(1, 1);\r\n        }\r\n        const pixel = pixels[0];\r\n\r\n        return new Vector2(pixel.width, pixel.height);\r\n    }\r\n\r\n    /**\r\n     * 判断数据是否满足渲染需求\r\n     */\r\n    private checkRenderData(pixels: TexImageSource | TexImageSource[])\r\n    {\r\n        if (!pixels) return false;\r\n        if (!Array.isArray(pixels))\r\n        {\r\n            pixels = [pixels];\r\n        }\r\n\r\n        if (pixels.length === 0) return false;\r\n        for (let i = 0; i < pixels.length; i++)\r\n        {\r\n            const element = pixels[i];\r\n            if (!element) return false;\r\n            if (element.width === 0)\r\n            {\r\n                return false;\r\n            }\r\n            if (element.height === 0)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 使纹理失效\r\n     */\r\n    invalidate()\r\n    {\r\n        this.invalid = true;\r\n    }\r\n\r\n    get activePixels()\r\n    {\r\n        this.updateActivePixels();\r\n\r\n        return this._activePixels;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    get dataURL()\r\n    {\r\n        this.updateActivePixels();\r\n        if (!this._dataURL)\r\n        {\r\n            if (this._activePixels instanceof ImageData)\r\n            {\r\n                this._dataURL = dataTransform.imageDataToDataURL(this._activePixels);\r\n            }\r\n            else if (this._activePixels instanceof HTMLImageElement)\r\n            {\r\n                this._dataURL = dataTransform.imageToDataURL(this._activePixels);\r\n            }\r\n            else if (this._activePixels instanceof HTMLCanvasElement)\r\n            {\r\n                this._dataURL = dataTransform.canvasToDataURL(this._activePixels);\r\n            }\r\n        }\r\n\r\n        return this._dataURL;\r\n    }\r\n    private _dataURL: string;\r\n\r\n    private updateActivePixels()\r\n    {\r\n        const old = this._activePixels;\r\n        if (this.checkRenderData(this._pixels))\r\n        {\r\n            this._activePixels = this._pixels;\r\n        }\r\n        else\r\n            if (Array.isArray(this.noPixels))\r\n            {\r\n                this._activePixels = this.noPixels.map((v) => imageDatas[v]);\r\n            }\r\n            else\r\n            {\r\n                this._activePixels = imageDatas[this.noPixels];\r\n            }\r\n        if (old !== this._activePixels) this._dataURL = null;\r\n    }\r\n}\r\n","import { AnimationCurve, Color3, Color4, Gradient, Rectangle, Vector2 } from '@feng3d/math';\r\nimport { dataTransform, mathUtil } from '@feng3d/polyfill';\r\n\r\n/**\r\n * 图片相关工具\r\n */\r\nexport class ImageUtil\r\n{\r\n    imageData: ImageData;\r\n\r\n    /**\r\n     * 获取图片数据\r\n     * @param image 加载完成的图片元素\r\n     */\r\n    static fromImage(image: HTMLImageElement)\r\n    {\r\n        return new ImageUtil().fromImage(image);\r\n    }\r\n\r\n    /**\r\n     * 创建ImageData\r\n     * @param width 数据宽度\r\n     * @param height 数据高度\r\n     * @param fillcolor 填充颜色\r\n     */\r\n    constructor(width = 1, height = 1, fillcolor = new Color4(0, 0, 0, 0))\r\n    {\r\n        this.init(width, height, fillcolor);\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     * @param width 宽度\r\n     * @param height 高度\r\n     * @param fillcolor 填充颜色\r\n     */\r\n    init(width = 1, height = 1, fillcolor = new Color4(0, 0, 0, 0))\r\n    {\r\n        this.imageData = new ImageData(width, height);\r\n        this.fillRect(new Rectangle(0, 0, width, height), fillcolor);\r\n    }\r\n\r\n    /**\r\n     * 获取图片数据\r\n     * @param image 加载完成的图片元素\r\n     */\r\n    fromImage(image: HTMLImageElement)\r\n    {\r\n        if (!image) return null;\r\n        const canvasImg = document.createElement('canvas');\r\n        canvasImg.width = image.width;\r\n        canvasImg.height = image.height;\r\n\r\n        const ctxt = canvasImg.getContext('2d');\r\n        console.assert(!!ctxt);\r\n        ctxt.drawImage(image, 0, 0);\r\n        this.imageData = ctxt.getImageData(0, 0, image.width, image.height);// 读取整张图片的像素。\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 绘制图片数据指定位置颜色\r\n     * @param x 图片数据x坐标\r\n     * @param y 图片数据y坐标\r\n     * @param color 颜色值\r\n     */\r\n    drawPixel(x: number, y: number, color: Color4)\r\n    {\r\n        const oldColor = this.getPixel(x, y);\r\n        oldColor.mix(color, color.a);\r\n        this.setPixel(x, y, oldColor);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 获取图片指定位置颜色值\r\n     * @param x 图片数据x坐标\r\n     * @param y 图片数据y坐标\r\n     */\r\n    getPixel(x: number, y: number)\r\n    {\r\n        const pos = (x + y * this.imageData.width) * 4;\r\n        const color = new Color4(this.imageData.data[pos] / 255, this.imageData.data[pos + 1] / 255, this.imageData.data[pos + 2] / 255, this.imageData.data[pos + 3] / 255);\r\n\r\n        return color;\r\n    }\r\n\r\n    /**\r\n     * 设置指定位置颜色值\r\n     * @param imageData 图片数据\r\n     * @param x 图片数据x坐标\r\n     * @param y 图片数据y坐标\r\n     * @param color 颜色值\r\n     */\r\n    setPixel(x: number, y: number, color: Color4)\r\n    {\r\n        x = Math.round(x);\r\n        y = Math.round(y);\r\n        const pos = (x + y * this.imageData.width) * 4;\r\n\r\n        this.imageData.data[pos] = color.r * 255;\r\n        this.imageData.data[pos + 1] = color.g * 255;\r\n        this.imageData.data[pos + 2] = color.b * 255;\r\n        this.imageData.data[pos + 3] = color.a * 255;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 清理图片数据\r\n     * @param clearColor 清理时填充颜色\r\n     */\r\n    clear(clearColor = new Color4(0, 0, 0, 0))\r\n    {\r\n        for (let i = 0; i < this.imageData.width; i++)\r\n        {\r\n            for (let j = 0; j < this.imageData.height; j++)\r\n            {\r\n                this.setPixel(i, j, clearColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 填充矩形\r\n     * @param rect 填充的矩形\r\n     * @param fillcolor 填充颜色\r\n     */\r\n    fillRect(rect: Rectangle, fillcolor = new Color4())\r\n    {\r\n        for (let i = rect.x > 0 ? rect.x : 0; i < this.imageData.width && i < rect.x + rect.width; i++)\r\n        {\r\n            for (let j = rect.y > 0 ? rect.y : 0; j < this.imageData.height && j < rect.y + rect.height; j++)\r\n            {\r\n                this.setPixel(i, j, fillcolor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 绘制线条\r\n     * @param start 起始坐标\r\n     * @param end 终止坐标\r\n     * @param color 线条颜色\r\n     */\r\n    drawLine(start: Vector2, end: Vector2, color: Color4)\r\n    {\r\n        const length = end.subTo(start).length;\r\n        const p = new Vector2();\r\n        for (let i = 0; i <= length; i++)\r\n        {\r\n            start.lerpNumberTo(end, i / length, p);\r\n            this.setPixel(p.x, p.y, color);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 绘制点\r\n     * @param x x坐标\r\n     * @param y y坐标\r\n     * @param color 颜色\r\n     * @param size 尺寸\r\n     */\r\n    drawPoint(x: number, y: number, color: Color4, size = 1)\r\n    {\r\n        const half = Math.floor(size / 2);\r\n        //\r\n        let sx = x - half; if (sx < 0) sx = 0;\r\n        let ex = x - half + size; if (ex > this.imageData.width) ex = this.imageData.width;\r\n        let sy = y - half; if (sy < 0) sy = 0;\r\n        let ey = y - half + size; if (ey > this.imageData.height) ey = this.imageData.height;\r\n        //\r\n        for (let i = sx; i < ex; i++)\r\n        {\r\n            for (let j = sy; j < ey; j++)\r\n            {\r\n                this.setPixel(i, j, color);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 绘制图片数据\r\n     * @param imageData 图片数据\r\n     * @param x x坐标\r\n     * @param y y坐标\r\n     */\r\n    drawImageData(imageData: ImageData, x: number, y: number)\r\n    {\r\n        const rect = new Rectangle(0, 0, this.imageData.width, this.imageData.height).intersection(new Rectangle(x, y, imageData.width, imageData.height));\r\n\r\n        const imageUtil = new ImageUtil(); imageUtil.imageData = imageData;\r\n        for (let i = rect.x; i < rect.x + rect.width; i++)\r\n        {\r\n            for (let j = rect.y; j < rect.y + rect.height; j++)\r\n            {\r\n                const c = imageUtil.getPixel(i - x, j - y);\r\n                this.drawPixel(i, j, c);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 转换为DataUrl字符串数据\r\n     */\r\n    toDataURL()\r\n    {\r\n        return dataTransform.imageDataToDataURL(this.imageData);\r\n    }\r\n\r\n    /**\r\n     * 创建默认粒子贴图\r\n     * @param size 尺寸\r\n     */\r\n    drawDefaultParticle(size = 64)\r\n    {\r\n        const imageData = new ImageData(size, size);\r\n\r\n        const half = size / 2;\r\n        for (let i = 0; i < size; i++)\r\n        {\r\n            for (let j = 0; j < size; j++)\r\n            {\r\n                const l = mathUtil.clamp(new Vector2(i - half, j - half).length, 0, half) / half;\r\n                let f = 1 - l;\r\n                f = f * f;\r\n\r\n                const pos = (i + j * size) * 4;\r\n                imageData.data[pos] = f * 255;\r\n                imageData.data[pos + 1] = f * 255;\r\n                imageData.data[pos + 2] = f * 255;\r\n                imageData.data[pos + 3] = f * 255;\r\n            }\r\n        }\r\n        this.imageData = imageData;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 创建颜色拾取矩形\r\n     * @param color 基色\r\n     * @param width 宽度\r\n     * @param height 高度\r\n     */\r\n    drawColorPickerRect(color: number)\r\n    {\r\n        Image;\r\n        const leftTop = new Color3(1, 1, 1);\r\n        const rightTop = new Color3().fromUnit(color);\r\n        const leftBottom = new Color3(0, 0, 0);\r\n        const rightBottom = new Color3(0, 0, 0);\r\n\r\n        //\r\n        for (let i = 0; i < this.imageData.width; i++)\r\n        {\r\n            for (let j = 0; j < this.imageData.height; j++)\r\n            {\r\n                const top = leftTop.mixTo(rightTop, i / this.imageData.width);\r\n                const bottom = leftBottom.mixTo(rightBottom, i / this.imageData.width);\r\n                const v = top.mixTo(bottom, j / this.imageData.height);\r\n\r\n                this.setPixel(i, j, new Color4().fromColor3(v));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    drawColorRect(color: Color4)\r\n    {\r\n        const colorHeight = Math.floor(this.imageData.height * 0.8);\r\n        const alphaWidth = Math.floor(color.a * this.imageData.width);\r\n\r\n        const color4 = color.clone(); color4.a = 1;\r\n        const white = new Color4(1, 1, 1);\r\n        const black = new Color4(0, 0, 0);\r\n        //\r\n        for (let i = 0; i < this.imageData.width; i++)\r\n        {\r\n            for (let j = 0; j < this.imageData.height; j++)\r\n            {\r\n                //\r\n                if (j <= colorHeight)\r\n                {\r\n                    this.setPixel(i, j, color4);\r\n                }\r\n                else\r\n                {\r\n                    this.setPixel(i, j, i < alphaWidth ? white : black);\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param gradient\r\n     * @param dirw true为横向条带，否则纵向条带\r\n     */\r\n    drawMinMaxGradient(gradient: Gradient, dirw = true)\r\n    {\r\n        //\r\n        for (let i = 0; i < this.imageData.width; i++)\r\n        {\r\n            for (let j = 0; j < this.imageData.height; j++)\r\n            {\r\n                const c = gradient.getValue(dirw ? i / (this.imageData.width - 1) : j / (this.imageData.height - 1));\r\n\r\n                this.setPixel(i, j, c);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 绘制曲线\r\n     * @param curve 曲线\r\n     * @param between0And1 是否显示值在[0,1]区间，否则[-1,1]区间\r\n     * @param color 曲线颜色\r\n     */\r\n    drawCurve(curve: AnimationCurve, between0And1: boolean, color: Color4, rect = null)\r\n    {\r\n        rect = rect || new Rectangle(0, 0, this.imageData.width, this.imageData.height);\r\n        const range = between0And1 ? [1, 0] : [1, -1];\r\n\r\n        const prepos = new Vector2();\r\n        const curpos = new Vector2();\r\n        //\r\n        for (let i = 0; i < rect.width; i++)\r\n        {\r\n            //\r\n            let y = curve.getValue(i / (rect.width - 1));\r\n\r\n            y = mathUtil.mapLinear(y, range[0], range[1], 0, 1);\r\n\r\n            const j = Math.round(y * (rect.height - 1));\r\n\r\n            //\r\n            curpos.x = rect.x + i;\r\n            curpos.y = rect.y + j;\r\n            if (i > 0)\r\n            {\r\n                this.drawLine(prepos, curpos, color);\r\n            }\r\n            prepos.x = curpos.x;\r\n            prepos.y = curpos.y;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 绘制双曲线\r\n     * @param curve 曲线\r\n     * @param curve1 曲线\r\n     * @param between0And1  是否显示值在[0,1]区间，否则[-1,1]区间\r\n     * @param curveColor 颜色\r\n     */\r\n    drawBetweenTwoCurves(curve: AnimationCurve, curve1: AnimationCurve, between0And1: boolean, curveColor = new Color4(), fillcolor = new Color4(1, 1, 1, 0.5), rect = null)\r\n    {\r\n        rect = rect || new Rectangle(0, 0, this.imageData.width, this.imageData.height);\r\n        const range = between0And1 ? [1, 0] : [1, -1];\r\n\r\n        const prepos0 = new Vector2();\r\n        const curpos0 = new Vector2();\r\n        const prepos1 = new Vector2();\r\n        const curpos1 = new Vector2();\r\n        //\r\n        for (let i = 0; i < rect.width; i++)\r\n        {\r\n            //\r\n            let y0 = curve.getValue(i / (rect.width - 1));\r\n            let y1 = curve1.getValue(i / (rect.width - 1));\r\n\r\n            y0 = mathUtil.mapLinear(y0, range[0], range[1], 0, 1);\r\n            y1 = mathUtil.mapLinear(y1, range[0], range[1], 0, 1);\r\n\r\n            y0 = Math.round(y0 * (rect.height - 1));\r\n            y1 = Math.round(y1 * (rect.height - 1));\r\n\r\n            curpos0.x = rect.x + i;\r\n            curpos0.y = rect.y + y0;\r\n            curpos1.x = rect.x + i;\r\n            curpos1.y = rect.y + y1;\r\n\r\n            this.drawLine(new Vector2(rect.x + i, rect.y + y0), new Vector2(rect.x + i, rect.y + y1), fillcolor);\r\n            if (i > 0)\r\n            {\r\n                this.drawLine(prepos0, curpos0, curveColor);\r\n                this.drawLine(prepos1, curpos1, curveColor);\r\n            }\r\n            prepos0.x = curpos0.x;\r\n            prepos0.y = curpos0.y;\r\n            prepos1.x = curpos1.x;\r\n            prepos1.y = curpos1.y;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 清理背景颜色，目前仅用于特定的抠图，例如 editor\\resource\\assets\\3d\\terrain\\terrain_brushes.png\r\n     * @param backColor 背景颜色\r\n     */\r\n    clearBackColor(backColor: Color4)\r\n    {\r\n        for (let i = 0; i < this.imageData.width; i++)\r\n        {\r\n            for (let j = 0; j < this.imageData.height; j++)\r\n            {\r\n                const t = this.getPixel(i, j);\r\n                const a = 1 - t.r / backColor.r;\r\n                t.r = t.g = t.b = 0;\r\n                t.a = a;\r\n                this.setPixel(i, j, t);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { loader } from '@feng3d/filesystem';\r\nimport { Color4, ColorKeywords } from '@feng3d/math';\r\nimport { ArrayUtils } from '@feng3d/polyfill';\r\nimport { TextureFormat, TextureType } from '@feng3d/renderer';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { AssetData } from '../core/AssetData';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { TextureInfo } from '../render/data/TextureInfo';\r\nimport { ImageUtil } from '../utils/ImageUtil';\r\n\r\nexport enum ImageDatas\r\n{\r\n    black = 'black',\r\n    white = 'white',\r\n    red = 'red',\r\n    green = 'green',\r\n    blue = 'blue',\r\n    defaultNormal = 'defaultNormal',\r\n    defaultParticle = 'defaultParticle',\r\n}\r\n\r\nexport let imageDatas: {\r\n    black: ImageData;\r\n    white: ImageData;\r\n    red: ImageData;\r\n    green: ImageData;\r\n    blue: ImageData;\r\n    defaultNormal: ImageData;\r\n    defaultParticle: ImageData;\r\n};\r\nif (typeof document !== 'undefined')\r\n{\r\n    imageDatas = {\r\n        black: new ImageUtil(1, 1, new Color4().fromUnit24(ColorKeywords.black)).imageData,\r\n        white: new ImageUtil(1, 1, new Color4().fromUnit24(ColorKeywords.white)).imageData,\r\n        red: new ImageUtil(1, 1, new Color4().fromUnit24(ColorKeywords.red)).imageData,\r\n        green: new ImageUtil(1, 1, new Color4().fromUnit24(ColorKeywords.green)).imageData,\r\n        blue: new ImageUtil(1, 1, new Color4().fromUnit24(ColorKeywords.blue)).imageData,\r\n        defaultNormal: new ImageUtil(1, 1, new Color4().fromUnit24(0x8080ff)).imageData,\r\n        defaultParticle: new ImageUtil().drawDefaultParticle().imageData,\r\n    };\r\n}\r\n\r\nexport interface Texture2DEventMap\r\n{\r\n    /**\r\n     * 加载完成\r\n     */\r\n    loadCompleted: any;\r\n}\r\n\r\n/**\r\n * 2D纹理\r\n */\r\nexport class Texture2D<T extends Texture2DEventMap = Texture2DEventMap> extends TextureInfo<T>\r\n{\r\n    __class__: 'feng3d.Texture2D';\r\n\r\n    /**\r\n     * 纹理类型\r\n     */\r\n    textureType = TextureType.TEXTURE_2D;\r\n\r\n    assetType = AssetType.texture;\r\n\r\n    /**\r\n     * 当贴图数据未加载好等情况时代替使用\r\n     */\r\n    noPixels = ImageDatas.white;\r\n\r\n    /**\r\n     * 是否已加载\r\n     */\r\n    get isLoaded() { return this._loadings.length === 0; }\r\n    private _loadings = [];\r\n\r\n    get image(): HTMLImageElement\r\n    {\r\n        return this._pixels as any;\r\n    }\r\n\r\n    /**\r\n     * 用于表示初始化纹理的数据来源\r\n     */\r\n    @serialize\r\n    get source()\r\n    {\r\n        return this._source;\r\n    }\r\n    set source(v)\r\n    {\r\n        this._source = v;\r\n        if (!v)\r\n        {\r\n            this._pixels = null;\r\n            this.invalidate();\r\n\r\n            return;\r\n        }\r\n        if (v.url)\r\n        {\r\n            this._loadings.push(v.url);\r\n            loader.loadImage(v.url, (img) =>\r\n            {\r\n                this._pixels = img;\r\n                this.invalidate();\r\n                ArrayUtils.deleteItem(this._loadings, v.url);\r\n                this.onItemLoadCompleted();\r\n            }, null,\r\n                (e) =>\r\n                {\r\n                    console.error(e);\r\n                    ArrayUtils.deleteItem(this._loadings, v.url);\r\n                    this.onItemLoadCompleted();\r\n                });\r\n        }\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    private onItemLoadCompleted()\r\n    {\r\n        if (this._loadings.length === 0) this.emit('loadCompleted');\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onLoadCompleted(callback: () => void)\r\n    {\r\n        if (this.isLoaded)\r\n        {\r\n            callback();\r\n\r\n            return;\r\n        }\r\n        this.once('loadCompleted', callback);\r\n    }\r\n\r\n    private _source: { url: string };\r\n\r\n    /**\r\n     * 默认贴图\r\n     */\r\n    static white: Texture2D;\r\n\r\n    /**\r\n     * 默认贴图\r\n     */\r\n    static default: Texture2D;\r\n\r\n    /**\r\n     * 默认法线贴图\r\n     */\r\n    static defaultNormal: Texture2D;\r\n\r\n    /**\r\n     * 默认粒子贴图\r\n     */\r\n    static defaultParticle: Texture2D;\r\n\r\n    /**\r\n     * 从url初始化纹理\r\n     *\r\n     * @param url 路径\r\n     */\r\n    static fromUrl(url: string)\r\n    {\r\n        const texture = new Texture2D();\r\n        texture.source = { url };\r\n\r\n        return texture;\r\n    }\r\n}\r\n\r\nTexture2D.white = serialization.setValue(new Texture2D(), { name: 'white-Texture', noPixels: ImageDatas.white, hideFlags: HideFlags.NotEditable });\r\nTexture2D.default = serialization.setValue(new Texture2D(), { name: 'Default-Texture', hideFlags: HideFlags.NotEditable });\r\nTexture2D.defaultNormal = serialization.setValue(new Texture2D(), { name: 'Default-NormalTexture', noPixels: ImageDatas.defaultNormal, hideFlags: HideFlags.NotEditable });\r\nTexture2D.defaultParticle = serialization.setValue(new Texture2D(), { name: 'Default-ParticleTexture', noPixels: ImageDatas.defaultParticle, format: TextureFormat.RGBA, hideFlags: HideFlags.NotEditable });\r\n\r\nAssetData.addAssetData('white-Texture', Texture2D.white);\r\nAssetData.addAssetData('Default-Texture', Texture2D.default);\r\nAssetData.addAssetData('Default-NormalTexture', Texture2D.defaultNormal);\r\nAssetData.addAssetData('Default-ParticleTexture', Texture2D.defaultParticle);\r\n","import { FS } from '@feng3d/filesystem';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ArrayUtils } from '@feng3d/polyfill';\r\nimport { TextureType } from '@feng3d/renderer';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { AssetData } from '../core/AssetData';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { TextureInfo } from '../render/data/TextureInfo';\r\nimport { ImageDatas, Texture2D } from './Texture2D';\r\n\r\nexport interface TextureCubeEventMap\r\n{\r\n    /**\r\n     * 加载完成\r\n     */\r\n    loadCompleted: any;\r\n}\r\n\r\nexport type TextureCubeImageName = 'positive_x_url' | 'positive_y_url' | 'positive_z_url' | 'negative_x_url' | 'negative_y_url' | 'negative_z_url';\r\n\r\n/**\r\n * 立方体纹理\r\n */\r\nexport class TextureCube<T extends TextureCubeEventMap = TextureCubeEventMap> extends TextureInfo<T>\r\n{\r\n    __class__: 'feng3d.TextureCube';\r\n\r\n    textureType = TextureType.TEXTURE_CUBE_MAP;\r\n\r\n    assetType = AssetType.texturecube;\r\n\r\n    static ImageNames: TextureCubeImageName[] = ['positive_x_url', 'positive_y_url', 'positive_z_url', 'negative_x_url', 'negative_y_url', 'negative_z_url'];\r\n\r\n    @oav({ component: 'OAVCubeMap', priority: 1 })\r\n    OAVCubeMap = '';\r\n\r\n    /**\r\n     * 原始数据\r\n     */\r\n    @serialize\r\n    @watch('_rawDataChanged')\r\n    rawData: { type: 'texture', textures: Texture2D[] } | { type: 'path', paths: string[] };\r\n\r\n    noPixels = [ImageDatas.white, ImageDatas.white, ImageDatas.white, ImageDatas.white, ImageDatas.white, ImageDatas.white];\r\n\r\n    protected _pixels = [null, null, null, null, null, null];\r\n\r\n    /**\r\n     * 是否加载完成\r\n     */\r\n    get isLoaded() { return this._loading.length === 0; }\r\n    private _loading = [];\r\n\r\n    setTexture2D(pos: TextureCubeImageName, texture: Texture2D)\r\n    {\r\n        if (!this.rawData || this.rawData.type !== 'texture')\r\n        {\r\n            this.rawData = { type: 'texture', textures: [] };\r\n        }\r\n        const index = TextureCube.ImageNames.indexOf(pos);\r\n        this.rawData.textures[index] = texture;\r\n\r\n        this._loadItemTexture(texture, index);\r\n    }\r\n\r\n    setTexture2DPath(pos: TextureCubeImageName, path: string)\r\n    {\r\n        if (!this.rawData || this.rawData.type !== 'path')\r\n        {\r\n            this.rawData = { type: 'path', paths: [] };\r\n        }\r\n        const index = TextureCube.ImageNames.indexOf(pos);\r\n        this.rawData.paths[index] = path;\r\n\r\n        this._loadItemImagePath(path, index);\r\n    }\r\n\r\n    getTextureImage(pos: TextureCubeImageName, callback: (img?: HTMLImageElement) => void)\r\n    {\r\n        if (!this.rawData)\r\n        {\r\n            callback();\r\n\r\n            return;\r\n        }\r\n        const index = TextureCube.ImageNames.indexOf(pos);\r\n        if (this.rawData.type === 'texture')\r\n        {\r\n            const texture = this.rawData.textures[index];\r\n            if (!texture)\r\n            {\r\n                callback();\r\n\r\n                return;\r\n            }\r\n            texture.onLoadCompleted(() =>\r\n            {\r\n                callback(texture.image);\r\n            });\r\n        }\r\n        else if (this.rawData.type === 'path')\r\n        {\r\n            const path = this.rawData.paths[index];\r\n            if (!path)\r\n            {\r\n                callback();\r\n\r\n                return;\r\n            }\r\n            FS.fs.readImage(path, (_err: Error, img: HTMLImageElement) =>\r\n            {\r\n                callback(img);\r\n            });\r\n        }\r\n    }\r\n\r\n    private _rawDataChanged()\r\n    {\r\n        if (!this.rawData) return;\r\n\r\n        if (this.rawData.type === 'texture')\r\n        {\r\n            this.rawData.textures.forEach((v, index) =>\r\n            {\r\n                this._loadItemTexture(v, index);\r\n            });\r\n            this.invalidate();\r\n        }\r\n        else if (this.rawData.type === 'path')\r\n        {\r\n            this.rawData.paths.forEach((v, index) =>\r\n            {\r\n                this._loadItemImagePath(v, index);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 加载单个贴图\r\n     *\r\n     * @param texture 贴图\r\n     * @param index 索引\r\n     */\r\n    private _loadItemTexture(texture: Texture2D, index: number)\r\n    {\r\n        if (!texture) return;\r\n\r\n        this._loading.push(texture);\r\n        texture.onLoadCompleted(() =>\r\n        {\r\n            if (this.rawData.type === 'texture' && this.rawData.textures[index] === texture)\r\n            {\r\n                this._pixels[index] = texture.image;\r\n                this.invalidate();\r\n            }\r\n            ArrayUtils.deleteItem(this._loading, texture);\r\n            this._onItemLoadCompleted();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 加载单个图片\r\n     *\r\n     * @param imagepath 图片路径\r\n     * @param index 索引\r\n     */\r\n    private _loadItemImagePath(imagepath: string, index: number)\r\n    {\r\n        if (!imagepath) return;\r\n\r\n        this._loading.push(imagepath);\r\n        FS.fs.readImage(imagepath, (_err, img) =>\r\n        {\r\n            if (img && this.rawData.type === 'path' && this.rawData.paths[index] === imagepath)\r\n            {\r\n                this._pixels[index] = img;\r\n                this.invalidate();\r\n            }\r\n            ArrayUtils.deleteItem(this._loading, imagepath);\r\n            this._onItemLoadCompleted();\r\n        });\r\n    }\r\n\r\n    private _onItemLoadCompleted()\r\n    {\r\n        if (this._loading.length === 0) this.emit('loadCompleted');\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onLoadCompleted(callback: () => void)\r\n    {\r\n        if (this.isLoaded)\r\n        {\r\n            callback();\r\n\r\n            return;\r\n        }\r\n        this.once('loadCompleted', callback);\r\n    }\r\n\r\n    static default: TextureCube;\r\n}\r\n\r\nTextureCube.default = serialization.setValue(new TextureCube(), { name: 'Default-TextureCube', hideFlags: HideFlags.NotEditable });\r\n\r\nAssetData.addAssetData('Default-TextureCube', TextureCube.default);\r\n","import { Color3, Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Texture2D } from '../textures/Texture2D';\r\nimport { TextureCube } from '../textures/TextureCube';\r\nimport { Material } from './Material';\r\n\r\nimport standardFragment from '../shaders/standard.fragment.glsl';\r\nimport standardVertex from '../shaders/standard.vertex.glsl';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Default-Material': Material;\r\n    }\r\n\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        standard: StandardUniforms\r\n    }\r\n}\r\n\r\n/**\r\n * 雾模式\r\n */\r\nexport enum FogMode\r\n{\r\n    NONE = 0,\r\n    EXP = 1,\r\n    EXP2 = 2,\r\n    LINEAR = 3\r\n}\r\n\r\nexport class StandardUniforms\r\n{\r\n    __class__: 'feng3d.StandardUniforms' | 'feng3d.TerrainUniforms' | 'feng3d.ParticleUniforms';\r\n    /**\r\n     * 点绘制时点的尺寸\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_PointSize = 1;\r\n\r\n    /**\r\n     * 漫反射纹理\r\n     */\r\n    @serialize\r\n    @oav({ block: 'diffuse' })\r\n    s_diffuse = Texture2D.default;\r\n\r\n    /**\r\n     * 基本颜色\r\n     */\r\n    @serialize\r\n    @oav({ block: 'diffuse' })\r\n    u_diffuse = new Color4(1, 1, 1, 1);\r\n\r\n    /**\r\n     * 透明阈值，透明度小于该值的像素被片段着色器丢弃\r\n     */\r\n    @serialize\r\n    @oav({ block: 'diffuse' })\r\n    u_alphaThreshold = 0;\r\n\r\n    /**\r\n     * 法线纹理\r\n     */\r\n    @serialize\r\n    @oav({ block: 'normalMethod' })\r\n    s_normal = Texture2D.defaultNormal;\r\n\r\n    /**\r\n     * 镜面反射光泽图\r\n     */\r\n    @serialize\r\n    @oav({ block: 'specular' })\r\n    s_specular = Texture2D.default;\r\n\r\n    /**\r\n     * 镜面反射颜色\r\n     */\r\n    @serialize\r\n    @oav({ block: 'specular' })\r\n    u_specular = new Color3();\r\n\r\n    /**\r\n     * 高光系数\r\n     */\r\n    @serialize\r\n    @oav({ block: 'specular' })\r\n    u_glossiness = 50;\r\n\r\n    /**\r\n     * 环境纹理\r\n     */\r\n    @serialize\r\n    @oav({ block: 'ambient' })\r\n    s_ambient = Texture2D.default;\r\n\r\n    /**\r\n     * 环境光颜色\r\n     */\r\n    @serialize\r\n    @oav({ block: 'ambient' })\r\n    u_ambient = new Color4();\r\n\r\n    /**\r\n     * 环境映射贴图\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVPick', block: 'envMap', componentParam: { accepttype: 'texturecube', datatype: 'texturecube' } })\r\n    s_envMap = TextureCube.default;\r\n\r\n    /**\r\n     * 反射率\r\n     */\r\n    @serialize\r\n    @oav({ block: 'envMap' })\r\n    u_reflectivity = 1;\r\n\r\n    /**\r\n     * 出现雾效果的最近距离\r\n     */\r\n    @serialize\r\n    @oav({ block: 'fog' })\r\n    u_fogMinDistance = 0;\r\n\r\n    /**\r\n     * 最远距离\r\n     */\r\n    @serialize\r\n    @oav({ block: 'fog' })\r\n    u_fogMaxDistance = 100;\r\n\r\n    /**\r\n     * 雾的颜色\r\n     */\r\n    @serialize\r\n    @oav({ block: 'fog' })\r\n    u_fogColor = new Color3();\r\n\r\n    /**\r\n     * 雾的密度\r\n     */\r\n    @serialize\r\n    @oav({ block: 'fog' })\r\n    u_fogDensity = 0.1;\r\n\r\n    /**\r\n     * 雾模式\r\n     */\r\n    @serialize\r\n    @oav({ block: 'fog', component: 'OAVEnum', componentParam: { enumClass: FogMode } })\r\n    u_fogMode = FogMode.NONE;\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.standard = { fragment: standardFragment, vertex: standardVertex, cls: StandardUniforms };\r\n\r\n","import { globalEmitter } from '@feng3d/event';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { gPartial } from '@feng3d/polyfill';\r\nimport { RenderAtomic, RenderMode, RenderParams, Shader, shaderlib } from '@feng3d/renderer';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { AssetData } from '../core/AssetData';\r\nimport { Feng3dObject } from '../core/Feng3dObject';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { Texture2D } from '../textures/Texture2D';\r\nimport { TextureCube } from '../textures/TextureCube';\r\nimport { StandardUniforms } from './StandardMaterial';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsDefaultMaterial\r\n    {\r\n\r\n    }\r\n    interface MixinsUniformsTypes\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport interface UniformsTypes extends MixinsUniformsTypes { }\r\nexport type ShaderNames = keyof UniformsTypes;\r\nexport type UniformsLike = UniformsTypes[keyof UniformsTypes];\r\n\r\n/**\r\n * 材质\r\n */\r\nexport class Material extends Feng3dObject\r\n{\r\n    __class__: 'feng3d.Material';\r\n\r\n    static create<K extends keyof UniformsTypes>(shaderName: K, uniforms?: gPartial<UniformsTypes[K]>, renderParams?: gPartial<RenderParams>)\r\n    {\r\n        const material = new Material();\r\n        material.init(shaderName, uniforms, renderParams);\r\n\r\n        return material;\r\n    }\r\n\r\n    init<K extends keyof UniformsTypes>(shaderName: K, uniforms?: gPartial<UniformsTypes[K]>, renderParams?: gPartial<RenderParams>)\r\n    {\r\n        this.shaderName = shaderName;\r\n        //\r\n        uniforms && serialization.setValue(this.uniforms, <any>uniforms);\r\n        renderParams && serialization.setValue(this.renderParams, renderParams);\r\n\r\n        return this;\r\n    }\r\n\r\n    //\r\n    private renderAtomic = new RenderAtomic();\r\n\r\n    @oav({ component: 'OAVFeng3dPreView' })\r\n    private preview = '';\r\n\r\n    /**\r\n     * shader名称\r\n     */\r\n    @oav({ component: 'OAVMaterialName' })\r\n    @serialize\r\n    @watch('_onShaderChanged')\r\n    shaderName: ShaderNames;\r\n\r\n    @oav()\r\n    @serialize\r\n    name = '';\r\n\r\n    /**\r\n     * Uniform数据\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVObjectView' })\r\n    @watch('_onUniformsChanged')\r\n    uniforms: UniformsLike;\r\n\r\n    /**\r\n     * 渲染参数\r\n     */\r\n    @serialize\r\n    @oav({ block: '渲染参数', component: 'OAVObjectView' })\r\n    @watch('_onRenderParamsChanged')\r\n    renderParams: RenderParams;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        globalEmitter.on('asset.shaderChanged', this._onShaderChanged, this);\r\n        this.shaderName = 'standard';\r\n        this.uniforms = new StandardUniforms();\r\n        this.renderParams = new RenderParams();\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic)\r\n    {\r\n        Object.assign(renderAtomic.uniforms, this.renderAtomic.uniforms);\r\n\r\n        renderAtomic.shader = this.renderAtomic.shader;\r\n        renderAtomic.renderParams = this.renderAtomic.renderParams;\r\n        renderAtomic.shaderMacro.IS_POINTS_MODE = this.renderParams.renderMode === RenderMode.POINTS;\r\n    }\r\n\r\n    /**\r\n     * 是否加载完成\r\n     */\r\n    get isLoaded()\r\n    {\r\n        const uniforms = this.uniforms;\r\n        for (const key in uniforms)\r\n        {\r\n            const texture = uniforms[key];\r\n            if (texture instanceof Texture2D || texture instanceof TextureCube)\r\n            {\r\n                if (!texture.isLoaded) return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onLoadCompleted(callback: () => void)\r\n    {\r\n        let loadingNum = 0;\r\n        const uniforms = this.uniforms;\r\n        for (const key in uniforms)\r\n        {\r\n            const texture = uniforms[key];\r\n            if (texture instanceof Texture2D || texture instanceof TextureCube)\r\n            {\r\n                if (!texture.isLoaded)\r\n                {\r\n                    loadingNum++;\r\n                    // eslint-disable-next-line no-loop-func\r\n                    texture.on('loadCompleted', () =>\r\n                    {\r\n                        loadingNum--;\r\n                        if (loadingNum === 0) callback();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        if (loadingNum === 0) callback();\r\n    }\r\n\r\n    private _onShaderChanged()\r\n    {\r\n        const Cls = shaderlib.shaderConfig.shaders[this.shaderName].cls;\r\n        if (Cls)\r\n        {\r\n            if (!this.uniforms || this.uniforms.constructor !== Cls)\r\n            {\r\n                const newuniforms = new Cls();\r\n                this.uniforms = newuniforms;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.uniforms = <any>{};\r\n        }\r\n\r\n        const renderParams = shaderlib.shaderConfig.shaders[this.shaderName].renderParams;\r\n        renderParams && serialization.setValue(this.renderParams, renderParams);\r\n\r\n        this.renderAtomic.shader = new Shader({ shaderName: this.shaderName });\r\n    }\r\n\r\n    private _onUniformsChanged()\r\n    {\r\n        this.renderAtomic.uniforms = this.uniforms as any;\r\n    }\r\n\r\n    private _onRenderParamsChanged()\r\n    {\r\n        this.renderAtomic.renderParams = this.renderParams;\r\n    }\r\n\r\n    /**\r\n     * 设置默认材质\r\n     *\r\n     * 资源名称与材质名称相同，且无法在检查器界面中编辑。\r\n     *\r\n     * @param name 材质名称\r\n     * @param material 材质数据\r\n     */\r\n    static setDefault<K extends keyof DefaultMaterial>(name: K, material: gPartial<Material>)\r\n    {\r\n        const newMaterial = this._defaultMaterials[<any>name] = new Material();\r\n        serialization.setValue(newMaterial, material);\r\n        serialization.setValue(newMaterial, { name, hideFlags: HideFlags.NotEditable });\r\n        AssetData.addAssetData(name, newMaterial);\r\n    }\r\n\r\n    /**\r\n     * 获取材质\r\n     *\r\n     * @param name 材质名称\r\n     */\r\n    static getDefault<K extends keyof DefaultMaterial>(name: K)\r\n    {\r\n        return this._defaultMaterials[name];\r\n    }\r\n    private static _defaultMaterials: DefaultMaterial = <any>{};\r\n}\r\n\r\n/**\r\n * 默认材质\r\n */\r\nexport interface DefaultMaterial extends MixinsDefaultMaterial\r\n{\r\n}\r\n\r\nMaterial.setDefault('Default-Material', { shaderName: 'standard' });\r\n","import { Box3, Ray3 } from '@feng3d/math';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { PickingCollisionVO } from '../pick/Raycaster';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        RayCastable: RayCastable;\r\n    }\r\n}\r\n\r\n/**\r\n * 可射线捕获\r\n */\r\n@RegisterComponent()\r\nexport class RayCastable extends Behaviour\r\n{\r\n    protected _selfLocalBounds: Box3;\r\n    protected _selfWorldBounds: Box3;\r\n\r\n    /**\r\n     * 自身局部包围盒\r\n     */\r\n    get selfLocalBounds()\r\n    {\r\n        if (!this._selfLocalBounds)\r\n        { this._updateBounds(); }\r\n\r\n        return this._selfLocalBounds;\r\n    }\r\n\r\n    /**\r\n     * 自身世界包围盒\r\n     */\r\n    get selfWorldBounds()\r\n    {\r\n        if (!this._selfWorldBounds)\r\n        { this._updateWorldBounds(); }\r\n\r\n        return this._selfWorldBounds;\r\n    }\r\n\r\n    /**\r\n     * 与世界空间射线相交\r\n     *\r\n     * @param _worldRay 世界空间射线\r\n     *\r\n     * @return 相交信息\r\n     */\r\n    worldRayIntersection(_worldRay: Ray3): PickingCollisionVO\r\n    {\r\n        throw '请在子类中实现！';\r\n    }\r\n\r\n    protected _onScenetransformChanged()\r\n    {\r\n        this._selfWorldBounds = null;\r\n    }\r\n\r\n    /**\r\n     * 更新世界边界\r\n     */\r\n    protected _updateWorldBounds()\r\n    {\r\n        this._selfWorldBounds = this.selfLocalBounds.applyMatrixTo(this.transform.localToWorldMatrix);\r\n    }\r\n\r\n    /**\r\n     * 处理包围盒变换事件\r\n     */\r\n    protected _onBoundsInvalid()\r\n    {\r\n        this._selfLocalBounds = null;\r\n        this._selfWorldBounds = null;\r\n\r\n        this.emit('selfBoundsChanged', this);\r\n    }\r\n\r\n    protected _updateBounds()\r\n    {\r\n        throw '请在子类中实现！';\r\n    }\r\n}\r\n","import { IEvent } from '@feng3d/event';\r\nimport { Box3, Ray3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { CullFace, RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { Geometry, GeometryLike } from '../geometry/Geometry';\r\nimport { LightPicker } from '../light/pickers/LightPicker';\r\nimport { Material } from '../materials/Material';\r\nimport { PickingCollisionVO } from '../pick/Raycaster';\r\nimport { Scene } from '../scene/Scene';\r\nimport { RayCastable } from './RayCastable';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap { Renderable: Renderable; }\r\n}\r\n\r\n/**\r\n * 可渲染组件\r\n *\r\n * General functionality for all renderers.\r\n *\r\n * A renderer is what makes an object appear on the screen. Use this class to access the renderer of any object, mesh or Particle System. Renderers can be disabled to make objects invisible (see enabled), and the materials can be accessed and modified through them (see material).\r\n *\r\n * See Also: Renderer components for meshes, particles, lines and trails.\r\n */\r\n@RegisterComponent()\r\nexport class Renderable extends RayCastable\r\n{\r\n    get single() { return true; }\r\n\r\n    readonly renderAtomic = new RenderAtomic();\r\n\r\n    /**\r\n     * 几何体\r\n     */\r\n    @oav({ component: 'OAVPick', tooltip: '几何体，提供模型以形状', componentParam: { accepttype: 'geometry', datatype: 'geometry' } })\r\n    @serialize\r\n    @watch('_onGeometryChanged')\r\n    geometry: GeometryLike = Geometry.getDefault('Cube');\r\n\r\n    /**\r\n     * 材质\r\n     */\r\n    @oav({ component: 'OAVPick', tooltip: '材质，提供模型以皮肤', componentParam: { accepttype: 'material', datatype: 'material' } })\r\n    @serialize\r\n    material = Material.getDefault('Default-Material');\r\n\r\n    @oav({ tooltip: '是否投射阴影' })\r\n    @serialize\r\n    castShadows = true;\r\n\r\n    @oav({ tooltip: '是否接受阴影' })\r\n    @serialize\r\n    receiveShadows = true;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this._lightPicker = new LightPicker(this);\r\n    }\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        this.on('scenetransformChanged', this._onScenetransformChanged, this);\r\n\r\n        this.on('getSelfBounds', this._onGetSelfBounds, this);\r\n    }\r\n\r\n    /**\r\n     * 渲染前执行函数\r\n     *\r\n     * 可用于渲染前收集渲染数据，或者更新显示效果等\r\n     *\r\n     * @param renderAtomic\r\n     * @param scene\r\n     * @param camera\r\n     */\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        //\r\n        this.geometry.beforeRender(renderAtomic);\r\n        this.material.beforeRender(renderAtomic);\r\n        this._lightPicker.beforeRender(renderAtomic);\r\n\r\n        this.gameObject.components.forEach((element) =>\r\n        {\r\n            if (element !== this)\r\n            { element.beforeRender(renderAtomic, scene, camera); }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 与世界空间射线相交\r\n     *\r\n     * @param worldRay 世界空间射线\r\n     *\r\n     * @return 相交信息\r\n     */\r\n    worldRayIntersection(worldRay: Ray3)\r\n    {\r\n        const localRay = this.transform.rayWorldToLocal(worldRay);\r\n        const pickingCollisionVO = this.localRayIntersection(localRay);\r\n\r\n        return pickingCollisionVO;\r\n    }\r\n\r\n    /**\r\n     * 与局部空间射线相交\r\n     *\r\n     * @param ray3D 局部空间射线\r\n     *\r\n     * @return 相交信息\r\n     */\r\n    localRayIntersection(localRay: Ray3)\r\n    {\r\n        const localNormal = new Vector3();\r\n\r\n        // 检测射线与边界的碰撞\r\n        const rayEntryDistance = this.selfLocalBounds.rayIntersection(localRay.origin, localRay.direction, localNormal);\r\n        if (rayEntryDistance === Number.MAX_VALUE)\r\n        { return null; }\r\n\r\n        // 保存碰撞数据\r\n        const pickingCollisionVO: PickingCollisionVO = {\r\n            gameObject: this.gameObject,\r\n            localNormal,\r\n            localRay,\r\n            rayEntryDistance,\r\n            rayOriginIsInsideBounds: rayEntryDistance === 0,\r\n            geometry: this.geometry,\r\n            cullFace: this.material.renderParams.cullFace as CullFace,\r\n        };\r\n\r\n        return pickingCollisionVO;\r\n    }\r\n\r\n    /**\r\n     * 是否加载完成\r\n     */\r\n    get isLoaded()\r\n    {\r\n        return this.material.isLoaded;\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onLoadCompleted(callback: () => void)\r\n    {\r\n        if (this.isLoaded) callback();\r\n        this.material.onLoadCompleted(callback);\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        this.geometry = <any>null;\r\n        this.material = <any>null;\r\n        super.dispose();\r\n    }\r\n\r\n    //\r\n    private _lightPicker: LightPicker;\r\n\r\n    private _onGeometryChanged(property: string, oldValue: GeometryLike, value: GeometryLike)\r\n    {\r\n        if (oldValue)\r\n        {\r\n            oldValue.off('boundsInvalid', this._onBoundsInvalid, this);\r\n        }\r\n        if (value)\r\n        {\r\n            value.on('boundsInvalid', this._onBoundsInvalid, this);\r\n        }\r\n        this.geometry = this.geometry || Geometry.getDefault('Cube');\r\n        this._onBoundsInvalid();\r\n    }\r\n\r\n    protected _updateBounds()\r\n    {\r\n        this._selfLocalBounds = this.geometry.bounding;\r\n    }\r\n\r\n    protected _onGetSelfBounds(event: IEvent<{ bounds: Box3[]; }>)\r\n    {\r\n        event.data.bounds.push(this.geometry.bounding);\r\n    }\r\n}\r\n","import { globalEmitter } from '@feng3d/event';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { classUtils } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { RunEnvironment } from './RunEnvironment';\r\nimport { Script } from './Script';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        ScriptComponent: ScriptComponent;\r\n    }\r\n}\r\n\r\n/**\r\n * 3d对象脚本\r\n */\r\n@AddComponentMenu('Script/Script')\r\n@RegisterComponent()\r\nexport class ScriptComponent extends Behaviour\r\n{\r\n    runEnvironment = RunEnvironment.feng3d;\r\n\r\n    @serialize\r\n    @watch('_invalidateScriptInstance')\r\n    @oav({ component: 'OAVPick', componentParam: { accepttype: 'file_script' } })\r\n    scriptName: string;\r\n\r\n    /**\r\n     * 脚本对象\r\n     */\r\n    @serialize\r\n    get scriptInstance()\r\n    {\r\n        if (this._invalid) this._updateScriptInstance();\r\n\r\n        return this._scriptInstance;\r\n    }\r\n    private _scriptInstance: Script;\r\n\r\n    private _invalid = true;\r\n\r\n    private scriptInit = false;\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        globalEmitter.on('asset.scriptChanged', this._invalidateScriptInstance, this);\r\n    }\r\n\r\n    private _updateScriptInstance()\r\n    {\r\n        const oldInstance = this._scriptInstance;\r\n        this._scriptInstance = null;\r\n        if (!this.scriptName) return;\r\n\r\n        const Cls = classUtils.getDefinitionByName(this.scriptName, false);\r\n\r\n        if (Cls) this._scriptInstance = new Cls();\r\n        else console.warn(`无法初始化脚本 ${this.scriptName}`);\r\n\r\n        this.scriptInit = false;\r\n\r\n        // 移除旧实例\r\n        if (oldInstance)\r\n        {\r\n            // 如果两个类定义名称相同，则保留上个对象数据\r\n            if (classUtils.getQualifiedClassName(oldInstance) === this.scriptName)\r\n            {\r\n                serialization.setValue(this._scriptInstance, <any>oldInstance);\r\n            }\r\n            oldInstance.component = null;\r\n            oldInstance.dispose();\r\n        }\r\n        this._invalid = false;\r\n    }\r\n\r\n    private _invalidateScriptInstance()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    /**\r\n     * 每帧执行\r\n     */\r\n    update()\r\n    {\r\n        if (this.scriptInstance && !this.scriptInit)\r\n        {\r\n            this.scriptInstance.component = this;\r\n            this.scriptInstance.init();\r\n            this.scriptInit = true;\r\n        }\r\n        this.scriptInstance && this.scriptInstance.update();\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        this.enabled = false;\r\n\r\n        if (this._scriptInstance)\r\n        {\r\n            this._scriptInstance.component = null;\r\n            this._scriptInstance.dispose();\r\n            this._scriptInstance = null;\r\n        }\r\n        super.dispose();\r\n\r\n        globalEmitter.off('asset.scriptChanged', this._invalidateScriptInstance, this);\r\n    }\r\n}\r\n","import { Box3, Matrix4x4, Quaternion, Ray3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watcher } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Component, RegisterComponent } from '../component/Component';\r\nimport { Scene } from '../scene/Scene';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        /**\r\n         * 变换矩阵变化\r\n         */\r\n        transformChanged: Transform;\r\n        /**\r\n         *\r\n         */\r\n        updateLocalToWorldMatrix: Transform;\r\n\r\n        /**\r\n         * 场景矩阵变化\r\n         */\r\n        scenetransformChanged: Transform;\r\n    }\r\n\r\n    export interface MixinsComponentMap\r\n    {\r\n        Transform: Transform;\r\n    }\r\n}\r\n\r\n/**\r\n * 变换\r\n *\r\n * 物体的位置、旋转和比例。\r\n *\r\n * 场景中的每个对象都有一个变换。它用于存储和操作对象的位置、旋转和缩放。每个转换都可以有一个父元素，它允许您分层应用位置、旋转和缩放\r\n */\r\n@RegisterComponent()\r\nexport class Transform extends Component\r\n{\r\n    __class__: 'feng3d.Transform';\r\n\r\n    get single() { return true; }\r\n\r\n    /**\r\n     * 创建一个实体，该类为虚类\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        watcher.watch(this._position, 'x', this._positionChanged, this);\r\n        watcher.watch(this._position, 'y', this._positionChanged, this);\r\n        watcher.watch(this._position, 'z', this._positionChanged, this);\r\n        watcher.watch(this._rotation, 'x', this._rotationChanged, this);\r\n        watcher.watch(this._rotation, 'y', this._rotationChanged, this);\r\n        watcher.watch(this._rotation, 'z', this._rotationChanged, this);\r\n        watcher.watch(this._scale, 'x', this._scaleChanged, this);\r\n        watcher.watch(this._scale, 'y', this._scaleChanged, this);\r\n        watcher.watch(this._scale, 'z', this._scaleChanged, this);\r\n\r\n        this._renderAtomic.uniforms.u_modelMatrix = () => this.localToWorldMatrix;\r\n        this._renderAtomic.uniforms.u_ITModelMatrix = () => this.ITlocalToWorldMatrix;\r\n    }\r\n\r\n    /**\r\n     * 世界坐标\r\n     */\r\n    get worldPosition()\r\n    {\r\n        return this.localToWorldMatrix.getPosition();\r\n    }\r\n\r\n    get parent()\r\n    {\r\n        return this.gameObject.parent && this.gameObject.parent.transform;\r\n    }\r\n\r\n    /**\r\n     * X轴坐标。\r\n     */\r\n    @serialize\r\n    get x() { return this._position.x; }\r\n    set x(v) { this._position.x = v; }\r\n\r\n    /**\r\n     * Y轴坐标。\r\n     */\r\n    @serialize\r\n    get y() { return this._position.y; }\r\n    set y(v) { this._position.y = v; }\r\n\r\n    /**\r\n     * Z轴坐标。\r\n     */\r\n    @serialize\r\n    get z() { return this._position.z; }\r\n    set z(v) { this._position.z = v; }\r\n\r\n    /**\r\n     * X轴旋转角度。\r\n     */\r\n    @serialize\r\n    get rx() { return this._rotation.x; }\r\n    set rx(v) { this._rotation.x = v; }\r\n\r\n    /**\r\n     * Y轴旋转角度。\r\n     */\r\n    @serialize\r\n    get ry() { return this._rotation.y; }\r\n    set ry(v) { this._rotation.y = v; }\r\n\r\n    /**\r\n     * Z轴旋转角度。\r\n     */\r\n    @serialize\r\n    get rz() { return this._rotation.z; }\r\n    set rz(v) { this._rotation.z = v; }\r\n\r\n    /**\r\n     * X轴缩放。\r\n     */\r\n    @serialize\r\n    get sx() { return this._scale.x; }\r\n    set sx(v) { this._scale.x = v; }\r\n\r\n    /**\r\n     * Y轴缩放。\r\n     */\r\n    @serialize\r\n    get sy() { return this._scale.y; }\r\n    set sy(v) { this._scale.y = v; }\r\n\r\n    /**\r\n     * Z轴缩放。\r\n     */\r\n    @serialize\r\n    get sz() { return this._scale.z; }\r\n    set sz(v) { this._scale.z = v; }\r\n\r\n    /**\r\n     * 本地位移\r\n     */\r\n    @oav({ tooltip: '本地位移' })\r\n    get position() { return this._position; }\r\n    set position(v) { this._position.copy(v); }\r\n\r\n    /**\r\n     * 本地旋转\r\n     */\r\n    @oav({ tooltip: '本地旋转', component: 'OAVVector3', componentParam: { step: 0.001, stepScale: 30, stepDownup: 30 } })\r\n    get rotation() { return this._rotation; }\r\n    set rotation(v) { this._rotation.copy(v); }\r\n\r\n    /**\r\n     * 本地四元素旋转\r\n     */\r\n    get orientation()\r\n    {\r\n        this._orientation.fromMatrix(this.matrix);\r\n\r\n        return this._orientation;\r\n    }\r\n\r\n    set orientation(value)\r\n    {\r\n        const angles = value.toEulerAngles();\r\n        angles.scaleNumber(mathUtil.RAD2DEG);\r\n        this.rotation = angles;\r\n    }\r\n\r\n    /**\r\n     * 本地缩放\r\n     */\r\n    @oav({ tooltip: '本地缩放' })\r\n    get scale() { return this._scale; }\r\n    set scale(v) { this._scale.copy(v); }\r\n\r\n    /**\r\n     * 本地变换矩阵\r\n     */\r\n    get matrix()\r\n    {\r\n        if (this._matrixInvalid)\r\n        {\r\n            this._matrixInvalid = false;\r\n            this._updateMatrix();\r\n        }\r\n\r\n        return this._matrix;\r\n    }\r\n\r\n    set matrix(v)\r\n    {\r\n        v.toTRS(this._position, this._rotation, this._scale);\r\n        this._matrix.fromArray(v.elements);\r\n        this._matrixInvalid = false;\r\n    }\r\n\r\n    /**\r\n     * 本地旋转矩阵\r\n     */\r\n    get rotationMatrix()\r\n    {\r\n        if (this._rotationMatrixInvalid)\r\n        {\r\n            this._rotationMatrix.setRotation(this._rotation);\r\n            this._rotationMatrixInvalid = false;\r\n        }\r\n\r\n        return this._rotationMatrix;\r\n    }\r\n\r\n    moveForward(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.Z_AXIS, distance);\r\n    }\r\n\r\n    moveBackward(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.Z_AXIS, -distance);\r\n    }\r\n\r\n    moveLeft(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.X_AXIS, -distance);\r\n    }\r\n\r\n    moveRight(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.X_AXIS, distance);\r\n    }\r\n\r\n    moveUp(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.Y_AXIS, distance);\r\n    }\r\n\r\n    moveDown(distance: number)\r\n    {\r\n        this.translateLocal(Vector3.Y_AXIS, -distance);\r\n    }\r\n\r\n    translate(axis: Vector3, distance: number)\r\n    {\r\n        const x = axis.x; const y = axis.y; const\r\n            z = axis.z;\r\n        const len = distance / Math.sqrt(x * x + y * y + z * z);\r\n        this.x += x * len;\r\n        this.y += y * len;\r\n        this.z += z * len;\r\n    }\r\n\r\n    translateLocal(axis: Vector3, distance: number)\r\n    {\r\n        const x = axis.x; const y = axis.y; const\r\n            z = axis.z;\r\n        const len = distance / Math.sqrt(x * x + y * y + z * z);\r\n        const matrix = this.matrix.clone();\r\n        matrix.prependTranslation(x * len, y * len, z * len);\r\n        const p = matrix.getPosition();\r\n        this.x = p.x;\r\n        this.y = p.y;\r\n        this.z = p.z;\r\n        this._invalidateSceneTransform();\r\n    }\r\n\r\n    pitch(angle: number)\r\n    {\r\n        this.rotate(Vector3.X_AXIS, angle);\r\n    }\r\n\r\n    yaw(angle: number)\r\n    {\r\n        this.rotate(Vector3.Y_AXIS, angle);\r\n    }\r\n\r\n    roll(angle: number)\r\n    {\r\n        this.rotate(Vector3.Z_AXIS, angle);\r\n    }\r\n\r\n    rotateTo(ax: number, ay: number, az: number)\r\n    {\r\n        this._rotation.set(ax, ay, az);\r\n    }\r\n\r\n    /**\r\n     * 绕指定轴旋转，不受位移与缩放影响\r\n     * @param    axis               旋转轴\r\n     * @param    angle              旋转角度\r\n     * @param    pivotPoint         旋转中心点\r\n     *\r\n     */\r\n    rotate(axis: Vector3, angle: number, pivotPoint?: Vector3): void\r\n    {\r\n        // 转换位移\r\n        const positionMatrix = Matrix4x4.fromPosition(this.position.x, this.position.y, this.position.z);\r\n        positionMatrix.appendRotation(axis, angle, pivotPoint);\r\n        this.position = positionMatrix.getPosition();\r\n        // 转换旋转\r\n        const rotationMatrix = Matrix4x4.fromRotation(this.rx, this.ry, this.rz);\r\n        rotationMatrix.appendRotation(axis, angle, pivotPoint);\r\n        const newrotation = rotationMatrix.toTRS()[1];\r\n        const v = Math.round((newrotation.x - this.rx) / 180);\r\n        if (v % 2 !== 0)\r\n        {\r\n            newrotation.x += 180;\r\n            newrotation.y = 180 - newrotation.y;\r\n            newrotation.z += 180;\r\n        }\r\n        //\r\n        const toRound = (a: number, b: number, c = 360) =>\r\n            Math.round((b - a) / c) * c + a;\r\n        newrotation.x = toRound(newrotation.x, this.rx);\r\n        newrotation.y = toRound(newrotation.y, this.ry);\r\n        newrotation.z = toRound(newrotation.z, this.rz);\r\n        this.rotation = newrotation;\r\n        this._invalidateSceneTransform();\r\n    }\r\n\r\n    /**\r\n     * 看向目标位置\r\n     *\r\n     * @param target    目标位置\r\n     * @param upAxis    向上朝向\r\n     */\r\n    lookAt(target: Vector3, upAxis?: Vector3)\r\n    {\r\n        this._updateMatrix();\r\n        this._matrix.lookAt(target, upAxis);\r\n        this._matrix.toTRS(this._position, this._rotation, this._scale);\r\n        this._matrixInvalid = false;\r\n    }\r\n\r\n    /**\r\n     * 将一个点从局部空间变换到世界空间的矩阵。\r\n     */\r\n    get localToWorldMatrix()\r\n    {\r\n        if (this._localToWorldMatrixInvalid)\r\n        {\r\n            this._localToWorldMatrixInvalid = false;\r\n            this._updateLocalToWorldMatrix();\r\n        }\r\n\r\n        return this._localToWorldMatrix;\r\n    }\r\n\r\n    set localToWorldMatrix(value)\r\n    {\r\n        value = value.clone();\r\n        this.parent && value.append(this.parent.worldToLocalMatrix);\r\n        this.matrix = value;\r\n    }\r\n\r\n    /**\r\n     * 本地转世界逆转置矩阵\r\n     */\r\n    get ITlocalToWorldMatrix()\r\n    {\r\n        if (this._ITlocalToWorldMatrixInvalid)\r\n        {\r\n            this._ITlocalToWorldMatrixInvalid = false;\r\n            this._ITlocalToWorldMatrix.copy(this.localToWorldMatrix);\r\n            this._ITlocalToWorldMatrix.invert().transpose();\r\n        }\r\n\r\n        return this._ITlocalToWorldMatrix;\r\n    }\r\n\r\n    /**\r\n     * 将一个点从世界空间转换为局部空间的矩阵。\r\n     */\r\n    get worldToLocalMatrix()\r\n    {\r\n        if (this._worldToLocalMatrixInvalid)\r\n        {\r\n            this._worldToLocalMatrixInvalid = false;\r\n            this._worldToLocalMatrix.copy(this.localToWorldMatrix).invert();\r\n        }\r\n\r\n        return this._worldToLocalMatrix;\r\n    }\r\n\r\n    get localToWorldRotationMatrix()\r\n    {\r\n        if (this._localToWorldRotationMatrixInvalid)\r\n        {\r\n            this._localToWorldRotationMatrix.copy(this.rotationMatrix);\r\n            if (this.parent)\r\n            { this._localToWorldRotationMatrix.append(this.parent.localToWorldRotationMatrix); }\r\n\r\n            this._localToWorldRotationMatrixInvalid = false;\r\n        }\r\n\r\n        return this._localToWorldRotationMatrix;\r\n    }\r\n\r\n    get worldToLocalRotationMatrix()\r\n    {\r\n        const mat = this.localToWorldRotationMatrix.clone();\r\n        mat.invert();\r\n\r\n        return mat;\r\n    }\r\n\r\n    /**\r\n     * 将方向从局部空间转换到世界空间。\r\n     *\r\n     * @param direction 局部空间方向\r\n     */\r\n    transformDirection(direction: Vector3)\r\n    {\r\n        direction = this.localToWolrdDirection(direction);\r\n\r\n        return direction;\r\n    }\r\n\r\n    /**\r\n     * 将方向从局部空间转换到世界空间。\r\n     *\r\n     * @param direction 局部空间方向\r\n     */\r\n    localToWolrdDirection(direction: Vector3)\r\n    {\r\n        if (!this.parent)\r\n        { return direction.clone(); }\r\n        const matrix = this.parent.localToWorldRotationMatrix;\r\n        direction = matrix.transformPoint3(direction);\r\n\r\n        return direction;\r\n    }\r\n\r\n    /**\r\n     * 将包围盒从局部空间转换到世界空间\r\n     *\r\n     * @param box 变换前的包围盒\r\n     * @param out 变换之后的包围盒\r\n     *\r\n     * @returns 变换之后的包围盒\r\n     */\r\n    localToWolrdBox(box: Box3, out = new Box3())\r\n    {\r\n        if (!this.parent)\r\n        { return out.copy(box); }\r\n        const matrix = this.parent.localToWorldMatrix;\r\n        box.applyMatrixTo(matrix, out);\r\n\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * 将位置从局部空间转换为世界空间。\r\n     *\r\n     * @param position 局部空间位置\r\n     */\r\n    transformPoint(position: Vector3)\r\n    {\r\n        position = this.localToWorldPoint(position);\r\n\r\n        return position;\r\n    }\r\n\r\n    /**\r\n     * 将位置从局部空间转换为世界空间。\r\n     *\r\n     * @param position 局部空间位置\r\n     */\r\n    localToWorldPoint(position: Vector3)\r\n    {\r\n        if (!this.parent)\r\n        { return position.clone(); }\r\n        position = this.parent.localToWorldMatrix.transformPoint3(position);\r\n\r\n        return position;\r\n    }\r\n\r\n    /**\r\n     * 将向量从局部空间变换到世界空间。\r\n     *\r\n     * @param vector 局部空间向量\r\n     */\r\n    transformVector(vector: Vector3)\r\n    {\r\n        vector = this.localToWorldVector(vector);\r\n\r\n        return vector;\r\n    }\r\n\r\n    /**\r\n     * 将向量从局部空间变换到世界空间。\r\n     *\r\n     * @param vector 局部空间位置\r\n     */\r\n    localToWorldVector(vector: Vector3)\r\n    {\r\n        if (!this.parent)\r\n        { return vector.clone(); }\r\n        const matrix = this.parent.localToWorldMatrix;\r\n        vector = matrix.transformVector3(vector);\r\n\r\n        return vector;\r\n    }\r\n\r\n    /**\r\n     * Transforms a direction from world space to local space. The opposite of Transform.TransformDirection.\r\n     *\r\n     * 将一个方向从世界空间转换到局部空间。\r\n     */\r\n    inverseTransformDirection(direction: Vector3)\r\n    {\r\n        direction = this.worldToLocalDirection(direction);\r\n\r\n        return direction;\r\n    }\r\n\r\n    /**\r\n     * 将一个方向从世界空间转换到局部空间。\r\n     */\r\n    worldToLocalDirection(direction: Vector3)\r\n    {\r\n        if (!this.parent)\r\n        { return direction.clone(); }\r\n        const matrix = this.parent.localToWorldRotationMatrix.clone().invert();\r\n        direction = matrix.transformPoint3(direction);\r\n\r\n        return direction;\r\n    }\r\n\r\n    /**\r\n     * 将位置从世界空间转换为局部空间。\r\n     *\r\n     * @param position 世界坐标系中位置\r\n     */\r\n    worldToLocalPoint(position: Vector3, out = new Vector3())\r\n    {\r\n        if (!this.parent)\r\n        { return out.copy(position); }\r\n        position = this.parent.worldToLocalMatrix.transformPoint3(position, out);\r\n\r\n        return position;\r\n    }\r\n\r\n    /**\r\n     * 将向量从世界空间转换为局部空间\r\n     *\r\n     * @param vector 世界坐标系中向量\r\n     */\r\n    worldToLocalVector(vector: Vector3)\r\n    {\r\n        if (!this.parent)\r\n        { return vector.clone(); }\r\n        vector = this.parent.worldToLocalMatrix.transformVector3(vector);\r\n\r\n        return vector;\r\n    }\r\n\r\n    /**\r\n     * 将 Ray3 从世界空间转换为局部空间。\r\n     *\r\n     * @param worldRay 世界空间射线。\r\n     * @param localRay 局部空间射线。\r\n     */\r\n    rayWorldToLocal(worldRay: Ray3, localRay = new Ray3())\r\n    {\r\n        this.worldToLocalMatrix.transformRay(worldRay, localRay);\r\n\r\n        return localRay;\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        Object.assign(renderAtomic.uniforms, this._renderAtomic.uniforms);\r\n    }\r\n\r\n    private readonly _position = new Vector3();\r\n    private readonly _rotation = new Vector3();\r\n    private readonly _orientation = new Quaternion();\r\n    private readonly _scale = new Vector3(1, 1, 1);\r\n\r\n    protected readonly _matrix = new Matrix4x4();\r\n    protected _matrixInvalid = false;\r\n\r\n    protected readonly _rotationMatrix = new Matrix4x4();\r\n    protected _rotationMatrixInvalid = false;\r\n\r\n    protected readonly _localToWorldMatrix = new Matrix4x4();\r\n    protected _localToWorldMatrixInvalid = false;\r\n\r\n    protected readonly _ITlocalToWorldMatrix = new Matrix4x4();\r\n    protected _ITlocalToWorldMatrixInvalid = false;\r\n\r\n    protected readonly _worldToLocalMatrix = new Matrix4x4();\r\n    protected _worldToLocalMatrixInvalid = false;\r\n\r\n    protected readonly _localToWorldRotationMatrix = new Matrix4x4();\r\n    protected _localToWorldRotationMatrixInvalid = false;\r\n\r\n    private _renderAtomic = new RenderAtomic();\r\n\r\n    private _positionChanged(newValue: number, oldValue: number, _object: Vector3, _property: string)\r\n    {\r\n        if (!mathUtil.equals(newValue, oldValue))\r\n        { this._invalidateTransform(); }\r\n    }\r\n\r\n    private _rotationChanged(newValue: number, oldValue: number, _object: Vector3, _property: string)\r\n    {\r\n        if (!mathUtil.equals(newValue, oldValue))\r\n        {\r\n            this._invalidateTransform();\r\n            this._rotationMatrixInvalid = true;\r\n        }\r\n    }\r\n\r\n    private _scaleChanged(newValue: number, oldValue: number, _object: Vector3, _property: string)\r\n    {\r\n        if (!mathUtil.equals(newValue, oldValue))\r\n        { this._invalidateTransform(); }\r\n    }\r\n\r\n    private _invalidateTransform()\r\n    {\r\n        if (this._matrixInvalid) return;\r\n        this._matrixInvalid = true;\r\n\r\n        this.emit('transformChanged', this);\r\n        this._invalidateSceneTransform();\r\n    }\r\n\r\n    private _invalidateSceneTransform()\r\n    {\r\n        if (this._localToWorldMatrixInvalid) return;\r\n\r\n        this._localToWorldMatrixInvalid = true;\r\n        this._worldToLocalMatrixInvalid = true;\r\n        this._ITlocalToWorldMatrixInvalid = true;\r\n        this._localToWorldRotationMatrixInvalid = true;\r\n\r\n        this.emit('scenetransformChanged', this);\r\n        //\r\n        if (this.gameObject)\r\n        {\r\n            for (let i = 0, n = this.gameObject.numChildren; i < n; i++)\r\n            {\r\n                this.gameObject.getChildAt(i).transform._invalidateSceneTransform();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _updateMatrix()\r\n    {\r\n        this._matrix.fromTRS(this._position, this._rotation, this._scale);\r\n    }\r\n\r\n    private _updateLocalToWorldMatrix()\r\n    {\r\n        this._localToWorldMatrix.copy(this.matrix);\r\n        if (this.parent)\r\n        { this._localToWorldMatrix.append(this.parent.localToWorldMatrix); }\r\n        this.emit('updateLocalToWorldMatrix', this);\r\n        console.assert(!isNaN(this._localToWorldMatrix.elements[0]));\r\n    }\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { Constructor, gPartial, IDisposable } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { AssetType } from '../assets/AssetType';\r\nimport { Component, Components } from '../component/Component';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { BoundingBox } from './BoundingBox';\r\nimport { Feng3dObject, Feng3dObjectEventMap } from './Feng3dObject';\r\nimport { MouseEventMap } from './Mouse3DManager';\r\nimport { Renderable } from './Renderable';\r\nimport { ScriptComponent } from './ScriptComponent';\r\nimport { Transform } from './Transform';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsGameObjectEventMap { }\r\n    interface MixinsPrimitiveGameObject { }\r\n    interface MixinsGameObject { }\r\n}\r\n\r\nexport interface GameObjectEventMap extends MixinsGameObjectEventMap, MouseEventMap, Feng3dObjectEventMap\r\n{\r\n    /**\r\n     * 添加子组件事件\r\n     */\r\n    addComponent: { gameobject: GameObject, component: Component };\r\n\r\n    /**\r\n     * 移除子组件事件\r\n     */\r\n    removeComponent: { gameobject: GameObject, component: Component };\r\n\r\n    /**\r\n     * 添加了子对象，当child被添加到parent中时派发冒泡事件\r\n     */\r\n    addChild: { parent: GameObject, child: GameObject }\r\n    /**\r\n     * 删除了子对象，当child被parent移除时派发冒泡事件\r\n     */\r\n    removeChild: { parent: GameObject, child: GameObject };\r\n\r\n    /**\r\n     * 自身被添加到父对象中事件\r\n     */\r\n    added: { parent: GameObject };\r\n\r\n    /**\r\n     * 自身从父对象中移除事件\r\n     */\r\n    removed: { parent: GameObject };\r\n\r\n    /**\r\n     * 当GameObject的scene属性被设置是由Scene派发\r\n     */\r\n    addedToScene: GameObject;\r\n\r\n    /**\r\n     * 当GameObject的scene属性被清空时由Scene派发\r\n     */\r\n    removedFromScene: GameObject;\r\n\r\n    /**\r\n     * 包围盒失效\r\n     */\r\n    boundsInvalid: Geometry;\r\n\r\n    /**\r\n     * 刷新界面\r\n     */\r\n    refreshView: any;\r\n}\r\n\r\nexport interface GameObject extends MixinsGameObject { }\r\n\r\n/**\r\n * 游戏对象，场景唯一存在的对象类型\r\n */\r\nexport class GameObject extends Feng3dObject<GameObjectEventMap> implements IDisposable\r\n{\r\n    __class__: 'feng3d.GameObject';\r\n\r\n    assetType = AssetType.gameobject;\r\n\r\n    /**\r\n     * 名称\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVGameObjectName' })\r\n    declare name: string;\r\n\r\n    /**\r\n     * The local active state of this GameObject.\r\n     *\r\n     * This returns the local active state of this GameObject. Note that a GameObject may be inactive because a parent is not active, even if this returns true. This state will then be used once all parents are active. Use GameObject.activeInHierarchy if you want to check if the GameObject is actually treated as active in the Scene.\r\n     */\r\n    @serialize\r\n    get activeSelf()\r\n    {\r\n        return this._activeSelf;\r\n    }\r\n    set activeSelf(v)\r\n    {\r\n        if (this._activeSelf === v) return;\r\n        this._activeSelf = v;\r\n        this._invalidateActiveInHierarchy();\r\n    }\r\n    private _activeSelf = true;\r\n\r\n    /**\r\n     * Defines whether the GameObject is active in the Scene.\r\n     *\r\n     * This lets you know whether a GameObject is active in the game. That is the case if its GameObject.activeSelf property is enabled, as well as that of all its parents.\r\n     */\r\n    get activeInHierarchy()\r\n    {\r\n        if (this._activeInHierarchyInvalid)\r\n        {\r\n            this._updateActiveInHierarchy();\r\n            this._activeInHierarchyInvalid = false;\r\n        }\r\n\r\n        return this._activeInHierarchy;\r\n    }\r\n\r\n    /**\r\n     * The tag of this game object.\r\n     */\r\n    @serialize\r\n    tag: string;\r\n\r\n    /**\r\n     * 自身以及子对象是否支持鼠标拾取\r\n     */\r\n    @serialize\r\n    mouseEnabled = true;\r\n\r\n    /**\r\n     * 组件列表\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVComponentList' })\r\n    get components()\r\n    {\r\n        return this._components.concat();\r\n    }\r\n\r\n    set components(value)\r\n    {\r\n        if (!value) return;\r\n        for (let i = 0, n = value.length; i < n; i++)\r\n        {\r\n            const component = value[i];\r\n            if (!component) continue;\r\n            if (component.single) this.removeComponentsByType(<any>component.constructor);\r\n            this.addComponentAt(value[i], this.numComponents);\r\n        }\r\n    }\r\n    protected _components: Components[] = [];\r\n\r\n    /**\r\n     * 子组件个数\r\n     */\r\n    get numComponents()\r\n    {\r\n        return this._components.length;\r\n    }\r\n\r\n    /**\r\n     * 预设资源编号\r\n     */\r\n    @serialize\r\n    prefabId: string;\r\n\r\n    /**\r\n     * 资源编号\r\n     */\r\n    @serialize\r\n    assetId: string;\r\n\r\n    // ------------------------------------------\r\n    // Variables\r\n    // ------------------------------------------\r\n\r\n    /**\r\n     * The Transform attached to this GameObject.\r\n     */\r\n    get transform()\r\n    {\r\n        const transform = this.getComponent(Transform);\r\n\r\n        return transform;\r\n    }\r\n\r\n    /**\r\n     * 轴对称包围盒\r\n     */\r\n    get boundingBox()\r\n    {\r\n        if (!this._boundingBox)\r\n        {\r\n            this._boundingBox = new BoundingBox(this);\r\n        }\r\n\r\n        return this._boundingBox;\r\n    }\r\n    private _boundingBox: BoundingBox;\r\n\r\n    get scene()\r\n    {\r\n        return this._scene;\r\n    }\r\n\r\n    protected _parent: GameObject;\r\n    protected _children: GameObject[] = [];\r\n\r\n    get parent()\r\n    {\r\n        return this._parent;\r\n    }\r\n\r\n    /**\r\n     * 子对象\r\n     */\r\n    @serialize\r\n    get children()\r\n    {\r\n        return this._children.concat();\r\n    }\r\n\r\n    set children(value)\r\n    {\r\n        if (!value) return;\r\n        for (let i = this._children.length - 1; i >= 0; i--)\r\n        {\r\n            this.removeChildAt(i);\r\n        }\r\n        for (let i = 0; i < value.length; i++)\r\n        {\r\n            this.addChild(value[i]);\r\n        }\r\n    }\r\n\r\n    get numChildren()\r\n    {\r\n        return this._children.length;\r\n    }\r\n\r\n    // ------------------------------------------\r\n    // Functions\r\n    // ------------------------------------------\r\n    /**\r\n     * 构建3D对象\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n        this.name = 'GameObject';\r\n        this.addComponent(Transform);\r\n    }\r\n\r\n    /**\r\n     * Activates/Deactivates the GameObject, depending on the given true or false value.\r\n     *\r\n     * A GameObject may be inactive because a parent is not active. In that case, calling SetActive will not activate it, but only set the local state of the GameObject, which you can check using GameObject.activeSelf. Unity can then use this state when all parents become active.\r\n     *\r\n     * @param value Activate or deactivate the object, where true activates the GameObject and false deactivates the GameObject.\r\n     */\r\n    setActive(value: boolean)\r\n    {\r\n        this.activeSelf = value;\r\n    }\r\n\r\n    /**\r\n     * Adds a component class of type componentType to the game object.\r\n     *\r\n     * @param Type A component class of type.\r\n     * @returns The component that is added.\r\n     */\r\n    /**\r\n     * 添加一个类型为`type`的组件到游戏对象。\r\n     *\r\n     * @param Type 组件类定义。\r\n     * @returns 被添加的组件。\r\n     */\r\n    addComponent<T extends Component>(Type: Constructor<T>): T\r\n    {\r\n        let component = this.getComponent(Type);\r\n        if (component && Component.isSingleComponent(Type))\r\n        {\r\n            // alert(`The compnent ${param[\"name\"]} can't be added because ${this.name} already contains the same component.`);\r\n            return component;\r\n        }\r\n        const dependencies = Component.getDependencies(Type);\r\n        // 先添加依赖\r\n        dependencies.forEach((dependency) =>\r\n        {\r\n            this.addComponent(dependency);\r\n        });\r\n        //\r\n        component = new Type();\r\n        this.addComponentAt(component, this._components.length);\r\n\r\n        return component;\r\n    }\r\n\r\n    /**\r\n     * Returns the component of Type type if the game object has one attached, null if it doesn't.\r\n     *\r\n     * Using gameObject.GetComponent will return the first component that is found. If you expect there to be more than one component of the\r\n     * same type, use gameObject.GetComponents instead, and cycle through the returned components testing for some unique property.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @returns The component to retrieve.\r\n     */\r\n    /**\r\n     * 返回游戏对象附加的一个指定类型的组件，如果没有，则返回 null。\r\n     *\r\n     * 使用 gameObject.GetComponent 将返回找到的第一个组件。如果您希望有多个相同类型的组件，请改用 gameObject.GetComponents，并循环通过返回的组件测试某些唯一属性。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @returns 要检索的组件。\r\n     */\r\n    getComponent<T extends Component>(type: Constructor<T>): T\r\n    {\r\n        for (let i = 0; i < this._components.length; i++)\r\n        {\r\n            if (this._components[i] instanceof type)\r\n            {\r\n                return this._components[i] as T;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Returns the component of Type type in the GameObject or any of its children using depth first search.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @returns A component of the matching type, if found.\r\n     */\r\n    /**\r\n     * 使用深度优先搜索返回 GameObject 或其任何子项中的 Type 组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 是否包含不活跃组件。\r\n     * @returns 匹配类型的组件（如果找到）。\r\n     */\r\n    getComponentInChildren<T extends Component>(type: Constructor<T>, includeInactive = false): T\r\n    {\r\n        const component = this.getComponent(type);\r\n        if (component)\r\n        {\r\n            return component;\r\n        }\r\n\r\n        for (let i = 0; i < this.numChildren; i++)\r\n        {\r\n            const gameObject = this.children[i];\r\n            if (!includeInactive && !gameObject.activeSelf) continue;\r\n            const compnent = gameObject.getComponentInChildren(type, includeInactive);\r\n            if (compnent)\r\n            {\r\n                return compnent;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Retrieves the component of Type type in the GameObject or any of its parents.\r\n     *\r\n     * This method recurses upwards until it finds a GameObject with a matching component. Only components on active GameObjects are matched.\r\n     *\r\n     * @param type Type of component to find.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @returns Returns a component if a component matching the type is found. Returns null otherwise.\r\n     */\r\n    /**\r\n     * 检索GameObject或其任何父项type中的 Type 组件。\r\n     *\r\n     * 此方法向上递归，直到找到具有匹配组件的 GameObject。仅匹配活动游戏对象上的组件。\r\n     *\r\n     * @param type 要查找的组件类型。\r\n     * @param includeInactive 是否包含不活跃组件。\r\n     * @returns 如果找到与类型匹配的组件，则返回一个组件。否则返回 null。\r\n     */\r\n    getComponentInParent<T extends Component>(type: Constructor<T>, includeInactive = false): T\r\n    {\r\n        if (includeInactive || this.activeSelf)\r\n        {\r\n            const component = this.getComponent(type);\r\n            if (component)\r\n            {\r\n                return component;\r\n            }\r\n        }\r\n\r\n        if (this.parent)\r\n        {\r\n            const component = this.parent.getComponentInParent(type, includeInactive);\r\n            if (component)\r\n            {\r\n                return component;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type `type` in the GameObject.\r\n     *\r\n     * @param type The type of component to retrieve.\r\n     * @param results List to receive the results.\r\n     * @returns all components of Type type in the GameObject.\r\n     */\r\n    /**\r\n     * 返回GameObject中指定类型的所有组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param results 列出接收找到的组件。\r\n     * @returns GameObject中指定类型的所有组件。\r\n     */\r\n    getComponents<T extends Component = Component>(type?: Constructor<T>, results: T[] = []): T[]\r\n    {\r\n        for (let i = 0; i < this._components.length; i++)\r\n        {\r\n            const component = this._components[i];\r\n            if (!type || component instanceof type)\r\n            {\r\n                results.push(component as any);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type type in the GameObject or any of its children children using depth first search. Works recursively.\r\n     *\r\n     * Unity searches for components recursively on child GameObjects. This means that it also includes all the child GameObjects of the target GameObject, and all subsequent child GameObjects.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should Components on inactive GameObjects be included in the found set?\r\n     * @param results List to receive found Components.\r\n     * @returns All found Components.\r\n     */\r\n    /**\r\n     * 使用深度优先搜索返回 GameObject 或其任何子子项中 Type 的所有组件。递归工作。\r\n     *\r\n     * Unity 在子游戏对象上递归搜索组件。这意味着它还包括目标 GameObject 的所有子 GameObject，以及所有后续子 GameObject。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 非活动游戏对象上的组件是否应该包含在搜索结果中？\r\n     * @param results 列出接收找到的组件。\r\n     * @returns 所有找到的组件。\r\n     */\r\n    getComponentsInChildren<T extends Component>(type?: Constructor<T>, includeInactive = false, results: T[] = []): T[]\r\n    {\r\n        this.getComponents(type, results);\r\n\r\n        for (let i = 0; i < this.children.length; i++)\r\n        {\r\n            const gameObject = this.children[i];\r\n            if (!includeInactive && !gameObject.activeSelf) continue;\r\n            gameObject.getComponentsInChildren(type, includeInactive, results);\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * Returns all components of Type type in the GameObject or any of its parents.\r\n     *\r\n     * @param type The type of Component to retrieve.\r\n     * @param includeInactive Should inactive Components be included in the found set?\r\n     * @param results List holding the found Components.\r\n     * @returns All components of Type type in the GameObject or any of its parents.\r\n     */\r\n    /**\r\n     * 返回GameObject或其任何父级中指定的所有组件。\r\n     *\r\n     * @param type 要检索的组件类型。\r\n     * @param includeInactive 非活动组件是否应该包含在搜索结果中？\r\n     * @param results 列出找到的组件。\r\n     * @returns GameObject或其任何父级中指定的所有组件。\r\n     */\r\n    getComponentsInParent<T extends Component>(type?: Constructor<T>, includeInactive = false, results: T[] = []): T[]\r\n    {\r\n        if (includeInactive || this.activeSelf)\r\n        {\r\n            this.getComponents(type, results);\r\n        }\r\n\r\n        if (this.parent)\r\n        {\r\n            this.parent.getComponentsInParent(type, includeInactive, results);\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * 获取指定位置索引的子组件\r\n     * @param index\t\t\t位置索引\r\n     * @return\t\t\t\t子组件\r\n     */\r\n    getComponentAt(index: number): Component\r\n    {\r\n        console.assert(index < this.numComponents, '给出索引超出范围');\r\n\r\n        return this._components[index];\r\n    }\r\n\r\n    /**\r\n     * 设置子组件的位置\r\n     * @param component\t\t\t\t子组件\r\n     * @param index\t\t\t\t位置索引\r\n     */\r\n    setComponentIndex(component: Components, index: number): void\r\n    {\r\n        console.assert(index >= 0 && index < this.numComponents, '给出索引超出范围');\r\n\r\n        const oldIndex = this._components.indexOf(component);\r\n        console.assert(oldIndex >= 0 && oldIndex < this.numComponents, '子组件不在容器内');\r\n\r\n        this._components.splice(oldIndex, 1);\r\n        this._components.splice(index, 0, component);\r\n    }\r\n\r\n    /**\r\n     * 设置组件到指定位置\r\n     * @param component\t\t被设置的组件\r\n     * @param index\t\t\t索引\r\n     */\r\n    setComponentAt(component: Components, index: number)\r\n    {\r\n        if (this._components[index])\r\n        {\r\n            this.removeComponentAt(index);\r\n        }\r\n        this.addComponentAt(component, index);\r\n    }\r\n\r\n    /**\r\n     * 移除组件\r\n     * @param component 被移除组件\r\n     */\r\n    removeComponent(component: Components): void\r\n    {\r\n        console.assert(this.hasComponent(component), '只能移除在容器中的组件');\r\n\r\n        const index = this.getComponentIndex(component);\r\n        this.removeComponentAt(index);\r\n    }\r\n\r\n    /**\r\n     * 获取组件在容器的索引位置\r\n     * @param component\t\t\t查询的组件\r\n     * @return\t\t\t\t    组件在容器的索引位置\r\n     */\r\n    getComponentIndex(component: Components): number\r\n    {\r\n        console.assert(this._components.indexOf(component) !== -1, '组件不在容器中');\r\n\r\n        const index = this._components.indexOf(component);\r\n\r\n        return index;\r\n    }\r\n\r\n    /**\r\n     * 移除组件\r\n     * @param index\t\t要删除的 Component 的子索引。\r\n     */\r\n    removeComponentAt(index: number): Component\r\n    {\r\n        console.assert(index >= 0 && index < this.numComponents, '给出索引超出范围');\r\n\r\n        const component: Component = this._components.splice(index, 1)[0];\r\n        // 派发移除组件事件\r\n        this.emit('removeComponent', { component, gameobject: this as any }, true);\r\n        component.dispose();\r\n\r\n        return component;\r\n    }\r\n\r\n    /**\r\n     * 交换子组件位置\r\n     * @param index1\t\t第一个子组件的索引位置\r\n     * @param index2\t\t第二个子组件的索引位置\r\n     */\r\n    swapComponentsAt(index1: number, index2: number): void\r\n    {\r\n        console.assert(index1 >= 0 && index1 < this.numComponents, '第一个子组件的索引位置超出范围');\r\n        console.assert(index2 >= 0 && index2 < this.numComponents, '第二个子组件的索引位置超出范围');\r\n\r\n        const temp: Components = this._components[index1];\r\n        this._components[index1] = this._components[index2];\r\n        this._components[index2] = temp;\r\n    }\r\n\r\n    /**\r\n     * 交换子组件位置\r\n     * @param a\t\t第一个子组件\r\n     * @param b\t\t第二个子组件\r\n     */\r\n    swapComponents(a: Components, b: Components): void\r\n    {\r\n        console.assert(this.hasComponent(a), '第一个子组件不在容器中');\r\n        console.assert(this.hasComponent(b), '第二个子组件不在容器中');\r\n\r\n        this.swapComponentsAt(this.getComponentIndex(a), this.getComponentIndex(b));\r\n    }\r\n\r\n    /**\r\n     * 移除指定类型组件\r\n     * @param type 组件类型\r\n     */\r\n    removeComponentsByType<T extends Components>(type: Constructor<T>)\r\n    {\r\n        const removeComponents: T[] = [];\r\n        for (let i = this._components.length - 1; i >= 0; i--)\r\n        {\r\n            if (this._components[i].constructor === type)\r\n            { removeComponents.push(this.removeComponentAt(i) as T); }\r\n        }\r\n\r\n        return removeComponents;\r\n    }\r\n\r\n    /**\r\n     * 判断是否拥有组件\r\n     * @param com\t被检测的组件\r\n     * @return\t\ttrue：拥有该组件；false：不拥有该组件。\r\n     */\r\n    private hasComponent(com: Components): boolean\r\n    {\r\n        return this._components.indexOf(com) !== -1;\r\n    }\r\n\r\n    /**\r\n     * 添加组件到指定位置\r\n     * @param component\t\t被添加的组件\r\n     * @param index\t\t\t插入的位置\r\n     */\r\n    protected addComponentAt(component: Components, index: number): void\r\n    {\r\n        if (!component)\r\n        { return; }\r\n        console.assert(index >= 0 && index <= this.numComponents, '给出索引超出范围');\r\n\r\n        if (this.hasComponent(component))\r\n        {\r\n            index = Math.min(index, this._components.length - 1);\r\n            this.setComponentIndex(component, index);\r\n\r\n            return;\r\n        }\r\n        // 组件唯一时移除同类型的组件\r\n        if (component.single)\r\n        { this.removeComponentsByType(<Constructor<Components>>component.constructor); }\r\n\r\n        this._components.splice(index, 0, component);\r\n        component.setGameObject(this as any);\r\n        component.init();\r\n        // 派发添加组件事件\r\n        this.emit('addComponent', { component, gameobject: this as any }, true);\r\n    }\r\n\r\n    /**\r\n     * 根据名称查找对象\r\n     *\r\n     * @param name 对象名称\r\n     */\r\n    find(name: string): GameObject\r\n    {\r\n        if (this.name === name)\r\n        { return this; }\r\n        for (let i = 0; i < this._children.length; i++)\r\n        {\r\n            const target = this._children[i].find(name);\r\n            if (target)\r\n            { return target; }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 添加脚本\r\n     * @param script   脚本路径\r\n     */\r\n    addScript(scriptName: string)\r\n    {\r\n        const scriptComponent = new ScriptComponent();\r\n        scriptComponent.scriptName = scriptName;\r\n        this.addComponentAt(scriptComponent, this._components.length);\r\n\r\n        return scriptComponent;\r\n    }\r\n\r\n    /**\r\n     * 是否包含指定对象\r\n     *\r\n     * @param child 可能的子孙对象\r\n     */\r\n    contains(child: GameObject)\r\n    {\r\n        let checkitem = child;\r\n        do\r\n        {\r\n            if (checkitem === this)\r\n            { return true; }\r\n            checkitem = checkitem.parent;\r\n        } while (checkitem);\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 添加子对象\r\n     *\r\n     * @param child 子对象\r\n     */\r\n    addChild(child: GameObject)\r\n    {\r\n        if (!child)\r\n        { return; }\r\n        if (child.parent === this)\r\n        {\r\n            // 把子对象移动到最后\r\n            const childIndex = this._children.indexOf(child);\r\n            if (childIndex !== -1) this._children.splice(childIndex, 1);\r\n            this._children.push(child);\r\n        }\r\n        else\r\n        {\r\n            if (child.contains(this))\r\n            {\r\n                console.error('无法添加到自身中!');\r\n\r\n                return;\r\n            }\r\n            if (child._parent) child._parent.removeChild(child);\r\n            child._setParent(this);\r\n            this._children.push(child);\r\n            child.emit('added', { parent: this });\r\n            this.emit('addChild', { child, parent: this }, true);\r\n        }\r\n\r\n        return child;\r\n    }\r\n\r\n    /**\r\n     * 添加子对象\r\n     *\r\n     * @param childarray 子对象\r\n     */\r\n    addChildren(...childarray: GameObject[])\r\n    {\r\n        for (const childKey in childarray)\r\n        {\r\n            const child: GameObject = childarray[childKey];\r\n            this.addChild(child);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移除自身\r\n     */\r\n    remove()\r\n    {\r\n        if (this.parent) this.parent.removeChild(this);\r\n    }\r\n\r\n    /**\r\n     * 移除所有子对象\r\n     */\r\n    removeChildren()\r\n    {\r\n        for (let i = this.numChildren - 1; i >= 0; i--)\r\n        {\r\n            this.removeChildAt(i);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移除子对象\r\n     *\r\n     * @param child 子对象\r\n     */\r\n    removeChild(child: GameObject)\r\n    {\r\n        if (!child) return;\r\n        const childIndex = this._children.indexOf(child);\r\n        if (childIndex !== -1) this.removeChildInternal(childIndex, child);\r\n    }\r\n\r\n    /**\r\n     * 删除指定位置的子对象\r\n     *\r\n     * @param index 需要删除子对象的所有\r\n     */\r\n    removeChildAt(index: number)\r\n    {\r\n        const child = this._children[index];\r\n\r\n        return this.removeChildInternal(index, child);\r\n    }\r\n\r\n    /**\r\n     * 获取指定位置的子对象\r\n     *\r\n     * @param index\r\n     */\r\n    getChildAt(index: number)\r\n    {\r\n        return this._children[index];\r\n    }\r\n\r\n    /**\r\n     * 获取子对象列表（备份）\r\n     */\r\n    getChildren()\r\n    {\r\n        return this._children.concat();\r\n    }\r\n\r\n    private removeChildInternal(childIndex: number, child: GameObject)\r\n    {\r\n        this._children.splice(childIndex, 1);\r\n        child._setParent(null);\r\n\r\n        child.emit('removed', { parent: this as any });\r\n        this.emit('removeChild', { child, parent: this as any }, true);\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        if (this.parent)\r\n        { this.parent.removeChild(this); }\r\n        for (let i = this._children.length - 1; i >= 0; i--)\r\n        {\r\n            this.removeChildAt(i);\r\n        }\r\n        for (let i = this._components.length - 1; i >= 0; i--)\r\n        {\r\n            this.removeComponentAt(i);\r\n        }\r\n        super.dispose();\r\n    }\r\n\r\n    disposeWithChildren()\r\n    {\r\n        this.dispose();\r\n        while (this.numChildren > 0)\r\n        { this.getChildAt(0).dispose(); }\r\n    }\r\n\r\n    /**\r\n     * 是否加载完成\r\n     */\r\n    get isSelfLoaded()\r\n    {\r\n        const model = this.getComponent(Renderable);\r\n        if (model) return model.isLoaded;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onSelfLoadCompleted(callback: () => void)\r\n    {\r\n        if (this.isSelfLoaded)\r\n        {\r\n            callback();\r\n\r\n            return;\r\n        }\r\n        const model = this.getComponent(Renderable);\r\n        if (model)\r\n        {\r\n            model.onLoadCompleted(callback);\r\n        }\r\n        else callback();\r\n    }\r\n\r\n    /**\r\n     * 是否加载完成\r\n     */\r\n    get isLoaded()\r\n    {\r\n        if (!this.isSelfLoaded) return false;\r\n        for (let i = 0; i < this.children.length; i++)\r\n        {\r\n            const element = this.children[i];\r\n            if (!element.isLoaded) return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 已加载完成或者加载完成时立即调用\r\n     * @param callback 完成回调\r\n     */\r\n    onLoadCompleted(callback: () => void)\r\n    {\r\n        let loadingNum = 0;\r\n        if (!this.isSelfLoaded)\r\n        {\r\n            loadingNum++;\r\n            this.onSelfLoadCompleted(() =>\r\n            {\r\n                loadingNum--;\r\n                if (loadingNum === 0) callback();\r\n            });\r\n        }\r\n        for (let i = 0; i < this.children.length; i++)\r\n        {\r\n            const element = this.children[i];\r\n            if (!element.isLoaded)\r\n            {\r\n                loadingNum++;\r\n                // eslint-disable-next-line no-loop-func\r\n                element.onLoadCompleted(() =>\r\n                {\r\n                    loadingNum--;\r\n                    if (loadingNum === 0) callback();\r\n                });\r\n            }\r\n        }\r\n        if (loadingNum === 0) callback();\r\n    }\r\n\r\n    /**\r\n     * 查找指定名称的游戏对象\r\n     *\r\n     * @param name\r\n     */\r\n    static find(name: string)\r\n    {\r\n        const gameobjects = Feng3dObject.getObjects(GameObject);\r\n        const result = gameobjects.filter((v) => !v.disposed && (v.name === name));\r\n\r\n        return result[0];\r\n    }\r\n\r\n    protected _scene: Scene;\r\n    protected _activeInHierarchy = false;\r\n    protected _activeInHierarchyInvalid = true;\r\n\r\n    protected _updateActiveInHierarchy()\r\n    {\r\n        let activeSelf = this.activeSelf;\r\n        if (this.parent)\r\n        {\r\n            activeSelf = activeSelf && this.parent.activeInHierarchy;\r\n        }\r\n        this._activeInHierarchy = activeSelf;\r\n    }\r\n\r\n    protected _invalidateActiveInHierarchy()\r\n    {\r\n        if (this._activeInHierarchyInvalid) return;\r\n\r\n        this._activeInHierarchyInvalid = true;\r\n\r\n        this._children.forEach((c) =>\r\n        {\r\n            c._invalidateActiveInHierarchy();\r\n        });\r\n    }\r\n\r\n    protected _setParent(value: GameObject | null)\r\n    {\r\n        this._parent = value;\r\n        this.updateScene();\r\n        this.transform['_invalidateSceneTransform']();\r\n    }\r\n\r\n    private updateScene()\r\n    {\r\n        const newScene = this._parent ? this._parent._scene : null;\r\n        if (this._scene === newScene)\r\n        { return; }\r\n        if (this._scene)\r\n        {\r\n            this.emit('removedFromScene', this);\r\n        }\r\n        this._scene = newScene;\r\n        if (this._scene)\r\n        {\r\n            this.emit('addedToScene', this);\r\n        }\r\n        this.updateChildrenScene();\r\n    }\r\n\r\n    private updateChildrenScene()\r\n    {\r\n        for (let i = 0, n = this._children.length; i < n; i++)\r\n        {\r\n            this._children[i].updateScene();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 把事件分享到每个组件上。\r\n     */\r\n    getShareTargets()\r\n    {\r\n        return this.components;\r\n    }\r\n\r\n    /**\r\n     * 创建指定类型的游戏对象。\r\n     *\r\n     * @param type 游戏对象类型。\r\n     * @param param 游戏对象参数。\r\n     */\r\n    static createPrimitive<K extends keyof PrimitiveGameObject>(type: K, param?: gPartial<GameObject>)\r\n    {\r\n        const g = new GameObject();\r\n        g.name = type;\r\n\r\n        const createHandler = this._registerPrimitives[type];\r\n        if (createHandler) createHandler(g);\r\n\r\n        serialization.setValue(g, param);\r\n\r\n        return g;\r\n    }\r\n\r\n    /**\r\n     * 注册原始游戏对象，被注册后可以使用 GameObject.createPrimitive 进行创建。\r\n     *\r\n     * @param type 原始游戏对象类型。\r\n     * @param handler 构建原始游戏对象的函数。\r\n     */\r\n    static registerPrimitive<K extends keyof PrimitiveGameObject>(type: K, handler: (gameObject: GameObject) => void)\r\n    {\r\n        if (this._registerPrimitives[type])\r\n        { console.warn(`重复注册原始游戏对象 ${type} ！`); }\r\n        this._registerPrimitives[type] = handler;\r\n    }\r\n    static _registerPrimitives: { [type: string]: (gameObject: GameObject) => void } = {};\r\n}\r\n\r\n/**\r\n * 原始游戏对象，可以通过GameObject.createPrimitive进行创建。\r\n */\r\nexport interface PrimitiveGameObject extends MixinsPrimitiveGameObject\r\n{\r\n}\r\n\r\n// 在 Hierarchy 界面右键创建游戏\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Create Empty',\r\n        click: () =>\r\n            new GameObject()\r\n    },\r\n);\r\n","import { Matrix4x4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Component, RegisterComponent } from '../../component/Component';\r\nimport { GameObject } from '../../core/GameObject';\r\nimport { HideFlags } from '../../core/HideFlags';\r\nimport { Transform } from '../../core/Transform';\r\nimport { SkeletonJoint } from './Skeleton';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        SkeletonComponent: SkeletonComponent;\r\n    }\r\n}\r\n\r\n@RegisterComponent()\r\nexport class SkeletonComponent extends Component\r\n{\r\n    __class__: 'feng3d.SkeletonComponent';\r\n\r\n    /** 骨骼关节数据列表 */\r\n    @serialize\r\n    @oav()\r\n    joints: SkeletonJoint[] = [];\r\n\r\n    /**\r\n     * 当前骨骼姿势的全局矩阵\r\n     * @see #globalPose\r\n     */\r\n    get globalMatrices(): Matrix4x4[]\r\n    {\r\n        if (!this.isInitJoints)\r\n        {\r\n            this.initSkeleton();\r\n            this.isInitJoints = true;\r\n        }\r\n\r\n        if (this._globalPropertiesInvalid)\r\n        {\r\n            this.updateGlobalProperties();\r\n            this._globalPropertiesInvalid = false;\r\n        }\r\n\r\n        return this._globalMatrices;\r\n    }\r\n\r\n    //\r\n    private isInitJoints = false;\r\n    private jointGameobjects: Transform[];\r\n    private jointGameObjectMap: { [jointname: string]: Transform };\r\n    private _globalPropertiesInvalid: boolean;\r\n    private _jointsInvalid: boolean[];\r\n    private _globalMatrixsInvalid: boolean[];\r\n    private globalMatrixs: Matrix4x4[];\r\n    private _globalMatrices: Matrix4x4[];\r\n\r\n    initSkeleton()\r\n    {\r\n        this.jointGameobjects = [];\r\n        this.jointGameObjectMap = {};\r\n        //\r\n        this.createSkeletonGameObject();\r\n\r\n        //\r\n        this._globalPropertiesInvalid = true;\r\n        this._jointsInvalid = [];\r\n        this._globalMatrixsInvalid = [];\r\n        this.globalMatrixs = [];\r\n        this._globalMatrices = [];\r\n        //\r\n        const jointNum = this.joints.length;\r\n        for (let i = 0; i < jointNum; i++)\r\n        {\r\n            this._jointsInvalid[i] = true;\r\n            this._globalMatrixsInvalid[i] = true;\r\n            this.globalMatrixs[i] = new Matrix4x4();\r\n            this._globalMatrices[i] = new Matrix4x4();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新骨骼全局变换矩阵\r\n     */\r\n    private updateGlobalProperties()\r\n    {\r\n        // 姿势变换矩阵\r\n        const joints: SkeletonJoint[] = this.joints;\r\n        const jointGameobjects = this.jointGameobjects;\r\n        const globalMatrixs = this.globalMatrixs;\r\n        const _globalMatrixsInvalid = this._globalMatrixsInvalid;\r\n        // 遍历每个关节\r\n        for (let i = 0; i < joints.length; ++i)\r\n        {\r\n            if (!this._jointsInvalid[i])\r\n            { continue; }\r\n\r\n            this._globalMatrices[i]\r\n                .copy(globalMatrix(i))\r\n                .prepend(joints[i].invertMatrix);\r\n\r\n            this._jointsInvalid[i] = false;\r\n        }\r\n\r\n        function globalMatrix(index: number)\r\n        {\r\n            if (!_globalMatrixsInvalid[index])\r\n            { return globalMatrixs[index]; }\r\n\r\n            const jointPose = joints[index];\r\n\r\n            const jointGameobject = jointGameobjects[index];\r\n            globalMatrixs[index] = jointGameobject.transform.matrix.clone();\r\n            if (jointPose.parentIndex >= 0)\r\n            {\r\n                const parentGlobalMatrix = globalMatrix(jointPose.parentIndex);\r\n                globalMatrixs[index].append(parentGlobalMatrix);\r\n            }\r\n\r\n            _globalMatrixsInvalid[index] = false;\r\n\r\n            return globalMatrixs[index];\r\n        }\r\n    }\r\n\r\n    private invalidjoint(jointIndex: number)\r\n    {\r\n        this._globalPropertiesInvalid = true;\r\n        this._jointsInvalid[jointIndex] = true;\r\n        this._globalMatrixsInvalid[jointIndex] = true;\r\n\r\n        this.joints[jointIndex].children.forEach((element) =>\r\n        {\r\n            this.invalidjoint(element);\r\n        });\r\n    }\r\n\r\n    private createSkeletonGameObject()\r\n    {\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const skeleton = this;\r\n\r\n        const joints = skeleton.joints;\r\n        const jointGameobjects = this.jointGameobjects;\r\n        const jointGameObjectMap = this.jointGameObjectMap;\r\n\r\n        for (let i = 0; i < joints.length; i++)\r\n        {\r\n            createJoint(i);\r\n        }\r\n\r\n        function createJoint(i: number)\r\n        {\r\n            if (jointGameobjects[i])\r\n            { return jointGameobjects[i].gameObject; }\r\n\r\n            const skeletonJoint = joints[i];\r\n            let parentGameobject: GameObject;\r\n            if (skeletonJoint.parentIndex !== -1)\r\n            {\r\n                parentGameobject = createJoint(skeletonJoint.parentIndex);\r\n                joints[skeletonJoint.parentIndex].children.push(i);\r\n            }\r\n            else\r\n            {\r\n                parentGameobject = skeleton.gameObject;\r\n            }\r\n\r\n            let jointGameobject = parentGameobject.find(skeletonJoint.name);\r\n            if (!jointGameobject)\r\n            {\r\n                jointGameobject = serialization.setValue(new GameObject(), { name: skeletonJoint.name, hideFlags: HideFlags.DontSave });\r\n                parentGameobject.addChild(jointGameobject);\r\n            }\r\n\r\n            const transform = jointGameobject.transform;\r\n\r\n            let matrix = skeletonJoint.matrix;\r\n            if (skeletonJoint.parentIndex !== -1)\r\n            {\r\n                matrix = matrix.clone().append(joints[skeletonJoint.parentIndex].invertMatrix);\r\n            }\r\n            transform.matrix = matrix;\r\n\r\n            transform.on('transformChanged', () =>\r\n            {\r\n                skeleton.invalidjoint(i);\r\n            });\r\n\r\n            jointGameobjects[i] = transform;\r\n            jointGameObjectMap[skeletonJoint.name] = transform;\r\n\r\n            return jointGameobject;\r\n        }\r\n    }\r\n}\r\n","import { Matrix4x4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Camera } from '../../cameras/Camera';\r\nimport { RegisterComponent } from '../../component/Component';\r\nimport { GameObject } from '../../core/GameObject';\r\nimport { HideFlags } from '../../core/HideFlags';\r\nimport { Renderable } from '../../core/Renderable';\r\nimport { Scene } from '../../scene/Scene';\r\nimport { SkeletonComponent } from './SkeletonComponent';\r\nimport { Animation } from '../../animation/Animation';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        SkinnedMeshRenderer: SkinnedMeshRenderer\r\n    }\r\n}\r\n\r\n@RegisterComponent()\r\nexport class SkinnedMeshRenderer extends Renderable\r\n{\r\n    __class__: 'feng3d.SkinnedMeshRenderer';\r\n\r\n    get single() { return true; }\r\n\r\n    @serialize\r\n    @oav()\r\n    skinSkeleton: SkinSkeleton;\r\n\r\n    @serialize\r\n    initMatrix: Matrix4x4;\r\n\r\n    /**\r\n     * 创建一个骨骼动画类\r\n     */\r\n    init()\r\n    {\r\n        super.init();\r\n        this.hideFlags = HideFlags.DontTransform;\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        let frameId: string = null;\r\n        const animation = this.getComponentsInParent(Animation)[0];\r\n        if (animation)\r\n        {\r\n            frameId = `${animation.clipName}&${animation.frame}`;\r\n        }\r\n\r\n        renderAtomic.uniforms.u_modelMatrix = () => this.u_modelMatrix;\r\n        renderAtomic.uniforms.u_ITModelMatrix = () => this.u_ITModelMatrix;\r\n        //\r\n        let skeletonGlobalMatriices = this.cacheU_skeletonGlobalMatriices[frameId];\r\n        // if (!skeletonGlobalMatriices)\r\n        // eslint-disable-next-line no-lone-blocks\r\n        {\r\n            skeletonGlobalMatriices = this.u_skeletonGlobalMatriices;\r\n            if (frameId) this.cacheU_skeletonGlobalMatriices[frameId] = skeletonGlobalMatriices;\r\n        }\r\n        renderAtomic.uniforms.u_skeletonGlobalMatriices = skeletonGlobalMatriices;\r\n\r\n        renderAtomic.shaderMacro.HAS_SKELETON_ANIMATION = true;\r\n        renderAtomic.shaderMacro.NUM_SKELETONJOINT = this.skinSkeleton.joints.length;\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        this.cacheSkeletonComponent = null;\r\n        super.dispose();\r\n    }\r\n\r\n    /**\r\n     * 缓存，通过寻找父结点获得\r\n     */\r\n    private cacheSkeletonComponent: SkeletonComponent;\r\n\r\n    private cacheU_skeletonGlobalMatriices: { [id: string]: Matrix4x4[] } = {};\r\n\r\n    private get u_modelMatrix()\r\n    {\r\n        if (this.cacheSkeletonComponent)\r\n        { return this.cacheSkeletonComponent.transform.localToWorldMatrix; }\r\n\r\n        return this.transform.localToWorldMatrix;\r\n    }\r\n\r\n    private get u_ITModelMatrix()\r\n    {\r\n        if (this.cacheSkeletonComponent)\r\n        { return this.cacheSkeletonComponent.transform.ITlocalToWorldMatrix; }\r\n\r\n        return this.transform.ITlocalToWorldMatrix;\r\n    }\r\n\r\n    private get u_skeletonGlobalMatriices()\r\n    {\r\n        if (!this.cacheSkeletonComponent)\r\n        {\r\n            let gameObject: GameObject = this.gameObject;\r\n            let skeletonComponent: SkeletonComponent = null;\r\n            while (gameObject && !skeletonComponent)\r\n            {\r\n                skeletonComponent = gameObject.getComponent(SkeletonComponent);\r\n                gameObject = gameObject.parent;\r\n            }\r\n            this.cacheSkeletonComponent = skeletonComponent;\r\n        }\r\n        let skeletonGlobalMatriices: Matrix4x4[] = [];\r\n        if (this.skinSkeleton && this.cacheSkeletonComponent)\r\n        {\r\n            const joints = this.skinSkeleton.joints;\r\n            const globalMatrices = this.cacheSkeletonComponent.globalMatrices;\r\n            for (let i = joints.length - 1; i >= 0; i--)\r\n            {\r\n                skeletonGlobalMatriices[i] = globalMatrices[joints[i][0]].clone();\r\n                if (this.initMatrix)\r\n                {\r\n                    skeletonGlobalMatriices[i].prepend(this.initMatrix);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            skeletonGlobalMatriices = defaultSkeletonGlobalMatriices;\r\n        }\r\n\r\n        return skeletonGlobalMatriices;\r\n    }\r\n}\r\n\r\nconst defaultSkeletonGlobalMatriices: Matrix4x4[] = (() =>\r\n{\r\n    const v = [new Matrix4x4()]; let i = 150; while (i-- > 1) v.push(v[0]);\r\n\r\n    return v;\r\n})();\r\n\r\nexport class SkinSkeleton\r\n{\r\n    /**\r\n     * [在整个骨架中的编号，骨骼名称]\r\n     */\r\n    @serialize\r\n    joints: [number, string][] = [];\r\n    /**\r\n     * 当前模型包含骨骼数量\r\n     */\r\n    @serialize\r\n    numJoint = 0;\r\n}\r\n\r\nexport class SkinSkeletonTemp extends SkinSkeleton\r\n{\r\n    /**\r\n     * temp 解析时临时数据\r\n     */\r\n    cache_map: { [oldjointid: number]: number } = {};\r\n\r\n    resetJointIndices(jointIndices: number[], skeleton: SkeletonComponent)\r\n    {\r\n        const len = jointIndices.length;\r\n        for (let i = 0; i < len; i++)\r\n        {\r\n            if (this.cache_map[jointIndices[i]] === undefined)\r\n            { this.cache_map[jointIndices[i]] = this.numJoint++; }\r\n            jointIndices[i] = this.cache_map[jointIndices[i]];\r\n        }\r\n\r\n        this.joints.length = 0;\r\n        for (const key in this.cache_map)\r\n        {\r\n            if (this.cache_map.hasOwnProperty(key))\r\n            {\r\n                this.joints[this.cache_map[key]] = [parseInt(key, 10), skeleton.joints[key].name];\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { ReadWriteFS } from '@feng3d/filesystem';\r\nimport { gPartial } from '@feng3d/polyfill';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { AssetData } from '../../core/AssetData';\r\nimport { ticker } from '../../utils/Ticker';\r\nimport { FileAsset } from '../FileAsset';\r\nimport { FolderAsset } from '../FolderAsset';\r\nimport { ReadRS } from './ReadRS';\r\n\r\nexport interface ReadWriteRS\r\n{\r\n    get fs(): ReadWriteFS;\r\n}\r\n\r\n/**\r\n * 可读写资源系统\r\n */\r\nexport class ReadWriteRS extends ReadRS\r\n{\r\n    /**\r\n     * 延迟保存执行函数\r\n     */\r\n    private laterSaveFunc = (_interval: number) => { this.save(); };\r\n    /**\r\n     * 延迟保存，避免多次操作时频繁调用保存\r\n     */\r\n    private laterSave = () => { ticker.nextframe(this.laterSaveFunc, this); };\r\n\r\n    /**\r\n     * 构建可读写资源系统\r\n     *\r\n     * @param fs 可读写文件系统\r\n     */\r\n    constructor(fs?: ReadWriteFS)\r\n    {\r\n        super(fs);\r\n    }\r\n\r\n    /**\r\n     * 在更改资源结构（新增，移动，删除）时会自动保存\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    private save(callback?: (err: Error) => void)\r\n    {\r\n        const allAssets = this.getAllAssets();\r\n        const object = serialization.serialize(allAssets);\r\n        this.fs.writeObject(this.resources, object, callback);\r\n    }\r\n\r\n    /**\r\n     * 新建资源\r\n     *\r\n     * @param cls 资源类定义\r\n     * @param fileName 文件名称\r\n     * @param value 初始数据\r\n     * @param parent 所在文件夹，如果值为null时默认添加到根文件夹中\r\n     * @param callback 完成回调函数\r\n     */\r\n    createAsset<T extends FileAsset>(cls: new () => T, fileName?: string, value?: gPartial<T>, parent?: FolderAsset, callback?: (err: Error, asset: T) => void)\r\n    {\r\n        // 新建资源\r\n        super.createAsset(cls, fileName, value, parent, (err, asset) =>\r\n        {\r\n            if (asset)\r\n            {\r\n                // 保存资源\r\n                this.writeAsset(asset, (err) =>\r\n                {\r\n                    callback && callback(err, asset);\r\n\r\n                    // 保存资源库\r\n                    this.laterSave();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                callback && callback(err, null);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写（保存）资源\r\n     *\r\n     * @param asset 资源对象\r\n     * @param callback 完成回调\r\n     */\r\n    writeAsset(asset: FileAsset, callback?: (err: Error) => void)\r\n    {\r\n        asset.write(callback);\r\n    }\r\n\r\n    /**\r\n     * 移动资源到指定文件夹\r\n     *\r\n     * @param asset 被移动资源\r\n     * @param folder 目标文件夹\r\n     * @param callback 完成回调\r\n     */\r\n    moveAsset(asset: FileAsset, folder: FolderAsset, callback?: (err: Error) => void)\r\n    {\r\n        const filename = asset.fileName + asset.extenson;\r\n\r\n        const cnames = folder.childrenAssets.map((v) => v.fileName + v.extenson);\r\n        if (cnames.indexOf(filename) !== -1)\r\n        {\r\n            callback && callback(new Error(`目标文件夹中存在同名文件（夹），无法移动`));\r\n\r\n            return;\r\n        }\r\n        let fp = folder;\r\n        while (fp)\r\n        {\r\n            if (fp === <any>asset)\r\n            {\r\n                callback && callback(new Error(`无法移动达到子文件夹中`));\r\n\r\n                return;\r\n            }\r\n            fp = fp.parentAsset;\r\n        }\r\n\r\n        // 获取需要移动的资源列表\r\n        let assets = [asset];\r\n        let index = 0;\r\n        while (index < assets.length)\r\n        {\r\n            const ca = assets[index];\r\n            if (ca instanceof FolderAsset)\r\n            {\r\n                assets = assets.concat(ca.childrenAssets);\r\n            }\r\n            index++;\r\n        }\r\n\r\n        // 最后根据 parentAsset 修复 childrenAssets\r\n        // const copyassets = assets.concat();\r\n\r\n        // 移动最后一个资源\r\n        const moveLastAsset = () =>\r\n        {\r\n            if (assets.length === 0)\r\n            {\r\n                callback && callback(null);\r\n                // 保存资源库\r\n                this.laterSave();\r\n\r\n                return;\r\n            }\r\n            const la = assets.pop();\r\n            // 读取资源\r\n            this.readAsset(la.assetId, (err, _a) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    callback && callback(err);\r\n\r\n                    return;\r\n                }\r\n                // 从原路径上删除资源\r\n                this.deleteAsset(la, (err) =>\r\n                {\r\n                    if (err)\r\n                    {\r\n                        callback && callback(err);\r\n\r\n                        return;\r\n                    }\r\n                    // 计算资源新路径\r\n                    let np = la.fileName + la.extenson;\r\n                    let p = la.parentAsset;\r\n                    while (p)\r\n                    {\r\n                        np = `${p.fileName}/${np}`;\r\n                        p = p.parentAsset;\r\n                    }\r\n                    la.assetPath = np;\r\n                    // 新增映射\r\n                    this.addAsset(la);\r\n                    // 保存资源到新路径\r\n                    this.writeAsset(la, (err) =>\r\n                    {\r\n                        if (err)\r\n                        {\r\n                            callback && callback(err);\r\n\r\n                            return;\r\n                        }\r\n                        moveLastAsset();\r\n                    });\r\n                });\r\n            });\r\n        };\r\n        moveLastAsset();\r\n    }\r\n\r\n    /**\r\n     * 删除资源\r\n     *\r\n     * @param asset 资源\r\n     * @param callback 完成回调\r\n     */\r\n    deleteAsset(asset: FileAsset, callback?: (err: Error) => void)\r\n    {\r\n        // 获取需要移动的资源列表\r\n        let assets = [asset];\r\n        let index = 0;\r\n        while (index < assets.length)\r\n        {\r\n            const ca = assets[index];\r\n            if (ca instanceof FolderAsset)\r\n            {\r\n                assets = assets.concat(ca.childrenAssets);\r\n            }\r\n            index++;\r\n        }\r\n\r\n        // 删除最后一个资源\r\n        const deleteLastAsset = () =>\r\n        {\r\n            if (assets.length === 0)\r\n            {\r\n                callback && callback(null);\r\n                // 保存资源库\r\n                this.laterSave();\r\n\r\n                return;\r\n            }\r\n            const la = assets.pop();\r\n\r\n            la.delete(() =>\r\n            {\r\n                AssetData.deleteAssetData(la.data);\r\n                deleteLastAsset();\r\n            });\r\n        };\r\n        deleteLastAsset();\r\n    }\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\n\r\nexport let audioCtx: AudioContext;\r\nexport let globalGain: GainNode;\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        AudioListener: AudioListener;\r\n    }\r\n}\r\n/**\r\n * 声音监听器\r\n */\r\n@AddComponentMenu('Audio/AudioListener')\r\n@RegisterComponent()\r\nexport class AudioListener extends Behaviour\r\n{\r\n    gain: GainNode;\r\n\r\n    @watch('_enabledChanged')\r\n    enabled = true;\r\n\r\n    /**\r\n     * 音量\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '音量' })\r\n    get volume()\r\n    {\r\n        return this._volume;\r\n    }\r\n    set volume(v)\r\n    {\r\n        this._volume = v;\r\n        this.gain.gain.setTargetAtTime(v, audioCtx.currentTime, 0.01);\r\n    }\r\n    private _volume = 1;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.gain = audioCtx.createGain();\r\n        this.gain.connect(audioCtx.destination);\r\n        this._enabledChanged();\r\n    }\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        this.on('scenetransformChanged', this._onScenetransformChanged, this);\r\n        this._onScenetransformChanged();\r\n    }\r\n\r\n    private _onScenetransformChanged()\r\n    {\r\n        const localToWorldMatrix = this.transform.localToWorldMatrix;\r\n        const position = localToWorldMatrix.getPosition();\r\n        const forward = localToWorldMatrix.getAxisZ();\r\n        const up = localToWorldMatrix.getAxisY();\r\n        //\r\n        const listener = audioCtx.listener;\r\n        // feng3d中为左手坐标系，listener中使用的为右手坐标系，参考https://developer.mozilla.org/en-US/docs/Web/API/AudioListener\r\n        if (listener.forwardX)\r\n        {\r\n            listener.positionX.setValueAtTime(position.x, audioCtx.currentTime);\r\n            listener.positionY.setValueAtTime(position.y, audioCtx.currentTime);\r\n            listener.positionZ.setValueAtTime(-position.z, audioCtx.currentTime);\r\n            listener.forwardX.setValueAtTime(forward.x, audioCtx.currentTime);\r\n            listener.forwardY.setValueAtTime(forward.y, audioCtx.currentTime);\r\n            listener.forwardZ.setValueAtTime(-forward.z, audioCtx.currentTime);\r\n            listener.upX.setValueAtTime(up.x, audioCtx.currentTime);\r\n            listener.upY.setValueAtTime(up.y, audioCtx.currentTime);\r\n            listener.upZ.setValueAtTime(-up.z, audioCtx.currentTime);\r\n        }\r\n        else\r\n        {\r\n            listener.setOrientation(forward.x, forward.y, -forward.z, up.x, up.y, -up.z);\r\n            listener.setPosition(position.x, position.y, -position.z);\r\n        }\r\n    }\r\n\r\n    private _enabledChanged()\r\n    {\r\n        if (!this.gain) return;\r\n        if (this.enabled)\r\n        {\r\n            globalGain.connect(this.gain);\r\n        }\r\n        else\r\n        {\r\n            globalGain.disconnect(this.gain);\r\n        }\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.off('scenetransformChanged', this._onScenetransformChanged, this);\r\n        super.dispose();\r\n    }\r\n}\r\n\r\n(() =>\r\n{\r\n    if (typeof window === 'undefined') return;\r\n\r\n    window['AudioContext'] = window['AudioContext'] || window['webkitAudioContext'];\r\n\r\n    audioCtx = new AudioContext();\r\n    globalGain = audioCtx.createGain();\r\n\r\n    // 新增无音Gain，避免没有AudioListener组件时暂停声音播放进度\r\n    const zeroGain = audioCtx.createGain();\r\n    zeroGain.connect(audioCtx.destination);\r\n    globalGain.connect(zeroGain);\r\n    zeroGain.gain.setTargetAtTime(0, audioCtx.currentTime, 0.01);\r\n    //\r\n    const listener = audioCtx.listener;\r\n    audioCtx.createGain();\r\n    if (listener.forwardX)\r\n    {\r\n        listener.forwardX.value = 0;\r\n        listener.forwardY.value = 0;\r\n        listener.forwardZ.value = -1;\r\n        listener.upX.value = 0;\r\n        listener.upY.value = 1;\r\n        listener.upZ.value = 0;\r\n    }\r\n    else\r\n    {\r\n        listener.setOrientation(0, 0, -1, 0, 1, 0);\r\n    }\r\n})();\r\n","import { FS } from '@feng3d/filesystem';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { audioCtx, globalGain } from './AudioListener';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        AudioSource: AudioSource;\r\n    }\r\n}\r\n\r\n/**\r\n * 音量与距离算法\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/PannerNode/distanceModel\r\n * @see https://mdn.github.io/webaudio-examples/panner-node/\r\n * @see https://github.com/mdn/webaudio-examples\r\n */\r\nexport enum DistanceModelType\r\n{\r\n    /**\r\n     * 1 - rolloffFactor * (distance - refDistance) / (maxDistance - refDistance)\r\n     */\r\n    linear = 'linear',\r\n    /**\r\n     * refDistance / (refDistance + rolloffFactor * (distance - refDistance))\r\n     */\r\n    inverse = 'inverse',\r\n    /**\r\n     * pow(distance / refDistance, -rolloffFactor)\r\n     */\r\n    exponential = 'exponential',\r\n}\r\n\r\n/**\r\n * 声源\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AudioContext\r\n */\r\n@AddComponentMenu('Audio/AudioSource')\r\n@RegisterComponent()\r\nexport class AudioSource extends Behaviour\r\n{\r\n    private panner: PannerNode;\r\n    private source: AudioBufferSourceNode;\r\n    private buffer: AudioBuffer;\r\n    private gain: GainNode;\r\n\r\n    @watch('_enabledChanged')\r\n    enabled = true;\r\n\r\n    /**\r\n     * 声音文件路径\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVPick', tooltip: '声音文件路径', componentParam: { accepttype: 'audio' } })\r\n    @watch('_onUrlChanged')\r\n    url = '';\r\n\r\n    /**\r\n     * 是否循环播放\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '是否循环播放' })\r\n    get loop()\r\n    {\r\n        return this._loop;\r\n    }\r\n    set loop(v)\r\n    {\r\n        this._loop = v;\r\n        if (this.source) this.source.loop = v;\r\n    }\r\n    private _loop = true;\r\n\r\n    /**\r\n     * 音量\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '音量' })\r\n    get volume()\r\n    {\r\n        return this._volume;\r\n    }\r\n    set volume(v)\r\n    {\r\n        this._volume = v;\r\n        this.gain.gain.setTargetAtTime(v, audioCtx.currentTime, 0.01);\r\n    }\r\n    private _volume: number;\r\n\r\n    /**\r\n     * 是否启用位置影响声音\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '是否启用位置影响声音' })\r\n    get enablePosition()\r\n    {\r\n        return this._enablePosition;\r\n    }\r\n    set enablePosition(v)\r\n    {\r\n        this._disconnect();\r\n        this._enablePosition = v;\r\n        this._connect();\r\n    }\r\n    private _enablePosition = true;\r\n\r\n    // @serialize\r\n    // @oav()\r\n    get coneInnerAngle()\r\n    {\r\n        return this._coneInnerAngle;\r\n    }\r\n    set coneInnerAngle(v)\r\n    {\r\n        this._coneInnerAngle = v;\r\n        this.panner.coneInnerAngle = v;\r\n    }\r\n    private _coneInnerAngle: number;\r\n\r\n    // @serialize\r\n    // @oav()\r\n    get coneOuterAngle()\r\n    {\r\n        return this._coneOuterAngle;\r\n    }\r\n    set coneOuterAngle(v)\r\n    {\r\n        this._coneOuterAngle = v;\r\n        this.panner.coneOuterAngle = v;\r\n    }\r\n    private _coneOuterAngle: number;\r\n\r\n    // @serialize\r\n    // @oav()\r\n    get coneOuterGain()\r\n    {\r\n        return this._coneOuterGain;\r\n    }\r\n    set coneOuterGain(v)\r\n    {\r\n        this._coneOuterGain = v;\r\n        this.panner.coneOuterGain = v;\r\n    }\r\n    private _coneOuterGain: number;\r\n\r\n    /**\r\n     * 该接口的distanceModel属性PannerNode是一个枚举值，用于确定在音频源离开收听者时用于减少音频源音量的算法。\r\n     *\r\n     * 可能的值是：\r\n     * * linear：根据以下公式计算由距离引起的增益的线性距离模型：\r\n     *      1 - rolloffFactor * (distance - refDistance) / (maxDistance - refDistance)\r\n     * * inverse：根据以下公式计算由距离引起的增益的反距离模型：\r\n     *      refDistance / (refDistance + rolloffFactor * (distance - refDistance))\r\n     * * exponential：按照下式计算由距离引起的增益的指数距离模型\r\n     *      pow(distance / refDistance, -rolloffFactor)。\r\n     *\r\n     * inverse是的默认值distanceModel。\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '距离模式，距离影响声音的方式', componentParam: { enumClass: DistanceModelType } })\r\n    get distanceModel()\r\n    {\r\n        return this._distanceModel;\r\n    }\r\n    set distanceModel(v)\r\n    {\r\n        this._distanceModel = v;\r\n        this.panner.distanceModel = v;\r\n    }\r\n    private _distanceModel: DistanceModelType;\r\n\r\n    /**\r\n     * 表示音频源和收听者之间的最大距离，之后音量不会再降低。该值仅由linear距离模型使用。默认值是10000。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '表示音频源和收听者之间的最大距离，之后音量不会再降低。该值仅由linear距离模型使用。默认值是10000。' })\r\n    get maxDistance()\r\n    {\r\n        return this._maxDistance;\r\n    }\r\n    set maxDistance(v)\r\n    {\r\n        this._maxDistance = v;\r\n        this.panner.maxDistance = v;\r\n    }\r\n    private _maxDistance: number;\r\n\r\n    // @serialize\r\n    // @oav()\r\n    get panningModel()\r\n    {\r\n        return this._panningModel;\r\n    }\r\n    set panningModel(v)\r\n    {\r\n        this._panningModel = v;\r\n        this.panner.panningModel = v;\r\n    }\r\n    private _panningModel: PanningModelType;\r\n\r\n    /**\r\n     * 表示随着音频源远离收听者而减小音量的参考距离。此值由所有距离模型使用。默认值是1。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '表示随着音频源远离收听者而减小音量的参考距离。此值由所有距离模型使用。默认值是1。' })\r\n    get refDistance()\r\n    {\r\n        return this._refDistance;\r\n    }\r\n    set refDistance(v)\r\n    {\r\n        this._refDistance = v;\r\n        this.panner.refDistance = v;\r\n    }\r\n    private _refDistance: number;\r\n\r\n    /**\r\n     * 描述了音源离开收听者音量降低的速度。此值由所有距离模型使用。默认值是1。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '描述了音源离开收听者音量降低的速度。此值由所有距离模型使用。默认值是1。' })\r\n    get rolloffFactor()\r\n    {\r\n        return this._rolloffFactor;\r\n    }\r\n    set rolloffFactor(v)\r\n    {\r\n        this._rolloffFactor = v;\r\n        this.panner.rolloffFactor = v;\r\n    }\r\n    private _rolloffFactor: number;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.panner = createPanner();\r\n        this.panningModel = 'HRTF';\r\n        this.distanceModel = DistanceModelType.inverse;\r\n        this.refDistance = 1;\r\n        this.maxDistance = 10000;\r\n        this.rolloffFactor = 1;\r\n        this.coneInnerAngle = 360;\r\n        this.coneOuterAngle = 0;\r\n        this.coneOuterGain = 0;\r\n        //\r\n        this.gain = audioCtx.createGain();\r\n        this.volume = 1;\r\n        //\r\n        this._enabledChanged();\r\n        this._connect();\r\n    }\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        this.on('scenetransformChanged', this._onScenetransformChanged, this);\r\n    }\r\n\r\n    @oav()\r\n    play()\r\n    {\r\n        this.stop();\r\n        if (this.buffer)\r\n        {\r\n            this.source = audioCtx.createBufferSource();\r\n            this.source.buffer = this.buffer;\r\n            this._connect();\r\n            this.source.loop = this.loop;\r\n            this.source.start(0);\r\n        }\r\n    }\r\n\r\n    @oav()\r\n    stop()\r\n    {\r\n        if (this.source)\r\n        {\r\n            this.source.stop(0);\r\n            this._disconnect();\r\n            this.source = null;\r\n        }\r\n    }\r\n\r\n    private _onScenetransformChanged()\r\n    {\r\n        const localToWorldMatrix = this.transform.localToWorldMatrix;\r\n        const scenePosition = localToWorldMatrix.getPosition();\r\n\r\n        //\r\n        const panner = this.panner;\r\n        // feng3d使用左手坐标系，panner使用右手坐标系，参考https://developer.mozilla.org/en-US/docs/Web/API/PannerNode\r\n        if (panner.orientationX)\r\n        {\r\n            panner.positionX.value = scenePosition.x;\r\n            panner.positionY.value = scenePosition.y;\r\n            panner.positionZ.value = -scenePosition.z;\r\n            panner.orientationX.value = 1;\r\n            panner.orientationY.value = 0;\r\n            panner.orientationZ.value = 0;\r\n        }\r\n        else\r\n        {\r\n            panner.setPosition(scenePosition.x, scenePosition.y, -scenePosition.z);\r\n            panner.setOrientation(1, 0, 0);\r\n        }\r\n    }\r\n\r\n    private _onUrlChanged()\r\n    {\r\n        this.stop();\r\n        if (this.url)\r\n        {\r\n            const url = this.url;\r\n            FS.fs.readArrayBuffer(this.url, (err, data) =>\r\n            {\r\n                if (err)\r\n                {\r\n                    console.warn(err);\r\n\r\n                    return;\r\n                }\r\n                if (url !== this.url)\r\n                { return; }\r\n                audioCtx.decodeAudioData(data, (buffer) =>\r\n                {\r\n                    this.buffer = buffer;\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    private _connect()\r\n    {\r\n        const arr = this._getAudioNodes();\r\n        for (let i = 0; i < arr.length - 1; i++)\r\n        {\r\n            arr[i + 1].connect(arr[i]);\r\n        }\r\n    }\r\n\r\n    private _disconnect()\r\n    {\r\n        const arr = this._getAudioNodes();\r\n        for (let i = 0; i < arr.length - 1; i++)\r\n        {\r\n            arr[i + 1].disconnect(arr[i]);\r\n        }\r\n    }\r\n\r\n    private _getAudioNodes()\r\n    {\r\n        const arr: AudioNode[] = [];\r\n        arr.push(this.gain);\r\n        if (this._enablePosition)\r\n        { arr.push(this.panner); }\r\n        if (this.source)\r\n        { arr.push(this.source); }\r\n\r\n        return arr;\r\n    }\r\n\r\n    private _enabledChanged()\r\n    {\r\n        if (!this.gain)\r\n        { return; }\r\n        if (this.enabled)\r\n        { this.gain.connect(globalGain); }\r\n        else\r\n        { this.gain.disconnect(globalGain); }\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.off('scenetransformChanged', this._onScenetransformChanged, this);\r\n        this._disconnect();\r\n        super.dispose();\r\n    }\r\n}\r\n\r\nfunction createPanner()\r\n{\r\n    const panner = this.panner = audioCtx.createPanner();\r\n\r\n    if (panner.orientationX)\r\n    {\r\n        panner.orientationX.value = 1;\r\n        panner.orientationY.value = 0;\r\n        panner.orientationZ.value = 0;\r\n    }\r\n    else\r\n    {\r\n        panner.setOrientation(1, 0, 0);\r\n    }\r\n\r\n    return panner;\r\n}\r\n","/**\r\n * 摄像机投影类型\r\n */\r\nexport enum Projection\r\n{\r\n    /**\r\n     * 透视投影\r\n     */\r\n    Perspective,\r\n    /**\r\n     * 正交投影\r\n     */\r\n    Orthographic,\r\n}\r\n","import { Matrix4x4, Ray3, Vector3, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Feng3dObject } from '../../core/Feng3dObject';\r\nimport { Projection } from '../Projection';\r\n\r\nexport interface LensEventMap\r\n{\r\n\tlensChanged: LensBase;\r\n}\r\n\r\n/**\r\n * 摄像机镜头\r\n *\r\n * 镜头主要作用是投影以及逆投影。\r\n * 投影指的是从摄像机空间可视区域内的坐标投影至GPU空间可视区域内的坐标。\r\n *\r\n * 摄像机可视区域：由近、远，上，下，左，右组成的四棱柱\r\n * GPU空间可视区域：立方体 [(-1, -1, -1), (1, 1, 1)]\r\n *\r\n */\r\nexport abstract class LensBase<T extends LensEventMap = LensEventMap> extends Feng3dObject<T>\r\n{\r\n\t/**\r\n\t * 摄像机投影类型\r\n\t */\r\n\tget projectionType()\r\n\t{\r\n\t\treturn this._projectionType;\r\n\t}\r\n\tprotected _projectionType: Projection;\r\n\r\n\t/**\r\n\t * 最近距离\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidate')\r\n\tnear: number;\r\n\r\n\t/**\r\n\t * 最远距离\r\n\t */\r\n\t@watch('invalidate')\r\n\t@serialize\r\n\t@oav()\r\n\tfar: number;\r\n\r\n\t/**\r\n\t * 视窗缩放比例(width/height)，在渲染器中设置\r\n\t */\r\n\t@watch('invalidate')\r\n\taspect: number;\r\n\r\n\t/**\r\n\t * 创建一个摄像机镜头\r\n\t */\r\n\tconstructor(aspectRatio = 1, near = 0.3, far = 1000)\r\n\t{\r\n\t\tsuper();\r\n\t\tthis.aspect = aspectRatio;\r\n\t\tthis.near = near;\r\n\t\tthis.far = far;\r\n\t}\r\n\r\n\t/**\r\n\t * 投影矩阵\r\n\t */\r\n\tget matrix(): Matrix4x4\r\n\t{\r\n\t\tif (this._matrixInvalid)\r\n\t\t{\r\n\t\t\tthis._updateMatrix();\r\n\t\t\tthis._matrixInvalid = false;\r\n\t\t}\r\n\r\nreturn this._matrix;\r\n\t}\r\n\r\n\t/**\r\n\t * 逆矩阵\r\n\t */\r\n\tget inverseMatrix(): Matrix4x4\r\n\t{\r\n\t\tif (this._invertMatrixInvalid)\r\n\t\t{\r\n\t\t\tthis._updateInverseMatrix();\r\n\t\t\tthis._invertMatrixInvalid = false;\r\n\t\t}\r\n\r\nreturn this._inverseMatrix;\r\n\t}\r\n\r\n\t/**\r\n\t * 摄像机空间坐标投影到GPU空间坐标\r\n\t * @param point3d 摄像机空间坐标\r\n\t * @param v GPU空间坐标\r\n\t * @return GPU空间坐标\r\n\t */\r\n\tproject(point3d: Vector3, v = new Vector3()): Vector3\r\n\t{\r\n\t\tconst v4 = this.matrix.transformVector4(Vector4.fromVector3(point3d, 1));\r\n\t\tv4.toVector3(v);\r\n\r\nreturn v;\r\n\t}\r\n\r\n\t/**\r\n\t * GPU空间坐标投影到摄像机空间坐标\r\n\t * @param point3d GPU空间坐标\r\n\t * @param v 摄像机空间坐标（输出）\r\n\t * @returns 摄像机空间坐标\r\n\t */\r\n\tunproject(point3d: Vector3, v = new Vector3())\r\n\t{\r\n\t\tconst v4 = this.inverseMatrix.transformVector4(Vector4.fromVector3(point3d, 1));\r\n\t\tv4.toVector3(v);\r\n\r\nreturn v;\r\n\t}\r\n\r\n\t/**\r\n\t * 逆投影求射线\r\n\t *\r\n\t * 通过GPU空间坐标x与y值求出摄像机空间坐标的射线\r\n\t *\r\n\t * @param x GPU空间坐标x值\r\n\t * @param y GPU空间坐标y值\r\n\t */\r\n\tunprojectRay(x: number, y: number, ray = new Ray3())\r\n\t{\r\n\t\tconst p0 = this.unproject(new Vector3(x, y, 0));\r\n\t\tconst p1 = this.unproject(new Vector3(x, y, 1));\r\n\t\t// 初始化射线\r\n\t\tray.fromPosAndDir(p0, p1.sub(p0));\r\n\t\t// 获取z==0的点\r\n\t\tconst sp = ray.getPointWithZ(0);\r\n\t\tray.origin = sp;\r\n\r\nreturn ray;\r\n\t}\r\n\r\n\t/**\r\n\t * 指定深度逆投影\r\n\t *\r\n\t * 获取投影在指定GPU坐标且摄像机前方（深度）sZ处的点的3D坐标\r\n\t *\r\n\t * @param nX GPU空间坐标X\r\n\t * @param nY GPU空间坐标Y\r\n\t * @param sZ 到摄像机的距离\r\n\t * @param v 摄像机空间坐标（输出）\r\n\t * @return 摄像机空间坐标\r\n\t */\r\n\tunprojectWithDepth(nX: number, nY: number, sZ: number, v = new Vector3())\r\n\t{\r\n\t\treturn this.unprojectRay(nX, nY).getPointWithZ(sZ, v);\r\n\t}\r\n\r\n\t//\r\n\tprivate _inverseMatrix = new Matrix4x4();\r\n\tprivate _invertMatrixInvalid = true;\r\n\t//\r\n\tprotected _matrix = new Matrix4x4();\r\n\tprivate _matrixInvalid = true;\r\n\r\n\t/**\r\n\t * 投影矩阵失效\r\n\t */\r\n\tprotected invalidate()\r\n\t{\r\n\t\tconsole.assert(!isNaN(this.aspect));\r\n\r\n\t\tthis._matrixInvalid = true;\r\n\t\tthis._invertMatrixInvalid = true;\r\n\t\tthis.emit('lensChanged', this);\r\n\t}\r\n\r\n\tprivate _updateInverseMatrix()\r\n\t{\r\n\t\tthis._inverseMatrix.copy(this.matrix);\r\n\t\tthis._inverseMatrix.invert();\r\n\t}\r\n\r\n\t/**\r\n\t * 更新投影矩阵\r\n\t */\r\n\tprotected abstract _updateMatrix(): void;\r\n\r\n\t/**\r\n\t * 克隆\r\n\t */\r\n\tabstract clone(): LensBase;\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Projection } from '../Projection';\r\nimport { LensBase } from './LensBase';\r\n\r\n/**\r\n * 正射投影镜头\r\n */\r\nexport class OrthographicLens extends LensBase\r\n{\r\n    /**\r\n     * 尺寸\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidate')\r\n    size: number;\r\n\r\n    /**\r\n     * 构建正射投影镜头\r\n     * @param size 尺寸\r\n     */\r\n    constructor(size = 1, aspect = 1, near = 0.3, far = 1000)\r\n    {\r\n        super(aspect, near, far);\r\n        this._projectionType = Projection.Orthographic;\r\n        this.size = size;\r\n    }\r\n\r\n    protected _updateMatrix()\r\n    {\r\n        this._matrix.setOrtho(-this.size, this.size, this.size, -this.size, this.near, this.far);\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return new OrthographicLens(this.size, this.aspect, this.near, this.far);\r\n    }\r\n}\r\n","import { Vector3, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Projection } from '../Projection';\r\nimport { LensBase } from './LensBase';\r\n\r\n/**\r\n * 透视摄像机镜头\r\n */\r\nexport class PerspectiveLens extends LensBase\r\n{\r\n    /**\r\n     * 垂直视角，视锥体顶面和底面间的夹角；单位为角度，取值范围 [1,179]\r\n     */\r\n    @watch('invalidate')\r\n    @serialize\r\n    @oav()\r\n    fov: number;\r\n\r\n    /**\r\n     * 创建一个透视摄像机镜头\r\n     * @param fov 垂直视角，视锥体顶面和底面间的夹角；单位为角度，取值范围 [1,179]\r\n     *\r\n     */\r\n    constructor(fov = 60, aspect = 1, near = 0.3, far = 1000)\r\n    {\r\n        super(aspect, near, far);\r\n        this._projectionType = Projection.Perspective;\r\n        this.fov = fov;\r\n    }\r\n\r\n    /**\r\n     * 焦距\r\n     */\r\n    get focalLength(): number\r\n    {\r\n        return 1 / Math.tan(this.fov * Math.PI / 360);\r\n    }\r\n\r\n    set focalLength(value: number)\r\n    {\r\n        this.fov = Math.atan(1 / value) * 360 / Math.PI;\r\n    }\r\n\r\n    /**\r\n     * 投影\r\n     *\r\n     * 摄像机空间坐标投影到GPU空间坐标\r\n     *\r\n     * @param point3d 摄像机空间坐标\r\n     * @param v GPU空间坐标\r\n     * @return GPU空间坐标\r\n     */\r\n    project(point3d: Vector3, v = new Vector3()): Vector3\r\n    {\r\n        const v4 = this.matrix.transformVector4(Vector4.fromVector3(point3d, 1));\r\n        // 透视投影结果中w!=1，需要标准化齐次坐标\r\n        v4.scale(1 / v4.w);\r\n        v4.toVector3(v);\r\n\r\nreturn v;\r\n    }\r\n\r\n    /**\r\n     * 逆投影\r\n     *\r\n     * GPU空间坐标投影到摄像机空间坐标\r\n     *\r\n     * @param point3d GPU空间坐标\r\n     * @param v 摄像机空间坐标（输出）\r\n     * @returns 摄像机空间坐标\r\n     */\r\n    unproject(point3d: Vector3, v = new Vector3())\r\n    {\r\n        // ！！该计算过程需要参考或者研究透视投影矩阵\r\n        // 初始化齐次坐标\r\n        const p4 = Vector4.fromVector3(point3d, 1);\r\n        // 逆投影求出深度值\r\n        const v4 = this.inverseMatrix.transformVector4(p4);\r\n        const sZ = 1 / v4.w;\r\n        // 齐次坐标乘以深度值获取真实的投影结果\r\n        const p44 = p4.scaleTo(sZ);\r\n        // 计算逆投影\r\n        const v44 = this.inverseMatrix.transformVector4(p44);\r\n        // 输出3维坐标\r\n        v44.toVector3(v);\r\n\r\nreturn v;\r\n    }\r\n\r\n    protected _updateMatrix()\r\n    {\r\n        this._matrix.setPerspectiveFromFOV(this.fov, this.aspect, this.near, this.far);\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return new PerspectiveLens(this.fov, this.aspect, this.near, this.far);\r\n    }\r\n}\r\n","import { Frustum, Matrix4x4, Ray3, Vector2, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Component, RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { LensBase } from './lenses/LensBase';\r\nimport { OrthographicLens } from './lenses/OrthographicLens';\r\nimport { PerspectiveLens } from './lenses/PerspectiveLens';\r\nimport { Projection } from './Projection';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        lensChanged;\r\n    }\r\n\r\n    export interface MixinsComponentMap\r\n    {\r\n        Camera: Camera;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Camera: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 摄像机\r\n */\r\n@AddComponentMenu('Rendering/Camera')\r\n@RegisterComponent()\r\nexport class Camera extends Component\r\n{\r\n    __class__: 'feng3d.Camera';\r\n\r\n    // /**\r\n    //  * How the camera clears the background.\r\n    //  *\r\n    //  * @todo\r\n    //  */\r\n    // @oav({ component: \"OAVEnum\", componentParam: { enumClass: CameraClearFlags }, tooltip: `What to display in empty areas of this Camera's view.\\n\\nChoose Skybox to display a skybox in empty areas, defaulting to a background color if no skybox is found.\\n\\nChoose Solid Color to display a background color in empty areas.\\n\\nChoose Depth Only to display nothing in empty areas.\\n\\nChoose Don't Clear to display whatever was displayed in the previous frame in empty areas.` })\r\n    // @serialize\r\n    // clearFlags = CameraClearFlags.Skybox;\r\n\r\n    get single() { return true; }\r\n\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: Projection } })\r\n    get projection()\r\n    {\r\n        return this.lens && this.lens.projectionType;\r\n    }\r\n    set projection(v)\r\n    {\r\n        const projectionType = this.projection;\r\n        if (projectionType === v) return;\r\n        //\r\n        let aspect = 1;\r\n        let near = 0.3;\r\n        let far = 1000;\r\n        if (this.lens)\r\n        {\r\n            aspect = this.lens.aspect;\r\n            near = this.lens.near;\r\n            far = this.lens.far;\r\n            serialization.setValue(this._backups, this.lens as any);\r\n        }\r\n        const fov = this._backups ? this._backups.fov : 60;\r\n        const size = this._backups ? this._backups.size : 1;\r\n        if (v === Projection.Perspective)\r\n        {\r\n            this.lens = new PerspectiveLens(fov, aspect, near, far);\r\n        }\r\n        else\r\n        {\r\n            this.lens = new OrthographicLens(size, aspect, near, far);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 镜头\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVObjectView' })\r\n    get lens()\r\n    {\r\n        return this._lens;\r\n    }\r\n    set lens(v)\r\n    {\r\n        if (this._lens === v) return;\r\n\r\n        if (this._lens)\r\n        {\r\n            this._lens.off('lensChanged', this.invalidateViewProjection, this);\r\n        }\r\n        this._lens = v;\r\n        if (this._lens)\r\n        {\r\n            this._lens.on('lensChanged', this.invalidateViewProjection, this);\r\n        }\r\n\r\n        this.invalidateViewProjection();\r\n\r\n        this.emit('refreshView');\r\n        this.emit('lensChanged');\r\n    }\r\n    private _lens: LensBase;\r\n\r\n    /**\r\n     * 场景投影矩阵，世界空间转投影空间\r\n     */\r\n    get viewProjection(): Matrix4x4\r\n    {\r\n        if (this._viewProjectionInvalid)\r\n        {\r\n            // 场景空间转摄像机空间\r\n            this._viewProjection.copy(this.transform.worldToLocalMatrix);\r\n            // +摄像机空间转投影空间 = 场景空间转投影空间\r\n            this._viewProjection.append(this.lens.matrix);\r\n            this._viewProjectionInvalid = false;\r\n        }\r\n\r\n        return this._viewProjection;\r\n    }\r\n\r\n    /**\r\n     * 获取摄像机的截头锥体\r\n     */\r\n    get frustum()\r\n    {\r\n        if (this._frustumInvalid)\r\n        {\r\n            this._frustum.fromMatrix(this.viewProjection);\r\n            this._frustumInvalid = false;\r\n        }\r\n\r\n        return this._frustum;\r\n    }\r\n\r\n    /**\r\n     * 创建一个摄像机\r\n     */\r\n    init()\r\n    {\r\n        super.init();\r\n        this.lens = this.lens || new PerspectiveLens();\r\n        //\r\n        this.on('scenetransformChanged', this.invalidateViewProjection, this);\r\n        this.invalidateViewProjection();\r\n    }\r\n\r\n    /**\r\n     * 获取与坐标重叠的射线\r\n     * @param x view3D上的X坐标\r\n     * @param y view3D上的X坐标\r\n     * @return\r\n     */\r\n    getRay3D(x: number, y: number, ray3D = new Ray3()): Ray3\r\n    {\r\n        return this.lens.unprojectRay(x, y, ray3D).applyMatri4x4(this.transform.localToWorldMatrix);\r\n    }\r\n\r\n    /**\r\n     * 投影坐标（世界坐标转换为3D视图坐标）\r\n     * @param point3d 世界坐标\r\n     * @return 屏幕的绝对坐标\r\n     */\r\n    project(point3d: Vector3): Vector3\r\n    {\r\n        const v: Vector3 = this.lens.project(this.transform.worldToLocalMatrix.transformPoint3(point3d));\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 屏幕坐标投影到场景坐标\r\n     * @param nX 屏幕坐标X ([0-width])\r\n     * @param nY 屏幕坐标Y ([0-height])\r\n     * @param sZ 到屏幕的距离\r\n     * @param v 场景坐标（输出）\r\n     * @return 场景坐标\r\n     */\r\n    unproject(sX: number, sY: number, sZ: number, v = new Vector3()): Vector3\r\n    {\r\n        return this.transform.localToWorldMatrix.transformPoint3(this.lens.unprojectWithDepth(sX, sY, sZ, v), v);\r\n    }\r\n\r\n    /**\r\n     * 获取摄像机能够在指定深度处的视野；镜头在指定深度的尺寸。\r\n     *\r\n     * @param   depth   深度\r\n     */\r\n    getScaleByDepth(depth: number, dir = new Vector2(0, 1))\r\n    {\r\n        const lt = this.unproject(-0.5 * dir.x, -0.5 * dir.y, depth);\r\n        const rb = this.unproject(+0.5 * dir.x, +0.5 * dir.y, depth);\r\n        const scale = lt.subTo(rb).length;\r\n\r\n        return scale;\r\n    }\r\n\r\n    /**\r\n     * 处理场景变换改变事件\r\n     */\r\n    protected invalidateViewProjection()\r\n    {\r\n        this._viewProjectionInvalid = true;\r\n        this._frustumInvalid = true;\r\n    }\r\n\r\n    //\r\n    private _viewProjection: Matrix4x4 = new Matrix4x4();\r\n    private _viewProjectionInvalid = true;\r\n    private _backups = { fov: 60, size: 1 };\r\n    private _frustum = new Frustum();\r\n    private _frustumInvalid = true;\r\n}\r\n\r\nGameObject.registerPrimitive('Camera', (g) =>\r\n{\r\n    g.addComponent(Camera);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Camera',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Camera')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { Component, RegisterComponent } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        BillboardComponent: BillboardComponent;\r\n    }\r\n}\r\n\r\n@AddComponentMenu('Layout/BillboardComponent')\r\n@RegisterComponent()\r\nexport class BillboardComponent extends Component\r\n{\r\n    __class__: 'feng3d.BillboardComponent';\r\n\r\n    /**\r\n     * 相机\r\n     */\r\n    @oav()\r\n    @watch('_onCameraChanged')\r\n    camera: Camera;\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        this.transform.on('updateLocalToWorldMatrix', this._onUpdateLocalToWorldMatrix, this);\r\n        this._invalidHoldSizeMatrix();\r\n    }\r\n\r\n    private _onCameraChanged(property: string, oldValue: Camera, value: Camera)\r\n    {\r\n        if (oldValue) oldValue.off('scenetransformChanged', this._invalidHoldSizeMatrix, this);\r\n        if (value) value.on('scenetransformChanged', this._invalidHoldSizeMatrix, this);\r\n        this._invalidHoldSizeMatrix();\r\n    }\r\n\r\n    private _invalidHoldSizeMatrix()\r\n    {\r\n        if (this._gameObject) this.transform['_invalidateSceneTransform']();\r\n    }\r\n\r\n    private _onUpdateLocalToWorldMatrix()\r\n    {\r\n        const _localToWorldMatrix = this.transform['_localToWorldMatrix'];\r\n        if (_localToWorldMatrix && this.camera)\r\n        {\r\n            const camera = this.camera;\r\n            const cameraPos = camera.transform.worldPosition;\r\n            const yAxis = camera.transform.localToWorldMatrix.getAxisY();\r\n            _localToWorldMatrix.lookAt(cameraPos, yAxis);\r\n        }\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.camera = null;\r\n        this.transform.off('updateLocalToWorldMatrix', this._onUpdateLocalToWorldMatrix, this);\r\n        super.dispose();\r\n    }\r\n}\r\n","import { Color4, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { Component, RegisterComponent } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        CartoonComponent: CartoonComponent;\r\n    }\r\n\r\n    export interface MixinsUniforms\r\n    {\r\n        u_diffuseSegment: Vector4;\r\n        u_diffuseSegmentValue: Vector4;\r\n\r\n        u_specularSegment: number;\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 参考\r\n */\r\n@AddComponentMenu('Rendering/CartoonComponent')\r\n@RegisterComponent()\r\nexport class CartoonComponent extends Component\r\n{\r\n    __class__: 'feng3d.CartoonComponent';\r\n\r\n    @oav()\r\n    @serialize\r\n    outlineSize = 1;\r\n\r\n    @oav()\r\n    @serialize\r\n    outlineColor = new Color4(0.2, 0.2, 0.2, 1.0);\r\n\r\n    @oav()\r\n    @serialize\r\n    outlineMorphFactor = 0.0;\r\n\r\n    /**\r\n     * 半兰伯特值diff，分段值 4个(0.0,1.0)\r\n     */\r\n    @oav()\r\n    @serialize\r\n    diffuseSegment = new Vector4(0.1, 0.3, 0.6, 1.0);\r\n    /**\r\n     * 半兰伯特值diff，替换分段值 4个(0.0,1.0)\r\n     */\r\n    @oav()\r\n    @serialize\r\n    diffuseSegmentValue = new Vector4(0.1, 0.3, 0.6, 1.0);\r\n\r\n    @oav()\r\n    @serialize\r\n    specularSegment = 0.5;\r\n\r\n    @oav()\r\n    @serialize\r\n    get cartoon_Anti_aliasing()\r\n    {\r\n        return this._cartoon_Anti_aliasing;\r\n    }\r\n    set cartoon_Anti_aliasing(value)\r\n    {\r\n        this._cartoon_Anti_aliasing = value;\r\n    }\r\n    _cartoon_Anti_aliasing = false;\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        renderAtomic.uniforms.u_diffuseSegment = this.diffuseSegment;\r\n        renderAtomic.uniforms.u_diffuseSegmentValue = this.diffuseSegmentValue;\r\n        renderAtomic.uniforms.u_specularSegment = this.specularSegment;\r\n        //\r\n        renderAtomic.uniforms.u_outlineSize = this.outlineSize;\r\n        renderAtomic.uniforms.u_outlineColor = this.outlineColor;\r\n        renderAtomic.uniforms.u_outlineMorphFactor = this.outlineMorphFactor;\r\n    }\r\n}\r\n","import { dataTransform } from '@feng3d/polyfill';\r\nimport { Component } from './Component';\r\n\r\n/**\r\n * Graphics 类包含一组可用来创建矢量形状的方法。\r\n */\r\nexport class Graphics extends Component\r\n{\r\n    __class__: 'feng3d.Graphics';\r\n\r\n    private image: HTMLImageElement;\r\n    private context2D: CanvasRenderingContext2D;\r\n    private canvas: HTMLCanvasElement;\r\n    private width: number;\r\n    private height: number;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.width = this.width;\r\n        this.canvas.height = this.height;\r\n        this.context2D = this.canvas.getContext('2d');\r\n\r\n        //\r\n        watchContext2D(this.context2D);\r\n    }\r\n\r\n    draw(width: number, height: number, callback: (context2D: CanvasRenderingContext2D) => void)\r\n    {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        const ctxt = canvas.getContext('2d');\r\n        callback(ctxt);\r\n        dataTransform.canvasToImage(canvas, 'png', 1, (img) =>\r\n        {\r\n            this.image = img;\r\n        });\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nexport function watchContext2D(context2D: CanvasRenderingContext2D, watchFuncs = ['rect'])\r\n{\r\n    watchFuncs.forEach((v) =>\r\n    {\r\n        const oldFunc = context2D[v];\r\n        context2D[v] = function (...args): void\r\n        {\r\n            oldFunc.apply(context2D, args);\r\n            // 标记更改\r\n            context2D['__changed'] = true;\r\n        };\r\n    });\r\n}\r\n\r\n// var ctxts = [];\r\n// var num = 100;\r\n// for (var i = 0; i < num; i++)\r\n// {\r\n//     var canvas = document.createElement(\"canvas\");\r\n//     canvas.width = 100;\r\n//     canvas.height = 100;\r\n//     var ctxt = canvas.getContext('2d');\r\n//     ctxts.push(ctxt);\r\n// }\r\n","import { oav } from '@feng3d/objectview';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { RegisterComponent, Component } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        HoldSizeComponent: HoldSizeComponent;\r\n    }\r\n}\r\n\r\n@AddComponentMenu('Layout/HoldSizeComponent')\r\n@RegisterComponent()\r\nexport class HoldSizeComponent extends Component\r\n{\r\n    __class__: 'feng3d.HoldSizeComponent';\r\n\r\n    /**\r\n     * 保持缩放尺寸\r\n     */\r\n    @oav()\r\n    @watch('_invalidateSceneTransform')\r\n    holdSize = 1;\r\n\r\n    /**\r\n     * 相机\r\n     */\r\n    @oav()\r\n    @watch('_onCameraChanged')\r\n    camera: Camera;\r\n\r\n    init()\r\n    {\r\n        this.transform.on('updateLocalToWorldMatrix', this._onUpdateLocalToWorldMatrix, this);\r\n    }\r\n\r\n    dispose()\r\n    {\r\n        this.camera = null;\r\n        this.transform.off('updateLocalToWorldMatrix', this._onUpdateLocalToWorldMatrix, this);\r\n        super.dispose();\r\n    }\r\n\r\n    private _onCameraChanged(property: string, oldValue: Camera, value: Camera)\r\n    {\r\n        if (oldValue) oldValue.off('scenetransformChanged', this._invalidateSceneTransform, this);\r\n        if (value) value.on('scenetransformChanged', this._invalidateSceneTransform, this);\r\n        this._invalidateSceneTransform();\r\n    }\r\n\r\n    private _invalidateSceneTransform()\r\n    {\r\n        if (this._gameObject) this.transform['_invalidateSceneTransform']();\r\n    }\r\n\r\n    private _onUpdateLocalToWorldMatrix()\r\n    {\r\n        const _localToWorldMatrix = this.transform['_localToWorldMatrix'];\r\n        if (this.holdSize && this.camera && _localToWorldMatrix)\r\n        {\r\n            const depthScale = this._getDepthScale(this.camera);\r\n            const vec = _localToWorldMatrix.toTRS();\r\n            vec[2].scaleNumber(depthScale * this.holdSize);\r\n            _localToWorldMatrix.fromTRS(vec[0], vec[1], vec[2]);\r\n\r\n            console.assert(!isNaN(_localToWorldMatrix.elements[0]));\r\n        }\r\n    }\r\n\r\n    private _getDepthScale(camera: Camera)\r\n    {\r\n        const cameraTranform = camera.transform.localToWorldMatrix;\r\n        const distance = this.transform.worldPosition.subTo(cameraTranform.getPosition());\r\n        if (distance.length === 0)\r\n        {\r\n            distance.x = 1;\r\n        }\r\n        const depth = distance.dot(cameraTranform.getAxisZ());\r\n        let scale = camera.getScaleByDepth(depth);\r\n        // 限制在放大缩小100倍之间，否则容易出现矩阵不可逆问题\r\n        scale = Math.max(Math.min(100, scale), 0.01);\r\n\r\n        return scale;\r\n    }\r\n}\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { RegisterComponent, Component } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        OutLineComponent: OutLineComponent;\r\n    }\r\n\r\n    export interface MixinsUniforms\r\n    {\r\n        /**\r\n         * 描边宽度\r\n         */\r\n        u_outlineSize: number;\r\n        /**\r\n         * 描边颜色\r\n         */\r\n        u_outlineColor: Color4;\r\n        /**\r\n         * 描边形态因子\r\n         * (0.0，1.0):0.0表示延法线方向，1.0表示延顶点方向\r\n         */\r\n        u_outlineMorphFactor: number;\r\n    }\r\n}\r\n\r\n@AddComponentMenu('Rendering/OutLineComponent')\r\n@RegisterComponent()\r\nexport class OutLineComponent extends Component\r\n{\r\n    __class__: 'feng3d.OutLineComponent';\r\n\r\n    @oav()\r\n    @serialize\r\n    size = 1;\r\n\r\n    @oav()\r\n    @serialize\r\n    color = new Color4(0.2, 0.2, 0.2, 1.0);\r\n\r\n    @oav()\r\n    @serialize\r\n    outlineMorphFactor = 0.0;\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        renderAtomic.uniforms.u_outlineSize = this.size;\r\n        renderAtomic.uniforms.u_outlineColor = this.color;\r\n        renderAtomic.uniforms.u_outlineMorphFactor = this.outlineMorphFactor;\r\n    }\r\n}\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RegisterComponent, Component } from './Component';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        WireframeComponent: WireframeComponent;\r\n    }\r\n}\r\n\r\n/**\r\n * 线框组件，将会对拥有该组件的对象绘制线框\r\n */\r\n@RegisterComponent()\r\nexport class WireframeComponent extends Component\r\n{\r\n    __class__: 'feng3d.WireframeComponent';\r\n\r\n    @oav()\r\n    color = new Color4(125 / 255, 176 / 255, 250 / 255);\r\n}\r\n","import { GameObject } from '../core/GameObject';\r\n\r\nexport class ControllerBase\r\n{\r\n    /**\r\n     * 控制对象\r\n     */\r\n    protected _targetObject: GameObject | undefined;\r\n\r\n    /**\r\n     * 控制器基类，用于动态调整3D对象的属性\r\n     */\r\n    constructor(targetObject?: GameObject)\r\n    {\r\n        this.targetObject = targetObject;\r\n    }\r\n\r\n    /**\r\n     * 手动应用更新到目标3D对象\r\n     */\r\n    update(_interpolate = true): void\r\n    {\r\n        throw new Error('Abstract method');\r\n    }\r\n\r\n    get targetObject()\r\n    {\r\n        return this._targetObject;\r\n    }\r\n\r\n    set targetObject(val)\r\n    {\r\n        this._targetObject = val;\r\n    }\r\n}\r\n","import { IEvent } from '@feng3d/event';\r\nimport { Vector2, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { windowEventProxy } from '@feng3d/shortcut';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { RunEnvironment } from '../core/RunEnvironment';\r\nimport { AddComponentMenu } from '../Menu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        FPSController: FPSController;\r\n    }\r\n}\r\n\r\n/**\r\n * FPS模式控制器\r\n */\r\n@AddComponentMenu('Controller/FPSController')\r\n@RegisterComponent()\r\nexport class FPSController extends Behaviour\r\n{\r\n    /**\r\n     * 加速度\r\n     */\r\n    @oav()\r\n    public acceleration = 0.001;\r\n\r\n    runEnvironment = RunEnvironment.feng3d;\r\n\r\n    /**\r\n     * 按键记录\r\n     */\r\n    private keyDownDic: { [key: string]: boolean };\r\n\r\n    /**\r\n     * 按键方向字典\r\n     */\r\n    private keyDirectionDic: { [key: string]: Vector3 };\r\n\r\n    /**\r\n     * 速度\r\n     */\r\n    private velocity: Vector3;\r\n\r\n    /**\r\n     * 上次鼠标位置\r\n     */\r\n    private preMousePoint: Vector2 | null;\r\n\r\n    private ischange = false;\r\n\r\n    private _auto: boolean;\r\n    get auto()\r\n    {\r\n        return this._auto;\r\n    }\r\n    set auto(value)\r\n    {\r\n        if (this._auto === value)\r\n        {\r\n            return;\r\n        }\r\n        if (this._auto)\r\n        {\r\n            windowEventProxy.off('mousedown', this.onMousedown, this);\r\n            windowEventProxy.off('mouseup', this.onMouseup, this);\r\n            this.onMouseup();\r\n        }\r\n        this._auto = value;\r\n        if (this._auto)\r\n        {\r\n            windowEventProxy.on('mousedown', this.onMousedown, this);\r\n            windowEventProxy.on('mouseup', this.onMouseup, this);\r\n        }\r\n    }\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n\r\n        this.keyDirectionDic = {};\r\n        this.keyDirectionDic['a'] = new Vector3(-1, 0, 0);// 左\r\n        this.keyDirectionDic['d'] = new Vector3(1, 0, 0);// 右\r\n        this.keyDirectionDic['w'] = new Vector3(0, 0, 1);// 前\r\n        this.keyDirectionDic['s'] = new Vector3(0, 0, -1);// 后\r\n        this.keyDirectionDic['e'] = new Vector3(0, 1, 0);// 上\r\n        this.keyDirectionDic['q'] = new Vector3(0, -1, 0);// 下\r\n\r\n        this.keyDownDic = {};\r\n\r\n        this.auto = true;\r\n    }\r\n\r\n    onMousedown()\r\n    {\r\n        this.ischange = true;\r\n\r\n        this.preMousePoint = null;\r\n        this.mousePoint = null;\r\n        this.velocity = new Vector3();\r\n        this.keyDownDic = {};\r\n\r\n        windowEventProxy.on('keydown', this.onKeydown, this);\r\n        windowEventProxy.on('keyup', this.onKeyup, this);\r\n        windowEventProxy.on('mousemove', this.onMouseMove, this);\r\n    }\r\n\r\n    onMouseup()\r\n    {\r\n        this.ischange = false;\r\n        this.preMousePoint = null;\r\n        this.mousePoint = null;\r\n\r\n        windowEventProxy.off('keydown', this.onKeydown, this);\r\n        windowEventProxy.off('keyup', this.onKeyup, this);\r\n        windowEventProxy.off('mousemove', this.onMouseMove, this);\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n        this.auto = false;\r\n    }\r\n\r\n    /**\r\n     * 手动应用更新到目标3D对象\r\n     */\r\n    update(): void\r\n    {\r\n        if (!this.ischange)\r\n        { return; }\r\n\r\n        if (this.mousePoint && this.preMousePoint)\r\n        {\r\n            // 计算旋转\r\n            const offsetPoint = this.mousePoint.subTo(this.preMousePoint);\r\n            offsetPoint.x *= 0.15;\r\n            offsetPoint.y *= 0.15;\r\n            // this.targetObject.transform.rotate(Vector3.X_AXIS, offsetPoint.y, this.targetObject.transform.position);\r\n            // this.targetObject.transform.rotate(Vector3.Y_AXIS, offsetPoint.x, this.targetObject.transform.position);\r\n\r\n            const matrix = this.transform.localToWorldMatrix;\r\n            matrix.appendRotation(matrix.getAxisX(), offsetPoint.y, matrix.getPosition());\r\n            const up = Vector3.Y_AXIS.clone();\r\n            if (matrix.getAxisY().dot(up) < 0)\r\n            {\r\n                up.scaleNumber(-1);\r\n            }\r\n            matrix.appendRotation(up, offsetPoint.x, matrix.getPosition());\r\n            this.transform.localToWorldMatrix = matrix;\r\n            //\r\n            this.preMousePoint = this.mousePoint;\r\n            this.mousePoint = null;\r\n        }\r\n\r\n        // 计算加速度\r\n        const accelerationVec = new Vector3();\r\n        for (const key in this.keyDirectionDic)\r\n        {\r\n            if (this.keyDownDic[key] === true)\r\n            {\r\n                const element = this.keyDirectionDic[key];\r\n                accelerationVec.add(element);\r\n            }\r\n        }\r\n        accelerationVec.scaleNumber(this.acceleration);\r\n        // 计算速度\r\n        this.velocity.add(accelerationVec);\r\n        const right = this.transform.matrix.getAxisX();\r\n        const up = this.transform.matrix.getAxisY();\r\n        const forward = this.transform.matrix.getAxisZ();\r\n        right.scaleNumber(this.velocity.x);\r\n        up.scaleNumber(this.velocity.y);\r\n        forward.scaleNumber(this.velocity.z);\r\n        // 计算位移\r\n        const displacement = right.clone();\r\n        displacement.add(up);\r\n        displacement.add(forward);\r\n        this.transform.x += displacement.x;\r\n        this.transform.y += displacement.y;\r\n        this.transform.z += displacement.z;\r\n    }\r\n    private mousePoint: Vector2 | null;\r\n    /**\r\n     * 处理鼠标移动事件\r\n     */\r\n    private onMouseMove(event: IEvent<MouseEvent>)\r\n    {\r\n        this.mousePoint = new Vector2(event.data.clientX, event.data.clientY);\r\n\r\n        if (!this.preMousePoint)\r\n        {\r\n            this.preMousePoint = this.mousePoint;\r\n            this.mousePoint = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 键盘按下事件\r\n     */\r\n    private onKeydown(event: IEvent<KeyboardEvent>): void\r\n    {\r\n        const boardKey = String.fromCharCode(event.data.keyCode).toLocaleLowerCase();\r\n        if (!this.keyDirectionDic[boardKey])\r\n        {\r\n            return;\r\n        }\r\n\r\n        if (!this.keyDownDic[boardKey])\r\n        { this.stopDirectionVelocity(this.keyDirectionDic[boardKey]); }\r\n        this.keyDownDic[boardKey] = true;\r\n    }\r\n\r\n    /**\r\n     * 键盘弹起事件\r\n     */\r\n    private onKeyup(event: IEvent<KeyboardEvent>): void\r\n    {\r\n        const boardKey = String.fromCharCode(event.data.keyCode).toLocaleLowerCase();\r\n        if (!this.keyDirectionDic[boardKey])\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.keyDownDic[boardKey] = false;\r\n        this.stopDirectionVelocity(this.keyDirectionDic[boardKey]);\r\n    }\r\n\r\n    /**\r\n     * 停止xyz方向运动\r\n     * @param direction     停止运动的方向\r\n     */\r\n    private stopDirectionVelocity(direction: Vector3)\r\n    {\r\n        if (!direction)\r\n        {\r\n            return;\r\n        }\r\n        if (direction.x !== 0)\r\n        {\r\n            this.velocity.x = 0;\r\n        }\r\n        if (direction.y !== 0)\r\n        {\r\n            this.velocity.y = 0;\r\n        }\r\n        if (direction.z !== 0)\r\n        {\r\n            this.velocity.z = 0;\r\n        }\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { ControllerBase } from './ControllerBase';\r\n\r\nexport class LookAtController extends ControllerBase\r\n{\r\n    protected _lookAtPosition: Vector3;\r\n    protected _lookAtObject: GameObject;\r\n    protected _origin: Vector3 = new Vector3(0.0, 0.0, 0.0);\r\n    protected _upAxis: Vector3 = Vector3.Y_AXIS;\r\n    protected _pos: Vector3 = new Vector3();\r\n\r\n    constructor(target?: GameObject, lookAtObject?: GameObject)\r\n    {\r\n        super(target);\r\n\r\n        if (lookAtObject)\r\n        { this.lookAtObject = lookAtObject; }\r\n        else\r\n        { this.lookAtPosition = new Vector3(); }\r\n    }\r\n\r\n    get upAxis(): Vector3\r\n    {\r\n        return this._upAxis;\r\n    }\r\n\r\n    set upAxis(upAxis: Vector3)\r\n    {\r\n        this._upAxis = upAxis;\r\n    }\r\n\r\n    get lookAtPosition(): Vector3\r\n    {\r\n        return this._lookAtPosition;\r\n    }\r\n\r\n    set lookAtPosition(val: Vector3)\r\n    {\r\n        this._lookAtPosition = val;\r\n    }\r\n\r\n    get lookAtObject()\r\n    {\r\n        return this._lookAtObject;\r\n    }\r\n\r\n    set lookAtObject(value)\r\n    {\r\n        if (this._lookAtObject === value)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this._lookAtObject = value;\r\n    }\r\n\r\n    update(_interpolate = true): void\r\n    {\r\n        if (this._targetObject)\r\n        {\r\n            if (this._lookAtPosition)\r\n            {\r\n                this._targetObject.transform.lookAt(this.lookAtPosition, this._upAxis);\r\n            }\r\n            else if (this._lookAtObject)\r\n            {\r\n                this._pos = this._lookAtObject.transform.position;\r\n                this._targetObject.transform.lookAt(this._pos, this._upAxis);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { LookAtController } from './LookAtController';\r\n\r\nexport class HoverController extends LookAtController\r\n{\r\n    _currentPanAngle = 0;\r\n    _currentTiltAngle = 90;\r\n    private _panAngle = 0;\r\n    private _tiltAngle = 90;\r\n    private _distance = 1000;\r\n    private _minPanAngle = -Infinity;\r\n    private _maxPanAngle = Infinity;\r\n    private _minTiltAngle = -90;\r\n    private _maxTiltAngle = 90;\r\n    private _steps = 8;\r\n    private _yFactor = 2;\r\n    private _wrapPanAngle = false;\r\n    get steps(): number\r\n    {\r\n        return this._steps;\r\n    }\r\n\r\n    set steps(val: number)\r\n    {\r\n        val = (val < 1) ? 1 : val;\r\n        if (this._steps === val)\r\n        {\r\n            return;\r\n        }\r\n        this._steps = val;\r\n        this.update();\r\n    }\r\n\r\n    get panAngle(): number\r\n    {\r\n        return this._panAngle;\r\n    }\r\n\r\n    set panAngle(val: number)\r\n    {\r\n        val = Math.max(this._minPanAngle, Math.min(this._maxPanAngle, val));\r\n        if (this._panAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._panAngle = val;\r\n        this.update();\r\n    }\r\n\r\n    get tiltAngle(): number\r\n    {\r\n        return this._tiltAngle;\r\n    }\r\n\r\n    set tiltAngle(val: number)\r\n    {\r\n        val = Math.max(this._minTiltAngle, Math.min(this._maxTiltAngle, val));\r\n        if (this._tiltAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._tiltAngle = val;\r\n        this.update();\r\n    }\r\n\r\n    get distance(): number\r\n    {\r\n        return this._distance;\r\n    }\r\n\r\n    set distance(val: number)\r\n    {\r\n        if (this._distance === val)\r\n        {\r\n            return;\r\n        }\r\n        this._distance = val;\r\n        this.update();\r\n    }\r\n\r\n    get minPanAngle(): number\r\n    {\r\n        return this._minPanAngle;\r\n    }\r\n\r\n    set minPanAngle(val: number)\r\n    {\r\n        if (this._minPanAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._minPanAngle = val;\r\n        this.panAngle = Math.max(this._minPanAngle, Math.min(this._maxPanAngle, this._panAngle));\r\n    }\r\n\r\n    get maxPanAngle(): number\r\n    {\r\n        return this._maxPanAngle;\r\n    }\r\n\r\n    set maxPanAngle(val: number)\r\n    {\r\n        if (this._maxPanAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._maxPanAngle = val;\r\n        this.panAngle = Math.max(this._minPanAngle, Math.min(this._maxPanAngle, this._panAngle));\r\n    }\r\n\r\n    get minTiltAngle(): number\r\n    {\r\n        return this._minTiltAngle;\r\n    }\r\n\r\n    set minTiltAngle(val: number)\r\n    {\r\n        if (this._minTiltAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._minTiltAngle = val;\r\n        this.tiltAngle = Math.max(this._minTiltAngle, Math.min(this._maxTiltAngle, this._tiltAngle));\r\n    }\r\n\r\n    get maxTiltAngle(): number\r\n    {\r\n        return this._maxTiltAngle;\r\n    }\r\n\r\n    set maxTiltAngle(val: number)\r\n    {\r\n        if (this._maxTiltAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._maxTiltAngle = val;\r\n        this.tiltAngle = Math.max(this._minTiltAngle, Math.min(this._maxTiltAngle, this._tiltAngle));\r\n    }\r\n\r\n    get yFactor(): number\r\n    {\r\n        return this._yFactor;\r\n    }\r\n\r\n    set yFactor(val: number)\r\n    {\r\n        if (this._yFactor === val)\r\n        {\r\n            return;\r\n        }\r\n        this._yFactor = val;\r\n        this.update();\r\n    }\r\n\r\n    get wrapPanAngle(): boolean\r\n    {\r\n        return this._wrapPanAngle;\r\n    }\r\n\r\n    set wrapPanAngle(val: boolean)\r\n    {\r\n        if (this._wrapPanAngle === val)\r\n        {\r\n            return;\r\n        }\r\n        this._wrapPanAngle = val;\r\n        this.update();\r\n    }\r\n\r\n    // eslint-disable-next-line max-params\r\n    constructor(targetObject?: GameObject, lookAtObject?: GameObject, panAngle = 0, tiltAngle = 90, distance = 1000, minTiltAngle = -90, maxTiltAngle = 90, minPanAngle = NaN, maxPanAngle = NaN, steps = 8, yFactor = 2, wrapPanAngle = false)\r\n    {\r\n        super(targetObject, lookAtObject);\r\n        this.distance = distance;\r\n        this.panAngle = panAngle;\r\n        this.tiltAngle = tiltAngle;\r\n        this.minPanAngle = minPanAngle || -Infinity;\r\n        this.maxPanAngle = maxPanAngle || Infinity;\r\n        this.minTiltAngle = minTiltAngle;\r\n        this.maxTiltAngle = maxTiltAngle;\r\n        this.steps = steps;\r\n        this.yFactor = yFactor;\r\n        this.wrapPanAngle = wrapPanAngle;\r\n        this._currentPanAngle = this._panAngle;\r\n        this._currentTiltAngle = this._tiltAngle;\r\n    }\r\n\r\n    update(interpolate = true)\r\n    {\r\n        if (this._tiltAngle !== this._currentTiltAngle || this._panAngle !== this._currentPanAngle)\r\n        {\r\n            if (this._wrapPanAngle)\r\n            {\r\n                if (this._panAngle < 0)\r\n                {\r\n                    this._currentPanAngle += this._panAngle % 360 + 360 - this._panAngle;\r\n                    this._panAngle = this._panAngle % 360 + 360;\r\n                }\r\n                else\r\n                {\r\n                    this._currentPanAngle += this._panAngle % 360 - this._panAngle;\r\n                    this._panAngle = this._panAngle % 360;\r\n                }\r\n                while (this._panAngle - this._currentPanAngle < -180)\r\n                { this._currentPanAngle -= 360; }\r\n                while (this._panAngle - this._currentPanAngle > 180)\r\n                { this._currentPanAngle += 360; }\r\n            }\r\n            if (interpolate)\r\n            {\r\n                this._currentTiltAngle += (this._tiltAngle - this._currentTiltAngle) / (this.steps + 1);\r\n                this._currentPanAngle += (this._panAngle - this._currentPanAngle) / (this.steps + 1);\r\n            }\r\n            else\r\n            {\r\n                this._currentPanAngle = this._panAngle;\r\n                this._currentTiltAngle = this._tiltAngle;\r\n            }\r\n            if ((Math.abs(this.tiltAngle - this._currentTiltAngle) < 0.01) && (Math.abs(this._panAngle - this._currentPanAngle) < 0.01))\r\n            {\r\n                this._currentTiltAngle = this._tiltAngle;\r\n                this._currentPanAngle = this._panAngle;\r\n            }\r\n        }\r\n        if (!this._targetObject)\r\n        { return; }\r\n        if (this._lookAtPosition)\r\n        {\r\n            this._pos.x = this._lookAtPosition.x;\r\n            this._pos.y = this._lookAtPosition.y;\r\n            this._pos.z = this._lookAtPosition.z;\r\n        }\r\n        else if (this._lookAtObject)\r\n        {\r\n            if (this._targetObject.transform.parent && this._lookAtObject.transform.parent)\r\n            {\r\n                if (this._targetObject.transform.parent !== this._lookAtObject.transform.parent)\r\n                {\r\n                    this._pos.x = this._lookAtObject.transform.worldPosition.x;\r\n                    this._pos.y = this._lookAtObject.transform.worldPosition.y;\r\n                    this._pos.z = this._lookAtObject.transform.worldPosition.z;\r\n                    this._targetObject.transform.parent.worldToLocalMatrix.transformPoint3(this._pos, this._pos);\r\n                }\r\n                else\r\n                {\r\n                    this._pos.copy(this._lookAtObject.transform.position);\r\n                }\r\n            }\r\n            else if (this._lookAtObject.scene)\r\n            {\r\n                this._pos.x = this._lookAtObject.transform.worldPosition.x;\r\n                this._pos.y = this._lookAtObject.transform.worldPosition.y;\r\n                this._pos.z = this._lookAtObject.transform.worldPosition.z;\r\n            }\r\n            else\r\n            {\r\n                this._pos.copy(this._lookAtObject.transform.position);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this._pos.x = this._origin.x;\r\n            this._pos.y = this._origin.y;\r\n            this._pos.z = this._origin.z;\r\n        }\r\n        this._targetObject.transform.x = this._pos.x + this._distance * Math.sin(this._currentPanAngle * mathUtil.DEG2RAD) * Math.cos(this._currentTiltAngle * mathUtil.DEG2RAD);\r\n        this._targetObject.transform.z = this._pos.z + this._distance * Math.cos(this._currentPanAngle * mathUtil.DEG2RAD) * Math.cos(this._currentTiltAngle * mathUtil.DEG2RAD);\r\n        this._targetObject.transform.y = this._pos.y + this._distance * Math.sin(this._currentTiltAngle * mathUtil.DEG2RAD) * this._yFactor;\r\n        super.update();\r\n    }\r\n}\r\n","import { RegisterComponent } from '../component/Component';\r\nimport { Renderable } from './Renderable';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap { MeshRenderer: MeshRenderer }\r\n}\r\n\r\n/**\r\n * 网格渲染器\r\n */\r\n@RegisterComponent()\r\nexport class MeshRenderer extends Renderable\r\n{\r\n    __class__: 'feng3d.MeshRenderer';\r\n}\r\n","import { Ray3, Vector2, Vector3 } from '@feng3d/math';\r\nimport { CullFace } from '@feng3d/renderer';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { RayCastable } from '../core/RayCastable';\r\nimport { Geometry } from '../geometry/Geometry';\r\n\r\n/**\r\n * 射线投射拾取器\r\n */\r\nexport class Raycaster\r\n{\r\n    /**\r\n     * 获取射线穿过的实体\r\n     * @param ray3D 射线\r\n     * @param gameObjects 实体列表\r\n     * @return\r\n     */\r\n    pick(ray3D: Ray3, gameObjects: GameObject[])\r\n    {\r\n        if (gameObjects.length === 0) return null;\r\n\r\n        const pickingCollisionVOs = gameObjects.reduce((pv: PickingCollisionVO[], gameObject) =>\r\n        {\r\n            const model = gameObject.getComponent(RayCastable);\r\n            const pickingCollisionVO = model && model.worldRayIntersection(ray3D);\r\n            if (pickingCollisionVO) pv.push(pickingCollisionVO);\r\n\r\n            return pv;\r\n        }, []);\r\n\r\n        if (pickingCollisionVOs.length === 0) return null;\r\n\r\n        // 根据与包围盒距离进行排序\r\n        pickingCollisionVOs.sort((a, b) => a.rayEntryDistance - b.rayEntryDistance);\r\n\r\n        let shortestCollisionDistance = Number.MAX_VALUE;\r\n        let bestCollisionVO: PickingCollisionVO = null;\r\n        const collisionVOs: PickingCollisionVO[] = [];\r\n\r\n        for (let i = 0; i < pickingCollisionVOs.length; ++i)\r\n        {\r\n            const pickingCollisionVO = pickingCollisionVOs[i];\r\n            if (!bestCollisionVO || pickingCollisionVO.rayEntryDistance < bestCollisionVO.rayEntryDistance)\r\n            {\r\n                const result = pickingCollisionVO.geometry.raycast(pickingCollisionVO.localRay, shortestCollisionDistance, pickingCollisionVO.cullFace);\r\n                if (result)\r\n                {\r\n                    pickingCollisionVO.rayEntryDistance = result.rayEntryDistance;\r\n                    pickingCollisionVO.index = result.index;\r\n                    pickingCollisionVO.localNormal = result.localNormal;\r\n                    pickingCollisionVO.localPosition = result.localPosition;\r\n                    pickingCollisionVO.uv = result.uv;\r\n                    //\r\n                    shortestCollisionDistance = pickingCollisionVO.rayEntryDistance;\r\n                    collisionVOs.push(pickingCollisionVO);\r\n                    bestCollisionVO = pickingCollisionVO;\r\n                }\r\n            }\r\n        }\r\n\r\n        return bestCollisionVO;\r\n    }\r\n\r\n    /**\r\n     * 获取射线穿过的实体\r\n     * @param ray3D 射线\r\n     * @param gameObjects 实体列表\r\n     * @return\r\n     */\r\n    pickAll(ray3D: Ray3, gameObjects: GameObject[])\r\n    {\r\n        if (gameObjects.length === 0) return [];\r\n\r\n        const pickingCollisionVOs = gameObjects.reduce((pv: PickingCollisionVO[], gameObject) =>\r\n        {\r\n            const model = gameObject.getComponent(RayCastable);\r\n            const pickingCollisionVO = model && model.worldRayIntersection(ray3D);\r\n            if (pickingCollisionVO) pv.push(pickingCollisionVO);\r\n\r\n            return pv;\r\n        }, []);\r\n\r\n        if (pickingCollisionVOs.length === 0) return [];\r\n\r\n        const collisionVOs = pickingCollisionVOs.filter((v) =>\r\n        {\r\n            const result = v.geometry.raycast(v.localRay, Number.MAX_VALUE, v.cullFace);\r\n            if (result)\r\n            {\r\n                v.rayEntryDistance = result.rayEntryDistance;\r\n                v.index = result.index;\r\n                v.localNormal = result.localNormal;\r\n                v.localPosition = result.localPosition;\r\n                v.uv = result.uv;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        return collisionVOs;\r\n    }\r\n}\r\n\r\n/**\r\n * 射线投射拾取器\r\n */\r\nexport const raycaster = new Raycaster();\r\n\r\n/**\r\n * 拾取的碰撞数据\r\n */\r\nexport interface PickingCollisionVO\r\n{\r\n    /**\r\n     * 第一个穿过的物体\r\n     */\r\n    gameObject: GameObject;\r\n\r\n    /**\r\n     * 碰撞的uv坐标\r\n     */\r\n    uv?: Vector2;\r\n\r\n    /**\r\n     * 实体上碰撞本地坐标\r\n     */\r\n    localPosition?: Vector3;\r\n\r\n    /**\r\n     * 射线顶点到实体的距离\r\n     */\r\n    rayEntryDistance: number;\r\n\r\n    /**\r\n     * 本地坐标系射线\r\n     */\r\n    localRay: Ray3;\r\n\r\n    /**\r\n     * 本地坐标碰撞法线\r\n     */\r\n    localNormal: Vector3;\r\n\r\n    /**\r\n     * 射线坐标是否在边界内\r\n     */\r\n    rayOriginIsInsideBounds: boolean;\r\n\r\n    /**\r\n     * 碰撞三角形索引\r\n     */\r\n    index?: number;\r\n\r\n    /**\r\n     * 碰撞关联的渲染对象\r\n     */\r\n    geometry: Geometry;\r\n\r\n    /**\r\n     * 剔除面\r\n     */\r\n    cullFace: CullFace;\r\n}\r\n\r\n","import { EventEmitter, IEvent } from '@feng3d/event';\r\nimport { Rectangle } from '@feng3d/math';\r\nimport { Lazy, lazy } from '@feng3d/polyfill';\r\nimport { windowEventProxy } from '@feng3d/shortcut';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { raycaster } from '../pick/Raycaster';\r\nimport { Scene } from '../scene/Scene';\r\nimport { GameObject } from './GameObject';\r\nimport { View } from './View';\r\n\r\n/**\r\n * 鼠标事件管理\r\n */\r\nexport class Mouse3DManager\r\n{\r\n    @watch('_mouseInputChanged')\r\n    mouseInput: MouseInput;\r\n\r\n    get selectedGameObject()\r\n    {\r\n        return this._selectedGameObject;\r\n    }\r\n    set selectedGameObject(v)\r\n    {\r\n        this.setSelectedGameObject(v);\r\n    }\r\n\r\n    /**\r\n     * 视窗，鼠标在该矩形内时为有效事件\r\n     */\r\n    viewport: Lazy<Rectangle>;\r\n\r\n    /**\r\n     * 拾取\r\n     * @param scene 场景\r\n     * @param _camera 摄像机\r\n     */\r\n    pick(view: View, scene: Scene, _camera: Camera)\r\n    {\r\n        if (this._mouseEventTypes.length === 0) return;\r\n        // 计算得到鼠标射线相交的物体\r\n        const pickingCollisionVO = raycaster.pick(view.mouseRay3D, scene.mouseCheckObjects);\r\n\r\n        const gameobject = pickingCollisionVO && pickingCollisionVO.gameObject;\r\n\r\n        return gameobject;\r\n    }\r\n\r\n    constructor(mouseInput: MouseInput, viewport?: Lazy<Rectangle>)\r\n    {\r\n        //\r\n        this.mouseInput = mouseInput;\r\n        this.viewport = viewport;\r\n    }\r\n\r\n    private _selectedGameObject: GameObject;\r\n    private _mouseEventTypes: string[] = [];\r\n\r\n    /**\r\n     * 鼠标按下时的对象，用于与鼠标弹起时对象做对比，如果相同触发click\r\n     */\r\n    private preMouseDownGameObject: GameObject | null;\r\n    /**\r\n     * 统计处理click次数，判断是否达到dblclick\r\n     */\r\n    private gameObjectClickNum: number;\r\n\r\n    private _mouseInputChanged(_property: string, oldValue: MouseInput, newValue: MouseInput)\r\n    {\r\n        if (oldValue)\r\n        {\r\n            mouseEventTypes.forEach((element) =>\r\n            {\r\n                oldValue.off(element, this.onMouseEvent, this);\r\n            });\r\n        }\r\n        if (newValue)\r\n        {\r\n            mouseEventTypes.forEach((element) =>\r\n            {\r\n                newValue.on(element, this.onMouseEvent, this);\r\n            });\r\n        }\r\n    }\r\n\r\n    private dispatch(type)\r\n    {\r\n        if (this.viewport)\r\n        {\r\n            const bound = lazy.getvalue(this.viewport);\r\n            if (!bound.contains(windowEventProxy.clientX, windowEventProxy.clientY))\r\n            { return; }\r\n        }\r\n\r\n        if (this._mouseEventTypes.indexOf(type) === -1)\r\n        { this._mouseEventTypes.push(type); }\r\n    }\r\n\r\n    /**\r\n     * 监听鼠标事件收集事件类型\r\n     */\r\n    private onMouseEvent(event: IEvent<any>)\r\n    {\r\n        this.dispatch(event.type);\r\n    }\r\n\r\n    /**\r\n     * 设置选中对象\r\n     */\r\n    private setSelectedGameObject(value: GameObject)\r\n    {\r\n        if (this._selectedGameObject !== value)\r\n        {\r\n            if (this._selectedGameObject)\r\n            { this._selectedGameObject.emit('mouseout', null, true); }\r\n            if (value)\r\n            { value.emit('mouseover', null, true); }\r\n        }\r\n        this._selectedGameObject = value;\r\n        this._mouseEventTypes.forEach((element) =>\r\n        {\r\n            switch (element)\r\n            {\r\n                case 'mousedown':\r\n                    if (this.preMouseDownGameObject !== this._selectedGameObject)\r\n                    {\r\n                        this.gameObjectClickNum = 0;\r\n                        this.preMouseDownGameObject = this._selectedGameObject;\r\n                    }\r\n                    this._selectedGameObject && this._selectedGameObject.emit(element, null, true);\r\n                    break;\r\n                case 'mouseup':\r\n                    if (this._selectedGameObject === this.preMouseDownGameObject)\r\n                    {\r\n                        this.gameObjectClickNum++;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.gameObjectClickNum = 0;\r\n                        this.preMouseDownGameObject = null;\r\n                    }\r\n                    this._selectedGameObject && this._selectedGameObject.emit(element, null, true);\r\n                    break;\r\n                case 'mousemove':\r\n                    this._selectedGameObject && this._selectedGameObject.emit(element, null, true);\r\n                    break;\r\n                case 'click':\r\n                    if (this.gameObjectClickNum > 0)\r\n                    { this._selectedGameObject && this._selectedGameObject.emit(element, null, true); }\r\n                    break;\r\n                case 'dblclick':\r\n                    if (this.gameObjectClickNum > 1)\r\n                    {\r\n                        this._selectedGameObject && this._selectedGameObject.emit(element, null, true);\r\n                        this.gameObjectClickNum = 0;\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        this._mouseEventTypes.length = 0;\r\n    }\r\n}\r\n\r\n/**\r\n * 鼠标事件输入\r\n */\r\nexport class MouseInput<T = MouseEventMap> extends EventEmitter<T>\r\n{\r\n    /**\r\n     * 是否启动\r\n     */\r\n    enable = true;\r\n\r\n    /**\r\n     * 是否捕获鼠标移动\r\n     */\r\n    catchMouseMove = false;\r\n\r\n    /**\r\n     * 将事件调度到事件流中. 事件目标是对其调用 dispatchEvent() 方法的 IEvent 对象。\r\n     * @param type                      事件的类型。类型区分大小写。\r\n     * @param data                      事件携带的自定义数据。\r\n     * @param bubbles                   表示事件是否为冒泡事件。如果事件可以冒泡，则此值为 true；否则为 false。\r\n     */\r\n    emit<K extends keyof T & string>(type: K, data?: T[K], bubbles = false)\r\n    {\r\n        if (!this.enable)\r\n        { return null; }\r\n        if (!this.catchMouseMove && type === 'mousemove')\r\n        { return null; }\r\n\r\n        return super.emit(type, data, bubbles);\r\n    }\r\n\r\n    /**\r\n     * 派发事件\r\n     * @param event   事件对象\r\n     */\r\n    emitEvent<K extends keyof T & string>(event: IEvent<T[K]>)\r\n    {\r\n        if (!this.enable)\r\n        { return event; }\r\n        if (!this.catchMouseMove && event.type === 'mousemove')\r\n        { return event; }\r\n\r\n        return super.emitEvent(event);\r\n    }\r\n}\r\n\r\n/**\r\n * 鼠标事件列表\r\n */\r\nconst mouseEventTypes: (keyof MouseEventMap)[]\r\n    = [\r\n        'mouseout',\r\n        'mouseover',\r\n        'mousemove',\r\n        'mousedown',\r\n        'mouseup',\r\n        'click',\r\n        'middlemousedown',\r\n        'middlemouseup',\r\n        'middleclick',\r\n        'rightmousedown',\r\n        'rightmouseup',\r\n        'rightclick',\r\n        'dblclick',\r\n    ];\r\n\r\n/**\r\n * Window鼠标事件输入\r\n */\r\nexport class WindowMouseInput extends MouseInput\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n        windowEventProxy.on('click', this.onMouseEvent, this);\r\n        windowEventProxy.on('dblclick', this.onMouseEvent, this);\r\n        windowEventProxy.on('mousedown', this.onMouseEvent, this);\r\n        windowEventProxy.on('mouseup', this.onMouseEvent, this);\r\n        windowEventProxy.on('mousemove', this.onMouseEvent, this);\r\n    }\r\n\r\n    /**\r\n     * 监听鼠标事件收集事件类型\r\n     */\r\n    private onMouseEvent(event: IEvent<MouseEvent>)\r\n    {\r\n        const mouseEvent = event.data;\r\n        let type = mouseEvent.type;\r\n        // 处理鼠标中键与右键\r\n        if (mouseEvent instanceof MouseEvent)\r\n        {\r\n            if (['click', 'mousedown', 'mouseup'].indexOf(mouseEvent.type) !== -1)\r\n            {\r\n                type = ['', 'middle', 'right'][mouseEvent.button] + mouseEvent.type;\r\n            }\r\n        }\r\n\r\n        this.emit(<any>type, { mouseX: mouseEvent.clientX, mouseY: mouseEvent.clientY });\r\n    }\r\n}\r\n\r\nexport interface MouseEventMap\r\n{\r\n    /**\r\n     * 鼠标移出对象\r\n     */\r\n    mouseout: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标移入对象\r\n     */\r\n    mouseover: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标在对象上移动\r\n     */\r\n    mousemove: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标左键按下\r\n     */\r\n    mousedown: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标左键弹起\r\n     */\r\n    mouseup: { clientX: number, clientY: number }\r\n    /**\r\n     * 单击\r\n     */\r\n    click: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标中键按下\r\n     */\r\n    middlemousedown: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标中键弹起\r\n     */\r\n    middlemouseup: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标中键单击\r\n     */\r\n    middleclick: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标右键按下\r\n     */\r\n    rightmousedown: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标右键弹起\r\n     */\r\n    rightmouseup: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标右键单击\r\n     */\r\n    rightclick: { clientX: number, clientY: number }\r\n    /**\r\n     * 鼠标双击\r\n     */\r\n    dblclick: { clientX: number, clientY: number }\r\n}\r\n","import { ScriptComponent } from './ScriptComponent';\r\n\r\n/**\r\n * 3d对象脚本\r\n */\r\nexport class Script\r\n{\r\n    /**\r\n     * The game object this component is attached to. A component is always attached to a game object.\r\n     */\r\n    get gameObject()\r\n    {\r\n        return this.component.gameObject;\r\n    }\r\n\r\n    /**\r\n     * The Transform attached to this GameObject (null if there is none attached).\r\n     */\r\n    get transform()\r\n    {\r\n        return this.gameObject.transform;\r\n    }\r\n\r\n    /**\r\n     * 宿主组件\r\n     */\r\n    component: ScriptComponent;\r\n\r\n    constructor()\r\n    {\r\n    }\r\n\r\n    /**\r\n     * Use this for initialization\r\n     */\r\n    init()\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * Update is called once per frame\r\n     * 每帧执行一次\r\n     */\r\n    update()\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    dispose()\r\n    {\r\n\r\n    }\r\n}\r\n","import { IEvent } from '@feng3d/event';\r\nimport { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watcher } from '@feng3d/watcher';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Component, RegisterComponent } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { ticker } from '../utils/Ticker';\r\nimport { GameObject } from './GameObject';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        /**\r\n         * 尺寸变化事件\r\n         */\r\n        sizeChanged: TransformLayout;\r\n\r\n        /**\r\n         * 中心点变化事件\r\n         */\r\n        pivotChanged: TransformLayout;\r\n    }\r\n\r\n    export interface MixinsComponentMap\r\n    {\r\n        TransformLayout: TransformLayout;\r\n    }\r\n}\r\n\r\n/**\r\n * 变换布局\r\n *\r\n * 提供了比Transform更加适用于2D元素的API\r\n *\r\n * 通过修改Transform的数值实现\r\n */\r\n@AddComponentMenu('Layout/TransformLayout')\r\n@RegisterComponent()\r\nexport class TransformLayout extends Component\r\n{\r\n    get single() { return true; }\r\n\r\n    /**\r\n     * 创建一个实体，该类为虚类\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        watcher.watch(this._position, 'x', this._invalidateLayout, this);\r\n        watcher.watch(this._position, 'y', this._invalidateLayout, this);\r\n        watcher.watch(this._position, 'z', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMin, 'x', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMin, 'y', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMin, 'z', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMax, 'x', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMax, 'y', this._invalidateLayout, this);\r\n        watcher.watch(this.anchorMax, 'z', this._invalidateLayout, this);\r\n        //\r\n        watcher.watch(this._leftTop, 'x', this._invalidateSize, this);\r\n        watcher.watch(this._leftTop, 'y', this._invalidateSize, this);\r\n        watcher.watch(this._leftTop, 'z', this._invalidateSize, this);\r\n        watcher.watch(this._rightBottom, 'x', this._invalidateSize, this);\r\n        watcher.watch(this._rightBottom, 'y', this._invalidateSize, this);\r\n        watcher.watch(this._rightBottom, 'z', this._invalidateSize, this);\r\n        //\r\n        watcher.watch(this._size, 'x', this._invalidateSize, this);\r\n        watcher.watch(this._size, 'y', this._invalidateSize, this);\r\n        watcher.watch(this._size, 'z', this._invalidateSize, this);\r\n        watcher.watch(this.pivot, 'x', this._invalidatePivot, this);\r\n        watcher.watch(this.pivot, 'y', this._invalidatePivot, this);\r\n        watcher.watch(this.pivot, 'z', this._invalidatePivot, this);\r\n        //\r\n        this.on('added', this._onAdded, this);\r\n        this.on('removed', this._onRemoved, this);\r\n    }\r\n\r\n    private _onAdded(event: IEvent<{ parent: GameObject; }>)\r\n    {\r\n        event.data.parent.on('sizeChanged', this._invalidateLayout, this);\r\n        event.data.parent.on('pivotChanged', this._invalidateLayout, this);\r\n        this._invalidateLayout();\r\n    }\r\n\r\n    private _onRemoved(event: IEvent<{ parent: GameObject; }>)\r\n    {\r\n        event.data.parent.off('sizeChanged', this._invalidateLayout, this);\r\n        event.data.parent.off('pivotChanged', this._invalidateLayout, this);\r\n    }\r\n\r\n    /**\r\n     * 位移\r\n     */\r\n    @oav({ tooltip: '当anchorMin.x == anchorMax.x时对position.x赋值生效，当 anchorMin.y == anchorMax.y 时对position.y赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get position()\r\n    {\r\n        this._updateLayout();\r\n\r\n        return this._position;\r\n    }\r\n    set position(v) { this._position.copy(v); }\r\n    private readonly _position = new Vector3();\r\n\r\n    /**\r\n     * 尺寸，宽高。\r\n     */\r\n    @oav({ tooltip: '宽度，不会影响到缩放值。当 anchorMin.x == anchorMax.x 时对 size.x 赋值生效，当anchorMin.y == anchorMax.y时对 size.y 赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get size()\r\n    {\r\n        this._updateLayout();\r\n\r\n        return this._size;\r\n    }\r\n    set size(v) { this._size.copy(v); }\r\n    private _size = new Vector3(1, 1, 1);\r\n\r\n    /**\r\n     * 与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。\r\n     */\r\n    @oav({ tooltip: '与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get leftTop()\r\n    {\r\n        return this._leftTop;\r\n    }\r\n    set leftTop(v)\r\n    {\r\n        this._leftTop.copy(v);\r\n    }\r\n    private _leftTop = new Vector3(0, 0, 0);\r\n\r\n    /**\r\n     * 与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。\r\n     */\r\n    @oav({ tooltip: '与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get rightBottom()\r\n    {\r\n        return this._rightBottom;\r\n    }\r\n    set rightBottom(v)\r\n    {\r\n        this._rightBottom.copy(v);\r\n    }\r\n    private _rightBottom = new Vector3(0, 0, 0);\r\n\r\n    /**\r\n     * 最小锚点，父Transform2D中左上角锚定的规范化位置。\r\n     */\r\n    @oav({ tooltip: '父Transform2D中左上角锚定的规范化位置。', componentParam: { step: 0.01, stepScale: 0.01, stepDownup: 0.01 } })\r\n    @serialize\r\n    anchorMin = new Vector3(0.5, 0.5, 0.5);\r\n\r\n    /**\r\n     * 最大锚点，父Transform2D中左上角锚定的规范化位置。\r\n     */\r\n    @oav({ tooltip: '最大锚点，父Transform2D中左上角锚定的规范化位置。', componentParam: { step: 0.01, stepScale: 0.01, stepDownup: 0.01 } })\r\n    @serialize\r\n    anchorMax = new Vector3(0.5, 0.5, 0.5);\r\n\r\n    /**\r\n     * The normalized position in this RectTransform that it rotates around.\r\n     */\r\n    @oav({ tooltip: '中心点' })\r\n    @serialize\r\n    pivot = new Vector3(0.5, 0.5, 0.5);\r\n\r\n    beforeRender(_renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        // renderAtomic.uniforms.u_rect = this.rect;\r\n    }\r\n\r\n    private _updateLayout()\r\n    {\r\n        if (!this._layoutInvalid) return;\r\n\r\n        const transformLayout = this.gameObject && this.gameObject.parent && this.gameObject.parent.getComponent(TransformLayout);\r\n        if (!transformLayout) return;\r\n\r\n        // 中心点基于anchorMin的坐标\r\n        const position = this._position;\r\n        // 尺寸\r\n        const size = this._size;\r\n        const leftTop = this._leftTop;\r\n        const rightBottom = this._rightBottom;\r\n\r\n        // 最小锚点\r\n        const anchorMin = this.anchorMin.clone();\r\n        // 最大锚点\r\n        const anchorMax = this.anchorMax.clone();\r\n        const pivot = this.pivot.clone();\r\n\r\n        // 父对象显示区域宽高\r\n        const parentSize = transformLayout.size;\r\n        const parentPivot = transformLayout.pivot;\r\n        // 锚点在父Transform2D中锚定的 leftRightTopBottom 位置。\r\n        const anchorLeftTop = new Vector3(\r\n            anchorMin.x * parentSize.x - parentPivot.x * parentSize.x,\r\n            anchorMin.y * parentSize.y - parentPivot.y * parentSize.y,\r\n            anchorMin.z * parentSize.z - parentPivot.z * parentSize.z,\r\n        );\r\n        const anchorRightBottom = new Vector3(\r\n            anchorMax.x * parentSize.x - parentPivot.x * parentSize.x,\r\n            anchorMax.y * parentSize.y - parentPivot.y * parentSize.y,\r\n            anchorMax.z * parentSize.z - parentPivot.z * parentSize.z,\r\n        );\r\n\r\n        if (anchorMin.x === anchorMax.x)\r\n        {\r\n            leftTop.x = (-pivot.x * size.x + position.x) - anchorLeftTop.x;\r\n            rightBottom.x = anchorRightBottom.x - (size.x - pivot.x * size.x + position.x);\r\n        }\r\n        else\r\n        {\r\n            size.x = (anchorRightBottom.x - rightBottom.x) - (anchorLeftTop.x + leftTop.x);\r\n            position.x = leftTop.x + pivot.x * size.x;\r\n        }\r\n\r\n        if (anchorMin.y === anchorMax.y)\r\n        {\r\n            leftTop.y = (-pivot.y * size.y + position.y) - anchorLeftTop.y;\r\n            rightBottom.y = anchorRightBottom.y - (size.y - pivot.y * size.y + position.y);\r\n        }\r\n        else\r\n        {\r\n            size.y = (anchorRightBottom.y - rightBottom.y) - (anchorLeftTop.y + leftTop.y);\r\n            position.y = leftTop.y + pivot.y * size.y;\r\n        }\r\n\r\n        if (anchorMin.z === anchorMax.z)\r\n        {\r\n            leftTop.z = (-pivot.z * size.z + position.z) - anchorLeftTop.z;\r\n            rightBottom.z = anchorRightBottom.z - (size.z - pivot.z * size.z + position.z);\r\n        }\r\n        else\r\n        {\r\n            size.z = (anchorRightBottom.z - rightBottom.z) - (anchorLeftTop.z + leftTop.z);\r\n            position.z = leftTop.z + pivot.z * size.z;\r\n        }\r\n\r\n        //\r\n        this.transform.position.x = anchorLeftTop.x + position.x;\r\n        this.transform.position.y = anchorLeftTop.y + position.y;\r\n        this.transform.position.z = anchorLeftTop.z + position.z;\r\n        //\r\n        this._layoutInvalid = false;\r\n        ticker.offframe(this._updateLayout, this);\r\n    }\r\n\r\n    /**\r\n     * 布局是否失效\r\n     */\r\n    private _layoutInvalid = true;\r\n\r\n    private _invalidateLayout()\r\n    {\r\n        this._layoutInvalid = true;\r\n        ticker.onframe(this._updateLayout, this);\r\n    }\r\n\r\n    private _invalidateSize()\r\n    {\r\n        this._invalidateLayout();\r\n        this.emit('sizeChanged', this);\r\n    }\r\n\r\n    private _invalidatePivot()\r\n    {\r\n        this._invalidateLayout();\r\n        this.emit('pivotChanged', this);\r\n    }\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        PlaneGeometry: PlaneGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Plane: PlaneGeometry;\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Plane: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 平面几何体\r\n */\r\nexport class PlaneGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.PlaneGeometry';\r\n\r\n    /**\r\n     * 宽度\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    width = 1;\r\n\r\n    /**\r\n     * 高度\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    height = 1;\r\n\r\n    /**\r\n     * 横向分割数\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 1;\r\n\r\n    /**\r\n     * 纵向分割数\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 1;\r\n\r\n    /**\r\n     * 是否朝上\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    yUp = true;\r\n\r\n    name = 'Plane';\r\n\r\n    /**\r\n     * 构建几何体数据\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        const vertexPositionData = this.buildPosition();\r\n        this.positions = vertexPositionData;\r\n\r\n        const vertexNormalData = this.buildNormal();\r\n        this.normals = vertexNormalData;\r\n\r\n        const vertexTangentData = this.buildTangent();\r\n        this.tangents = vertexTangentData;\r\n\r\n        const uvData = this.buildUVs();\r\n        this.uvs = uvData;\r\n\r\n        const indices = this.buildIndices();\r\n        this.indices = indices;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点坐标\r\n     * @param this.width 宽度\r\n     * @param this.height 高度\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildPosition()\r\n    {\r\n        const vertexPositionData: number[] = [];\r\n        let x: number; let\r\n            y: number;\r\n        let positionIndex = 0;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                x = (xi / this.segmentsW - 0.5) * this.width;\r\n                y = (yi / this.segmentsH - 0.5) * this.height;\r\n\r\n                // 设置坐标数据\r\n                vertexPositionData[positionIndex++] = x;\r\n                if (this.yUp)\r\n                {\r\n                    vertexPositionData[positionIndex++] = 0;\r\n                    vertexPositionData[positionIndex++] = y;\r\n                }\r\n                else\r\n                {\r\n                    vertexPositionData[positionIndex++] = y;\r\n                    vertexPositionData[positionIndex++] = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        return vertexPositionData;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点法线\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildNormal()\r\n    {\r\n        const vertexNormalData: number[] = [];\r\n\r\n        let normalIndex = 0;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                // 设置法线数据\r\n                vertexNormalData[normalIndex++] = 0;\r\n                if (this.yUp)\r\n                {\r\n                    vertexNormalData[normalIndex++] = 1;\r\n                    vertexNormalData[normalIndex++] = 0;\r\n                }\r\n                else\r\n                {\r\n                    vertexNormalData[normalIndex++] = 0;\r\n                    vertexNormalData[normalIndex++] = 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return vertexNormalData;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点切线\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildTangent()\r\n    {\r\n        const vertexTangentData: number[] = [];\r\n        let tangentIndex = 0;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                if (this.yUp)\r\n                {\r\n                    vertexTangentData[tangentIndex++] = 1;\r\n                    vertexTangentData[tangentIndex++] = 0;\r\n                    vertexTangentData[tangentIndex++] = 0;\r\n                }\r\n                else\r\n                {\r\n                    vertexTangentData[tangentIndex++] = -1;\r\n                    vertexTangentData[tangentIndex++] = 0;\r\n                    vertexTangentData[tangentIndex++] = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        return vertexTangentData;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点索引\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildIndices()\r\n    {\r\n        const indices: number[] = [];\r\n        const tw = this.segmentsW + 1;\r\n\r\n        let numIndices = 0;\r\n        let base: number;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                // 生成索引数据\r\n                if (xi !== this.segmentsW && yi !== this.segmentsH)\r\n                {\r\n                    base = xi + yi * tw;\r\n                    if (this.yUp)\r\n                    {\r\n                        indices[numIndices++] = base;\r\n                        indices[numIndices++] = base + tw;\r\n                        indices[numIndices++] = base + tw + 1;\r\n                        indices[numIndices++] = base;\r\n                        indices[numIndices++] = base + tw + 1;\r\n                        indices[numIndices++] = base + 1;\r\n                    }\r\n                    else\r\n                    {\r\n                        indices[numIndices++] = base;\r\n                        indices[numIndices++] = base + tw + 1;\r\n                        indices[numIndices++] = base + tw;\r\n                        indices[numIndices++] = base;\r\n                        indices[numIndices++] = base + 1;\r\n                        indices[numIndices++] = base + tw + 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return indices;\r\n    }\r\n\r\n    /**\r\n     * 构建uv\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     */\r\n    private buildUVs()\r\n    {\r\n        const data: number[] = [];\r\n        let index = 0;\r\n\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                if (this.yUp)\r\n                {\r\n                    data[index++] = xi / this.segmentsW;\r\n                    data[index++] = 1 - yi / this.segmentsH;\r\n                }\r\n                else\r\n                {\r\n                    data[index++] = 1 - xi / this.segmentsW;\r\n                    data[index++] = 1 - yi / this.segmentsH;\r\n                }\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Plane', new PlaneGeometry(), { width: 10, height: 10 });\r\n\r\nGameObject.registerPrimitive('Plane', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Plane');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Plane',\r\n        priority: -5,\r\n        click: () =>\r\n            GameObject.createPrimitive('Plane')\r\n    }\r\n);\r\n\r\n","import { TextureFormat, TextureMagFilter, TextureMinFilter } from '@feng3d/renderer';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Texture2D } from './Texture2D';\r\n\r\n/**\r\n * 渲染目标纹理\r\n */\r\nexport class RenderTargetTexture2D extends Texture2D\r\n{\r\n    @watch('invalidate')\r\n    OFFSCREEN_WIDTH = 1024;\r\n\r\n    @watch('invalidate')\r\n    OFFSCREEN_HEIGHT = 1024;\r\n\r\n    format = TextureFormat.RGBA;\r\n\r\n    minFilter = TextureMinFilter.NEAREST;\r\n\r\n    magFilter = TextureMagFilter.NEAREST;\r\n\r\n    isRenderTarget = true;\r\n}\r\n","import { FrameBuffer, GL, RenderBuffer, Texture, WebGLRenderer } from '@feng3d/renderer';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { RenderTargetTexture2D } from '../textures/RenderTargetTexture2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGLCache\r\n    {\r\n        /**\r\n         * 此处用于缓存，需要获取有效数据请调用 Attribute.getBuffer\r\n         */\r\n        frameBufferObjects: Map<FrameBufferObject, {\r\n            framebuffer: WebGLFramebuffer, texture: WebGLTexture, depthBuffer: WebGLRenderbuffer\r\n        }>;\r\n    }\r\n}\r\n\r\n/**\r\n * 帧缓冲对象\r\n */\r\nexport class FrameBufferObject\r\n{\r\n    @watch('invalidateSize')\r\n    OFFSCREEN_WIDTH = 1024;\r\n\r\n    @watch('invalidateSize')\r\n    OFFSCREEN_HEIGHT = 1024;\r\n\r\n    @watch('invalidate')\r\n    frameBuffer: FrameBuffer;\r\n\r\n    @watch('invalidate')\r\n    texture: RenderTargetTexture2D;\r\n\r\n    @watch('invalidate')\r\n    depthBuffer: RenderBuffer;\r\n\r\n    constructor(width = 1024, height = 1024)\r\n    {\r\n        this.frameBuffer = new FrameBuffer();\r\n        this.texture = new RenderTargetTexture2D();\r\n        this.depthBuffer = new RenderBuffer();\r\n        this.OFFSCREEN_WIDTH = width;\r\n        this.OFFSCREEN_HEIGHT = height;\r\n    }\r\n\r\n    static active(gl: GL, frameBufferObject: FrameBufferObject)\r\n    {\r\n        if (frameBufferObject._invalid)\r\n        {\r\n            frameBufferObject._invalid = false;\r\n            this.clear(frameBufferObject);\r\n        }\r\n\r\n        gl.cache.frameBufferObjects = gl.cache.frameBufferObjects || new Map();\r\n        let obj = gl.cache.frameBufferObjects.get(frameBufferObject);\r\n        if (!obj)\r\n        {\r\n            const framebuffer = FrameBuffer.active(gl, frameBufferObject.frameBuffer);\r\n            const texture = Texture.active(gl, frameBufferObject.texture);\r\n            const depthBuffer = RenderBuffer.active(gl, frameBufferObject.depthBuffer);\r\n\r\n            // 绑定帧缓冲区对象\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n            // 设置颜色关联对象\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n            // 设置深度关联对象\r\n            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);\r\n\r\n            // 检查Framebuffer状态\r\n            const e = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\r\n            if (gl.FRAMEBUFFER_COMPLETE !== e)\r\n            {\r\n                console.warn(`Frame buffer object is incomplete: ${e.toString()}`);\r\n\r\n                return null;\r\n            }\r\n\r\n            gl.bindTexture(gl.TEXTURE_2D, null);\r\n            gl.bindRenderbuffer(gl.RENDERBUFFER, null);\r\n\r\n            obj = { framebuffer, texture, depthBuffer };\r\n            gl.cache.frameBufferObjects.set(frameBufferObject, obj);\r\n        }\r\n        else\r\n        {\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, obj.framebuffer);\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    deactive(gl: GL)\r\n    {\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n    }\r\n\r\n    /**\r\n     * 是否失效\r\n     */\r\n    private _invalid = true;\r\n\r\n    /**\r\n     * 使失效\r\n     */\r\n    protected invalidate()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    private invalidateSize()\r\n    {\r\n        if (this.texture)\r\n        {\r\n            this.texture.OFFSCREEN_WIDTH = this.OFFSCREEN_WIDTH;\r\n            this.texture.OFFSCREEN_HEIGHT = this.OFFSCREEN_HEIGHT;\r\n        }\r\n        if (this.depthBuffer)\r\n        {\r\n            this.depthBuffer.OFFSCREEN_WIDTH = this.OFFSCREEN_WIDTH;\r\n            this.depthBuffer.OFFSCREEN_HEIGHT = this.OFFSCREEN_HEIGHT;\r\n        }\r\n        this._invalid = true;\r\n    }\r\n\r\n    static clear(frameBufferObject: FrameBufferObject)\r\n    {\r\n        WebGLRenderer.glList.forEach((gl) =>\r\n        {\r\n            gl.cache.frameBufferObjects = gl.cache.frameBufferObjects || new Map();\r\n\r\n            const buffer = gl.cache.frameBufferObjects.get(frameBufferObject);\r\n            if (buffer)\r\n            {\r\n                gl.cache.frameBufferObjects.delete(frameBufferObject);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/**\r\n * 灯光类型\r\n */\r\nexport enum LightType\r\n{\r\n    /**\r\n     * 方向光\r\n     */\r\n    Directional = 0,\r\n    /**\r\n     * 点光\r\n     */\r\n    Point = 1,\r\n    /**\r\n     * 聚光灯\r\n     */\r\n    Spot = 2\r\n}\r\n","import { Color3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { BlendFactor } from '@feng3d/renderer';\r\nimport { serialize, serialization } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { BillboardComponent } from '../component/BillboardComponent';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { Material } from '../materials/Material';\r\nimport { PlaneGeometry } from '../primitives/PlaneGeometry';\r\nimport { FrameBufferObject } from '../render/FrameBufferObject';\r\nimport { Scene } from '../scene/Scene';\r\nimport { LightType } from './LightType';\r\nimport { ShadowType } from './shadow/ShadowType';\r\n\r\n/**\r\n * 灯光\r\n */\r\nexport class Light extends Behaviour\r\n{\r\n    /**\r\n     * 灯光类型\r\n     */\r\n    @serialize\r\n    lightType: LightType;\r\n\r\n    /**\r\n     * 颜色\r\n     */\r\n    @oav()\r\n    @serialize\r\n    color = new Color3();\r\n\r\n    /**\r\n     * 光照强度\r\n     */\r\n    @oav()\r\n    @serialize\r\n    intensity = 1;\r\n\r\n    /**\r\n     * 阴影类型\r\n     */\r\n    @oav({ component: 'OAVEnum', componentParam: { enumClass: ShadowType } })\r\n    @serialize\r\n    shadowType = ShadowType.No_Shadows;\r\n\r\n    /**\r\n     * 光源位置\r\n     */\r\n    get position()\r\n    {\r\n        return this.transform.worldPosition;\r\n    }\r\n\r\n    /**\r\n     * 光照方向\r\n     */\r\n    get direction()\r\n    {\r\n        return this.transform.localToWorldMatrix.getAxisZ();\r\n    }\r\n\r\n    /**\r\n     * 阴影偏差，用来解决判断是否为阴影时精度问题\r\n     */\r\n    shadowBias = -0.005;\r\n\r\n    /**\r\n     * 阴影半径，边缘宽度\r\n     */\r\n    shadowRadius = 1;\r\n\r\n    /**\r\n     * 阴影近平面距离\r\n     */\r\n    get shadowCameraNear()\r\n    {\r\n        return this.shadowCamera.lens.near;\r\n    }\r\n\r\n    /**\r\n     * 阴影近平面距离\r\n     */\r\n    get shadowCameraFar()\r\n    {\r\n        return this.shadowCamera.lens.far;\r\n    }\r\n\r\n    /**\r\n     * 投影摄像机\r\n     */\r\n    shadowCamera: Camera;\r\n\r\n    /**\r\n     * 阴影图尺寸\r\n     */\r\n    get shadowMapSize()\r\n    {\r\n        return this.shadowMap.getSize();\r\n    }\r\n\r\n    get shadowMap()\r\n    {\r\n        return this.frameBufferObject.texture;\r\n    }\r\n\r\n    /**\r\n     * 帧缓冲对象，用于处理光照阴影贴图渲染\r\n     */\r\n    frameBufferObject = new FrameBufferObject();\r\n\r\n    @oav({ tooltip: '是否调试阴影图' })\r\n    debugShadowMap = false;\r\n\r\n    private debugShadowMapObject: GameObject;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.shadowCamera = serialization.setValue(new GameObject(), { name: 'LightShadowCamera' }).addComponent(Camera);\r\n    }\r\n\r\n    updateDebugShadowMap(scene: Scene, viewCamera: Camera)\r\n    {\r\n        let gameObject = this.debugShadowMapObject;\r\n        if (!gameObject)\r\n        {\r\n            gameObject = this.debugShadowMapObject = GameObject.createPrimitive('Plane', { name: 'debugShadowMapObject' });\r\n            gameObject.hideFlags = HideFlags.Hide | HideFlags.DontSave;\r\n            gameObject.mouseEnabled = false;\r\n            gameObject.addComponent(BillboardComponent);\r\n\r\n            // 材质\r\n            const model = gameObject.getComponent(Renderable);\r\n            model.geometry = serialization.setValue(new PlaneGeometry(), { width: this.lightType === LightType.Point ? 1 : 0.5, height: 0.5, segmentsW: 1, segmentsH: 1, yUp: false });\r\n            const textureMaterial = model.material = serialization.setValue(new Material(), { shaderName: 'texture', uniforms: { s_texture: this.frameBufferObject.texture as any } });\r\n            //\r\n            // textureMaterial.uniforms.s_texture.url = 'Assets/pz.jpg';\r\n            // textureMaterial.uniforms.u_color.setTo(1.0, 0.0, 0.0, 1.0);\r\n            textureMaterial.renderParams.enableBlend = true;\r\n            textureMaterial.renderParams.sfactor = BlendFactor.ONE;\r\n            textureMaterial.renderParams.dfactor = BlendFactor.ZERO;\r\n        }\r\n\r\n        const depth = viewCamera.lens.near * 2;\r\n        gameObject.transform.position = viewCamera.transform.worldPosition.addTo(viewCamera.transform.localToWorldMatrix.getAxisZ().scaleNumberTo(depth));\r\n        const billboardComponent = gameObject.getComponent(BillboardComponent);\r\n        billboardComponent.camera = viewCamera;\r\n\r\n        if (this.debugShadowMap)\r\n        {\r\n            scene.gameObject.addChild(gameObject);\r\n        }\r\n        else\r\n        {\r\n            gameObject.remove();\r\n        }\r\n    }\r\n}\r\n","import { Box3, Vector3 } from '@feng3d/math';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { OrthographicLens } from '../cameras/lenses/OrthographicLens';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { Light } from './Light';\r\nimport { LightType } from './LightType';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        DirectionalLight: DirectionalLight;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        'Directional light': GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 方向光源\r\n */\r\n@AddComponentMenu('Rendering/DirectionalLight')\r\n@RegisterComponent()\r\nexport class DirectionalLight extends Light\r\n{\r\n    __class__: 'feng3d.DirectionalLight';\r\n\r\n    lightType = LightType.Directional;\r\n\r\n    private orthographicLens: OrthographicLens;\r\n\r\n    /**\r\n     * 光源位置\r\n     */\r\n    get position()\r\n    {\r\n        return this.shadowCamera.transform.worldPosition;\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 通过视窗摄像机进行更新\r\n     * @param viewCamera 视窗摄像机\r\n     */\r\n    updateShadowByCamera(scene: Scene, viewCamera: Camera, models: Renderable[])\r\n    {\r\n        const worldBounds: Box3 = models.reduce((pre: Box3, i) =>\r\n        {\r\n            const box = i.gameObject.boundingBox.worldBounds;\r\n            if (!pre)\r\n            { return box.clone(); }\r\n            pre.union(box);\r\n\r\n            return pre;\r\n        }, null) || new Box3(new Vector3(), new Vector3(1, 1, 1));\r\n\r\n        //\r\n        const center = worldBounds.getCenter();\r\n        const radius = worldBounds.getSize().length / 2;\r\n        //\r\n        this.shadowCamera.transform.position = center.addTo(this.direction.scaleNumberTo(radius + this.shadowCameraNear).negate());\r\n        this.shadowCamera.transform.lookAt(center, this.shadowCamera.transform.matrix.getAxisY());\r\n        //\r\n        if (!this.orthographicLens)\r\n        {\r\n            this.shadowCamera.lens = this.orthographicLens = new OrthographicLens(radius, 1, this.shadowCameraNear, this.shadowCameraNear + radius * 2);\r\n        }\r\n        else\r\n        {\r\n            serialization.setValue(this.orthographicLens, { size: radius, near: this.shadowCameraNear, far: this.shadowCameraNear + radius * 2 });\r\n        }\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Directional light', (g) =>\r\n{\r\n    g.addComponent(DirectionalLight);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Light/Directional light',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Directional light')\r\n    }\r\n);\r\n\r\n","import { Vector4 } from '@feng3d/math';\r\nimport { LazyObject, lazy, mathUtil } from '@feng3d/polyfill';\r\nimport { WebGLRenderer, Uniforms } from '@feng3d/renderer';\r\nimport { Camera } from '../../cameras/Camera';\r\nimport { Scene } from '../../scene/Scene';\r\n\r\n/**\r\n * 前向渲染器\r\n */\r\nexport class ForwardRenderer\r\n{\r\n    /**\r\n     * 渲染\r\n     */\r\n    draw(gl: WebGLRenderer, scene: Scene, camera: Camera)\r\n    {\r\n        const blenditems = scene.getPickCache(camera).blenditems;\r\n        const unblenditems = scene.getPickCache(camera).unblenditems;\r\n\r\n        const uniforms: LazyObject<Uniforms> = <any>{};\r\n        //\r\n        uniforms.u_projectionMatrix = camera.lens.matrix;\r\n        uniforms.u_viewProjection = camera.viewProjection;\r\n        uniforms.u_viewMatrix = camera.transform.worldToLocalMatrix;\r\n        uniforms.u_cameraMatrix = camera.transform.localToWorldMatrix;\r\n        uniforms.u_cameraPos = camera.transform.worldPosition;\r\n        uniforms.u_skyBoxSize = camera.lens.far / Math.sqrt(3);\r\n        uniforms.u_scaleByDepth = camera.getScaleByDepth(1);\r\n        uniforms.u_sceneAmbientColor = scene.ambientColor;\r\n\r\n        const ctime = (Date.now() / 1000) % 3600;\r\n        uniforms._Time = new Vector4(ctime / 20, ctime, ctime * 2, ctime * 3);\r\n\r\n        unblenditems.concat(blenditems).forEach((renderable) =>\r\n        {\r\n            // 绘制\r\n            const renderAtomic = renderable.renderAtomic;\r\n\r\n            for (const key in uniforms)\r\n            {\r\n                renderAtomic.uniforms[key] = uniforms[key];\r\n            }\r\n            //\r\n            renderAtomic.uniforms.u_mvMatrix = () =>\r\n                lazy.getvalue(renderAtomic.uniforms.u_modelMatrix).clone().append(lazy.getvalue(renderAtomic.uniforms.u_viewMatrix));\r\n            renderAtomic.uniforms.u_ITMVMatrix = () =>\r\n                lazy.getvalue(renderAtomic.uniforms.u_mvMatrix).clone().invert().transpose();\r\n\r\n            renderAtomic.shaderMacro.RotationOrder = mathUtil.DefaultRotationOrder;\r\n\r\n            renderable.beforeRender(renderAtomic, scene, camera);\r\n\r\n            gl.render(renderAtomic);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 前向渲染器\r\n */\r\nexport const forwardRenderer = new ForwardRenderer();\r\n","import { CullFace, RenderAtomic, Shader, WebGLRenderer } from '@feng3d/renderer';\r\nimport { Camera } from '../../cameras/Camera';\r\nimport { CartoonComponent } from '../../component/CartoonComponent';\r\nimport { OutLineComponent } from '../../component/OutLineComponent';\r\nimport { Scene } from '../../scene/Scene';\r\n\r\n/**\r\n * 轮廓渲染器\r\n */\r\nexport class OutlineRenderer\r\n{\r\n    renderAtomic: RenderAtomic;\r\n\r\n    init()\r\n    {\r\n        if (!this.renderAtomic)\r\n        {\r\n            this.renderAtomic = new RenderAtomic();\r\n            const renderParams = this.renderAtomic.renderParams;\r\n            renderParams.enableBlend = false;\r\n            renderParams.cullFace = CullFace.FRONT;\r\n\r\n            this.renderAtomic.shader = new Shader({ shaderName: 'outline' });\r\n        }\r\n    }\r\n\r\n    draw(gl: WebGLRenderer, scene: Scene, camera: Camera)\r\n    {\r\n        const unblenditems = scene.getPickCache(camera).unblenditems;\r\n\r\n        this.init();\r\n\r\n        for (let i = 0; i < unblenditems.length; i++)\r\n        {\r\n            const renderable = unblenditems[i];\r\n            if (renderable.getComponent(OutLineComponent) || renderable.getComponent(CartoonComponent))\r\n            {\r\n                const renderAtomic = renderable.renderAtomic;\r\n                renderable.beforeRender(renderAtomic, scene, camera);\r\n\r\n                this.renderAtomic.next = renderAtomic;\r\n\r\n                gl.render(this.renderAtomic);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 轮廓渲染器\r\n */\r\nexport const outlineRenderer = new OutlineRenderer();\r\n","import { Rectangle, Vector3 } from '@feng3d/math';\r\nimport { RenderAtomic, Shader, WebGLRenderer } from '@feng3d/renderer';\r\nimport { Camera } from '../../cameras/Camera';\r\nimport { Renderable } from '../../core/Renderable';\r\nimport { DirectionalLight } from '../../light/DirectionalLight';\r\nimport { PointLight } from '../../light/PointLight';\r\nimport { ShadowType } from '../../light/shadow/ShadowType';\r\nimport { SpotLight } from '../../light/SpotLight';\r\nimport { Scene } from '../../scene/Scene';\r\nimport { FrameBufferObject } from '../FrameBufferObject';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsRenderAtomic\r\n    {\r\n        shadowShader: Shader;\r\n    }\r\n}\r\n\r\nexport class ShadowRenderer\r\n{\r\n    private renderAtomic = new RenderAtomic();\r\n\r\n    /**\r\n     * 渲染\r\n     */\r\n    draw(gl: WebGLRenderer, scene: Scene, camera: Camera)\r\n    {\r\n        const pointLights = scene.activePointLights.filter((i) => i.shadowType !== ShadowType.No_Shadows);\r\n        for (let i = 0; i < pointLights.length; i++)\r\n        {\r\n            pointLights[i].updateDebugShadowMap(scene, camera);\r\n            this.drawForPointLight(gl, pointLights[i], scene, camera);\r\n        }\r\n\r\n        const spotLights = scene.activeSpotLights.filter((i) => i.shadowType !== ShadowType.No_Shadows);\r\n        for (let i = 0; i < spotLights.length; i++)\r\n        {\r\n            spotLights[i].updateDebugShadowMap(scene, camera);\r\n            this.drawForSpotLight(gl, spotLights[i], scene, camera);\r\n        }\r\n\r\n        const directionalLights = scene.activeDirectionalLights.filter((i) => i.shadowType !== ShadowType.No_Shadows);\r\n        for (let i = 0; i < directionalLights.length; i++)\r\n        {\r\n            directionalLights[i].updateDebugShadowMap(scene, camera);\r\n            this.drawForDirectionalLight(gl, directionalLights[i], scene, camera);\r\n        }\r\n    }\r\n\r\n    private drawForSpotLight(renderer: WebGLRenderer, light: SpotLight, scene: Scene, camera: Camera): any\r\n    {\r\n        const gl = renderer.gl;\r\n        FrameBufferObject.active(gl, light.frameBufferObject);\r\n\r\n        //\r\n        gl.viewport(0, 0, light.frameBufferObject.OFFSCREEN_WIDTH, light.frameBufferObject.OFFSCREEN_HEIGHT);\r\n        gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n        const shadowCamera = light.shadowCamera;\r\n        shadowCamera.transform.localToWorldMatrix = light.transform.localToWorldMatrix;\r\n\r\n        const renderAtomic = this.renderAtomic;\r\n\r\n        // 获取影响阴影图的渲染对象\r\n        const models = scene.getModelsByCamera(shadowCamera);\r\n        // 筛选投射阴影的渲染对象\r\n        const castShadowsModels = models.filter((i) => i.castShadows);\r\n\r\n        //\r\n        renderAtomic.renderParams.useViewPort = true;\r\n        renderAtomic.renderParams.viewPort = new Rectangle(0, 0, light.frameBufferObject.OFFSCREEN_WIDTH, light.frameBufferObject.OFFSCREEN_HEIGHT);\r\n\r\n        //\r\n        renderAtomic.uniforms.u_projectionMatrix = shadowCamera.lens.matrix;\r\n        renderAtomic.uniforms.u_viewProjection = shadowCamera.viewProjection;\r\n        renderAtomic.uniforms.u_viewMatrix = shadowCamera.transform.worldToLocalMatrix;\r\n        renderAtomic.uniforms.u_cameraMatrix = shadowCamera.transform.localToWorldMatrix;\r\n        renderAtomic.uniforms.u_cameraPos = shadowCamera.transform.worldPosition;\r\n        //\r\n        renderAtomic.uniforms.u_lightType = light.lightType;\r\n        renderAtomic.uniforms.u_lightPosition = light.position;\r\n        renderAtomic.uniforms.u_shadowCameraNear = light.shadowCameraNear;\r\n        renderAtomic.uniforms.u_shadowCameraFar = light.shadowCameraFar;\r\n\r\n        castShadowsModels.forEach((renderable) =>\r\n        {\r\n            this.drawGameObject(renderer, renderable, scene, camera);\r\n        });\r\n\r\n        light.frameBufferObject.deactive(gl);\r\n    }\r\n\r\n    private drawForPointLight(renderer: WebGLRenderer, light: PointLight, scene: Scene, camera: Camera): any\r\n    {\r\n        const gl = renderer.gl;\r\n\r\n        FrameBufferObject.active(gl, light.frameBufferObject);\r\n\r\n        //\r\n        gl.viewport(0, 0, light.frameBufferObject.OFFSCREEN_WIDTH, light.frameBufferObject.OFFSCREEN_HEIGHT);\r\n        gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n        const vpWidth = light.shadowMapSize.x;\r\n        const vpHeight = light.shadowMapSize.y;\r\n\r\n        // These viewports map a cube-map onto a 2D texture with the\r\n        // following orientation:\r\n        //\r\n        //  xzXZ\r\n        //   y Y\r\n        //\r\n        // X - Positive x direction\r\n        // x - Negative x direction\r\n        // Y - Positive y direction\r\n        // y - Negative y direction\r\n        // Z - Positive z direction\r\n        // z - Negative z direction\r\n\r\n        // positive X\r\n        cube2DViewPorts[0].init(vpWidth * 2, vpHeight, vpWidth, vpHeight);\r\n        // negative X\r\n\r\n        cube2DViewPorts[1].init(0, vpHeight, vpWidth, vpHeight);\r\n        // positive Z\r\n        cube2DViewPorts[2].init(vpWidth * 3, vpHeight, vpWidth, vpHeight);\r\n        // negative Z\r\n        cube2DViewPorts[3].init(vpWidth, vpHeight, vpWidth, vpHeight);\r\n        // positive Y\r\n        cube2DViewPorts[4].init(vpWidth * 3, 0, vpWidth, vpHeight);\r\n        // negative Y\r\n        cube2DViewPorts[5].init(vpWidth, 0, vpWidth, vpHeight);\r\n\r\n        const shadowCamera = light.shadowCamera;\r\n        shadowCamera.transform.position = light.transform.position;\r\n\r\n        const renderAtomic = this.renderAtomic;\r\n\r\n        for (let face = 0; face < 6; face++)\r\n        {\r\n            shadowCamera.transform.lookAt(light.position.addTo(cubeDirections[face]), cubeUps[face]);\r\n\r\n            // 获取影响阴影图的渲染对象\r\n            const models = scene.getModelsByCamera(shadowCamera);\r\n            // 筛选投射阴影的渲染对象\r\n            const castShadowsModels = models.filter((i) => i.castShadows);\r\n\r\n            //\r\n            renderAtomic.renderParams.useViewPort = true;\r\n            renderAtomic.renderParams.viewPort = cube2DViewPorts[face];\r\n\r\n            //\r\n            renderAtomic.uniforms.u_projectionMatrix = shadowCamera.lens.matrix;\r\n            renderAtomic.uniforms.u_viewProjection = shadowCamera.viewProjection;\r\n            renderAtomic.uniforms.u_viewMatrix = shadowCamera.transform.worldToLocalMatrix;\r\n            renderAtomic.uniforms.u_cameraMatrix = shadowCamera.transform.localToWorldMatrix;\r\n            renderAtomic.uniforms.u_cameraPos = shadowCamera.transform.worldPosition;\r\n            //\r\n            renderAtomic.uniforms.u_lightType = light.lightType;\r\n            renderAtomic.uniforms.u_lightPosition = light.position;\r\n            renderAtomic.uniforms.u_shadowCameraNear = light.shadowCameraNear;\r\n            renderAtomic.uniforms.u_shadowCameraFar = light.shadowCameraFar;\r\n\r\n            castShadowsModels.forEach((renderable) =>\r\n            {\r\n                this.drawGameObject(renderer, renderable, scene, camera);\r\n            });\r\n        }\r\n        light.frameBufferObject.deactive(gl);\r\n    }\r\n\r\n    private drawForDirectionalLight(renderer: WebGLRenderer, light: DirectionalLight, scene: Scene, camera: Camera): any\r\n    {\r\n        // 获取影响阴影图的渲染对象\r\n        const models = scene.getPickByDirectionalLight(light);\r\n        // 筛选投射阴影的渲染对象\r\n        const castShadowsModels = models.filter((i) => i.castShadows);\r\n\r\n        light.updateShadowByCamera(scene, camera, models);\r\n\r\n        FrameBufferObject.active(renderer.gl, light.frameBufferObject);\r\n\r\n        const gl = renderer.gl;\r\n\r\n        //\r\n        gl.viewport(0, 0, light.frameBufferObject.OFFSCREEN_WIDTH, light.frameBufferObject.OFFSCREEN_HEIGHT);\r\n        gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n        const shadowCamera = light.shadowCamera;\r\n\r\n        const renderAtomic = this.renderAtomic;\r\n        //\r\n        renderAtomic.renderParams.useViewPort = true;\r\n        renderAtomic.renderParams.viewPort = new Rectangle(0, 0, light.frameBufferObject.OFFSCREEN_WIDTH, light.frameBufferObject.OFFSCREEN_HEIGHT);\r\n        //\r\n        renderAtomic.uniforms.u_projectionMatrix = shadowCamera.lens.matrix;\r\n        renderAtomic.uniforms.u_viewProjection = shadowCamera.viewProjection;\r\n        renderAtomic.uniforms.u_viewMatrix = shadowCamera.transform.worldToLocalMatrix;\r\n        renderAtomic.uniforms.u_cameraMatrix = shadowCamera.transform.localToWorldMatrix;\r\n        renderAtomic.uniforms.u_cameraPos = shadowCamera.transform.worldPosition;\r\n        //\r\n        renderAtomic.uniforms.u_lightType = light.lightType;\r\n        renderAtomic.uniforms.u_lightPosition = shadowCamera.transform.worldPosition;\r\n        renderAtomic.uniforms.u_shadowCameraNear = light.shadowCameraNear;\r\n        renderAtomic.uniforms.u_shadowCameraFar = light.shadowCameraFar;\r\n        //\r\n        castShadowsModels.forEach((renderable) =>\r\n        {\r\n            this.drawGameObject(renderer, renderable, scene, camera);\r\n        });\r\n\r\n        light.frameBufferObject.deactive(gl);\r\n    }\r\n\r\n    /**\r\n     * 绘制3D对象\r\n     */\r\n    private drawGameObject(gl: WebGLRenderer, renderable: Renderable, scene: Scene, camera: Camera)\r\n    {\r\n        const renderAtomic = renderable.renderAtomic;\r\n        renderable.beforeRender(renderAtomic, scene, camera);\r\n        renderAtomic.shadowShader = renderAtomic.shadowShader || new Shader({ shaderName: 'shadow' });\r\n\r\n        //\r\n        this.renderAtomic.next = renderAtomic;\r\n        this.renderAtomic.renderParams.cullFace = renderAtomic.renderParams.cullFace;\r\n\r\n        // 使用shadowShader\r\n        this.renderAtomic.shader = renderAtomic.shadowShader;\r\n        gl.render(this.renderAtomic);\r\n        this.renderAtomic.shader = null;\r\n    }\r\n}\r\n\r\n/**\r\n * 阴影图渲染器\r\n */\r\nexport const shadowRenderer = new ShadowRenderer();\r\n\r\nconst cube2DViewPorts = [\r\n    new Rectangle(), new Rectangle(), new Rectangle(),\r\n    new Rectangle(), new Rectangle(), new Rectangle()\r\n];\r\nconst cubeUps = [\r\n    new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0),\r\n    new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)\r\n];\r\nconst cubeDirections = [\r\n    new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1),\r\n    new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)\r\n];\r\n","import { Color4 } from '@feng3d/math';\r\nimport { lazy } from '@feng3d/polyfill';\r\nimport { Index, RenderAtomic, RenderMode, Shader, WebGLRenderer } from '@feng3d/renderer';\r\nimport { Camera } from '../../cameras/Camera';\r\nimport { WireframeComponent } from '../../component/WireframeComponent';\r\nimport { Renderable } from '../../core/Renderable';\r\nimport { Scene } from '../../scene/Scene';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsRenderAtomic\r\n    {\r\n        /**\r\n         * 顶点索引缓冲\r\n         */\r\n        wireframeindexBuffer: Index;\r\n\r\n        wireframeShader: Shader;\r\n    }\r\n}\r\n\r\nexport class WireframeRenderer\r\n{\r\n    private renderAtomic: RenderAtomic;\r\n\r\n    init()\r\n    {\r\n        if (!this.renderAtomic)\r\n        {\r\n            this.renderAtomic = new RenderAtomic();\r\n            const renderParams = this.renderAtomic.renderParams;\r\n            renderParams.renderMode = RenderMode.LINES;\r\n            // renderParams.depthMask = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 渲染\r\n     */\r\n    draw(renderer: WebGLRenderer, scene: Scene, camera: Camera)\r\n    {\r\n        const unblenditems = scene.getPickCache(camera).unblenditems;\r\n\r\n        const wireframes = unblenditems.reduce((pv: { wireframe: WireframeComponent, renderable: Renderable }[], cv) =>\r\n        {\r\n            const wireframe = cv.getComponent(WireframeComponent); if (wireframe) pv.push({ wireframe, renderable: cv });\r\n\r\n            return pv;\r\n        }, []);\r\n\r\n        if (wireframes.length === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        wireframes.forEach((element) =>\r\n        {\r\n            this.drawGameObject(renderer, element.renderable, scene, camera, element.wireframe.color); //\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 绘制3D对象\r\n     */\r\n    drawGameObject(renderer: WebGLRenderer, renderable: Renderable, scene: Scene, camera: Camera, wireframeColor = new Color4())\r\n    {\r\n        const renderAtomic = renderable.renderAtomic;\r\n        renderable.beforeRender(renderAtomic, scene, camera);\r\n\r\n        const renderMode = lazy.getvalue(renderAtomic.renderParams.renderMode);\r\n        if (renderMode === RenderMode.POINTS\r\n            || renderMode === RenderMode.LINES\r\n            || renderMode === RenderMode.LINE_LOOP\r\n            || renderMode === RenderMode.LINE_STRIP\r\n        )\r\n        { return; }\r\n\r\n        this.init();\r\n\r\n        const uniforms = this.renderAtomic.uniforms;\r\n        //\r\n        uniforms.u_projectionMatrix = camera.lens.matrix;\r\n        uniforms.u_viewProjection = camera.viewProjection;\r\n        uniforms.u_viewMatrix = camera.transform.worldToLocalMatrix;\r\n        uniforms.u_cameraMatrix = camera.transform.localToWorldMatrix;\r\n        uniforms.u_cameraPos = camera.transform.worldPosition;\r\n        uniforms.u_skyBoxSize = camera.lens.far / Math.sqrt(3);\r\n        uniforms.u_scaleByDepth = camera.getScaleByDepth(1);\r\n\r\n        //\r\n        this.renderAtomic.next = renderAtomic;\r\n\r\n        //\r\n        const oldIndexBuffer = renderAtomic.index;\r\n        if (oldIndexBuffer.count < 3) return;\r\n        if (!renderAtomic.wireframeindexBuffer || renderAtomic.wireframeindexBuffer.count !== 2 * oldIndexBuffer.count)\r\n        {\r\n            const wireframeindices: number[] = [];\r\n            const indices = lazy.getvalue(oldIndexBuffer.indices);\r\n            for (let i = 0; i < indices.length; i += 3)\r\n            {\r\n                wireframeindices.push(\r\n                    indices[i], indices[i + 1],\r\n                    indices[i], indices[i + 2],\r\n                    indices[i + 1], indices[i + 2],\r\n                );\r\n            }\r\n            renderAtomic.wireframeindexBuffer = new Index();\r\n            renderAtomic.wireframeindexBuffer.indices = wireframeindices;\r\n        }\r\n        renderAtomic.wireframeShader = renderAtomic.wireframeShader || new Shader({ shaderName: 'wireframe' });\r\n        this.renderAtomic.index = renderAtomic.wireframeindexBuffer;\r\n\r\n        this.renderAtomic.uniforms.u_wireframeColor = wireframeColor;\r\n\r\n        //\r\n        this.renderAtomic.shader = renderAtomic.wireframeShader;\r\n        renderer.render(this.renderAtomic);\r\n        this.renderAtomic.shader = null;\r\n        //\r\n    }\r\n}\r\n\r\n/**\r\n * 线框渲染器\r\n */\r\nexport const wireframeRenderer = new WireframeRenderer();\r\n","import { Vector2 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { PerspectiveLens } from '../cameras/lenses/PerspectiveLens';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { Light } from './Light';\r\nimport { LightType } from './LightType';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        PointLight: PointLight;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        'Point Light': GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 点光源\r\n */\r\n@AddComponentMenu('Rendering/PointLight')\r\n@RegisterComponent()\r\nexport class PointLight extends Light\r\n{\r\n    __class__: 'feng3d.PointLight';\r\n\r\n    lightType = LightType.Point;\r\n\r\n    /**\r\n     * 光照范围\r\n     */\r\n    @oav()\r\n    @serialize\r\n    get range()\r\n    {\r\n        return this._range;\r\n    }\r\n    set range(v)\r\n    {\r\n        if (this._range === v) return;\r\n        this._range = v;\r\n        this.invalidRange();\r\n    }\r\n    private _range = 10;\r\n\r\n    /**\r\n     * 阴影图尺寸\r\n     */\r\n    get shadowMapSize()\r\n    {\r\n        return this.shadowMap.getSize().multiply(new Vector2(1 / 4, 1 / 2));\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.shadowCamera.lens = new PerspectiveLens(90, 1, 0.1, this.range);\r\n    }\r\n\r\n    private invalidRange()\r\n    {\r\n        if (this.shadowCamera)\r\n        { this.shadowCamera.lens.far = this.range; }\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Point Light', (g) =>\r\n{\r\n    g.addComponent(PointLight);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Light/Point Light',\r\n        priority: -1,\r\n        click: () =>\r\n            GameObject.createPrimitive('Point Light')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { PerspectiveLens } from '../cameras/lenses/PerspectiveLens';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { Light } from './Light';\r\nimport { LightType } from './LightType';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        SpotLight: SpotLight;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        'Spot Light': GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 聚光灯光源\r\n */\r\n@RegisterComponent()\r\nexport class SpotLight extends Light\r\n{\r\n    lightType = LightType.Spot;\r\n\r\n    /**\r\n     * 光照范围\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('_invalidRange')\r\n    range = 10;\r\n\r\n    /**\r\n     *\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('_invalidAngle')\r\n    angle = 60;\r\n\r\n    /**\r\n     * 半影.\r\n     */\r\n    @oav()\r\n    @serialize\r\n    penumbra = 0;\r\n\r\n    /**\r\n     * 椎体cos值\r\n     */\r\n    get coneCos()\r\n    {\r\n        return Math.cos(this.angle * 0.5 * mathUtil.DEG2RAD);\r\n    }\r\n\r\n    get penumbraCos()\r\n    {\r\n        return Math.cos(this.angle * 0.5 * mathUtil.DEG2RAD * (1 - this.penumbra));\r\n    }\r\n\r\n    private perspectiveLens: PerspectiveLens;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.perspectiveLens = this.shadowCamera.lens = new PerspectiveLens(this.angle, 1, 0.1, this.range);\r\n    }\r\n\r\n    private _invalidRange()\r\n    {\r\n        if (this.shadowCamera)\r\n        { this.shadowCamera.lens.far = this.range; }\r\n    }\r\n\r\n    private _invalidAngle()\r\n    {\r\n        if (this.perspectiveLens)\r\n        { this.perspectiveLens.fov = this.angle; }\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Spot Light', (g) =>\r\n{\r\n    g.addComponent(SpotLight);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Light/Spot Light',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Spot Light')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { RegisterComponent, Component } from '../component/Component';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { Scene } from '../scene/Scene';\r\nimport { TextureCube } from '../textures/TextureCube';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        SkyBox: SkyBox;\r\n    }\r\n}\r\n\r\n/**\r\n * 天空盒组件\r\n */\r\n@AddComponentMenu('SkyBox/SkyBox')\r\n@RegisterComponent()\r\nexport class SkyBox extends Component\r\n{\r\n    __class__: 'feng3d.SkyBox';\r\n\r\n    // /**\r\n    //  * The material used by the skybox.\r\n    //  */\r\n    // @serialize\r\n    // material: Material;\r\n\r\n    @serialize\r\n    @oav({ component: 'OAVPick', componentParam: { accepttype: 'texturecube', datatype: 'texturecube' } })\r\n    s_skyboxTexture = TextureCube.default;\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        renderAtomic.uniforms.s_skyboxTexture = () => this.s_skyboxTexture;\r\n    }\r\n}\r\n","import { Camera } from '../cameras/Camera';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { Scene } from './Scene';\r\n\r\n/**\r\n * 场景拾取缓存\r\n */\r\nexport class ScenePickCache\r\n{\r\n    private scene: Scene;\r\n    private camera: Camera;\r\n\r\n    //\r\n    private _activeModels: Renderable[];\r\n    private _blenditems: Renderable[];\r\n    private _unblenditems: Renderable[];\r\n\r\n    constructor(scene: Scene, camera: Camera)\r\n    {\r\n        this.scene = scene;\r\n        this.camera = camera;\r\n    }\r\n\r\n    /**\r\n     * 获取需要渲染的对象\r\n     *\r\n     * #### 渲染需求条件\r\n     * 1. visible == true\r\n     * 1. 在摄像机视锥内\r\n     * 1. model.enabled == true\r\n     *\r\n     * @param gameObject\r\n     * @param camera\r\n     */\r\n    get activeModels()\r\n    {\r\n        if (this._activeModels)\r\n            { return this._activeModels; }\r\n\r\n        const models: Renderable[] = this._activeModels = [];\r\n        const frustum = this.camera.frustum;\r\n\r\n        let gameObjects = [this.scene.gameObject];\r\n        while (gameObjects.length > 0)\r\n        {\r\n            const gameObject = gameObjects.pop();\r\n\r\n            if (!gameObject.activeSelf)\r\n                { continue; }\r\n            const model = gameObject.getComponent(Renderable);\r\n            if (model && model.enabled)\r\n            {\r\n                if (model.selfWorldBounds)\r\n                {\r\n                    if (frustum.intersectsBox(model.selfWorldBounds))\r\n                        { models.push(model); }\r\n                }\r\n            }\r\n            gameObjects = gameObjects.concat(gameObject.children);\r\n        }\r\n\r\nreturn models;\r\n    }\r\n\r\n    /**\r\n     * 半透明渲染对象\r\n     */\r\n    get blenditems()\r\n    {\r\n        if (this._blenditems)\r\n            { return this._blenditems; }\r\n\r\n        const models = this.activeModels;\r\n        const camerapos = this.camera.transform.worldPosition;\r\n\r\n        const blenditems = this._blenditems = models.filter((item) =>\r\n        item.material.renderParams.enableBlend).sort((b, a) => a.transform.worldPosition.subTo(camerapos).lengthSquared - b.transform.worldPosition.subTo(camerapos).lengthSquared);\r\n\r\n        return blenditems;\r\n    }\r\n\r\n    /**\r\n     * 半透明渲染对象\r\n     */\r\n    get unblenditems()\r\n    {\r\n        if (this._unblenditems)\r\n            { return this._unblenditems; }\r\n\r\n        const models = this.activeModels;\r\n        const camerapos = this.camera.transform.worldPosition;\r\n\r\n        const unblenditems = this._unblenditems = models.filter((item) =>\r\n        !item.material.renderParams.enableBlend).sort((a, b) => a.transform.worldPosition.subTo(camerapos).lengthSquared - b.transform.worldPosition.subTo(camerapos).lengthSquared);\r\n\r\n        return unblenditems;\r\n    }\r\n\r\n    clear()\r\n    {\r\n        this._blenditems = null;\r\n        this._unblenditems = null;\r\n        this._activeModels = null;\r\n    }\r\n}\r\n","import { Color4, Ray3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderMode } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Animation } from '../animation/Animation';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Behaviour } from '../component/Behaviour';\r\nimport { Component, RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { HideFlags } from '../core/HideFlags';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { RunEnvironment } from '../core/RunEnvironment';\r\nimport { DirectionalLight } from '../light/DirectionalLight';\r\nimport { PointLight } from '../light/PointLight';\r\nimport { SpotLight } from '../light/SpotLight';\r\nimport { SkyBox } from '../skybox/SkyBox';\r\nimport { ticker } from '../utils/Ticker';\r\nimport { ScenePickCache } from './ScenePickCache';\r\n\r\ndeclare global\r\n{\r\n    /**\r\n     * 组件事件\r\n     */\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        addToScene: GameObject;\r\n        removeFromScene: GameObject;\r\n        addComponentToScene: Component;\r\n    }\r\n\r\n    export interface MixinsComponentMap { Scene: Scene; }\r\n}\r\n\r\n/**\r\n * 3D场景\r\n */\r\n@RegisterComponent()\r\nexport class Scene extends Component\r\n{\r\n    __class__: 'feng3d.Scene';\r\n\r\n    /**\r\n     * 背景颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    background = new Color4(0, 0, 0, 1);\r\n\r\n    /**\r\n     * 环境光强度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    ambientColor = new Color4();\r\n\r\n    /**\r\n     * 指定所运行环境\r\n     *\r\n     * 控制运行符合指定环境场景中所有 Behaviour.update 方法\r\n     *\r\n     * 用于处理某些脚本只在在feng3d引擎或者编辑器中运行的问题。例如 FPSController 默认只在feng3d中运行，在编辑器模式下不会运行。\r\n     */\r\n    runEnvironment = RunEnvironment.feng3d;\r\n\r\n    /**\r\n     * 鼠标射线，在渲染时被设置\r\n     */\r\n    mouseRay3D: Ray3;\r\n\r\n    /**\r\n     * 上次渲染时用的摄像机\r\n     */\r\n    camera: Camera;\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n        this.transform.hideFlags = this.transform.hideFlags | HideFlags.Hide;\r\n        this.gameObject.hideFlags = this.gameObject.hideFlags | HideFlags.DontTransform;\r\n\r\n        //\r\n        this._gameObject['_scene'] = this;\r\n        this._gameObject['updateChildrenScene']();\r\n    }\r\n\r\n    update(interval?: number)\r\n    {\r\n        interval = interval || (1000 / ticker.frameRate);\r\n\r\n        this._mouseCheckObjects = null;\r\n        this._models = null;\r\n        this._visibleAndEnabledModels = null;\r\n        this._skyBoxs = null;\r\n        this._activeSkyBoxs = null;\r\n        this._directionalLights = null;\r\n        this._activeDirectionalLights = null;\r\n        this._pointLights = null;\r\n        this._activePointLights = null;\r\n        this._spotLights = null;\r\n        this._activeSpotLights = null;\r\n        this._animations = null;\r\n        this._activeAnimations = null;\r\n        this._behaviours = null;\r\n        this._activeBehaviours = null;\r\n\r\n        // 每帧清理拾取缓存\r\n        this._pickMap.forEach((item) => item.clear());\r\n\r\n        this.behaviours.forEach((element) =>\r\n        {\r\n            if (element.isVisibleAndEnabled && Boolean(this.runEnvironment & element.runEnvironment))\r\n            { element.update(interval); }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 所有 Model\r\n     */\r\n    get models()\r\n    {\r\n        this._models = this._models || this.getComponentsInChildren(Renderable);\r\n\r\n        return this._models;\r\n    }\r\n\r\n    /**\r\n     * 所有 可见且开启的 Model\r\n     */\r\n    get visibleAndEnabledModels()\r\n    {\r\n        this._visibleAndEnabledModels = this._visibleAndEnabledModels || this.models.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._visibleAndEnabledModels;\r\n    }\r\n\r\n    /**\r\n     * 所有 SkyBox\r\n     */\r\n    get skyBoxs()\r\n    {\r\n        this._skyBoxs = this._skyBoxs || this.getComponentsInChildren(SkyBox);\r\n\r\n        return this._skyBoxs;\r\n    }\r\n\r\n    get activeSkyBoxs()\r\n    {\r\n        this._activeSkyBoxs = this._activeSkyBoxs || this.skyBoxs.filter((i) => i.gameObject.activeInHierarchy);\r\n\r\n        return this._activeSkyBoxs;\r\n    }\r\n\r\n    get directionalLights()\r\n    {\r\n        this._directionalLights = this._directionalLights || this.getComponentsInChildren(DirectionalLight);\r\n\r\n        return this._directionalLights;\r\n    }\r\n\r\n    get activeDirectionalLights()\r\n    {\r\n        this._activeDirectionalLights = this._activeDirectionalLights || this.directionalLights.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._activeDirectionalLights;\r\n    }\r\n\r\n    get pointLights()\r\n    {\r\n        this._pointLights = this._pointLights || this.getComponentsInChildren(PointLight);\r\n\r\n        return this._pointLights;\r\n    }\r\n\r\n    get activePointLights()\r\n    {\r\n        this._activePointLights = this._activePointLights || this.pointLights.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._activePointLights;\r\n    }\r\n\r\n    get spotLights()\r\n    {\r\n        this._spotLights = this._spotLights || this.getComponentsInChildren(SpotLight);\r\n\r\n        return this._spotLights;\r\n    }\r\n\r\n    get activeSpotLights()\r\n    {\r\n        this._activeSpotLights = this._activeSpotLights || this.spotLights.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._activeSpotLights;\r\n    }\r\n\r\n    get animations()\r\n    {\r\n        this._animations = this._animations || this.getComponentsInChildren(Animation);\r\n\r\n        return this._animations;\r\n    }\r\n\r\n    get activeAnimations()\r\n    {\r\n        this._activeAnimations = this._activeAnimations || this.animations.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._activeAnimations;\r\n    }\r\n\r\n    get behaviours()\r\n    {\r\n        this._behaviours = this._behaviours || this.getComponentsInChildren(Behaviour);\r\n\r\n        return this._behaviours;\r\n    }\r\n\r\n    get activeBehaviours()\r\n    {\r\n        this._activeBehaviours = this._activeBehaviours || this.behaviours.filter((i) => i.isVisibleAndEnabled);\r\n\r\n        return this._activeBehaviours;\r\n    }\r\n\r\n    get mouseCheckObjects()\r\n    {\r\n        if (this._mouseCheckObjects)\r\n        { return this._mouseCheckObjects; }\r\n\r\n        let checkList = this.gameObject.getChildren();\r\n        this._mouseCheckObjects = [];\r\n        let i = 0;\r\n        // 获取所有需要拾取的对象并分层存储\r\n        while (i < checkList.length)\r\n        {\r\n            const checkObject = checkList[i++];\r\n            if (checkObject.mouseEnabled)\r\n            {\r\n                if (checkObject.getComponents(Renderable))\r\n                {\r\n                    this._mouseCheckObjects.push(checkObject);\r\n                }\r\n                checkList = checkList.concat(checkObject.getChildren());\r\n            }\r\n        }\r\n\r\n        return this._mouseCheckObjects;\r\n    }\r\n\r\n    /**\r\n     * 获取拾取缓存\r\n     * @param camera\r\n     */\r\n    getPickCache(camera: Camera)\r\n    {\r\n        if (this._pickMap.get(camera))\r\n        { return this._pickMap.get(camera); }\r\n        const pick = new ScenePickCache(this, camera);\r\n        this._pickMap.set(camera, pick);\r\n\r\n        return pick;\r\n    }\r\n\r\n    /**\r\n     * 获取接收光照渲染对象列表\r\n     * @param _light\r\n     */\r\n    getPickByDirectionalLight(_light: DirectionalLight)\r\n    {\r\n        const openlist = [this.gameObject];\r\n        const targets: Renderable[] = [];\r\n        while (openlist.length > 0)\r\n        {\r\n            const item = openlist.shift();\r\n            if (!item.activeSelf) continue;\r\n            const model = item.getComponent(Renderable);\r\n            if (model && (model.castShadows || model.receiveShadows)\r\n                && !model.material.renderParams.enableBlend\r\n                && model.material.renderParams.renderMode === RenderMode.TRIANGLES\r\n            )\r\n            {\r\n                targets.push(model);\r\n            }\r\n            item.children.forEach((element) =>\r\n            {\r\n                openlist.push(element);\r\n            });\r\n        }\r\n\r\n        return targets;\r\n    }\r\n\r\n    /**\r\n     * 获取 可被摄像机看见的 Model 列表\r\n     * @param camera\r\n     */\r\n    getModelsByCamera(camera: Camera)\r\n    {\r\n        const frustum = camera.frustum;\r\n\r\n        const results = this.visibleAndEnabledModels.filter((i) =>\r\n        {\r\n            const model = i.getComponent(Renderable);\r\n            if (model.selfWorldBounds)\r\n            {\r\n                if (frustum.intersectsBox(model.selfWorldBounds))\r\n                { return true; }\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        return results;\r\n    }\r\n\r\n    //\r\n    private _mouseCheckObjects: GameObject[];\r\n    private _models: Renderable[];\r\n    private _visibleAndEnabledModels: Renderable[];\r\n    private _skyBoxs: SkyBox[];\r\n    private _activeSkyBoxs: SkyBox[];\r\n    private _directionalLights: DirectionalLight[];\r\n    private _activeDirectionalLights: DirectionalLight[];\r\n    private _pointLights: PointLight[];\r\n    private _activePointLights: PointLight[];\r\n    private _spotLights: SpotLight[];\r\n    private _activeSpotLights: SpotLight[];\r\n    private _animations: Animation[];\r\n    private _activeAnimations: Animation[];\r\n    private _behaviours: Behaviour[];\r\n    private _activeBehaviours: Behaviour[];\r\n    private _pickMap = new Map<Camera, ScenePickCache>();\r\n}\r\n","import { Attribute, CullFace, Index, RenderAtomic, Shader, WebGLRenderer } from '@feng3d/renderer';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { Scene } from '../scene/Scene';\r\nimport { SkyBox } from './SkyBox';\r\n\r\n/**\r\n * 天空盒渲染器\r\n */\r\nexport class SkyBoxRenderer\r\n{\r\n    private renderAtomic: RenderAtomic;\r\n\r\n    init()\r\n    {\r\n        if (!this.renderAtomic)\r\n        {\r\n            const renderAtomic = this.renderAtomic = new RenderAtomic();\r\n            // 八个顶点，32个number\r\n            const vertexPositionData = [ //\r\n                -1, 1, -1, //\r\n                1, 1, -1, //\r\n                1, 1, 1, //\r\n                -1, 1, 1, //\r\n                -1, -1, -1, //\r\n                1, -1, -1, //\r\n                1, -1, 1, //\r\n                -1, -1, 1 //\r\n            ];\r\n            renderAtomic.attributes.a_position = new Attribute({ name: 'a_position', data: vertexPositionData, size: 3 });\r\n            // 6个面，12个三角形，36个顶点索引\r\n            const indices = [ //\r\n                0, 1, 2, 2, 3, 0, //\r\n                6, 5, 4, 4, 7, 6, //\r\n                2, 6, 7, 7, 3, 2, //\r\n                4, 5, 1, 1, 0, 4, //\r\n                4, 0, 3, 3, 7, 4, //\r\n                2, 1, 5, 5, 6, 2 //\r\n            ];\r\n            renderAtomic.index = new Index();\r\n            renderAtomic.index.indices = indices;\r\n            //\r\n            const renderParams = renderAtomic.renderParams;\r\n            renderParams.cullFace = CullFace.NONE;\r\n            //\r\n\r\n            renderAtomic.shader = new Shader({ shaderName: 'skybox' });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 绘制场景中天空盒\r\n     * @param renderer\r\n     * @param scene 场景\r\n     * @param camera 摄像机\r\n     */\r\n    draw(renderer: WebGLRenderer, scene: Scene, camera: Camera)\r\n    {\r\n        const skybox = scene.activeSkyBoxs[0];\r\n        this.drawSkyBox(renderer, skybox, scene, camera);\r\n    }\r\n\r\n    /**\r\n     * 绘制天空盒\r\n     * @param renderer\r\n     * @param skybox 天空盒\r\n     * @param camera 摄像机\r\n     */\r\n    drawSkyBox(renderer: WebGLRenderer, skybox: SkyBox, scene: Scene, camera: Camera)\r\n    {\r\n        if (!skybox) return;\r\n\r\n        this.init();\r\n\r\n        //\r\n        skybox.beforeRender(this.renderAtomic, scene, camera);\r\n\r\n        //\r\n        this.renderAtomic.uniforms.u_viewProjection = camera.viewProjection;\r\n        this.renderAtomic.uniforms.u_viewMatrix = camera.transform.worldToLocalMatrix;\r\n        this.renderAtomic.uniforms.u_cameraMatrix = camera.transform.localToWorldMatrix;\r\n        this.renderAtomic.uniforms.u_cameraPos = camera.transform.worldPosition;\r\n        this.renderAtomic.uniforms.u_skyBoxSize = camera.lens.far / Math.sqrt(3);\r\n\r\n        renderer.render(this.renderAtomic);\r\n    }\r\n}\r\n\r\n/**\r\n * 天空盒渲染器\r\n */\r\nexport const skyboxRenderer = new SkyBoxRenderer();\r\n","import { Ray3, Rectangle, Vector2, Vector3 } from '@feng3d/math';\r\nimport { WebGLRenderer } from '@feng3d/renderer';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { windowEventProxy } from '@feng3d/shortcut';\r\nimport { AudioListener } from '../audio/AudioListener';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { DirectionalLight } from '../light/DirectionalLight';\r\nimport { ShadowType } from '../light/shadow/ShadowType';\r\nimport { forwardRenderer } from '../render/renderer/ForwardRenderer';\r\nimport { outlineRenderer } from '../render/renderer/OutlineRenderer';\r\nimport { shadowRenderer } from '../render/renderer/ShadowRenderer';\r\nimport { wireframeRenderer } from '../render/renderer/WireframeRenderer';\r\nimport { Scene } from '../scene/Scene';\r\nimport { skyboxRenderer } from '../skybox/SkyBoxRenderer';\r\nimport { ticker } from '../utils/Ticker';\r\nimport { Feng3dObject } from './Feng3dObject';\r\nimport { GameObject } from './GameObject';\r\nimport { Mouse3DManager, WindowMouseInput } from './Mouse3DManager';\r\nimport { Renderable } from './Renderable';\r\nimport { Transform } from './Transform';\r\n\r\ndeclare global\r\n{\r\n    interface HTMLCanvasElement\r\n    {\r\n        gl: WebGLRenderer;\r\n    }\r\n}\r\n\r\n/**\r\n * 视图\r\n */\r\nexport class View extends Feng3dObject\r\n{\r\n    //\r\n    canvas: HTMLCanvasElement;\r\n\r\n    private _contextAttributes: WebGLContextAttributes = { stencil: true };\r\n\r\n    /**\r\n     * 摄像机\r\n     */\r\n    get camera()\r\n    {\r\n        if (!this._camera)\r\n        {\r\n            const cameras = this.scene.getComponentsInChildren(Camera);\r\n            if (cameras.length === 0)\r\n            {\r\n                this._camera = serialization.setValue(new GameObject(), { name: 'defaultCamera' }).addComponent(Camera);\r\n                this.scene.gameObject.addChild(this._camera.gameObject);\r\n            }\r\n            else\r\n            {\r\n                this._camera = cameras[0];\r\n            }\r\n        }\r\n\r\n        return this._camera;\r\n    }\r\n    set camera(v)\r\n    {\r\n        this._camera = v;\r\n    }\r\n    private _camera: Camera;\r\n    /**\r\n     * 3d场景\r\n     */\r\n    scene: Scene;\r\n    /**\r\n     * 根结点\r\n     */\r\n    get root()\r\n    {\r\n        return this.scene.gameObject;\r\n    }\r\n\r\n    get gl()\r\n    {\r\n        if (!this.canvas.gl)\r\n        { this.canvas.gl = new WebGLRenderer(this.canvas, this._contextAttributes); }\r\n\r\n        return this.canvas.gl;\r\n    }\r\n\r\n    /**\r\n     * 鼠标在3D视图中的位置\r\n     */\r\n    mousePos = new Vector2();\r\n\r\n    viewRect = new Rectangle();\r\n\r\n    /**\r\n     * 鼠标事件管理\r\n     */\r\n    mouse3DManager: Mouse3DManager;\r\n\r\n    protected contextLost = false;\r\n\r\n    /**\r\n     * 构建3D视图\r\n     * @param canvas    画布\r\n     * @param scene     3D场景\r\n     * @param camera    摄像机\r\n     */\r\n    constructor(canvas?: HTMLCanvasElement, scene?: Scene, camera?: Camera, contextAttributes?: WebGLContextAttributes)\r\n    {\r\n        super();\r\n        if (!canvas)\r\n        {\r\n            canvas = document.createElement('canvas');\r\n            canvas.id = 'glcanvas';\r\n            canvas.style.position = 'fixed';\r\n            canvas.style.left = '0px';\r\n            canvas.style.top = '0px';\r\n            canvas.style.width = '100%';\r\n            canvas.style.height = '100%';\r\n            document.body.appendChild(canvas);\r\n        }\r\n        console.assert(canvas instanceof HTMLCanvasElement, `canvas参数必须为 HTMLCanvasElement 类型！`);\r\n\r\n        this.canvas = canvas;\r\n        if (contextAttributes)\r\n        {\r\n            Object.assign(this._contextAttributes, contextAttributes);\r\n        }\r\n\r\n        canvas.addEventListener('webglcontextlost', (event) =>\r\n        {\r\n            event.preventDefault();\r\n            this.contextLost = true;\r\n            // #ifdef DEBUG\r\n            console.log('GraphicsDevice: WebGL context lost.');\r\n            // #endif\r\n        }, false);\r\n\r\n        canvas.addEventListener('webglcontextrestored', () =>\r\n        {\r\n            this.contextLost = false;\r\n            // #ifdef DEBUG\r\n            console.log('GraphicsDevice: WebGL context restored.');\r\n            // #endif\r\n        }, false);\r\n\r\n        this.scene = scene || serialization.setValue(new GameObject(), { name: 'scene' }).addComponent(Scene);\r\n        this.camera = camera;\r\n\r\n        this.start();\r\n\r\n        this.mouse3DManager = new Mouse3DManager(new WindowMouseInput(), () => this.viewRect);\r\n    }\r\n\r\n    /**\r\n     * 修改canvas尺寸\r\n     * @param width 宽度\r\n     * @param height 高度\r\n     */\r\n    setSize(width: number, height: number)\r\n    {\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n        this.canvas.style.width = `${width}px`;\r\n        this.canvas.style.height = `${height}px`;\r\n    }\r\n\r\n    start()\r\n    {\r\n        ticker.onframe(this.update, this);\r\n    }\r\n\r\n    stop()\r\n    {\r\n        ticker.offframe(this.update, this);\r\n    }\r\n\r\n    update(interval?: number)\r\n    {\r\n        this.render(interval);\r\n        this.mouse3DManager.selectedGameObject = this.selectedObject;\r\n    }\r\n\r\n    /**\r\n     * 绘制场景\r\n     */\r\n    render(interval?: number)\r\n    {\r\n        if (!this.scene) return;\r\n        if (this.contextLost) return;\r\n\r\n        this.scene.update(interval);\r\n\r\n        this.canvas.width = this.canvas.clientWidth;\r\n        this.canvas.height = this.canvas.clientHeight;\r\n        if (this.canvas.width * this.canvas.height === 0) return;\r\n\r\n        const clientRect = this.canvas.getBoundingClientRect();\r\n\r\n        this.viewRect.x = clientRect.left;\r\n        this.viewRect.y = clientRect.top;\r\n        this.viewRect.width = clientRect.width;\r\n        this.viewRect.height = clientRect.height;\r\n\r\n        this.mousePos.x = windowEventProxy.clientX - clientRect.left;\r\n        this.mousePos.y = windowEventProxy.clientY - clientRect.top;\r\n\r\n        this.camera.lens.aspect = this.viewRect.width / this.viewRect.height;\r\n\r\n        // 设置鼠标射线\r\n        this.calcMouseRay3D();\r\n\r\n        this.scene.mouseRay3D = this.mouseRay3D;\r\n        this.scene.camera = this.camera;\r\n\r\n        const gl = this.gl.gl;\r\n\r\n        // 默认渲染\r\n        gl.colorMask(true, true, true, true);\r\n        gl.clearColor(this.scene.background.r, this.scene.background.g, this.scene.background.b, this.scene.background.a);\r\n        gl.clearStencil(0);\r\n        gl.clearDepth(1);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n        gl.enable(gl.DEPTH_TEST);\r\n\r\n        // 鼠标拾取渲染\r\n        this.selectedObject = this.mouse3DManager.pick(this, this.scene, this.camera);\r\n        // 绘制阴影图\r\n        shadowRenderer.draw(this.gl, this.scene, this.camera);\r\n        skyboxRenderer.draw(this.gl, this.scene, this.camera);\r\n        // 默认渲染\r\n        forwardRenderer.draw(this.gl, this.scene, this.camera);\r\n        outlineRenderer.draw(this.gl, this.scene, this.camera);\r\n        wireframeRenderer.draw(this.gl, this.scene, this.camera);\r\n    }\r\n\r\n    /**\r\n     * 屏幕坐标转GPU坐标\r\n     * @param screenPos 屏幕坐标 (x: [0-width], y: [0 - height])\r\n     * @return GPU坐标 (x: [-1, 1], y: [-1, 1])\r\n     */\r\n    screenToGpuPosition(screenPos: Vector2): Vector2\r\n    {\r\n        const gpuPos: Vector2 = new Vector2();\r\n        gpuPos.x = (screenPos.x * 2 - this.viewRect.width) / this.viewRect.width;\r\n        // 屏幕坐标与gpu中使用的坐标Y轴方向相反\r\n        gpuPos.y = -(screenPos.y * 2 - this.viewRect.height) / this.viewRect.height;\r\n\r\n        return gpuPos;\r\n    }\r\n\r\n    /**\r\n     * 投影坐标（世界坐标转换为3D视图坐标）\r\n     * @param point3d 世界坐标\r\n     * @return 屏幕的绝对坐标\r\n     */\r\n    project(point3d: Vector3): Vector3\r\n    {\r\n        const v: Vector3 = this.camera.project(point3d);\r\n        v.x = (v.x + 1.0) * this.viewRect.width / 2.0;\r\n        v.y = (1.0 - v.y) * this.viewRect.height / 2.0;\r\n\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * 屏幕坐标投影到场景坐标\r\n     * @param nX 屏幕坐标X ([0-width])\r\n     * @param nY 屏幕坐标Y ([0-height])\r\n     * @param sZ 到屏幕的距离\r\n     * @param v 场景坐标（输出）\r\n     * @return 场景坐标\r\n     */\r\n    unproject(sX: number, sY: number, sZ: number, v = new Vector3()): Vector3\r\n    {\r\n        const gpuPos: Vector2 = this.screenToGpuPosition(new Vector2(sX, sY));\r\n\r\n        return this.camera.unproject(gpuPos.x, gpuPos.y, sZ, v);\r\n    }\r\n\r\n    /**\r\n     * 获取单位像素在指定深度映射的大小\r\n     * @param   depth   深度\r\n     */\r\n    getScaleByDepth(depth: number, dir = new Vector2(0, 1))\r\n    {\r\n        let scale = this.camera.getScaleByDepth(depth, dir);\r\n        scale = scale / new Vector2(this.viewRect.width * dir.x, this.viewRect.height * dir.y).length;\r\n\r\n        return scale;\r\n    }\r\n\r\n    /**\r\n     * 获取鼠标射线（与鼠标重叠的摄像机射线）\r\n     */\r\n    mouseRay3D: Ray3;\r\n\r\n    private calcMouseRay3D()\r\n    {\r\n        const gpuPos = this.screenToGpuPosition(this.mousePos);\r\n        this.mouseRay3D = this.camera.getRay3D(gpuPos.x, gpuPos.y);\r\n    }\r\n\r\n    /**\r\n     * 获取屏幕区域内所有游戏对象\r\n     * @param start 起点\r\n     * @param end 终点\r\n     */\r\n    getObjectsInGlobalArea(start: Vector2, end: Vector2)\r\n    {\r\n        const s = this.viewRect.clampPoint(start);\r\n        const e = this.viewRect.clampPoint(end);\r\n        s.sub(this.viewRect.topLeft);\r\n        e.sub(this.viewRect.topLeft);\r\n        const min = s.clone().min(e);\r\n        const max = s.clone().max(e);\r\n        const rect = new Rectangle(min.x, min.y, max.x - min.x, max.y - min.y);\r\n        //\r\n        const gs = this.scene.getComponentsInChildren(Transform).filter((t) =>\r\n        {\r\n            if (t === this.scene.transform) return false;\r\n            const m = t.getComponent(Renderable);\r\n            if (m)\r\n            {\r\n                const include = m.selfWorldBounds.toPoints().every((pos) =>\r\n                {\r\n                    const p = this.project(pos);\r\n\r\n                    return rect.contains(p.x, p.y);\r\n                });\r\n\r\n                return include;\r\n            }\r\n            const p = this.project(t.worldPosition);\r\n\r\n            return rect.contains(p.x, p.y);\r\n        }).map((t) => t.gameObject);\r\n\r\n        return gs;\r\n    }\r\n\r\n    protected selectedObject: GameObject;\r\n\r\n    static createNewScene()\r\n    {\r\n        const scene = serialization.setValue(new GameObject(), { name: 'Untitled' }).addComponent(Scene);\r\n        scene.background.setTo(0.2784, 0.2784, 0.2784);\r\n        scene.ambientColor.setTo(0.4, 0.4, 0.4);\r\n\r\n        const camera = GameObject.createPrimitive('Camera', { name: 'Main Camera' });\r\n        camera.addComponent(AudioListener);\r\n        camera.transform.position = new Vector3(0, 1, -10);\r\n        scene.gameObject.addChild(camera);\r\n\r\n        const directionalLight = serialization.setValue(new GameObject(), { name: 'DirectionalLight' });\r\n        directionalLight.addComponent(DirectionalLight).shadowType = ShadowType.Hard_Shadows;\r\n        directionalLight.transform.rx = 50;\r\n        directionalLight.transform.ry = -30;\r\n        directionalLight.transform.y = 3;\r\n        scene.gameObject.addChild(directionalLight);\r\n\r\n        return scene;\r\n    }\r\n}\r\n\r\n// var viewRect0 = { x: 0, y: 0, w: 400, h: 300 };\r\n","import { serialize } from '@feng3d/serialization';\r\nimport { Geometry } from './Geometry';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        CustomGeometry: CustomGeometry\r\n    }\r\n}\r\n\r\nexport class CustomGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.CustomGeometry';\r\n\r\n    /**\r\n     * 顶点索引缓冲\r\n     */\r\n    @serialize\r\n    private get indicesData()\r\n    {\r\n        return this.indices;\r\n    }\r\n\r\n    private set indicesData(v)\r\n    {\r\n        this.indices = v;\r\n    }\r\n\r\n    /**\r\n     * 属性数据列表\r\n     */\r\n    @serialize\r\n    get attributes()\r\n    {\r\n        return this._attributes;\r\n    }\r\n    set attributes(v)\r\n    {\r\n        this._attributes = v;\r\n    }\r\n}\r\n","import { Color4, Vector2, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Geometry } from './Geometry';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        PointGeometry: PointGeometry\r\n    }\r\n}\r\n\r\n/**\r\n * 点几何体\r\n */\r\nexport class PointGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.PointGeometry';\r\n\r\n    /**\r\n     * 点数据列表\r\n     * 修改数组内数据时需要手动调用 invalidateGeometry();\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    points: PointInfo[] = [];\r\n\r\n    /**\r\n     * 构建几何体\r\n     */\r\n    buildGeometry()\r\n    {\r\n        let numPoints = this.points.length;\r\n        const indices: number[] = [];\r\n        const positionData: number[] = [];\r\n        const normalData: number[] = [];\r\n        const uvData: number[] = [];\r\n        const colors: number[] = [];\r\n\r\n        numPoints = Math.max(1, numPoints);\r\n\r\n        for (let i = 0; i < numPoints; i++)\r\n        {\r\n            const element = this.points[i];\r\n            const position = (element && element.position) || Vector3.ZERO;\r\n            const color = (element && element.color) || Color4.WHITE;\r\n            const normal = (element && element.normal) || Vector3.ZERO;\r\n            const uv = (element && element.uv) || Vector2.zero;\r\n            indices[i] = i;\r\n            positionData.push(position.x, position.y, position.z);\r\n            normalData.push(normal.x, normal.y, normal.z);\r\n            uvData.push(uv.x, uv.y);\r\n            colors.push(color.r, color.g, color.b, color.a);\r\n        }\r\n        this.positions = positionData;\r\n        this.uvs = uvData;\r\n        this.normals = normalData;\r\n        this.indices = indices;\r\n        this.colors = colors;\r\n    }\r\n}\r\n\r\n/**\r\n * 点信息\r\n */\r\nexport interface PointInfo\r\n{\r\n    position?: Vector3;\r\n    color?: Color4;\r\n    normal?: Vector3;\r\n    uv?: Vector2;\r\n}\r\n","import { Color4, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Material } from '../materials/Material';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { Geometry } from './Geometry';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Segment: GameObject;\r\n    }\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        SegmentGeometry: SegmentGeometry\r\n    }\r\n}\r\n/**\r\n * 线段组件\r\n */\r\nexport class SegmentGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.SegmentGeometry';\r\n\r\n    name = 'Segment';\r\n\r\n    /**\r\n     * 线段列表\r\n     * 修改数组内数据时需要手动调用 invalidateGeometry();\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVArray', tooltip: '在指定时间进行额外发射指定数量的粒子', componentParam: { defaultItem: () => new Segment() } })\r\n    @watch('invalidateGeometry')\r\n    segments: Segment[] = [];\r\n\r\n    /**\r\n     * 添加线段\r\n     *\r\n     * @param segment 线段\r\n     */\r\n    addSegment(segment: Partial<Segment>)\r\n    {\r\n        const s = new Segment();\r\n        serialization.setValue(s, segment);\r\n        this.segments.push(s);\r\n        this.invalidateGeometry();\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 更新几何体\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        const numSegments = this.segments.length;\r\n        const indices: number[] = [];\r\n        const positionData: number[] = [];\r\n        const colorData: number[] = [];\r\n\r\n        for (let i = 0; i < numSegments; i++)\r\n        {\r\n            const element = this.segments[i];\r\n            const start = element.start || Vector3.ZERO;\r\n            const end = element.end || Vector3.ZERO;\r\n            const startColor = element.startColor || Color4.WHITE;\r\n            const endColor = element.endColor || Color4.WHITE;\r\n\r\n            indices.push(i * 2, i * 2 + 1);\r\n            positionData.push(start.x, start.y, start.z, end.x, end.y, end.z);\r\n            colorData.push(startColor.r, startColor.g, startColor.b, startColor.a,\r\n                endColor.r, endColor.g, endColor.b, endColor.a);\r\n        }\r\n\r\n        this.positions = positionData;\r\n        this.colors = colorData;\r\n        this.indices = indices;\r\n    }\r\n}\r\n\r\n/**\r\n * 线段\r\n */\r\nexport class Segment\r\n{\r\n    /**\r\n     * 起点坐标\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '起点坐标' })\r\n    start = new Vector3();\r\n\r\n    /**\r\n     * 终点坐标\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '终点坐标' })\r\n    end = new Vector3();\r\n\r\n    /**\r\n     * 起点颜色\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '起点颜色' })\r\n    startColor = new Color4();\r\n\r\n    /**\r\n     * 终点颜色\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '终点颜色' })\r\n    endColor = new Color4();\r\n}\r\n\r\nGameObject.registerPrimitive('Segment', (g) =>\r\n{\r\n    const model = g.addComponent(MeshRenderer);\r\n    model.geometry = new SegmentGeometry();\r\n    model.material = Material.getDefault('Segment-Material');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Segment',\r\n        priority: -10000,\r\n        click: () =>\r\n            GameObject.createPrimitive('Segment')\r\n    }\r\n);\r\n\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport colorFragment from '../shaders/color.fragment.glsl';\r\nimport colorVertex from '../shaders/color.vertex.glsl';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsUniformsTypes\r\n    {\r\n        color: ColorUniforms\r\n    }\r\n}\r\n\r\nexport class ColorUniforms\r\n{\r\n    __class__: 'feng3d.ColorUniforms';\r\n    /**\r\n     * 颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_diffuseInput = new Color4();\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.color = { fragment: colorFragment, vertex: colorVertex, cls: ColorUniforms };\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport pointFragment from '../shaders/point.fragment.glsl';\r\nimport pointVertex from '../shaders/point.vertex.glsl';\r\n\r\ndeclare global\r\n{\r\n    interface MixinsUniformsTypes\r\n    {\r\n        point: PointUniforms\r\n    }\r\n}\r\n\r\nexport class PointUniforms\r\n{\r\n    __class__: 'feng3d.PointUniforms';\r\n    /**\r\n     * 颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_color = new Color4();\r\n\r\n    /**\r\n     * 点绘制时点的尺寸\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_PointSize = 1;\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.point = { fragment: pointFragment, vertex: pointVertex, cls: PointUniforms };\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderMode, shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport segmentFragment from '../shaders/segment.fragment.glsl';\r\nimport segmentVertex from '../shaders/segment.vertex.glsl';\r\nimport { Material } from './Material';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        segment: SegmentUniforms\r\n    }\r\n\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Segment-Material': Material;\r\n    }\r\n}\r\n\r\n/**\r\n * 线段材质\r\n * 目前webgl不支持修改线条宽度，参考：https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/lineWidth\r\n */\r\nexport class SegmentUniforms\r\n{\r\n    __class__: 'feng3d.SegmentUniforms';\r\n\r\n    /**\r\n     * 颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_segmentColor = new Color4();\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.segment = {\r\n    fragment: segmentFragment, vertex: segmentVertex, cls: SegmentUniforms,\r\n    renderParams: { renderMode: RenderMode.LINES, enableBlend: true }\r\n};\r\n\r\nMaterial.setDefault('Segment-Material', { shaderName: 'segment' });\r\n","import { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport textureFragment from '../shaders/texture.fragment.glsl';\r\nimport textureVertex from '../shaders/texture.vertex.glsl';\r\nimport { Texture2D } from '../textures/Texture2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        texture: TextureUniforms\r\n    }\r\n}\r\nexport class TextureUniforms\r\n{\r\n    __class__: 'feng3d.TextureUniforms';\r\n    /**\r\n     * 颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_color = new Color4();\r\n\r\n    /**\r\n     * 纹理数据\r\n     */\r\n    @oav()\r\n    @serialize\r\n    s_texture = Texture2D.default;\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.texture = { fragment: textureFragment, vertex: textureVertex, cls: TextureUniforms };\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        CapsuleGeometry: CapsuleGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Capsule: CapsuleGeometry;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Capsule: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 胶囊体几何体\r\n */\r\nexport class CapsuleGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.CapsuleGeometry';\r\n\r\n    /**\r\n     * 胶囊体半径\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    radius = 0.5;\r\n\r\n    /**\r\n     * 胶囊体高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    height = 1;\r\n\r\n    /**\r\n     * 横向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 16;\r\n\r\n    /**\r\n     * 纵向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 15;\r\n\r\n    /**\r\n     * 正面朝向 true:Y+ false:Z+\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    yUp = true;\r\n\r\n    name = 'Capsule';\r\n\r\n    /**\r\n     * 构建几何体数据\r\n     * @param radius 胶囊体半径\r\n     * @param height 胶囊体高度\r\n     * @param segmentsW 横向分割数\r\n     * @param segmentsH 纵向分割数\r\n     * @param yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        const vertexPositionData: number[] = [];\r\n        const vertexNormalData: number[] = [];\r\n        const vertexTangentData: number[] = [];\r\n\r\n        let startIndex: number;\r\n        let index = 0;\r\n        let comp1: number; let comp2: number; let t1: number; let\r\n            t2: number;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            startIndex = index;\r\n\r\n            const horangle = Math.PI * yi / this.segmentsH;\r\n            const z = -this.radius * Math.cos(horangle);\r\n            const ringradius = this.radius * Math.sin(horangle);\r\n\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                const verangle = 2 * Math.PI * xi / this.segmentsW;\r\n                const x = ringradius * Math.cos(verangle);\r\n                const y = ringradius * Math.sin(verangle);\r\n                const normLen = 1 / Math.sqrt(x * x + y * y + z * z);\r\n                const tanLen = Math.sqrt(y * y + x * x);\r\n                const offset = yi > this.segmentsH / 2 ? this.height / 2 : -this.height / 2;\r\n\r\n                if (this.yUp)\r\n                {\r\n                    t1 = 0;\r\n                    t2 = tanLen > 0.007 ? x / tanLen : 0;\r\n                    comp1 = -z;\r\n                    comp2 = y;\r\n                }\r\n                else\r\n                {\r\n                    t1 = tanLen > 0.007 ? x / tanLen : 0;\r\n                    t2 = 0;\r\n                    comp1 = y;\r\n                    comp2 = z;\r\n                }\r\n\r\n                if (xi === this.segmentsW)\r\n                {\r\n                    vertexPositionData[index] = vertexPositionData[startIndex];\r\n                    vertexPositionData[index + 1] = vertexPositionData[startIndex + 1];\r\n                    vertexPositionData[index + 2] = vertexPositionData[startIndex + 2];\r\n\r\n                    vertexNormalData[index] = (vertexNormalData[startIndex] + x * normLen) * 0.5;\r\n                    vertexNormalData[index + 1] = (vertexNormalData[startIndex + 1] + comp1 * normLen) * 0.5;\r\n                    vertexNormalData[index + 2] = (vertexNormalData[startIndex + 2] + comp2 * normLen) * 0.5;\r\n\r\n                    vertexTangentData[index] = (vertexTangentData[startIndex] + tanLen > 0.007 ? -y / tanLen : 1) * 0.5;\r\n                    vertexTangentData[index + 1] = (vertexTangentData[startIndex + 1] + t1) * 0.5;\r\n                    vertexTangentData[index + 2] = (vertexTangentData[startIndex + 2] + t2) * 0.5;\r\n                }\r\n                else\r\n                {\r\n                    vertexPositionData[index] = x;\r\n                    vertexPositionData[index + 1] = this.yUp ? comp1 - offset : comp1;\r\n                    vertexPositionData[index + 2] = this.yUp ? comp2 : comp2 + offset;\r\n\r\n                    vertexNormalData[index] = x * normLen;\r\n                    vertexNormalData[index + 1] = comp1 * normLen;\r\n                    vertexNormalData[index + 2] = comp2 * normLen;\r\n\r\n                    vertexTangentData[index] = tanLen > 0.007 ? -y / tanLen : 1;\r\n                    vertexTangentData[index + 1] = t1;\r\n                    vertexTangentData[index + 2] = t2;\r\n                }\r\n\r\n                if (xi > 0 && yi > 0)\r\n                {\r\n                    if (yi === this.segmentsH)\r\n                    {\r\n                        vertexPositionData[index] = vertexPositionData[startIndex];\r\n                        vertexPositionData[index + 1] = vertexPositionData[startIndex + 1];\r\n                        vertexPositionData[index + 2] = vertexPositionData[startIndex + 2];\r\n                    }\r\n                }\r\n\r\n                index += 3;\r\n            }\r\n        }\r\n        this.positions = vertexPositionData;\r\n        this.normals = vertexNormalData;\r\n        this.tangents = vertexTangentData;\r\n\r\n        const uvData = this.buildUVs();\r\n        this.uvs = uvData;\r\n\r\n        this.buildIndices();\r\n    }\r\n\r\n    /**\r\n     * 构建顶点索引\r\n     * @param segmentsW 横向分割数\r\n     * @param segmentsH 纵向分割数\r\n     * @param yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildIndices()\r\n    {\r\n        const indices: number[] = [];\r\n\r\n        let numIndices = 0;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                if (xi > 0 && yi > 0)\r\n                {\r\n                    const a = (this.segmentsW + 1) * yi + xi;\r\n                    const b = (this.segmentsW + 1) * yi + xi - 1;\r\n                    const c = (this.segmentsW + 1) * (yi - 1) + xi - 1;\r\n                    const d = (this.segmentsW + 1) * (yi - 1) + xi;\r\n\r\n                    if (yi === this.segmentsH)\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = d;\r\n                    }\r\n                    else if (yi === 1)\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = b;\r\n                        indices[numIndices++] = c;\r\n                    }\r\n                    else\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = b;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = d;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.indices = indices;\r\n    }\r\n\r\n    /**\r\n     * 构建uv\r\n     * @param segmentsW 横向分割数\r\n     * @param segmentsH 纵向分割数\r\n     */\r\n    private buildUVs()\r\n    {\r\n        const data: number[] = [];\r\n        let index = 0;\r\n\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                data[index++] = xi / this.segmentsW;\r\n                data[index++] = yi / this.segmentsH;\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Capsule', new CapsuleGeometry());\r\n\r\nGameObject.registerPrimitive('Capsule', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Capsule');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Capsule',\r\n        priority: -3,\r\n        click: () =>\r\n            GameObject.createPrimitive('Capsule')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        CylinderGeometry: CylinderGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Cylinder: CylinderGeometry;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Cylinder: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 圆柱体几何体\r\n * @author DawnKing 2016-09-12\r\n */\r\nexport class CylinderGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.CylinderGeometry' | 'feng3d.ConeGeometry';\r\n\r\n    /**\r\n     * 顶部半径\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    topRadius = 0.5;\r\n\r\n    /**\r\n     * 底部半径\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    bottomRadius = 0.5;\r\n\r\n    /**\r\n     * 高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    height = 2;\r\n\r\n    /**\r\n     * 横向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 16;\r\n\r\n    /**\r\n     * 纵向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 1;\r\n\r\n    /**\r\n     * 顶部是否封口\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    topClosed = true;\r\n\r\n    /**\r\n     * 底部是否封口\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    bottomClosed = true;\r\n\r\n    /**\r\n     * 侧面是否封口\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidateGeometry')\r\n    surfaceClosed = true;\r\n\r\n    /**\r\n     * 是否朝上\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    yUp = true;\r\n\r\n    name = 'Cylinder';\r\n\r\n    /**\r\n     * 构建几何体数据\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        let i: number; let j: number; let\r\n            index = 0;\r\n        let x: number; let y: number; let z: number; let radius: number; let\r\n            revolutionAngle = 0;\r\n\r\n        let comp1: number; let\r\n            comp2: number;\r\n        let startIndex = 0;\r\n        let t1: number; let\r\n            t2: number;\r\n\r\n        const vertexPositionData: number[] = [];\r\n        const vertexNormalData: number[] = [];\r\n        const vertexTangentData: number[] = [];\r\n\r\n        const revolutionAngleDelta = 2 * Math.PI / this.segmentsW;\r\n\r\n        // 顶部\r\n        if (this.topClosed && this.topRadius > 0)\r\n        {\r\n            z = -0.5 * this.height;\r\n\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                // 中心顶点\r\n                if (this.yUp)\r\n                {\r\n                    t1 = 1;\r\n                    t2 = 0;\r\n                    comp1 = -z;\r\n                    comp2 = 0;\r\n                }\r\n                else\r\n                {\r\n                    t1 = 0;\r\n                    t2 = -1;\r\n                    comp1 = 0;\r\n                    comp2 = z;\r\n                }\r\n\r\n                addVertex(0, comp1, comp2, 0, t1, t2, 1, 0, 0);\r\n\r\n                // 旋转顶点\r\n                revolutionAngle = i * revolutionAngleDelta;\r\n                x = this.topRadius * Math.cos(revolutionAngle);\r\n                y = this.topRadius * Math.sin(revolutionAngle);\r\n\r\n                if (this.yUp)\r\n                {\r\n                    comp1 = -z;\r\n                    comp2 = y;\r\n                }\r\n                else\r\n                {\r\n                    comp1 = y;\r\n                    comp2 = z;\r\n                }\r\n\r\n                if (i === this.segmentsW)\r\n                {\r\n                    addVertex(vertexPositionData[startIndex + 3], vertexPositionData[startIndex + 4], vertexPositionData[startIndex + 5],\r\n                        0, t1, t2, 1, 0, 0);\r\n                }\r\n                else\r\n                {\r\n                    addVertex(x, comp1, comp2,\r\n                        0, t1, t2, 1, 0, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 底部\r\n        if (this.bottomClosed && this.bottomRadius > 0)\r\n        {\r\n            z = 0.5 * this.height;\r\n            startIndex = index;\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                // 中心顶点\r\n                if (this.yUp)\r\n                {\r\n                    t1 = -1;\r\n                    t2 = 0;\r\n                    comp1 = -z;\r\n                    comp2 = 0;\r\n                }\r\n                else\r\n                {\r\n                    t1 = 0;\r\n                    t2 = 1;\r\n                    comp1 = 0;\r\n                    comp2 = z;\r\n                }\r\n\r\n                addVertex(0, comp1, comp2, 0, t1, t2, 1, 0, 0);\r\n\r\n                // 旋转顶点\r\n                revolutionAngle = i * revolutionAngleDelta;\r\n                x = this.bottomRadius * Math.cos(revolutionAngle);\r\n                y = this.bottomRadius * Math.sin(revolutionAngle);\r\n\r\n                if (this.yUp)\r\n                {\r\n                    comp1 = -z;\r\n                    comp2 = y;\r\n                }\r\n                else\r\n                {\r\n                    comp1 = y;\r\n                    comp2 = z;\r\n                }\r\n\r\n                if (i === this.segmentsW)\r\n                {\r\n                    addVertex(x, vertexPositionData[startIndex + 1], vertexPositionData[startIndex + 2],\r\n                        0, t1, t2, 1, 0, 0);\r\n                }\r\n                else\r\n                {\r\n                    addVertex(x, comp1, comp2,\r\n                        0, t1, t2, 1, 0, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 侧面\r\n        const dr = this.bottomRadius - this.topRadius;\r\n        const latNormElev = dr / this.height;\r\n        const latNormBase = (latNormElev === 0) ? 1 : this.height / dr;\r\n\r\n        if (this.surfaceClosed)\r\n        {\r\n            let na0: number; let na1: number; let naComp1: number; let\r\n                naComp2: number;\r\n\r\n            for (j = 0; j <= this.segmentsH; ++j)\r\n            {\r\n                radius = this.topRadius - ((j / this.segmentsH) * (this.topRadius - this.bottomRadius));\r\n                z = -(this.height / 2) + (j / this.segmentsH * this.height);\r\n\r\n                startIndex = index;\r\n                for (i = 0; i <= this.segmentsW; ++i)\r\n                {\r\n                    revolutionAngle = i * revolutionAngleDelta;\r\n                    x = radius * Math.cos(revolutionAngle);\r\n                    y = radius * Math.sin(revolutionAngle);\r\n                    na0 = latNormBase * Math.cos(revolutionAngle);\r\n                    na1 = latNormBase * Math.sin(revolutionAngle);\r\n\r\n                    if (this.yUp)\r\n                    {\r\n                        t1 = 0;\r\n                        t2 = -na0;\r\n                        comp1 = -z;\r\n                        comp2 = y;\r\n                        naComp1 = latNormElev;\r\n                        naComp2 = na1;\r\n                    }\r\n                    else\r\n                    {\r\n                        t1 = -na0;\r\n                        t2 = 0;\r\n                        comp1 = y;\r\n                        comp2 = z;\r\n                        naComp1 = na1;\r\n                        naComp2 = latNormElev;\r\n                    }\r\n\r\n                    if (i === this.segmentsW)\r\n                    {\r\n                        addVertex(vertexPositionData[startIndex], vertexPositionData[startIndex + 1], vertexPositionData[startIndex + 2],\r\n                            na0, latNormElev, na1,\r\n                            na1, t1, t2);\r\n                    }\r\n                    else\r\n                    {\r\n                        addVertex(x, comp1, comp2,\r\n                            na0, naComp1, naComp2,\r\n                            -na1, t1, t2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.positions = vertexPositionData;\r\n        this.normals = vertexNormalData;\r\n        this.tangents = vertexTangentData;\r\n\r\n        function addVertex(px: number, py: number, pz: number, nx: number, ny: number, nz: number, tx: number, ty: number, tz: number)\r\n        {\r\n            vertexPositionData[index] = px;\r\n            vertexPositionData[index + 1] = py;\r\n            vertexPositionData[index + 2] = pz;\r\n\r\n            vertexNormalData[index] = nx;\r\n            vertexNormalData[index + 1] = ny;\r\n            vertexNormalData[index + 2] = nz;\r\n\r\n            vertexTangentData[index] = tx;\r\n            vertexTangentData[index + 1] = ty;\r\n            vertexTangentData[index + 2] = tz;\r\n\r\n            index += 3;\r\n        }\r\n\r\n        //\r\n        const uvData = this.buildUVs();\r\n        this.uvs = uvData;\r\n\r\n        const indices = this.buildIndices();\r\n        this.indices = indices;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点索引\r\n     * @param segmentsW 横向分割数\r\n     * @param segmentsH 纵向分割数\r\n     * @param yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildIndices()\r\n    {\r\n        let i: number; let j: number; let\r\n            index = 0;\r\n\r\n        const indices: number[] = [];\r\n        let numIndices = 0;\r\n        // 顶部\r\n        if (this.topClosed && this.topRadius > 0)\r\n        {\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                index += 2;\r\n                if (i > 0)\r\n                { addTriangleClockWise(index - 1, index - 3, index - 2); }\r\n            }\r\n        }\r\n\r\n        // 底部\r\n        if (this.bottomClosed && this.bottomRadius > 0)\r\n        {\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                index += 2;\r\n                if (i > 0)\r\n                { addTriangleClockWise(index - 2, index - 3, index - 1); }\r\n            }\r\n        }\r\n\r\n        // 侧面\r\n        if (this.surfaceClosed)\r\n        {\r\n            let a: number; let b: number; let c: number; let\r\n                d: number;\r\n            for (j = 0; j <= this.segmentsH; ++j)\r\n            {\r\n                for (i = 0; i <= this.segmentsW; ++i)\r\n                {\r\n                    index++;\r\n                    if (i > 0 && j > 0)\r\n                    {\r\n                        a = index - 1;\r\n                        b = index - 2;\r\n                        c = b - this.segmentsW - 1;\r\n                        d = a - this.segmentsW - 1;\r\n\r\n                        addTriangleClockWise(a, b, c);\r\n                        addTriangleClockWise(a, c, d);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return indices;\r\n\r\n        function addTriangleClockWise(cwVertexIndex0: number, cwVertexIndex1: number, cwVertexIndex2: number)\r\n        {\r\n            indices[numIndices++] = cwVertexIndex0;\r\n            indices[numIndices++] = cwVertexIndex1;\r\n            indices[numIndices++] = cwVertexIndex2;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 构建uv\r\n     * @param segmentsW 横向分割数\r\n     * @param segmentsH 纵向分割数\r\n     */\r\n    private buildUVs()\r\n    {\r\n        let i: number; let\r\n            j: number;\r\n        let x: number; let y: number; let\r\n            revolutionAngle: number;\r\n\r\n        const data: number[] = [];\r\n        const revolutionAngleDelta = 2 * Math.PI / this.segmentsW;\r\n        let index = 0;\r\n\r\n        // 顶部\r\n        if (this.topClosed)\r\n        {\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                revolutionAngle = i * revolutionAngleDelta;\r\n                x = 0.5 + 0.5 * -Math.cos(revolutionAngle);\r\n                y = 0.5 + 0.5 * Math.sin(revolutionAngle);\r\n\r\n                // 中心顶点\r\n                data[index++] = 0.5;\r\n                data[index++] = 0.5;\r\n                // 旋转顶点\r\n                data[index++] = x;\r\n                data[index++] = y;\r\n            }\r\n        }\r\n        // 底部\r\n        if (this.bottomClosed)\r\n        {\r\n            for (i = 0; i <= this.segmentsW; ++i)\r\n            {\r\n                revolutionAngle = i * revolutionAngleDelta;\r\n                x = 0.5 + 0.5 * Math.cos(revolutionAngle);\r\n                y = 0.5 + 0.5 * Math.sin(revolutionAngle);\r\n\r\n                // 中心顶点\r\n                data[index++] = 0.5;\r\n                data[index++] = 0.5;\r\n                // 旋转顶点\r\n                data[index++] = x;\r\n                data[index++] = y;\r\n            }\r\n        }\r\n        // 侧面\r\n        if (this.surfaceClosed)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; ++j)\r\n            {\r\n                for (i = 0; i <= this.segmentsW; ++i)\r\n                {\r\n                    // 旋转顶点\r\n                    data[index++] = (i / this.segmentsW);\r\n                    data[index++] = (j / this.segmentsH);\r\n                }\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Cylinder', new CylinderGeometry());\r\n\r\nGameObject.registerPrimitive('Cylinder', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Cylinder');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Cylinder',\r\n        priority: -4,\r\n        click: () =>\r\n            GameObject.createPrimitive('Cylinder')\r\n    }\r\n);\r\n\r\n","import { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { CylinderGeometry } from './CylinderGeometry';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        ConeGeometry: ConeGeometry\r\n    }\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Cone: ConeGeometry;\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Cone: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 圆锥体\r\n */\r\nexport class ConeGeometry extends CylinderGeometry\r\n{\r\n    __class__: 'feng3d.ConeGeometry' = 'feng3d.ConeGeometry';\r\n\r\n    name = 'Cone';\r\n\r\n    /**\r\n     * 底部半径 private\r\n     */\r\n    topRadius = 0;\r\n\r\n    /**\r\n     * 顶部是否封口 private\r\n     */\r\n    topClosed = false;\r\n\r\n    /**\r\n     * 侧面是否封口 private\r\n     */\r\n    surfaceClosed = true;\r\n}\r\n\r\nGeometry.setDefault('Cone', new ConeGeometry());\r\n\r\nGameObject.registerPrimitive('Cone', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Cone');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Cone',\r\n        priority: -10000,\r\n        click: () =>\r\n            GameObject.createPrimitive('Cone')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes { CubeGeometry: CubeGeometry }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Cube: CubeGeometry;\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Cube: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 立（长）方体几何体\r\n */\r\nexport class CubeGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.CubeGeometry';\r\n\r\n    name = 'Cube';\r\n\r\n    /**\r\n     * 宽度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    width = 1;\r\n\r\n    /**\r\n     * 高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    height = 1;\r\n\r\n    /**\r\n     * 深度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    depth = 1;\r\n\r\n    /**\r\n     * 宽度方向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 1;\r\n\r\n    /**\r\n     * 高度方向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 1;\r\n\r\n    /**\r\n     * 深度方向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsD = 1;\r\n\r\n    /**\r\n     * 是否为6块贴图，默认true。\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    tile6 = false;\r\n\r\n    protected buildGeometry()\r\n    {\r\n        const vertexPositionData = this.buildPosition();\r\n        this.positions = vertexPositionData;\r\n        const vertexNormalData = this.buildNormal();\r\n        this.normals = vertexNormalData;\r\n        const vertexTangentData = this.buildTangent();\r\n        this.tangents = vertexTangentData;\r\n        const uvData = this.buildUVs();\r\n        this.uvs = uvData;\r\n        const indices = this.buildIndices();\r\n        this.indices = indices;\r\n    }\r\n\r\n    /**\r\n     * 构建坐标\r\n     * @param   width           宽度\r\n     * @param   height          高度\r\n     * @param   depth           深度\r\n     * @param   segmentsW       宽度方向分割\r\n     * @param   segmentsH       高度方向分割\r\n     * @param   segmentsD       深度方向分割\r\n     */\r\n    private buildPosition()\r\n    {\r\n        const vertexPositionData: number[] = [];\r\n\r\n        let i: number; let\r\n            j: number;\r\n\r\n        let outerPos: number;\r\n\r\n        // Indices\r\n        let positionIndex = 0;\r\n\r\n        // half cube dimensions\r\n        const hw = this.width / 2;\r\n        const hh = this.height / 2;\r\n        const hd = this.depth / 2;\r\n\r\n        // Segment dimensions\r\n        const dw = this.width / this.segmentsW;\r\n        const dh = this.height / this.segmentsH;\r\n        const dd = this.depth / this.segmentsD;\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            outerPos = -hw + i * dw;\r\n\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // front\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n                vertexPositionData[positionIndex++] = -hh + j * dh;\r\n                vertexPositionData[positionIndex++] = -hd;\r\n\r\n                // back\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n                vertexPositionData[positionIndex++] = -hh + j * dh;\r\n                vertexPositionData[positionIndex++] = hd;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            outerPos = -hw + i * dw;\r\n\r\n            for (j = 0; j <= this.segmentsD; j++)\r\n            {\r\n                // top\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n                vertexPositionData[positionIndex++] = hh;\r\n                vertexPositionData[positionIndex++] = -hd + j * dd;\r\n\r\n                // bottom\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n                vertexPositionData[positionIndex++] = -hh;\r\n                vertexPositionData[positionIndex++] = -hd + j * dd;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsD; i++)\r\n        {\r\n            outerPos = hd - i * dd;\r\n\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // left\r\n                vertexPositionData[positionIndex++] = -hw;\r\n                vertexPositionData[positionIndex++] = -hh + j * dh;\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n\r\n                // right\r\n                vertexPositionData[positionIndex++] = hw;\r\n                vertexPositionData[positionIndex++] = -hh + j * dh;\r\n                vertexPositionData[positionIndex++] = outerPos;\r\n            }\r\n        }\r\n\r\n        return vertexPositionData;\r\n    }\r\n\r\n    /**\r\n     * 构建法线\r\n     * @param   segmentsW       宽度方向分割\r\n     * @param   segmentsH       高度方向分割\r\n     * @param   segmentsD       深度方向分割\r\n     */\r\n    private buildNormal()\r\n    {\r\n        const vertexNormalData: number[] = [];\r\n\r\n        let i: number; let\r\n            j: number;\r\n\r\n        // Indices\r\n        let normalIndex = 0;\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // front\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = -1;\r\n\r\n                // back\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 1;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsD; j++)\r\n            {\r\n                // top\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 1;\r\n                vertexNormalData[normalIndex++] = 0;\r\n\r\n                // bottom\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = -1;\r\n                vertexNormalData[normalIndex++] = 0;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsD; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // left\r\n                vertexNormalData[normalIndex++] = -1;\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 0;\r\n\r\n                // right\r\n                vertexNormalData[normalIndex++] = 1;\r\n                vertexNormalData[normalIndex++] = 0;\r\n                vertexNormalData[normalIndex++] = 0;\r\n            }\r\n        }\r\n\r\n        return vertexNormalData;\r\n    }\r\n\r\n    /**\r\n     * 构建切线\r\n     * @param   segmentsW       宽度方向分割\r\n     * @param   segmentsH       高度方向分割\r\n     * @param   segmentsD       深度方向分割\r\n     */\r\n    private buildTangent()\r\n    {\r\n        const vertexTangentData: number[] = [];\r\n\r\n        let i: number; let\r\n            j: number;\r\n\r\n        // Indices\r\n        let tangentIndex = 0;\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // front\r\n                vertexTangentData[tangentIndex++] = 1;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n\r\n                // back\r\n                vertexTangentData[tangentIndex++] = -1;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsD; j++)\r\n            {\r\n                // top\r\n                vertexTangentData[tangentIndex++] = 1;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n\r\n                // bottom\r\n                vertexTangentData[tangentIndex++] = 1;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n            }\r\n        }\r\n\r\n        for (i = 0; i <= this.segmentsD; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // left\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = -1;\r\n\r\n                // right\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 0;\r\n                vertexTangentData[tangentIndex++] = 1;\r\n            }\r\n        }\r\n\r\n        return vertexTangentData;\r\n    }\r\n\r\n    /**\r\n     * 构建索引\r\n     * @param   segmentsW       宽度方向分割\r\n     * @param   segmentsH       高度方向分割\r\n     * @param   segmentsD       深度方向分割\r\n     */\r\n    private buildIndices()\r\n    {\r\n        const indices: number[] = [];\r\n\r\n        let tl: number; let tr: number; let bl: number; let\r\n            br: number;\r\n        let i: number; let j: number; let\r\n            inc = 0;\r\n\r\n        let fidx = 0;\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // front\r\n                // back\r\n                if (i && j)\r\n                {\r\n                    tl = 2 * ((i - 1) * (this.segmentsH + 1) + (j - 1));\r\n                    tr = 2 * (i * (this.segmentsH + 1) + (j - 1));\r\n                    bl = tl + 2;\r\n                    br = tr + 2;\r\n\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = bl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tr;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = br + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tl + 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        inc += 2 * (this.segmentsW + 1) * (this.segmentsH + 1);\r\n\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsD; j++)\r\n            {\r\n                // top\r\n                // bottom\r\n                if (i && j)\r\n                {\r\n                    tl = inc + 2 * ((i - 1) * (this.segmentsD + 1) + (j - 1));\r\n                    tr = inc + 2 * (i * (this.segmentsD + 1) + (j - 1));\r\n                    bl = tl + 2;\r\n                    br = tr + 2;\r\n\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = bl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tr;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = br + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tl + 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        inc += 2 * (this.segmentsW + 1) * (this.segmentsD + 1);\r\n\r\n        for (i = 0; i <= this.segmentsD; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                // left\r\n                // right\r\n\r\n                if (i && j)\r\n                {\r\n                    tl = inc + 2 * ((i - 1) * (this.segmentsH + 1) + (j - 1));\r\n                    tr = inc + 2 * (i * (this.segmentsH + 1) + (j - 1));\r\n                    bl = tl + 2;\r\n                    br = tr + 2;\r\n\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = bl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tl;\r\n                    indices[fidx++] = br;\r\n                    indices[fidx++] = tr;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = br + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tr + 1;\r\n                    indices[fidx++] = bl + 1;\r\n                    indices[fidx++] = tl + 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return indices;\r\n    }\r\n\r\n    /**\r\n     * 构建uv\r\n     * @param   segmentsW       宽度方向分割\r\n     * @param   segmentsH       高度方向分割\r\n     * @param   segmentsD       深度方向分割\r\n     * @param   tile6           是否为6块贴图\r\n     */\r\n    private buildUVs()\r\n    {\r\n        let i: number; let j: number; let\r\n            uidx: number;\r\n        const data: number[] = [];\r\n\r\n        let uTileDim: number; let\r\n            vTileDim: number;\r\n        let uTileStep: number; let\r\n            vTileStep: number;\r\n        let tl0u: number; let\r\n            tl0v: number;\r\n        let tl1u: number; let\r\n            tl1v: number;\r\n        let du: number; let\r\n            dv: number;\r\n\r\n        if (this.tile6)\r\n        {\r\n            uTileDim = uTileStep = 1 / 3;\r\n            vTileDim = vTileStep = 1 / 2;\r\n        }\r\n        else\r\n        {\r\n            uTileDim = vTileDim = 1;\r\n            uTileStep = vTileStep = 0;\r\n        }\r\n\r\n        // Create planes two and two, the same way that they were\r\n        // constructed in the this.buildGeometry() function. First calculate\r\n        // the top-left UV coordinate for both planes, and then loop\r\n        // over the points, calculating the UVs from these numbers.\r\n\r\n        // When this.tile6 is true, the layout is as follows:\r\n        //       .-----.-----.-----. (1,1)\r\n        //       | Bot |  T  | Bak |\r\n        //       |-----+-----+-----|\r\n        //       |  L  |  F  |  R  |\r\n        // (0,0)'-----'-----'-----'\r\n\r\n        uidx = 0;\r\n\r\n        // FRONT / BACK\r\n        tl0u = Number(uTileStep);\r\n        tl0v = Number(vTileStep);\r\n        tl1u = 2 * uTileStep;\r\n        tl1v = 0 * vTileStep;\r\n        du = uTileDim / this.segmentsW;\r\n        dv = vTileDim / this.segmentsH;\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                data[uidx++] = tl0u + i * du;\r\n                data[uidx++] = tl0v + (vTileDim - j * dv);\r\n                data[uidx++] = tl1u + (uTileDim - i * du);\r\n                data[uidx++] = tl1v + (vTileDim - j * dv);\r\n            }\r\n        }\r\n\r\n        // TOP / BOTTOM\r\n        tl0u = Number(uTileStep);\r\n        tl0v = 0 * vTileStep;\r\n        tl1u = 0 * uTileStep;\r\n        tl1v = 0 * vTileStep;\r\n        du = uTileDim / this.segmentsW;\r\n        dv = vTileDim / this.segmentsD;\r\n        for (i = 0; i <= this.segmentsW; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsD; j++)\r\n            {\r\n                data[uidx++] = tl0u + i * du;\r\n                data[uidx++] = tl0v + (vTileDim - j * dv);\r\n                data[uidx++] = tl1u + i * du;\r\n                data[uidx++] = tl1v + j * dv;\r\n            }\r\n        }\r\n\r\n        // LEFT / RIGHT\r\n        tl0u = 0 * uTileStep;\r\n        tl0v = Number(vTileStep);\r\n        tl1u = 2 * uTileStep;\r\n        tl1v = Number(vTileStep);\r\n        du = uTileDim / this.segmentsD;\r\n        dv = vTileDim / this.segmentsH;\r\n        for (i = 0; i <= this.segmentsD; i++)\r\n        {\r\n            for (j = 0; j <= this.segmentsH; j++)\r\n            {\r\n                data[uidx++] = tl0u + i * du;\r\n                data[uidx++] = tl0v + (vTileDim - j * dv);\r\n                data[uidx++] = tl1u + (uTileDim - i * du);\r\n                data[uidx++] = tl1v + (vTileDim - j * dv);\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Cube', new CubeGeometry());\r\n\r\nGameObject.registerPrimitive('Cube', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Cube');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Cube',\r\n        priority: -1,\r\n        click: () =>\r\n            GameObject.createPrimitive('Cube')\r\n    }\r\n);\r\n\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { geometryUtils } from '../geometry/GeometryUtils';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        ParametricGeometry: ParametricGeometry\r\n    }\r\n}\r\n\r\nexport class ParametricGeometry extends Geometry\r\n{\r\n    /**\r\n     * @author zz85 / https://github.com/zz85\r\n     * Parametric Surfaces Geometry\r\n     * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\r\n     *\r\n     * new ParametricGeometry( parametricFunction, uSegments, ySegements );\r\n     *\r\n     */\r\n    constructor(func: (u: number, v: number) => Vector3, slices = 8, stacks = 8, doubleside = false)\r\n    {\r\n        super();\r\n\r\n        let positions: number[] = [];\r\n        const indices: number[] = [];\r\n        let uvs: number[] = [];\r\n\r\n        const sliceCount = slices + 1;\r\n\r\n        for (let i = 0; i <= stacks; i++)\r\n        {\r\n            const v = i / stacks;\r\n\r\n            for (let j = 0; j <= slices; j++)\r\n            {\r\n                const u = j / slices;\r\n                //\r\n                uvs.push(u, v);\r\n                //\r\n                const p = func(u, v);\r\n                positions.push(p.x, p.y, p.z);\r\n                //\r\n                if (i < stacks && j < slices)\r\n                {\r\n                    const a = i * sliceCount + j;\r\n                    const b = i * sliceCount + j + 1;\r\n                    const c = (i + 1) * sliceCount + j + 1;\r\n                    const d = (i + 1) * sliceCount + j;\r\n                    indices.push(a, b, d);\r\n                    indices.push(b, c, d);\r\n                }\r\n            }\r\n        }\r\n        // 反面\r\n        if (doubleside)\r\n        {\r\n            positions = positions.concat(positions);\r\n            uvs = uvs.concat(uvs);\r\n            const start = (stacks + 1) * (slices + 1);\r\n            for (let i = 0, n = indices.length; i < n; i += 3)\r\n            {\r\n                indices.push(start + indices[i], start + indices[i + 2], start + indices[i + 1]);\r\n            }\r\n        }\r\n        this.indices = indices;\r\n        this.positions = positions;\r\n        this.uvs = uvs;\r\n\r\n        this.invalidateGeometry();\r\n    }\r\n\r\n    /**\r\n     * 构建几何体\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        const positions = this.positions;\r\n        for (let i = 0, half = positions.length / 2; i < half; i++)\r\n        {\r\n            positions[i + half] = positions[i];\r\n        }\r\n        this.positions = positions;\r\n        this.normals = geometryUtils.createVertexNormals(this.indices, this.positions, true);\r\n        this.tangents = geometryUtils.createVertexTangents(this.indices, this.positions, this.uvs, true);\r\n    }\r\n}\r\n","import { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { geometryUtils } from '../geometry/GeometryUtils';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        QuadGeometry: QuadGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Quad: QuadGeometry;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Quad: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 四边形面皮几何体\r\n */\r\nexport class QuadGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.QuadGeometry';\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        const size = 0.5;\r\n\r\n        this.positions = [-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0];\r\n        this.uvs = [0, 0, 1, 0, 1, 1, 0, 1];\r\n        this.indices = [0, 1, 2, 0, 2, 3];\r\n\r\n        this.normals = geometryUtils.createVertexNormals(this.indices, this.positions, true);\r\n        this.tangents = geometryUtils.createVertexTangents(this.indices, this.positions, this.uvs, true);\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Quad', new QuadGeometry());\r\n\r\nGameObject.registerPrimitive('Quad', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Quad');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Quad',\r\n        priority: -6,\r\n        click: () =>\r\n            GameObject.createPrimitive('Quad')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        SphereGeometry: SphereGeometry\r\n    }\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        Sphere: SphereGeometry;\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Sphere: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 球体几何体\r\n * @author DawnKing 2016-09-12\r\n */\r\nexport class SphereGeometry extends Geometry\r\n{\r\n    __class__: 'feng3d.SphereGeometry';\r\n\r\n    /**\r\n     * 球体半径\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    radius = 0.5;\r\n\r\n    /**\r\n     * 横向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 16;\r\n\r\n    /**\r\n     * 纵向分割数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 12;\r\n\r\n    /**\r\n     * 是否朝上\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    yUp = true;\r\n\r\n    name = 'Sphere';\r\n\r\n    /**\r\n     * 构建几何体数据\r\n     * @param this.radius 球体半径\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        const vertexPositionData: number[] = [];\r\n        const vertexNormalData: number[] = [];\r\n        const vertexTangentData: number[] = [];\r\n\r\n        let startIndex: number;\r\n        let index = 0;\r\n        let comp1: number; let comp2: number; let t1: number; let\r\n            t2: number;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            startIndex = index;\r\n\r\n            const horangle = Math.PI * yi / this.segmentsH;\r\n            const z = -this.radius * Math.cos(horangle);\r\n            const ringradius = this.radius * Math.sin(horangle);\r\n\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                const verangle = 2 * Math.PI * xi / this.segmentsW;\r\n                const x = ringradius * Math.cos(verangle);\r\n                const y = ringradius * Math.sin(verangle);\r\n                const normLen = 1 / Math.sqrt(x * x + y * y + z * z);\r\n                const tanLen = Math.sqrt(y * y + x * x);\r\n\r\n                if (this.yUp)\r\n                {\r\n                    t1 = 0;\r\n                    t2 = tanLen > 0.007 ? x / tanLen : 0;\r\n                    comp1 = -z;\r\n                    comp2 = y;\r\n                }\r\n                else\r\n                {\r\n                    t1 = tanLen > 0.007 ? x / tanLen : 0;\r\n                    t2 = 0;\r\n                    comp1 = y;\r\n                    comp2 = z;\r\n                }\r\n\r\n                if (xi === this.segmentsW)\r\n                {\r\n                    vertexPositionData[index] = vertexPositionData[startIndex];\r\n                    vertexPositionData[index + 1] = vertexPositionData[startIndex + 1];\r\n                    vertexPositionData[index + 2] = vertexPositionData[startIndex + 2];\r\n\r\n                    vertexNormalData[index] = vertexNormalData[startIndex] + x * normLen * 0.5;\r\n                    vertexNormalData[index + 1] = vertexNormalData[startIndex + 1] + comp1 * normLen * 0.5;\r\n                    vertexNormalData[index + 2] = vertexNormalData[startIndex + 2] + comp2 * normLen * 0.5;\r\n\r\n                    vertexTangentData[index] = tanLen > 0.007 ? -y / tanLen : 1;\r\n                    vertexTangentData[index + 1] = t1;\r\n                    vertexTangentData[index + 2] = t2;\r\n                }\r\n                else\r\n                {\r\n                    vertexPositionData[index] = x;\r\n                    vertexPositionData[index + 1] = comp1;\r\n                    vertexPositionData[index + 2] = comp2;\r\n\r\n                    vertexNormalData[index] = x * normLen;\r\n                    vertexNormalData[index + 1] = comp1 * normLen;\r\n                    vertexNormalData[index + 2] = comp2 * normLen;\r\n\r\n                    vertexTangentData[index] = tanLen > 0.007 ? -y / tanLen : 1;\r\n                    vertexTangentData[index + 1] = t1;\r\n                    vertexTangentData[index + 2] = t2;\r\n                }\r\n\r\n                if (xi > 0 && yi > 0)\r\n                {\r\n                    if (yi === this.segmentsH)\r\n                    {\r\n                        vertexPositionData[index] = vertexPositionData[startIndex];\r\n                        vertexPositionData[index + 1] = vertexPositionData[startIndex + 1];\r\n                        vertexPositionData[index + 2] = vertexPositionData[startIndex + 2];\r\n                    }\r\n                }\r\n\r\n                index += 3;\r\n            }\r\n        }\r\n\r\n        this.positions = vertexPositionData;\r\n        this.normals = vertexNormalData;\r\n        this.tangents = vertexTangentData;\r\n\r\n        const uvData = this.buildUVs();\r\n        this.uvs = uvData;\r\n\r\n        const indices = this.buildIndices();\r\n        this.indices = indices;\r\n    }\r\n\r\n    /**\r\n     * 构建顶点索引\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     * @param this.yUp 正面朝向 true:Y+ false:Z+\r\n     */\r\n    private buildIndices()\r\n    {\r\n        const indices: number[] = [];\r\n\r\n        let numIndices = 0;\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                if (xi > 0 && yi > 0)\r\n                {\r\n                    const a = (this.segmentsW + 1) * yi + xi;\r\n                    const b = (this.segmentsW + 1) * yi + xi - 1;\r\n                    const c = (this.segmentsW + 1) * (yi - 1) + xi - 1;\r\n                    const d = (this.segmentsW + 1) * (yi - 1) + xi;\r\n\r\n                    if (yi === this.segmentsH)\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = d;\r\n                    }\r\n                    else if (yi === 1)\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = b;\r\n                        indices[numIndices++] = c;\r\n                    }\r\n                    else\r\n                    {\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = b;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = a;\r\n                        indices[numIndices++] = c;\r\n                        indices[numIndices++] = d;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return indices;\r\n    }\r\n\r\n    /**\r\n     * 构建uv\r\n     * @param this.segmentsW 横向分割数\r\n     * @param this.segmentsH 纵向分割数\r\n     */\r\n    private buildUVs()\r\n    {\r\n        const data: number[] = [];\r\n        let index = 0;\r\n\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                data[index++] = xi / this.segmentsW;\r\n                data[index++] = yi / this.segmentsH;\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Sphere', new SphereGeometry());\r\n\r\nGameObject.registerPrimitive('Sphere', (g) =>\r\n{\r\n    g.addComponent(MeshRenderer).geometry = Geometry.getDefault('Sphere');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Sphere',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Sphere')\r\n    }\r\n);\r\n\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { MeshRenderer } from '../core/MeshRenderer';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\n\r\ndeclare global\r\n{\r\n\texport interface MixinsGeometryTypes\r\n\t{\r\n\t\tTorusGeometry: TorusGeometry\r\n\t}\r\n\texport interface MixinsDefaultGeometry\r\n\t{\r\n\t\tTorus: TorusGeometry;\r\n\t}\r\n\texport interface MixinsPrimitiveGameObject\r\n\t{\r\n\t\tTorus: GameObject;\r\n\t}\r\n}\r\n\r\n/**\r\n * 圆环几何体\r\n */\r\nexport class TorusGeometry extends Geometry\r\n{\r\n\t__class__: 'feng3d.TorusGeometry' = 'feng3d.TorusGeometry';\r\n\r\n\t/**\r\n\t * 半径\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidateGeometry')\r\n\tradius = 0.5;\r\n\r\n\t/**\r\n\t * 管道半径\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidateGeometry')\r\n\ttubeRadius = 0.1;\r\n\r\n\t/**\r\n\t * 半径方向分割数\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidateGeometry')\r\n\tsegmentsR = 16;\r\n\r\n\t/**\r\n\t * 管道方向分割数\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidateGeometry')\r\n\tsegmentsT = 8;\r\n\r\n\t/**\r\n\t * 是否朝上\r\n\t */\r\n\t@serialize\r\n\t@oav()\r\n\t@watch('invalidateGeometry')\r\n\tyUp = true;\r\n\r\n\tname = 'Torus';\r\n\r\n\t//\r\n\tprotected _vertexPositionData: number[];\r\n\tprotected _vertexNormalData: number[];\r\n\tprotected _vertexTangentData: number[];\r\n\tprivate _rawIndices: number[];\r\n\tprivate _vertexIndex: number;\r\n\tprivate _currentTriangleIndex: number;\r\n\tprivate _numVertices: number;\r\n\tprivate _vertexPositionStride = 3;\r\n\tprivate _vertexNormalStride = 3;\r\n\tprivate _vertexTangentStride = 3;\r\n\r\n\t/**\r\n\t * 添加顶点数据\r\n\t */\r\n\tprivate addVertex(vertexIndex: number, px: number, py: number, pz: number, nx: number, ny: number, nz: number, tx: number, ty: number, tz: number)\r\n\t{\r\n\t\tthis._vertexPositionData[vertexIndex * this._vertexPositionStride] = px;\r\n\t\tthis._vertexPositionData[vertexIndex * this._vertexPositionStride + 1] = py;\r\n\t\tthis._vertexPositionData[vertexIndex * this._vertexPositionStride + 2] = pz;\r\n\t\tthis._vertexNormalData[vertexIndex * this._vertexNormalStride] = nx;\r\n\t\tthis._vertexNormalData[vertexIndex * this._vertexNormalStride + 1] = ny;\r\n\t\tthis._vertexNormalData[vertexIndex * this._vertexNormalStride + 2] = nz;\r\n\t\tthis._vertexTangentData[vertexIndex * this._vertexTangentStride] = tx;\r\n\t\tthis._vertexTangentData[vertexIndex * this._vertexTangentStride + 1] = ty;\r\n\t\tthis._vertexTangentData[vertexIndex * this._vertexTangentStride + 2] = tz;\r\n\t}\r\n\r\n\t/**\r\n\t * 添加三角形索引数据\r\n\t * @param currentTriangleIndex\t\t当前三角形索引\r\n\t * @param cwVertexIndex0\t\t\t索引0\r\n\t * @param cwVertexIndex1\t\t\t索引1\r\n\t * @param cwVertexIndex2\t\t\t索引2\r\n\t */\r\n\tprivate addTriangleClockWise(currentTriangleIndex: number, cwVertexIndex0: number, cwVertexIndex1: number, cwVertexIndex2: number)\r\n\t{\r\n\t\tthis._rawIndices[currentTriangleIndex * 3] = cwVertexIndex0;\r\n\t\tthis._rawIndices[currentTriangleIndex * 3 + 1] = cwVertexIndex1;\r\n\t\tthis._rawIndices[currentTriangleIndex * 3 + 2] = cwVertexIndex2;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tprotected buildGeometry()\r\n\t{\r\n\t\tlet i: number; let\r\n\t\t\tj: number;\r\n\t\tlet x: number; let y: number; let z: number; let nx: number; let ny: number; let nz: number; let revolutionAngleR: number; let\r\n\t\t\trevolutionAngleT: number;\r\n\t\t// reset utility variables\r\n\t\tthis._numVertices = 0;\r\n\t\tthis._vertexIndex = 0;\r\n\t\tthis._currentTriangleIndex = 0;\r\n\r\n\t\t// evaluate target number of vertices, triangles and indices\r\n\t\tthis._numVertices = (this.segmentsT + 1) * (this.segmentsR + 1); // this.segmentsT + 1 because of closure, this.segmentsR + 1 because of closure\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\tconst numTriangles = this.segmentsT * this.segmentsR * 2; // each level has segmentsR quads, each of 2 triangles\r\n\r\n\t\tthis._vertexPositionData = [];\r\n\t\tthis._vertexNormalData = [];\r\n\t\tthis._vertexTangentData = [];\r\n\t\tthis._rawIndices = [];\r\n\t\tthis.buildUVs();\r\n\r\n\t\t// evaluate revolution steps\r\n\t\tconst revolutionAngleDeltaR = 2 * Math.PI / this.segmentsR;\r\n\t\tconst revolutionAngleDeltaT = 2 * Math.PI / this.segmentsT;\r\n\r\n\t\tlet comp1: number; let\r\n\t\t\tcomp2: number;\r\n\t\tlet t1: number; let t2: number; let n1: number; let\r\n\t\t\tn2: number;\r\n\r\n\t\tlet startPositionIndex: number;\r\n\r\n\t\t// surface\r\n\t\tlet a: number; let b: number; let c: number; let d: number; let\r\n\t\t\tlength: number;\r\n\r\n\t\tfor (j = 0; j <= this.segmentsT; ++j)\r\n\t\t{\r\n\t\t\tstartPositionIndex = j * (this.segmentsR + 1) * this._vertexPositionStride;\r\n\r\n\t\t\tfor (i = 0; i <= this.segmentsR; ++i)\r\n\t\t\t{\r\n\t\t\t\tthis._vertexIndex = j * (this.segmentsR + 1) + i;\r\n\r\n\t\t\t\t// revolution vertex\r\n\t\t\t\trevolutionAngleR = i * revolutionAngleDeltaR;\r\n\t\t\t\trevolutionAngleT = j * revolutionAngleDeltaT;\r\n\r\n\t\t\t\tlength = Math.cos(revolutionAngleT);\r\n\t\t\t\tnx = length * Math.cos(revolutionAngleR);\r\n\t\t\t\tny = length * Math.sin(revolutionAngleR);\r\n\t\t\t\tnz = Math.sin(revolutionAngleT);\r\n\r\n\t\t\t\tx = this.radius * Math.cos(revolutionAngleR) + this.tubeRadius * nx;\r\n\t\t\t\ty = this.radius * Math.sin(revolutionAngleR) + this.tubeRadius * ny;\r\n\t\t\t\tz = (j === this.segmentsT) ? 0 : this.tubeRadius * nz;\r\n\r\n\t\t\t\tif (this.yUp)\r\n\t\t\t\t{\r\n\t\t\t\t\tn1 = -nz;\r\n\t\t\t\t\tn2 = ny;\r\n\t\t\t\t\tt1 = 0;\r\n\t\t\t\t\tt2 = (length ? nx / length : x / this.radius);\r\n\t\t\t\t\tcomp1 = -z;\r\n\t\t\t\t\tcomp2 = y;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tn1 = ny;\r\n\t\t\t\t\tn2 = nz;\r\n\t\t\t\t\tt1 = (length ? nx / length : x / this.radius);\r\n\t\t\t\t\tt2 = 0;\r\n\t\t\t\t\tcomp1 = y;\r\n\t\t\t\t\tcomp2 = z;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i === this.segmentsR)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addVertex(this._vertexIndex, x, this._vertexPositionData[startPositionIndex + 1], this._vertexPositionData[startPositionIndex + 2], nx, n1, n2, -(length ? ny / length : y / this.radius), t1, t2);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addVertex(this._vertexIndex, x, comp1, comp2, nx, n1, n2, -(length ? ny / length : y / this.radius), t1, t2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// close triangle\r\n\t\t\t\tif (i > 0 && j > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\ta = this._vertexIndex; // current\r\n\t\t\t\t\tb = this._vertexIndex - 1; // previous\r\n\t\t\t\t\tc = b - this.segmentsR - 1; // previous of last level\r\n\t\t\t\t\td = a - this.segmentsR - 1; // current of last level\r\n\t\t\t\t\tthis.addTriangleClockWise(this._currentTriangleIndex++, a, b, c);\r\n\t\t\t\t\tthis.addTriangleClockWise(this._currentTriangleIndex++, a, c, d);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.positions = this._vertexPositionData;\r\n\t\tthis.normals = this._vertexNormalData;\r\n\t\tthis.tangents = this._vertexTangentData;\r\n\r\n\t\tthis.indices = this._rawIndices;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tprotected buildUVs()\r\n\t{\r\n\t\tlet i: number; let\r\n\t\t\tj: number;\r\n\t\tconst stride = 2;\r\n\t\tconst data: number[] = [];\r\n\r\n\t\tlet index = 0;\r\n\t\t// surface\r\n\t\tfor (j = 0; j <= this.segmentsT; ++j)\r\n\t\t{\r\n\t\t\tfor (i = 0; i <= this.segmentsR; ++i)\r\n\t\t\t{\r\n\t\t\t\tindex = j * (this.segmentsR + 1) + i;\r\n\t\t\t\t// revolution vertex\r\n\t\t\t\tdata[index * stride] = i / this.segmentsR;\r\n\t\t\t\tdata[index * stride + 1] = j / this.segmentsT;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// build real data from raw data\r\n\t\tthis.uvs = data;\r\n\t}\r\n}\r\n\r\nGeometry.setDefault('Torus', new TorusGeometry());\r\n\r\nGameObject.registerPrimitive('Torus', (g) =>\r\n{\r\n\tg.addComponent(MeshRenderer).geometry = Geometry.getDefault('Torus');\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n\t{\r\n\t\tpath: '3D Object/Torus',\r\n\t\tpriority: -10000,\r\n\t\tclick: () =>\r\n\t\t\tGameObject.createPrimitive('Torus')\r\n\t}\r\n);\r\n\r\n","import { EventEmitter } from '@feng3d/event';\r\nimport { Rectangle } from '@feng3d/math';\r\nimport { GL, RenderAtomic } from '@feng3d/renderer';\r\nimport { windowEventProxy } from '@feng3d/shortcut';\r\nimport { GameObject } from '../../core/GameObject';\r\nimport { Renderable } from '../../core/Renderable';\r\n\r\n/**\r\n * 鼠标拾取渲染器\r\n */\r\nexport class MouseRenderer extends EventEmitter\r\n{\r\n    private objects: GameObject[] = [];\r\n\r\n    /**\r\n     * 渲染\r\n     */\r\n    draw(gl: GL, viewRect: Rectangle)\r\n    {\r\n        const mouseX = windowEventProxy.clientX;\r\n        const mouseY = windowEventProxy.clientY;\r\n\r\n        const offsetX = -(mouseX - viewRect.x);\r\n        const offsetY = -(viewRect.height - (mouseY - viewRect.y));// y轴与window中坐标反向，所以需要 h = (maxHeight - h)\r\n\r\n        gl.clearColor(0, 0, 0, 0);\r\n        gl.clearDepth(1);\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n        gl.viewport(offsetX, offsetY, viewRect.width, viewRect.height);\r\n\r\n        this.objects.length = 1;\r\n\r\n        // 启动裁剪，只绘制一个像素\r\n        gl.enable(gl.SCISSOR_TEST);\r\n        gl.scissor(0, 0, 1, 1);\r\n        // super.draw(renderContext);\r\n        gl.disable(gl.SCISSOR_TEST);\r\n\r\n        // 读取鼠标拾取索引\r\n        // this.frameBufferObject.readBuffer(gl, \"objectID\");\r\n\r\n        const data = new Uint8Array(4);\r\n        gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\r\n        const id = data[0] + data[1] * 255 + data[2] * 255 * 255 + data[3] * 255 * 255 * 255 - data[3];// 最后（- data[3]）表示很奇怪，不过data[3]一般情况下为0\r\n        // log(`选中索引3D对象${id}`, data.toString());\r\n\r\n        return this.objects[id];\r\n    }\r\n\r\n    protected drawRenderables(_gl: GL, renderable: Renderable)\r\n    {\r\n        if (renderable.gameObject.mouseEnabled)\r\n        {\r\n            const object = renderable.gameObject;\r\n            const uObjectID = this.objects.length;\r\n            this.objects[uObjectID] = object;\r\n\r\n            const renderAtomic = renderable.renderAtomic;\r\n\r\n            renderAtomic.uniforms.u_objectID = uObjectID;\r\n            // super.drawRenderables(renderContext, model);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 绘制3D对象\r\n     */\r\n    protected drawGameObject(_gl: GL, _renderAtomic: RenderAtomic)\r\n    {\r\n        // var shader = new Shader();\r\n        // shader.vertexCode = shaderlib.getShader(\"mouse\").vertex;\r\n        // shader.fragmentCode = shaderlib.getShader(\"mouse\").fragment;\r\n        // super.drawGameObject(gl, renderAtomic, shader);\r\n    }\r\n}\r\n\r\nexport const mouseRenderer = new MouseRenderer();\r\n","import { globalEmitter } from '@feng3d/event';\r\nimport { shaderlib } from '@feng3d/renderer';\r\n\r\nglobalEmitter.on('asset.shaderChanged', () =>\r\n{\r\n    shaderlib.clearCache();\r\n});\r\n","import { Camera } from '../cameras/Camera';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { Scene } from './Scene';\r\n\r\n/**\r\n * 用于处理从场景中获取特定数据\r\n */\r\nexport class SceneUtil\r\n{\r\n    /**\r\n     * 获取场景中可视需要混合的渲染对象\r\n     *\r\n     * @param _scene 场景\r\n     * @param _camera 摄像机\r\n     */\r\n    getBlenditems(_scene: Scene, _camera: Camera)\r\n    {\r\n        // throw new Error(\"Method not implemented.\");\r\n\r\n        // scene.getComponentsInChildren()\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取需要渲染的对象\r\n     *\r\n     * #### 渲染需求条件\r\n     * 1. visible == true\r\n     * 1. 在摄像机视锥内\r\n     * 1. model.enabled == true\r\n     *\r\n     * @param gameObject\r\n     * @param camera\r\n     */\r\n    getActiveRenderers(scene: Scene, camera: Camera)\r\n    {\r\n        const renderers: Renderable[] = [];\r\n        const frustum = camera.frustum;\r\n\r\n        let gameObjects = [scene.gameObject];\r\n        while (gameObjects.length > 0)\r\n        {\r\n            const gameObject = gameObjects.pop();\r\n\r\n            if (!gameObject.activeSelf)\r\n            { continue; }\r\n            const renderer = gameObject.getComponent(Renderable);\r\n            if (renderer && renderer.enabled)\r\n            {\r\n                if (renderer.selfWorldBounds)\r\n                {\r\n                    if (frustum.intersectsBox(renderer.selfWorldBounds))\r\n                    { renderers.push(renderer); }\r\n                }\r\n            }\r\n            gameObjects = gameObjects.concat(gameObject.children);\r\n        }\r\n\r\n        return renderers;\r\n    }\r\n}\r\n\r\nexport const sceneUtil = new SceneUtil();\r\n","/* eslint-disable camelcase */\r\nimport mouseFragment from './shaders/mouse.fragment.glsl';\r\nimport mouseVertex from './shaders/mouse.vertex.glsl';\r\nimport outlineFragment from './shaders/outline.fragment.glsl';\r\nimport outlineVertex from './shaders/outline.vertex.glsl';\r\nimport Particles_AdditiveFragment from './shaders/Particles_Additive.fragment.glsl';\r\nimport Particles_AdditiveVertex from './shaders/Particles_Additive.vertex.glsl';\r\nimport Particles_AlphaBlendedPremultiplyFragment from './shaders/Particles_AlphaBlendedPremultiply.fragment.glsl';\r\nimport Particles_AlphaBlendedPremultiplyVertex from './shaders/Particles_AlphaBlendedPremultiply.vertex.glsl';\r\nimport shadowFragment from './shaders/shadow.fragment.glsl';\r\nimport shadowVertex from './shaders/shadow.vertex.glsl';\r\nimport skyboxFragment from './shaders/skybox.fragment.glsl';\r\nimport skyboxVertex from './shaders/skybox.vertex.glsl';\r\nimport terrainFragment from './shaders/terrain.fragment.glsl';\r\nimport terrainVertex from './shaders/terrain.vertex.glsl';\r\nimport wireframeFragment from './shaders/wireframe.fragment.glsl';\r\nimport wireframeVertex from './shaders/wireframe.vertex.glsl';\r\n//\r\nimport alphatest_frag from './shaders/modules/alphatest_frag.glsl';\r\nimport alphatest_pars_frag from './shaders/modules/alphatest_pars_frag.glsl';\r\nimport ambient_frag from './shaders/modules/ambient_frag.glsl';\r\nimport ambient_pars_frag from './shaders/modules/ambient_pars_frag.glsl';\r\nimport cartoon_pars_frag from './shaders/modules/cartoon_pars_frag.glsl';\r\nimport color_frag from './shaders/modules/color_frag.glsl';\r\nimport color_pars_frag from './shaders/modules/color_pars_frag.glsl';\r\nimport color_pars_vert from './shaders/modules/color_pars_vert.glsl';\r\nimport color_vert from './shaders/modules/color_vert.glsl';\r\nimport diffuse_frag from './shaders/modules/diffuse_frag.glsl';\r\nimport diffuse_pars_frag from './shaders/modules/diffuse_pars_frag.glsl';\r\nimport envmap_frag from './shaders/modules/envmap_frag.glsl';\r\nimport envmap_pars_frag from './shaders/modules/envmap_pars_frag.glsl';\r\nimport fog_frag from './shaders/modules/fog_frag.glsl';\r\nimport fog_pars_frag from './shaders/modules/fog_pars_frag.glsl';\r\nimport lights_frag from './shaders/modules/lights_frag.glsl';\r\nimport lights_pars_frag from './shaders/modules/lights_pars_frag.glsl';\r\nimport lights_pars_vert from './shaders/modules/lights_pars_vert.glsl';\r\nimport lights_vert from './shaders/modules/lights_vert.glsl';\r\nimport normalmap_pars_vert from './shaders/modules/normalmap_pars_vert.glsl';\r\nimport normalmap_vert from './shaders/modules/normalmap_vert.glsl';\r\nimport normal_frag from './shaders/modules/normal_frag.glsl';\r\nimport normal_pars_frag from './shaders/modules/normal_pars_frag.glsl';\r\nimport normal_pars_vert from './shaders/modules/normal_pars_vert.glsl';\r\nimport normal_vert from './shaders/modules/normal_vert.glsl';\r\nimport particle_frag from './shaders/modules/particle_frag.glsl';\r\nimport particle_pars_frag from './shaders/modules/particle_pars_frag.glsl';\r\nimport particle_pars_vert from './shaders/modules/particle_pars_vert.glsl';\r\nimport particle_vert from './shaders/modules/particle_vert.glsl';\r\nimport pointsize_pars_vert from './shaders/modules/pointsize_pars_vert.glsl';\r\nimport pointsize_vert from './shaders/modules/pointsize_vert.glsl';\r\nimport position_pars_vert from './shaders/modules/position_pars_vert.glsl';\r\nimport position_vert from './shaders/modules/position_vert.glsl';\r\nimport project_pars_vert from './shaders/modules/project_pars_vert.glsl';\r\nimport project_vert from './shaders/modules/project_vert.glsl';\r\nimport shadowmap_pars_frag from './shaders/modules/shadowmap_pars_frag.glsl';\r\nimport skeleton_pars_vert from './shaders/modules/skeleton_pars_vert.glsl';\r\nimport skeleton_vert from './shaders/modules/skeleton_vert.glsl';\r\nimport specular_frag from './shaders/modules/specular_frag.glsl';\r\nimport specular_pars_frag from './shaders/modules/specular_pars_frag.glsl';\r\nimport tangent_pars_vert from './shaders/modules/tangent_pars_vert.glsl';\r\nimport tangent_vert from './shaders/modules/tangent_vert.glsl';\r\nimport terrainDefault_pars_frag from './shaders/modules/terrainDefault_pars_frag.glsl';\r\nimport terrainMerge_pars_frag from './shaders/modules/terrainMerge_pars_frag.glsl';\r\nimport terrain_frag from './shaders/modules/terrain_frag.glsl';\r\nimport terrain_pars_frag from './shaders/modules/terrain_pars_frag.glsl';\r\nimport uv_pars_vert from './shaders/modules/uv_pars_vert.glsl';\r\nimport uv_vert from './shaders/modules/uv_vert.glsl';\r\nimport worldposition_pars_vert from './shaders/modules/worldposition_pars_vert.glsl';\r\nimport worldposition_vert from './shaders/modules/worldposition_vert.glsl';\r\n\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialization } from '@feng3d/serialization';\r\n\r\nexport { };\r\n\r\nserialization.setValue(shaderlib.shaderConfig, {\r\n    shaders: {\r\n        mouse: { fragment: mouseFragment, vertex: mouseVertex },\r\n        outline: { fragment: outlineFragment, vertex: outlineVertex },\r\n        Particles_Additive: { fragment: Particles_AdditiveFragment, vertex: Particles_AdditiveVertex },\r\n        Particles_AlphaBlendedPremultiply: { fragment: Particles_AlphaBlendedPremultiplyFragment, vertex: Particles_AlphaBlendedPremultiplyVertex },\r\n        shadow: { fragment: shadowFragment, vertex: shadowVertex },\r\n        skybox: { fragment: skyboxFragment, vertex: skyboxVertex },\r\n        terrain: { fragment: terrainFragment, vertex: terrainVertex },\r\n        wireframe: { fragment: wireframeFragment, vertex: wireframeVertex },\r\n    },\r\n    modules: {\r\n        alphatest_frag,\r\n        alphatest_pars_frag,\r\n        ambient_frag,\r\n        ambient_pars_frag,\r\n        cartoon_pars_frag,\r\n        color_frag,\r\n        color_pars_frag,\r\n        color_pars_vert,\r\n        color_vert,\r\n        diffuse_frag,\r\n        diffuse_pars_frag,\r\n        envmap_frag,\r\n        envmap_pars_frag,\r\n        fog_frag,\r\n        fog_pars_frag,\r\n        lights_frag,\r\n        lights_pars_frag,\r\n        lights_pars_vert,\r\n        lights_vert,\r\n        normalmap_pars_vert,\r\n        normalmap_vert,\r\n        normal_frag,\r\n        normal_pars_frag,\r\n        normal_pars_vert,\r\n        normal_vert,\r\n        particle_frag,\r\n        particle_pars_frag,\r\n        particle_pars_vert,\r\n        particle_vert,\r\n        pointsize_pars_vert,\r\n        pointsize_vert,\r\n        position_pars_vert,\r\n        position_vert,\r\n        project_pars_vert,\r\n        project_vert,\r\n        shadowmap_pars_frag,\r\n        skeleton_pars_vert,\r\n        skeleton_vert,\r\n        specular_frag,\r\n        specular_pars_frag,\r\n        tangent_pars_vert,\r\n        tangent_vert,\r\n        terrainDefault_pars_frag,\r\n        terrainMerge_pars_frag,\r\n        terrain_frag,\r\n        terrain_pars_frag,\r\n        uv_pars_vert,\r\n        uv_vert,\r\n        worldposition_pars_vert,\r\n        worldposition_vert,\r\n    }\r\n});\r\n","import { watch } from '@feng3d/watcher';\r\nimport { Texture2D } from './Texture2D';\r\n\r\nexport class CanvasTexture2D extends Texture2D\r\n{\r\n    @watch('_canvasChanged')\r\n    canvas: HTMLCanvasElement;\r\n\r\n    private _canvasChanged()\r\n    {\r\n        this._pixels = this.canvas;\r\n        this.invalidate();\r\n    }\r\n}\r\n","import { watch } from '@feng3d/watcher';\r\nimport { Texture2D } from './Texture2D';\r\n\r\nexport class ImageDataTexture2D extends Texture2D\r\n{\r\n    @watch('_imageDataChanged')\r\n    imageData: ImageData;\r\n\r\n    private _imageDataChanged()\r\n    {\r\n        this._pixels = this.imageData;\r\n        this.invalidate();\r\n    }\r\n}\r\n","import { watch } from '@feng3d/watcher';\r\nimport { Texture2D } from './Texture2D';\r\n\r\n/**\r\n * 2D纹理\r\n */\r\nexport class ImageTexture2D extends Texture2D\r\n{\r\n    // __class__: \"feng3d.ImageTexture2D\" = \"feng3d.ImageTexture2D\";\r\n\r\n    @watch('_imageChanged')\r\n    imageSource: HTMLImageElement;\r\n\r\n    private _imageChanged()\r\n    {\r\n        this._pixels = this.imageSource;\r\n        this.invalidate();\r\n    }\r\n}\r\n","import { watch } from '@feng3d/watcher';\r\nimport { Texture2D } from './Texture2D';\r\n\r\nexport class VideoTexture2D extends Texture2D\r\n{\r\n    @watch('_videoChanged')\r\n    video: HTMLVideoElement;\r\n\r\n    private _videoChanged()\r\n    {\r\n        this._pixels = this.video;\r\n        this.invalidate();\r\n    }\r\n}\r\n","import { ObjectUtils, mathUtil } from '@feng3d/polyfill';\r\n\r\n/**\r\n * 通用唯一标识符（Universally Unique Identifier）\r\n *\r\n * 用于给所有对象分配一个通用唯一标识符\r\n */\r\nexport class Uuid\r\n{\r\n    /**\r\n     * 获取数组 通用唯一标识符\r\n     *\r\n     * @param arr 数组\r\n     * @param separator 分割符\r\n     */\r\n    getArrayUuid(arr: any[], separator = '$__uuid__$')\r\n    {\r\n        const uuids = arr.map((v) => this.getObjectUuid(v));\r\n        const groupUuid = uuids.join(separator);\r\n\r\n        return groupUuid;\r\n    }\r\n\r\n    /**\r\n     * 获取对象 通用唯一标识符\r\n     *\r\n     * 当参数object非Object对象时强制转换为字符串返回\r\n     *\r\n     * @param object 对象\r\n     */\r\n    getObjectUuid(object: Object)\r\n    {\r\n        if (ObjectUtils.isBaseType(object))\r\n        {\r\n            return String(object);\r\n        }\r\n        if (!object[__uuid__])\r\n        {\r\n            Object.defineProperty(object, __uuid__, { value: mathUtil.uuid() });\r\n        }\r\n\r\n        return object[__uuid__];\r\n    }\r\n    objectUuid = new WeakMap<Object, string>();\r\n}\r\n\r\nexport const __uuid__ = '__uuid__';\r\nexport const uuid = new Uuid();\r\n","import { anyEmitter } from '@feng3d/event';\r\nimport { ArrayUtils, FunctionPropertyNames } from '@feng3d/polyfill';\r\nimport { uuid } from './Uuid';\r\n\r\ntype Wraps<T, K extends keyof T> = {\r\n    [P in K]: { space: T, funcName: K, oldPropertyDescriptor: PropertyDescriptor, original: Function, funcs: Function[] };\r\n};\r\n\r\n/**\r\n * 函数经\r\n *\r\n * 包装函数，以及对应的拆包\r\n */\r\nexport class FunctionWrap\r\n{\r\n    /**\r\n     * 扩展继承函数\r\n     *\r\n     * 可用于扩展原型中原有API中的实现\r\n     *\r\n     * ```\r\n    class A\r\n    {\r\n        a = \"a\";\r\n\r\n        f(p: string = \"p\", p1: string = \"\")\r\n        {\r\n            return p + p1;\r\n        }\r\n\r\n        extendF: (p?: string, p1?: string) => string;\r\n        oldf: (p?: string, p1?: string) => string;\r\n    }\r\n\r\n    var a = new A();\r\n    a.oldf = a.f;\r\n    a.extendF = function (p: string = \"p\", p1: string = \"\")\r\n    {\r\n        return [\"polyfill\", this.a, this.oldf()].join(\"-\")\r\n    }\r\n    feng3d.functionwrap.extendFunction(a, \"f\", function (r)\r\n    {\r\n        return [\"polyfill\", this.a, r].join(\"-\");\r\n    });\r\n    // 验证 被扩展的a.f方法是否等价于 a.extendF\r\n    assert.ok(a.f() == a.extendF()); //true\r\n\r\n     * ```\r\n     *\r\n     * @param object 被扩展函数所属对象或者原型\r\n     * @param funcName 被扩展函数名称\r\n     * @param extendFunc 在函数执行后执行的扩展函数\r\n     */\r\n    extendFunction<T, K extends FunctionPropertyNames<T>, V extends (T[K] & ((...args: any) => any))>(object: T, funcName: K, extendFunc: (this: T, r: ReturnType<V>, ...ps: Parameters<V>) => ReturnType<V>)\r\n    {\r\n        const oldFun = object[funcName];\r\n        object[funcName] = <any>(function (...args: Parameters<V>)\r\n        {\r\n            let r = (<any>oldFun).apply(this, args);\r\n            const args1 = args.concat();\r\n            args1.unshift(r);\r\n            r = extendFunc.apply(this, args1);\r\n\r\n            return r;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 包装函数\r\n     *\r\n     * 一般用于调试\r\n     * 使用场景示例：\r\n     * 1. 在函数执行前后记录时间来计算函数执行时间。\r\n     * 1. 在console.error调用前使用 debugger 进行断点调试。\r\n     *\r\n     * @param object 函数所属对象或者原型\r\n     * @param funcName 函数名称\r\n     * @param beforeFunc 在函数执行前执行的函数\r\n     * @param afterFunc 在函数执行后执行的函数\r\n     */\r\n    wrap<T, K extends FunctionPropertyNames<T>, F extends T[K] & Function>(object: T, funcName: K, beforeFunc?: F, afterFunc?: F)\r\n    {\r\n        if (!beforeFunc && !afterFunc) return;\r\n\r\n        if (!Object.getOwnPropertyDescriptor(object, __functionwrap__))\r\n        {\r\n            Object.defineProperty(object, __functionwrap__, { value: {}, configurable: true, enumerable: false, writable: false });\r\n        }\r\n\r\n        const functionwraps: Wraps<T, K> = object[__functionwrap__];\r\n        let info = functionwraps[funcName];\r\n        if (!info)\r\n        {\r\n            const oldPropertyDescriptor = Object.getOwnPropertyDescriptor(object, funcName);\r\n            const original = <any>object[funcName];\r\n            functionwraps[funcName] = info = { space: object, funcName, oldPropertyDescriptor, original, funcs: [original] };\r\n            //\r\n            object[funcName] = <any> function ()\r\n            {\r\n                // eslint-disable-next-line prefer-rest-params\r\n                const args = arguments;\r\n                info.funcs.forEach((f) =>\r\n                {\r\n                    f.apply(this, args);\r\n                });\r\n            };\r\n        }\r\n        const funcs = info.funcs;\r\n        if (beforeFunc)\r\n        {\r\n            ArrayUtils.deleteItem(funcs, beforeFunc);\r\n            funcs.unshift(beforeFunc);\r\n        }\r\n        if (afterFunc)\r\n        {\r\n            ArrayUtils.deleteItem(funcs, afterFunc);\r\n            funcs.push(afterFunc);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消包装函数\r\n     *\r\n     * 与wrap函数对应\r\n     *\r\n     * @param object 函数所属对象或者原型\r\n     * @param funcName 函数名称\r\n     * @param wrapFunc 在函数执行前执行的函数\r\n     * @param before 运行在原函数之前\r\n     */\r\n    unwrap<T, K extends FunctionPropertyNames<T>, V extends T[K] & Function>(object: T, funcName: K, wrapFunc?: V)\r\n    {\r\n        const functionwraps: Wraps<T, K> = object[__functionwrap__];\r\n        const info = functionwraps[funcName];\r\n        if (!info) return;\r\n        if (wrapFunc === undefined)\r\n        {\r\n            info.funcs = [info.original];\r\n        }\r\n        else\r\n        {\r\n            ArrayUtils.deleteItem(info.funcs, wrapFunc);\r\n        }\r\n        if (info.funcs.length === 1)\r\n        {\r\n            delete object[funcName];\r\n            if (info.oldPropertyDescriptor)\r\n            { Object.defineProperty(object, funcName, info.oldPropertyDescriptor); }\r\n            delete functionwraps[funcName];\r\n\r\n            if (Object.keys(functionwraps).length === 0)\r\n            {\r\n                delete object[__functionwrap__];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 包装一个异步函数，使其避免重复执行\r\n     *\r\n     * 使用场景示例：同时加载同一资源时，使其只加载一次，完成后调用所有相关回调函数。\r\n     *\r\n     * @param funcHost 函数所属对象\r\n     * @param func 函数\r\n     * @param params 函数除callback外的参数列表\r\n     * @param callback 完成回调函数\r\n     */\r\n    wrapAsyncFunc(funcHost: Object, func: Function, params: any[], callback: (...args: any[]) => void)\r\n    {\r\n        // 获取唯一编号\r\n        const cuuid = uuid.getArrayUuid([func].concat(params));\r\n        // 检查是否执行过\r\n        const result = this._wrapFResult[cuuid];\r\n        if (result)\r\n        {\r\n            // eslint-disable-next-line prefer-spread\r\n            callback.apply(null, result);\r\n\r\n            return;\r\n        }\r\n        // 监听执行完成事件\r\n        anyEmitter.once(this, cuuid, () =>\r\n        {\r\n            // 完成时重新执行函数\r\n            this.wrapAsyncFunc(funcHost, func, params, callback);\r\n        });\r\n        // 正在执行时直接返回等待完成事件\r\n        if (this._state[cuuid]) return;\r\n        // 标记正在执行中\r\n        this._state[cuuid] = true;\r\n\r\n        // 执行函数\r\n        func.apply(funcHost, params.concat((...args: any[]) =>\r\n        {\r\n            // 清理执行标记\r\n            delete this._state[cuuid];\r\n            // 保存执行结果\r\n            this._wrapFResult[cuuid] = args;\r\n            // 通知执行完成\r\n            anyEmitter.emit(this, cuuid);\r\n        }));\r\n    }\r\n\r\n    private _wrapFResult: { [cuuid: string]: any } = {};\r\n    private _state: { [uuid: string]: boolean } = {};\r\n}\r\n\r\nexport const __functionwrap__ = '__functionwrap__';\r\nexport const functionwrap = new FunctionWrap();\r\n","/* eslint-disable no-restricted-syntax */\r\n/* eslint-disable no-debugger */\r\nimport { functionwrap } from './FunctionWarp';\r\n\r\n/**\r\n * 是否开启调试\r\n */\r\nexport const debuger = true;\r\n\r\n/**\r\n * 调试工具\r\n */\r\nexport class Debug\r\n{\r\n    constructor()\r\n    {\r\n        // 断言失败前进入断点调试\r\n        functionwrap.wrap(console, 'assert', (test: boolean) => { if (!test) debugger; });\r\n        // 输出错误前进入断点调试\r\n        functionwrap.wrap(console, 'error', () => { debugger; });\r\n        functionwrap.wrap(console, 'warn', () => { debugger; });\r\n    }\r\n\r\n    /**\r\n     * 测试代码运行时间\r\n     * @param fn 被测试的方法\r\n     * @param labal 标签\r\n     */\r\n    time(fn: Function, labal?: string)\r\n    {\r\n        labal = labal || fn['name'] || `Anonymous function ${Math.random()}`;\r\n        console.time(labal);\r\n        fn();\r\n        console.timeEnd(labal);\r\n    }\r\n}\r\n/**\r\n * 调试工具\r\n */\r\nexport const debug = new Debug();\r\n","/**\r\n * 常用正则表示式\r\n */\r\nexport class RegExps\r\n{\r\n    /**\r\n     * json文件\r\n     */\r\n    json = /(\\.json)\\b/i;\r\n\r\n    /**\r\n     * 图片\r\n     */\r\n    image = /(\\.jpg|\\.png|\\.jpeg|\\.gif)\\b/i;\r\n\r\n    /**\r\n     * 声音\r\n     */\r\n    audio = /(\\.ogg|\\.mp3|\\.wav)\\b/i;\r\n\r\n    /**\r\n     * 命名空间\r\n     */\r\n    namespace = /namespace\\s+([\\w$_\\d\\.]+)/;\r\n\r\n    /**\r\n     * 类\r\n     */\r\n    classReg = /(export\\s+)?(abstract\\s+)?class\\s+([\\w$_\\d]+)(\\s+extends\\s+([\\w$_\\d\\.]+))?/;\r\n}\r\n\r\n/**\r\n * 常用正则表示式\r\n */\r\nexport const regExps = new RegExps();\r\n","import { ticker } from './Ticker';\r\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\ndeclare global\r\n{\r\n\r\n    interface Performance\r\n    {\r\n        memory: any;\r\n    }\r\n}\r\n\r\nexport class Stats\r\n{\r\n    static instance: Stats;\r\n    static init(parent?: HTMLElement)\r\n    {\r\n        if (!this.instance)\r\n        {\r\n            this.instance = new Stats();\r\n            parent = parent || document.body;\r\n            parent.appendChild(this.instance.dom);\r\n        }\r\n        ticker.onframe(this.instance.update, this.instance);\r\n    }\r\n\r\n    REVISION: number;\r\n    dom: HTMLDivElement;\r\n    domElement: HTMLDivElement;\r\n    addPanel: (panel: StatsPanel) => StatsPanel;\r\n    showPanel: (id: number) => void;\r\n    setMode: (id: number) => void;\r\n    begin: () => void;\r\n    end: () => number;\r\n    update: () => void;\r\n\r\n    constructor()\r\n    {\r\n        let mode = 0;\r\n        if (typeof document === 'undefined') return;\r\n\r\n        const container = document.createElement('div');\r\n        container.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;';\r\n        container.addEventListener('click', function (event)\r\n        {\r\n            event.preventDefault();\r\n            showPanel(++mode % container.children.length);\r\n        }, false);\r\n\r\n        //\r\n        function addPanel(panel: StatsPanel)\r\n        {\r\n            container.appendChild(panel.dom);\r\n\r\n            return panel;\r\n        }\r\n\r\n        function showPanel(id: number)\r\n        {\r\n            for (let i = 0; i < container.children.length; i++)\r\n            {\r\n                (<HTMLCanvasElement>container.children[i]).style.display = i === id ? 'block' : 'none';\r\n            }\r\n            mode = id;\r\n        }\r\n\r\n        //\r\n        let beginTime = (performance || Date).now(); let prevTime = beginTime; let\r\n            frames = 0;\r\n\r\n        const fpsPanel = addPanel(new StatsPanel('FPS', '#0ff', '#002'));\r\n        const msPanel = addPanel(new StatsPanel('MS', '#0f0', '#020'));\r\n\r\n        let memPanel: StatsPanel;\r\n        if (self.performance && self.performance.memory)\r\n        {\r\n            memPanel = addPanel(new StatsPanel('MB', '#f08', '#201'));\r\n        }\r\n\r\n        showPanel(0);\r\n\r\n        this.REVISION = 16;\r\n        this.dom = container;\r\n        this.addPanel = addPanel;\r\n        this.showPanel = showPanel;\r\n\r\n        this.begin = () =>\r\n        {\r\n            beginTime = (performance || Date).now();\r\n        };\r\n\r\n        this.end = () =>\r\n        {\r\n            frames++;\r\n            const time = (performance || Date).now();\r\n            msPanel.update(time - beginTime, 200);\r\n            if (time > prevTime + 1000)\r\n            {\r\n                fpsPanel.update((frames * 1000) / (time - prevTime), 100);\r\n                prevTime = time;\r\n                frames = 0;\r\n                if (memPanel)\r\n                {\r\n                    const memory = performance.memory;\r\n                    memPanel.update(memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576);\r\n                }\r\n            }\r\n\r\n            return time;\r\n        };\r\n\r\n        this.update = () =>\r\n        {\r\n            beginTime = this.end();\r\n        };\r\n\r\n        // Backwards Compatibility\r\n\r\n        this.domElement = container;\r\n        this.setMode = showPanel;\r\n    }\r\n}\r\n\r\nexport class StatsPanel\r\n{\r\n    dom: HTMLCanvasElement;\r\n    update: (value: number, maxValue: number) => void;\r\n\r\n    constructor(name: string, fg: string, bg: string)\r\n    {\r\n        let min = Infinity; let max = 0; const\r\n            round = Math.round;\r\n        const PR = round(window.devicePixelRatio || 1);\r\n\r\n        const WIDTH = 80 * PR; const HEIGHT = 48 * PR;\r\n        const TEXT_X = 3 * PR; const TEXT_Y = 2 * PR;\r\n        const GRAPH_X = 3 * PR; const GRAPH_Y = 15 * PR;\r\n        const GRAPH_WIDTH = 74 * PR; const\r\n            GRAPH_HEIGHT = 30 * PR;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = WIDTH;\r\n        canvas.height = HEIGHT;\r\n        canvas.style.cssText = 'width:80px;height:48px';\r\n\r\n        const context0 = canvas.getContext('2d');\r\n        if (!context0)\r\n        {\r\n            console.log(`无法创建 CanvasRenderingContext2D `);\r\n\r\n            return;\r\n        }\r\n        const context = context0;\r\n        context.font = `bold ${9 * PR}px Helvetica,Arial,sans-serif`;\r\n        context.textBaseline = 'top';\r\n\r\n        context.fillStyle = bg;\r\n        context.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n        context.fillStyle = fg;\r\n        context.fillText(name, TEXT_X, TEXT_Y);\r\n        context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\r\n\r\n        context.fillStyle = bg;\r\n        context.globalAlpha = 0.9;\r\n        context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\r\n\r\n        this.dom = canvas;\r\n\r\n        this.update = (value: number, maxValue: number) =>\r\n        {\r\n            min = Math.min(min, value);\r\n            max = Math.max(max, value);\r\n\r\n            context.fillStyle = bg;\r\n            context.globalAlpha = 1;\r\n            context.fillRect(0, 0, WIDTH, GRAPH_Y);\r\n            context.fillStyle = fg;\r\n            context.fillText(`${round(value)} ${name} (${round(min)}-${round(max)})`, TEXT_X, TEXT_Y);\r\n\r\n            context.drawImage(canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT);\r\n\r\n            context.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT);\r\n\r\n            context.fillStyle = bg;\r\n            context.globalAlpha = 0.9;\r\n            context.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round((1 - (value / maxValue)) * GRAPH_HEIGHT));\r\n        };\r\n    }\r\n}\r\n","import { Matrix4x4, Plane, Vector3, Vector4 } from '@feng3d/math';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { Camera } from '../cameras/Camera';\r\nimport { RegisterComponent } from '../component/Component';\r\nimport { GameObject } from '../core/GameObject';\r\nimport { Renderable } from '../core/Renderable';\r\nimport { Geometry } from '../geometry/Geometry';\r\nimport { Material } from '../materials/Material';\r\nimport { AddComponentMenu } from '../Menu';\r\nimport { createNodeMenu } from '../menu/CreateNodeMenu';\r\nimport { FrameBufferObject } from '../render/FrameBufferObject';\r\nimport { Scene } from '../scene/Scene';\r\nimport { WaterUniforms } from './WaterMaterial';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Water: Water\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Water: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * The Water component renders the terrain.\r\n */\r\n@AddComponentMenu('Graphics/Water')\r\n@RegisterComponent()\r\nexport class Water extends Renderable\r\n{\r\n    __class__: 'feng3d.Water';\r\n\r\n    geometry = Geometry.getDefault('Plane');\r\n\r\n    material = Material.getDefault('Water-Material');\r\n\r\n    /**\r\n     * 帧缓冲对象，用于处理水面反射\r\n     */\r\n    private frameBufferObject = new FrameBufferObject();\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        const uniforms = this.material.uniforms as WaterUniforms;\r\n        const sun = this.gameObject.scene.activeDirectionalLights[0];\r\n        if (sun)\r\n        {\r\n            uniforms.u_sunColor = sun.color;\r\n            uniforms.u_sunDirection = sun.transform.localToWorldMatrix.getAxisZ().negate();\r\n        }\r\n\r\n        const clipBias = 0;\r\n\r\n        uniforms.u_time += 1.0 / 60.0;\r\n\r\n        // this.material.uniforms.s_mirrorSampler.url = \"Assets/floor_diffuse.jpg\";\r\n\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        // eslint-disable-next-line no-constant-condition\r\n        if (1) return;\r\n        //\r\n        const mirrorWorldPosition = this.transform.worldPosition;\r\n        const cameraWorldPosition = camera.transform.worldPosition;\r\n\r\n        let rotationMatrix = this.transform.rotationMatrix;\r\n\r\n        const normal = rotationMatrix.getAxisZ();\r\n\r\n        const view = mirrorWorldPosition.subTo(cameraWorldPosition);\r\n        if (view.dot(normal) > 0) return;\r\n\r\n        view.reflect(normal).negate();\r\n        view.add(mirrorWorldPosition);\r\n\r\n        rotationMatrix = camera.transform.rotationMatrix;\r\n\r\n        const lookAtPosition = new Vector3(0, 0, -1);\r\n        lookAtPosition.applyMatrix4x4(rotationMatrix);\r\n        lookAtPosition.add(cameraWorldPosition);\r\n\r\n        const target = mirrorWorldPosition.subTo(lookAtPosition);\r\n        target.reflect(normal).negate();\r\n        target.add(mirrorWorldPosition);\r\n\r\n        const mirrorCamera = serialization.setValue(new GameObject(), { name: 'waterMirrorCamera' }).addComponent(Camera);\r\n        mirrorCamera.transform.position = view;\r\n        mirrorCamera.transform.lookAt(target, rotationMatrix.getAxisY());\r\n\r\n        mirrorCamera.lens = camera.lens.clone();\r\n\r\n        const textureMatrix = new Matrix4x4(\r\n            [\r\n                0.5, 0.0, 0.0, 0.0,\r\n                0.0, 0.5, 0.0, 0.0,\r\n                0.0, 0.0, 0.5, 0.0,\r\n                0.5, 0.5, 0.5, 1.0\r\n            ]\r\n        );\r\n        textureMatrix.append(mirrorCamera.viewProjection);\r\n\r\n        const mirrorPlane = Plane.fromNormalAndPoint(mirrorCamera.transform.worldToLocalMatrix.transformVector3(normal), mirrorCamera.transform.worldToLocalMatrix.transformPoint3(mirrorWorldPosition));\r\n        const clipPlane = new Vector4(mirrorPlane.a, mirrorPlane.b, mirrorPlane.c, mirrorPlane.d);\r\n\r\n        const projectionMatrix = mirrorCamera.lens.matrix;\r\n\r\n        const q = new Vector4();\r\n        q.x = (clipPlane.x / Math.abs(clipPlane.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\r\n        q.y = (clipPlane.y / Math.abs(clipPlane.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\r\n        q.z = -1.0;\r\n        q.w = (1.0 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\r\n\r\n        clipPlane.scale(2.0 / clipPlane.dot(q));\r\n\r\n        projectionMatrix.elements[2] = clipPlane.x;\r\n        projectionMatrix.elements[6] = clipPlane.y;\r\n        projectionMatrix.elements[10] = clipPlane.z + 1.0 - clipBias;\r\n        projectionMatrix.elements[14] = clipPlane.w;\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        const eye = camera.transform.worldPosition;\r\n\r\n        // 不支持直接操作gl，下面代码暂时注释掉！\r\n        // //\r\n        // var frameBufferObject = this.frameBufferObject;\r\n        // FrameBufferObject.active(gl, frameBufferObject);\r\n\r\n        // //\r\n        // gl.viewport(0, 0, frameBufferObject.OFFSCREEN_WIDTH, frameBufferObject.OFFSCREEN_HEIGHT);\r\n        // gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n        // gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n        // skyboxRenderer.draw(gl, scene, mirrorCamera);\r\n        // // forwardRenderer.draw(gl, scene, mirrorCamera);\r\n        // // forwardRenderer.draw(gl, scene, camera);\r\n\r\n        // frameBufferObject.deactive(gl);\r\n\r\n        //\r\n        // this.material.uniforms.s_mirrorSampler = frameBufferObject.texture;\r\n\r\n        uniforms.u_textureMatrix = textureMatrix;\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Water', (g) =>\r\n{\r\n    g.addComponent(Water);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Water',\r\n        priority: -20000,\r\n        click: () =>\r\n            GameObject.createPrimitive('Water')\r\n    }\r\n);\r\n\r\n","import { Color3, Matrix4x4, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderlib } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Material } from '../materials/Material';\r\nimport { Texture2D } from '../textures/Texture2D';\r\nimport waterVertex from '../shaders/water.vertex.glsl';\r\nimport waterFragment from '../shaders/water.fragment.glsl';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes { water: WaterUniforms }\r\n\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Water-Material': Material;\r\n    }\r\n}\r\n\r\nexport class WaterUniforms\r\n{\r\n    __class__: 'feng3d.WaterUniforms';\r\n\r\n    @serialize\r\n    @oav({ tooltip: '透明度' })\r\n    u_alpha = 1.0;\r\n\r\n    /**\r\n     * 水体运动时间，默认自动递增\r\n     */\r\n    // @serialize\r\n    // @oav({ tooltip: \"水体运动时间，默认自动递增\" })\r\n    u_time = 0.0;\r\n\r\n    @serialize\r\n    @oav({ tooltip: '水体展现的尺寸' })\r\n    u_size = 10.0;\r\n\r\n    @oav()\r\n    @serialize\r\n    u_distortionScale = 20.0;\r\n\r\n    @serialize\r\n    @oav({ tooltip: '水体颜色' })\r\n    u_waterColor = new Color3().fromUnit(0x555555);\r\n\r\n    @oav()\r\n    @serialize\r\n    @oav({ tooltip: '水体法线图' })\r\n    s_normalSampler = Texture2D.default;\r\n\r\n    /**\r\n     * 镜面反射贴图\r\n     */\r\n    @oav()\r\n    // s_mirrorSampler = new RenderTargetTexture2D();\r\n    s_mirrorSampler = Texture2D.default;\r\n\r\n    u_textureMatrix = new Matrix4x4();\r\n    u_sunColor = new Color3().fromUnit(0x7F7F7F);\r\n    u_sunDirection = new Vector3(0.70707, 0.70707, 0);\r\n}\r\n\r\nshaderlib.shaderConfig.shaders.water = { fragment: waterFragment, vertex: waterVertex, cls: WaterUniforms };\r\n\r\nMaterial.setDefault('Water-Material', { shaderName: 'water' });\r\n","import { FileAsset } from '@feng3d/core';\r\n\r\n/**\r\n * 二进制 资源\r\n */\r\nexport class ArrayBufferAsset extends FileAsset\r\n{\r\n    /**\r\n     * 文件数据\r\n     */\r\n    arraybuffer: ArrayBuffer;\r\n\r\n    /**\r\n     * 保存文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    saveFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.writeArrayBuffer(this.assetPath, this.arraybuffer, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    readFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.readArrayBuffer(this.assetPath, (err, data) =>\r\n        {\r\n            this.arraybuffer = data;\r\n            callback && callback(err);\r\n        });\r\n    }\r\n}\r\n","import { AssetType } from '@feng3d/core';\r\nimport { ArrayBufferAsset } from '../ArrayBufferAsset';\r\n\r\n/**\r\n * 音效资源\r\n */\r\nexport class AudioAsset extends ArrayBufferAsset\r\n{\r\n    readonly assetType = AssetType.audio;\r\n    // readonly extenson: \".ogg\" | \".mp3\" | \".wav\" = \".mp3\";\r\n}\r\n","import { FileAsset, AssetData } from '@feng3d/core';\r\nimport { objectEmitter } from '@feng3d/event';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\n\r\n/**\r\n * 对象资源\r\n */\r\nexport abstract class ObjectAsset extends FileAsset\r\n{\r\n    /**\r\n     * 资源对象\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    @watch('_dataChanged')\r\n    declare data: any;\r\n\r\n    saveFile(callback?: (err: Error) => void)\r\n    {\r\n        this.data.assetId = this.assetId;\r\n        const d = serialization.serialize(this.data);\r\n        this.rs.fs.writeObject(this.assetPath, d, (err) =>\r\n        {\r\n            callback && callback(err);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    readFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.readObject(this.assetPath, (err, object) =>\r\n        {\r\n            this.rs.deserializeWithAssets(object, (data: AssetData) =>\r\n            {\r\n                this.data = data;\r\n                this.data.assetId = this.assetId;\r\n                callback && callback(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    private _dataChanged(property, oldValue, newValue)\r\n    {\r\n        if (oldValue)\r\n        {\r\n            objectEmitter.off(oldValue, 'propertyValueChanged', this._onDataChanged, this);\r\n        }\r\n        if (newValue)\r\n        {\r\n            objectEmitter.on(newValue, 'propertyValueChanged', this._onDataChanged, this);\r\n        }\r\n    }\r\n\r\n    private _onDataChanged()\r\n    {\r\n        this.write();\r\n    }\r\n}\r\n","import { AssetType, GameObject } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { ObjectAsset } from '../ObjectAsset';\r\n\r\nexport interface GameObjectAsset\r\n{\r\n    getAssetData(callback?: (result: GameObject) => void): GameObject;\r\n}\r\n\r\n/**\r\n * 游戏对象资源\r\n */\r\nexport class GameObjectAsset extends ObjectAsset\r\n{\r\n    /**\r\n     * 材质\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    declare data: GameObject;\r\n\r\n    assetType = AssetType.gameobject;\r\n\r\n    static extenson = '.json';\r\n\r\n    initAsset()\r\n    {\r\n        this.data = this.data || new GameObject();\r\n        this.data.assetId = this.data.assetId || this.assetId;\r\n    }\r\n\r\n    protected _getAssetData()\r\n    {\r\n        const gameobject = serialization.clone(this.data);\r\n        delete gameobject.assetId;\r\n        gameobject.prefabId = this.assetId;\r\n\r\n        return gameobject;\r\n    }\r\n}\r\n","import { AssetType, CubeGeometry, Geometry, setAssetTypeClass } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ObjectAsset } from '../ObjectAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'geometry': new () => GeometryAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 几何体资源\r\n */\r\nexport class GeometryAsset extends ObjectAsset\r\n{\r\n    static extenson = '.json';\r\n\r\n    /**\r\n     * 几何体\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    declare data: Geometry;\r\n\r\n    assetType = AssetType.geometry;\r\n\r\n    initAsset()\r\n    {\r\n        this.data = this.data || new CubeGeometry();\r\n        this.data.assetId = this.data.assetId || this.assetId;\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('geometry', GeometryAsset);\r\n","import { AssetType, FileAsset, setAssetTypeClass } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'txt': new () => TextAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 文本 资源\r\n */\r\nexport class TextAsset extends FileAsset\r\n{\r\n    static extenson = '.txt';\r\n\r\n    assetType = AssetType.txt;\r\n\r\n    @oav({ component: 'OAVMultiText' })\r\n    textContent: string;\r\n\r\n    initAsset()\r\n    {\r\n        this.textContent = this.textContent || '';\r\n    }\r\n\r\n    saveFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.writeString(this.assetPath, this.textContent, callback);\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    readFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.readString(this.assetPath, (err, data) =>\r\n        {\r\n            this.textContent = data;\r\n            callback && callback(err);\r\n        });\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('txt', TextAsset);\r\n","import { AssetType, setAssetTypeClass } from '@feng3d/core';\r\nimport { TextAsset } from './TextAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'js': new () => JSAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * JS资源\r\n */\r\nexport class JSAsset extends TextAsset\r\n{\r\n    static extenson = '.js';\r\n\r\n    assetType = AssetType.js;\r\n\r\n    declare textContent: string;\r\n\r\n    initAsset()\r\n    {\r\n        this.textContent = this.textContent || '';\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('js', JSAsset);\r\n","import { AssetType, setAssetTypeClass } from '@feng3d/core';\r\nimport { TextAsset } from './TextAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'json': new () => JsonAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * JSON 资源\r\n */\r\nexport class JsonAsset extends TextAsset\r\n{\r\n    static extenson = '.json';\r\n\r\n    assetType = AssetType.json;\r\n\r\n    declare textContent: string;\r\n\r\n    initAsset()\r\n    {\r\n        this.textContent = this.textContent || '{}';\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('json', JsonAsset);\r\n","import { AssetType, Material, setAssetTypeClass } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ObjectAsset } from '../ObjectAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'material': new () => MaterialAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 材质资源\r\n */\r\nexport class MaterialAsset extends ObjectAsset\r\n{\r\n    static extenson = '.json';\r\n\r\n    /**\r\n     * 材质\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    declare data: Material;\r\n\r\n    assetType = AssetType.material;\r\n\r\n    initAsset()\r\n    {\r\n        this.data = this.data || new Material();\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('material', MaterialAsset);\r\n","import { AssetType, regExps, setAssetTypeClass } from '@feng3d/core';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { TextAsset } from './TextAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'script': new () => ScriptAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 脚本资源\r\n */\r\nexport class ScriptAsset extends TextAsset\r\n{\r\n    static extenson = '.ts';\r\n\r\n    assetType = AssetType.script;\r\n\r\n    @watch('_invalidate')\r\n    declare textContent: string;\r\n\r\n    /**\r\n     * 脚本父类名称\r\n     */\r\n    get parentScriptName()\r\n    {\r\n        this._update();\r\n\r\n        return this._parentScriptName;\r\n    }\r\n    private _parentScriptName: string;\r\n\r\n    /**\r\n     * 脚本类定义\r\n     */\r\n    get scriptName()\r\n    {\r\n        this._update();\r\n\r\n        return this._scriptName;\r\n    }\r\n    private _scriptName: string;\r\n\r\n    private _invalid = true;\r\n\r\n    initAsset()\r\n    {\r\n        this.textContent = this.textContent || '';\r\n    }\r\n\r\n    private _invalidate()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    private _update()\r\n    {\r\n        if (!this._invalid) return;\r\n        this._invalid = false;\r\n\r\n        if (!this.textContent)\r\n        {\r\n            this._scriptName = '';\r\n\r\n            return;\r\n        }\r\n\r\n        // 获取脚本类名称\r\n        let result = regExps.classReg.exec(this.textContent);\r\n        console.assert(result !== null, `在脚本 ${this.assetPath} 中没有找到 脚本类定义`);\r\n        let script = result[3];\r\n        if (result[5])\r\n        {\r\n            this._parentScriptName = result[5].split('.').pop();\r\n        }\r\n        // 获取导出类命名空间\r\n        if (result[1])\r\n        {\r\n            result = regExps.namespace.exec(this.textContent);\r\n            console.assert(result !== null, `获取脚本 ${this.assetPath} 命名空间失败`);\r\n            script = `${result[1]}.${script}`;\r\n        }\r\n\r\n        this._scriptName = script;\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('script', ScriptAsset);\r\n","import { AssetType, setAssetTypeClass } from '@feng3d/core';\r\nimport { ScriptAsset } from './ScriptAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'shader': new () => ShaderAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 着色器 资源\r\n */\r\nexport class ShaderAsset extends ScriptAsset\r\n{\r\n    static extenson = '.ts';\r\n\r\n    assetType = AssetType.shader;\r\n}\r\n\r\nsetAssetTypeClass('shader', ShaderAsset);\r\n","import { AssetMeta, AssetType, FileAsset, Texture2D } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { gPartial } from '@feng3d/polyfill';\r\nimport { serialization } from '@feng3d/serialization';\r\n\r\n/**\r\n * 纹理文件\r\n */\r\nexport class TextureAsset extends FileAsset\r\n{\r\n    static extenson: '.jpg' | '.png' | '.jpeg' | '.gif' = '.png';\r\n\r\n    /**\r\n     * 材质\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    declare data: Texture2D;\r\n\r\n    /**\r\n     * 图片\r\n     */\r\n    get image() { return this.data['_pixels'] as any; }\r\n    set image(v: HTMLImageElement)\r\n    {\r\n        this.data['_pixels'] = v;\r\n        this.saveFile();\r\n    }\r\n\r\n    declare meta: TextureAssetMeta;\r\n\r\n    assetType = AssetType.texture;\r\n\r\n    initAsset()\r\n    {\r\n        this.data = this.data || new Texture2D();\r\n    }\r\n\r\n    saveFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.writeImage(this.assetPath, this.image, (err) =>\r\n        {\r\n            callback && callback(err);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取文件\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    readFile(callback?: (err: Error) => void)\r\n    {\r\n        this.rs.fs.readImage(this.assetPath, (err, img: HTMLImageElement) =>\r\n        {\r\n            this.data['_pixels'] = img;\r\n            callback && callback(err);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 读取元标签\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected readMeta(callback?: (err?: Error) => void)\r\n    {\r\n        super.readMeta((err) =>\r\n        {\r\n            this.rs.deserializeWithAssets(this.meta.texture, (result) =>\r\n            {\r\n                this.data = result;\r\n                callback && callback(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 写元标签\r\n     *\r\n     * @param callback 完成回调\r\n     */\r\n    protected writeMeta(callback?: (err: Error) => void)\r\n    {\r\n        this.meta.texture = serialization.serialize(this.data);\r\n        super.writeMeta(callback);\r\n    }\r\n}\r\n\r\nexport interface TextureAssetMeta extends AssetMeta\r\n{\r\n    texture: gPartial<Texture2D>;\r\n}\r\n","import { AssetType, setAssetTypeClass, TextureCube } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ObjectAsset } from '../ObjectAsset';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsAssetTypeClassMap\r\n    {\r\n        'texturecube': new () => TextureCubeAsset;\r\n    }\r\n}\r\n\r\n/**\r\n * 立方体纹理资源\r\n */\r\nexport class TextureCubeAsset extends ObjectAsset\r\n{\r\n    static extenson = '.json';\r\n\r\n    /**\r\n     * 材质\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    declare data: TextureCube;\r\n\r\n    assetType = AssetType.texturecube;\r\n\r\n    initAsset()\r\n    {\r\n        this.data = this.data || new TextureCube();\r\n    }\r\n}\r\n\r\nsetAssetTypeClass('texturecube', TextureCubeAsset);\r\n","import { AnimationClip, PropertyClip, PropertyClipPath, PropertyClipPathItemType } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { Vector3, Quaternion } from '@feng3d/math';\r\nimport { MD5AnimData, MD5_Frame, MD5_HierarchyData, MD5_BaseFrame } from '../parsers/MD5AnimParser';\r\n\r\n/**\r\n * MD5动画转换器\r\n */\r\nexport class MD5AnimConverter\r\n{\r\n    /**\r\n     * MD5动画数据转换为引擎动画数据\r\n     * @param md5AnimData MD5动画数据\r\n     * @param completed 转换完成回调\r\n     */\r\n    convert(md5AnimData: MD5AnimData, completed?: (animationClip: AnimationClip) => void)\r\n    {\r\n        const animationClip = new AnimationClip();\r\n        animationClip.name = md5AnimData.name;\r\n        animationClip.length = md5AnimData.numFrames / md5AnimData.frameRate * 1000;\r\n        animationClip.propertyClips = [];\r\n\r\n        const __chache__: { [key: string]: PropertyClip } = {};\r\n\r\n        for (let i = 0; i < md5AnimData.numFrames; ++i)\r\n        {\r\n            translatePose(md5AnimData, md5AnimData.frame[i], animationClip);\r\n        }\r\n\r\n        globalEmitter.emit('asset.parsed', animationClip);\r\n\r\n        completed && completed(animationClip);\r\n\r\n        /**\r\n         * 将一个关键帧数据转换为SkeletonPose\r\n         * @param frameData 帧数据\r\n         * @return 包含帧数据的SkeletonPose对象\r\n         */\r\n        function translatePose(md5AnimData: MD5AnimData, frameData: MD5_Frame, animationclip: AnimationClip)\r\n        {\r\n            let hierarchy: MD5_HierarchyData;\r\n            let base: MD5_BaseFrame;\r\n            let flags: number;\r\n            let j: number;\r\n            // 偏移量\r\n            const translation: Vector3 = new Vector3();\r\n            // 旋转四元素\r\n            const components: number[] = frameData.components;\r\n\r\n            for (let i = 0; i < md5AnimData.numJoints; ++i)\r\n            {\r\n                // 通过原始帧数据与层级数据计算出当前骨骼pose数据\r\n                j = 0;\r\n                // 层级数据\r\n                hierarchy = md5AnimData.hierarchy[i];\r\n                // 基础帧数据\r\n                base = md5AnimData.baseframe[i];\r\n                // 层级标记\r\n                flags = hierarchy.flags;\r\n                translation.x = base.position[0];\r\n                translation.y = base.position[1];\r\n                translation.z = base.position[2];\r\n                const orientation: Quaternion = new Quaternion();\r\n                orientation.x = base.orientation[0];\r\n                orientation.y = base.orientation[1];\r\n                orientation.z = base.orientation[2];\r\n\r\n                // 调整位移与角度数据\r\n                if (flags & 1)\r\n                { translation.x = components[hierarchy.startIndex + (j++)]; }\r\n                if (flags & 2)\r\n                { translation.y = components[hierarchy.startIndex + (j++)]; }\r\n                if (flags & 4)\r\n                { translation.z = components[hierarchy.startIndex + (j++)]; }\r\n                if (flags & 8)\r\n                { orientation.x = components[hierarchy.startIndex + (j++)]; }\r\n                if (flags & 16)\r\n                { orientation.y = components[hierarchy.startIndex + (j++)]; }\r\n                if (flags & 32)\r\n                { orientation.z = components[hierarchy.startIndex + (j++)]; }\r\n\r\n                // 计算四元素w值\r\n                const w = 1 - orientation.x * orientation.x - orientation.y * orientation.y - orientation.z * orientation.z;\r\n                orientation.w = w < 0 ? 0 : -Math.sqrt(w);\r\n\r\n                orientation.y = -orientation.y;\r\n                orientation.z = -orientation.z;\r\n                translation.x = -translation.x;\r\n\r\n                const eulers = orientation.toEulerAngles();\r\n                eulers.scaleNumber(180 / Math.PI);\r\n\r\n                const path: PropertyClipPath = [\r\n                    [PropertyClipPathItemType.GameObject, hierarchy.name],\r\n                    [PropertyClipPathItemType.Component, 'Transform'],\r\n                ];\r\n\r\n                const time = (frameData.index / md5AnimData.frameRate) * 1000;\r\n                setPropertyClipFrame(path, 'position', time, translation.toArray(), 'Vector3');\r\n                setPropertyClipFrame(path, 'orientation', time, orientation.toArray(), 'Quaternion');\r\n            }\r\n\r\n            function setPropertyClipFrame(path: PropertyClipPath, propertyName: string, time: number, propertyValue: number[], type: string)\r\n            {\r\n                const propertyClip = getPropertyClip(path, propertyName);\r\n                propertyClip.type = <any>type;\r\n                propertyClip.propertyValues.push([time, propertyValue]);\r\n            }\r\n\r\n            function getPropertyClip(path: PropertyClipPath, propertyName: string)\r\n            {\r\n                const key = path.join('-') + propertyName;\r\n                if (__chache__[key])\r\n                { return __chache__[key]; }\r\n                if (!__chache__[key])\r\n                {\r\n                    const propertyClip = __chache__[key] = new PropertyClip();\r\n                    propertyClip.path = path;\r\n                    propertyClip.propertyName = propertyName;\r\n                    propertyClip.propertyValues = [];\r\n                    animationclip.propertyClips.push(propertyClip);\r\n                }\r\n\r\n                return __chache__[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * MD5动画转换器\r\n */\r\nexport const md5AnimConverter = new MD5AnimConverter();\r\n","import { Animation, CustomGeometry, GameObject, SkeletonComponent, SkeletonJoint, SkinnedMeshRenderer, SkinSkeletonTemp } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { Matrix4x4, Quaternion, Vector3 } from '@feng3d/math';\r\nimport { MD5MeshData, MD5_Joint, MD5_Mesh, MD5_Vertex, MD5_Weight } from '../parsers/MD5MeshParser';\r\n\r\n/**\r\n * MD5模型转换器\r\n */\r\nexport class MD5MeshConverter\r\n{\r\n    /**\r\n     * MD5模型数据转换为游戏对象\r\n     * @param md5MeshData MD5模型数据\r\n     * @param completed 转换完成回调\r\n     */\r\n    convert(md5MeshData: MD5MeshData, completed?: (gameObject: GameObject) => void)\r\n    {\r\n        const gameObject = new GameObject();\r\n        gameObject.name = md5MeshData.name;\r\n        gameObject.addComponent(Animation);\r\n        gameObject.transform.rx = -90;\r\n\r\n        // 顶点最大关节关联数\r\n        const _maxJointCount = this.calculateMaxJointCount(md5MeshData);\r\n        console.assert(_maxJointCount <= 8, '顶点最大关节关联数最多支持8个');\r\n\r\n        const skeletonjoints = this.createSkeleton(md5MeshData.joints);\r\n\r\n        const skeletonComponent = gameObject.addComponent(SkeletonComponent);\r\n        skeletonComponent.joints = skeletonjoints;\r\n\r\n        for (let i = 0; i < md5MeshData.meshs.length; i++)\r\n        {\r\n            const skinSkeleton = new SkinSkeletonTemp();\r\n            const geometry = this.createGeometry(md5MeshData.meshs[i], skeletonComponent, skinSkeleton);\r\n\r\n            const skeletonGameObject = new GameObject();\r\n\r\n            const skinnedModel = skeletonGameObject.addComponent(SkinnedMeshRenderer);\r\n            skinnedModel.geometry = geometry;\r\n            skinnedModel.skinSkeleton = skinSkeleton;\r\n\r\n            gameObject.addChild(skeletonGameObject);\r\n        }\r\n\r\n        globalEmitter.emit('asset.parsed', gameObject);\r\n        completed && completed(gameObject);\r\n    }\r\n\r\n    /**\r\n     * 计算最大关节数量\r\n     */\r\n    private calculateMaxJointCount(md5MeshData: MD5MeshData)\r\n    {\r\n        let _maxJointCount = 0;\r\n\r\n        // 遍历所有的网格数据\r\n        const numMeshData = md5MeshData.meshs.length;\r\n        for (let i = 0; i < numMeshData; ++i)\r\n        {\r\n            const meshData: MD5_Mesh = md5MeshData.meshs[i];\r\n            const vertexData: MD5_Vertex[] = meshData.verts;\r\n            const numVerts = vertexData.length;\r\n\r\n            // 遍历每个顶点 寻找关节关联最大数量\r\n            for (let j = 0; j < numVerts; ++j)\r\n            {\r\n                const zeroWeights = this.countZeroWeightJoints(vertexData[j], meshData.weights);\r\n                const totalJoints = vertexData[j].countWeight - zeroWeights;\r\n                if (totalJoints > _maxJointCount)\r\n                { _maxJointCount = totalJoints; }\r\n            }\r\n        }\r\n\r\n        return _maxJointCount;\r\n    }\r\n\r\n    /**\r\n     * 计算0权重关节数量\r\n     * @param vertex 顶点数据\r\n     * @param weights 关节权重数组\r\n     * @return\r\n     */\r\n    private countZeroWeightJoints(vertex: MD5_Vertex, weights: MD5_Weight[]): number\r\n    {\r\n        const start = vertex.startWeight;\r\n        const end = vertex.startWeight + vertex.countWeight;\r\n        let count = 0;\r\n        let weight: number;\r\n\r\n        for (let i = start; i < end; ++i)\r\n        {\r\n            weight = weights[i].bias;\r\n            if (weight === 0)\r\n            { ++count; }\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    private createSkeleton(joints: MD5_Joint[])\r\n    {\r\n        const skeletonjoints: SkeletonJoint[] = [];\r\n        for (let i = 0; i < joints.length; i++)\r\n        {\r\n            const skeletonJoint = this.createSkeletonJoint(joints[i]);\r\n            skeletonjoints.push(skeletonJoint);\r\n        }\r\n\r\n        return skeletonjoints;\r\n    }\r\n\r\n    private createSkeletonJoint(joint: MD5_Joint)\r\n    {\r\n        const skeletonJoint = new SkeletonJoint();\r\n        skeletonJoint.name = joint.name;\r\n        skeletonJoint.parentIndex = joint.parentIndex;\r\n        const position = joint.position;\r\n        const rotation = joint.rotation;\r\n        const quat = new Quaternion(rotation[0], -rotation[1], -rotation[2]);\r\n        // quat supposed to be unit length\r\n        const t = 1 - quat.x * quat.x - quat.y * quat.y - quat.z * quat.z;\r\n        quat.w = t < 0 ? 0 : -Math.sqrt(t);\r\n        //\r\n        const matrix = quat.toMatrix();\r\n        matrix.appendTranslation(-position[0], position[1], position[2]);\r\n        //\r\n        skeletonJoint.matrix = matrix;\r\n\r\n        return skeletonJoint;\r\n    }\r\n\r\n    private createGeometry(md5Mesh: MD5_Mesh, skeleton: SkeletonComponent, skinSkeleton: SkinSkeletonTemp)\r\n    {\r\n        const vertexData = md5Mesh.verts;\r\n        const weights = md5Mesh.weights;\r\n        const indices = md5Mesh.tris;\r\n\r\n        const geometry = new CustomGeometry();\r\n\r\n        const len = vertexData.length;\r\n        let vertex: MD5_Vertex;\r\n        let weight: MD5_Weight;\r\n        let bindPose: Matrix4x4;\r\n        let pos: Vector3;\r\n        // uv数据\r\n        const uvs: number[] = [];\r\n        uvs.length = len * 2;\r\n        // 顶点位置数据\r\n        const vertices: number[] = [];\r\n        vertices.length = len * 3;\r\n        // 关节索引数据\r\n        const jointIndices0: number[] = [];\r\n        jointIndices0.length = len * 4;\r\n        const jointIndices1: number[] = [];\r\n        jointIndices1.length = len * 4;\r\n        // 关节权重数据\r\n        const jointWeights0: number[] = [];\r\n        jointWeights0.length = len * 4;\r\n        const jointWeights1: number[] = [];\r\n        jointWeights1.length = len * 4;\r\n\r\n        for (let i = 0; i < len; ++i)\r\n        {\r\n            vertex = vertexData[i];\r\n            vertices[i * 3] = vertices[i * 3 + 1] = vertices[i * 3 + 2] = 0;\r\n\r\n            /**\r\n             * 参考 http://blog.csdn.net/summerhust/article/details/17421213\r\n             * VertexPos = (MJ-0 * weight[index0].pos * weight[index0].bias) + ... + (MJ-N * weight[indexN].pos * weight[indexN].bias)\r\n             * 变量对应  MJ-N -> bindPose; 第J个关节的变换矩阵\r\n             * weight[indexN].pos -> weight.pos;\r\n             * weight[indexN].bias -> weight.bias;\r\n             */\r\n            const weightJoints: number[] = [];\r\n            const weightBiass: number[] = [];\r\n            for (let j = 0; j < 8; ++j)\r\n            {\r\n                weightJoints[j] = 0;\r\n                weightBiass[j] = 0;\r\n                if (j < vertex.countWeight)\r\n                {\r\n                    weight = weights[vertex.startWeight + j];\r\n                    if (weight.bias > 0)\r\n                    {\r\n                        bindPose = skeleton.joints[weight.joint].matrix;\r\n                        pos = bindPose.transformPoint3(new Vector3(-weight.pos[0], weight.pos[1], weight.pos[2]));\r\n                        vertices[i * 3] += pos.x * weight.bias;\r\n                        vertices[i * 3 + 1] += pos.y * weight.bias;\r\n                        vertices[i * 3 + 2] += pos.z * weight.bias;\r\n\r\n                        weightJoints[j] = weight.joint;\r\n                        weightBiass[j] = weight.bias;\r\n                    }\r\n                }\r\n            }\r\n\r\n            jointIndices0[i * 4] = weightJoints[0];\r\n            jointIndices0[i * 4 + 1] = weightJoints[1];\r\n            jointIndices0[i * 4 + 2] = weightJoints[2];\r\n            jointIndices0[i * 4 + 3] = weightJoints[3];\r\n            jointIndices1[i * 4] = weightJoints[4];\r\n            jointIndices1[i * 4 + 1] = weightJoints[5];\r\n            jointIndices1[i * 4 + 2] = weightJoints[6];\r\n            jointIndices1[i * 4 + 3] = weightJoints[7];\r\n            //\r\n            jointWeights0[i * 4] = weightBiass[0];\r\n            jointWeights0[i * 4 + 1] = weightBiass[1];\r\n            jointWeights0[i * 4 + 2] = weightBiass[2];\r\n            jointWeights0[i * 4 + 3] = weightBiass[3];\r\n            jointWeights1[i * 4] = weightBiass[4];\r\n            jointWeights1[i * 4 + 1] = weightBiass[5];\r\n            jointWeights1[i * 4 + 2] = weightBiass[6];\r\n            jointWeights1[i * 4 + 3] = weightBiass[7];\r\n\r\n            uvs[vertex.index * 2] = vertex.u;\r\n            uvs[vertex.index * 2 + 1] = vertex.v;\r\n        }\r\n\r\n        skinSkeleton.resetJointIndices(jointIndices0, skeleton);\r\n        skinSkeleton.resetJointIndices(jointIndices1, skeleton);\r\n\r\n        // 更新索引数据\r\n        geometry.indices = indices;\r\n        // 更新顶点坐标与uv数据\r\n        geometry.positions = vertices;\r\n        geometry.uvs = uvs;\r\n        // 更新关节索引与权重索引\r\n        geometry.skinIndices = jointIndices0;\r\n        geometry.skinWeights = jointWeights0;\r\n        geometry.skinIndices1 = jointIndices1;\r\n        geometry.skinWeights1 = jointWeights1;\r\n\r\n        return geometry;\r\n    }\r\n}\r\n\r\n/**\r\n * MD5模型转换器\r\n */\r\nexport const md5MeshConverter = new MD5MeshConverter();\r\n","import { Material } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { Mtl_Mtl } from '../parsers/MTLParser';\r\n\r\n/**\r\n * OBJ模型MTL材质转换器\r\n */\r\nexport class MTLConverter\r\n{\r\n    /**\r\n     * OBJ模型MTL材质原始数据转换引擎中材质对象\r\n     * @param mtl MTL材质原始数据\r\n     */\r\n    convert(mtl: Mtl_Mtl, completed?: (err: Error, materials: { [name: string]: Material; }) => void)\r\n    {\r\n        const materials: { [name: string]: Material } = {};\r\n        for (const name in mtl)\r\n        {\r\n            const materialInfo = mtl[name];\r\n            const material = materials[name] = serialization.setValue(new Material(), {\r\n                name: materialInfo.name,\r\n                uniforms: {\r\n                    u_diffuse: { r: materialInfo.kd[0], g: materialInfo.kd[1], b: materialInfo.kd[2] },\r\n                    u_specular: { r: materialInfo.ks[0], g: materialInfo.ks[1], b: materialInfo.ks[2] },\r\n                },\r\n            });\r\n            globalEmitter.emit('asset.parsed', material);\r\n        }\r\n        completed && completed(null, materials);\r\n    }\r\n}\r\n\r\n/**\r\n * OBJ模型MTL材质转换器\r\n */\r\nexport const mtlConverter = new MTLConverter();\r\n","import { CustomGeometry, GameObject, Material, Renderable } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { OBJ_Face, OBJ_OBJ, OBJ_OBJData, OBJ_SubOBJ } from '../parsers/OBJParser';\r\n\r\n/**\r\n * OBJ模型转换器\r\n */\r\nexport class OBJConverter\r\n{\r\n    /**\r\n     * OBJ模型数据转换为游戏对象\r\n     * @param objData OBJ模型数据\r\n     * @param materials 材质列表\r\n     * @param completed 转换完成回调\r\n     */\r\n    convert(objData: OBJ_OBJData, materials: { [name: string]: Material; }, completed: (gameObject: GameObject) => void)\r\n    {\r\n        const object = new GameObject();\r\n        object.name = objData.name;\r\n        const objs = objData.objs;\r\n        for (let i = 0; i < objs.length; i++)\r\n        {\r\n            const obj = objs[i];\r\n            const gameObject = createSubObj(objData, obj, materials);\r\n            object.addChild(gameObject);\r\n        }\r\n\r\n        globalEmitter.emit('asset.parsed', object);\r\n\r\n        completed && completed(object);\r\n    }\r\n}\r\n\r\n/**\r\n * OBJ模型转换器\r\n */\r\nexport const objConverter = new OBJConverter();\r\n\r\nfunction createSubObj(objData: OBJ_OBJData, obj: OBJ_OBJ, materials: { [name: string]: Material; })\r\n{\r\n    const gameObject = serialization.setValue(new GameObject(), { name: obj.name });\r\n\r\n    const subObjs = obj.subObjs;\r\n    for (let i = 0; i < subObjs.length; i++)\r\n    {\r\n        const materialObj = createMaterialObj(objData, subObjs[i], materials);\r\n        gameObject.addChild(materialObj);\r\n    }\r\n\r\n    return gameObject;\r\n}\r\n\r\nlet _realIndices: string[];\r\nlet _vertexIndex: number;\r\n\r\nfunction createMaterialObj(obj: OBJ_OBJData, subObj: OBJ_SubOBJ, materials: { [name: string]: Material; })\r\n{\r\n    const gameObject = new GameObject();\r\n    gameObject.name = subObj.g || gameObject.name;\r\n    const model = gameObject.addComponent(Renderable);\r\n    if (materials && materials[subObj.material])\r\n    { model.material = materials[subObj.material]; }\r\n\r\n    const geometry = model.geometry = new CustomGeometry();\r\n    geometry.name = subObj.g || geometry.name;\r\n    const vertices: number[] = [];\r\n    const normals: number[] = [];\r\n    const uvs: number[] = [];\r\n    _realIndices = [];\r\n    _vertexIndex = 0;\r\n    const faces = subObj.faces;\r\n    const indices: number[] = [];\r\n    for (let i = 0; i < faces.length; i++)\r\n    {\r\n        const face = faces[i];\r\n        const numVerts = face.indexIds.length - 1;\r\n        for (let j = 1; j < numVerts; ++j)\r\n        {\r\n            translateVertexData(face, j, vertices, uvs, indices, normals, obj);\r\n            translateVertexData(face, 0, vertices, uvs, indices, normals, obj);\r\n            translateVertexData(face, j + 1, vertices, uvs, indices, normals, obj);\r\n        }\r\n    }\r\n    geometry.indices = indices;\r\n    geometry.positions = vertices;\r\n\r\n    if (normals.length > 0)\r\n    { geometry.normals = normals; }\r\n\r\n    if (uvs.length > 0)\r\n    { geometry.uvs = uvs; }\r\n\r\n    globalEmitter.emit('asset.parsed', geometry);\r\n\r\n    return gameObject;\r\n\r\n    function translateVertexData(face: OBJ_Face, vertexIndex: number, vertices: Array<number>, uvs: Array<number>, indices: Array<number>, normals: Array<number>, obj: OBJ_OBJData)\r\n    {\r\n        let index: number;\r\n        let vertex: { x: number; y: number; z: number; };\r\n        let vertexNormal: { x: number; y: number; z: number; };\r\n        let uv: { u: number, v: number, s: number };\r\n        if (!_realIndices[face.indexIds[vertexIndex]])\r\n        {\r\n            index = _vertexIndex;\r\n            _realIndices[face.indexIds[vertexIndex]] = ++_vertexIndex;\r\n            vertex = obj.vertex[parseInt(face.vertexIndices[vertexIndex]) - 1];\r\n            vertices.push(vertex.x, vertex.y, vertex.z);\r\n            if (face.normalIndices && face.normalIndices.length > 0)\r\n            {\r\n                vertexNormal = obj.vn[parseInt(face.normalIndices[vertexIndex]) - 1];\r\n                normals.push(vertexNormal.x, vertexNormal.y, vertexNormal.z);\r\n            }\r\n            if (face.uvIndices && face.uvIndices.length > 0)\r\n            {\r\n                try\r\n                {\r\n                    uv = obj.vt[parseInt(face.uvIndices[vertexIndex]) - 1];\r\n                    uvs.push(uv.u, uv.v);\r\n                }\r\n                catch (e)\r\n                {\r\n                    switch (vertexIndex)\r\n                    {\r\n                        case 0:\r\n                            uvs.push(0, 1);\r\n                            break;\r\n                        case 1:\r\n                            uvs.push(0.5, 0);\r\n                            break;\r\n                        case 2:\r\n                            uvs.push(1, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        { index = _realIndices[face.indexIds[vertexIndex]] - 1; }\r\n        indices.push(index);\r\n    }\r\n}\r\n","/**\r\n * MD5动画解析器\r\n */\r\nexport class MD5AnimParser\r\n{\r\n    /**\r\n     * 解析\r\n     * @param context\r\n     */\r\n    parse(context: string)\r\n    {\r\n        const md5AnimData = <MD5AnimData>{};\r\n        const lines = context.split('\\n').reverse();\r\n        let line: string;\r\n        do\r\n        {\r\n            line = lines.pop();\r\n            line && parserLine(line, md5AnimData);\r\n        } while (line);\r\n\r\n        return md5AnimData;\r\n    }\r\n}\r\n\r\n/**\r\n * MD5动画解析器\r\n */\r\nexport const md5AnimParser = new MD5AnimParser();\r\n\r\n/**\r\n * 帧数据\r\n */\r\nexport type MD5_Frame = {\r\n    index: number;\r\n    components: number[];\r\n};\r\n\r\n/**\r\n * 基础帧数据\r\n */\r\nexport type MD5_BaseFrame = {\r\n    /** 位置 */\r\n    position: number[];\r\n    /** 方向 */\r\n    orientation: number[];\r\n};\r\n\r\n/**\r\n * 包围盒信息\r\n */\r\nexport type MD5_Bounds = {\r\n    /** 最小坐标 */\r\n    min: number[];\r\n    /** 最大坐标 */\r\n    max: number[];\r\n};\r\n\r\n/**\r\n * 层级数据\r\n */\r\nexport type MD5_HierarchyData = {\r\n    /** Joint 名字 */\r\n    name: string;\r\n    /** 父结点序号 */\r\n    parentIndex: number;\r\n    /** flag */\r\n    flags: number;\r\n    /** 影响的帧数据起始索引 */\r\n    startIndex: number;\r\n};\r\n\r\nexport type MD5AnimData = {\r\n    name?: string;\r\n    MD5Version: number;\r\n    commandline: string;\r\n    numFrames: number;\r\n    numJoints: number;\r\n    frameRate: number;\r\n    numAnimatedComponents: number;\r\n    hierarchy: MD5_HierarchyData[];\r\n    bounds: MD5_Bounds[];\r\n    baseframe: MD5_BaseFrame[];\r\n    frame: MD5_Frame[];\r\n};\r\n\r\nconst MD5VersionReg = /MD5Version\\s+(\\d+)/;\r\nconst commandlineReg = /commandline\\s+\"([\\w\\s/.-]+)\"/;\r\nconst numFramesReg = /numFrames\\s+(\\d+)/;\r\nconst numJointsReg = /numJoints\\s+(\\d+)/;\r\nconst frameRateReg = /frameRate\\s+(\\d+)/;\r\nconst numAnimatedComponentsReg = /numAnimatedComponents\\s+(\\d+)/;\r\nconst hierarchyStartReg = /hierarchy\\s+{/;\r\nconst hierarchyReg = /\"(\\w+)\"\\s+([\\d-]+)\\s+(\\d+)\\s+(\\d+)(\\s+\\/\\/(\\s+\\w+)?(\\s+\\([\\s\\w]+\\))?)?/;\r\nconst endBlockReg = /}/;\r\nconst boundsStartReg = /bounds\\s+{/;\r\n// 2组3个number\r\nconst number32Reg = /\\(\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+\\)\\s+\\(\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+\\)/;\r\nconst baseframeStartReg = /baseframe\\s+{/;\r\nconst frameStartReg = /frame\\s+(\\d+)\\s+{/;\r\nconst numbersReg = /(-?[\\d.]+)(\\s+-?[\\d.]+){0,}/;\r\n\r\n/**\r\n * 状态\r\n */\r\nenum State\r\n{\r\n    hierarchy,\r\n    bounds,\r\n    baseframe,\r\n    frame\r\n}\r\n\r\n/** 当前处于状态 */\r\nconst states: State[] = [];\r\nlet currentFrame: MD5_Frame | null;\r\n\r\nfunction parserLine(line: string, md5AnimData: MD5AnimData)\r\n{\r\n    if (!line)\r\n    {\r\n        return;\r\n    }\r\n    line = line.trim();\r\n    if (!line.length)\r\n    {\r\n        return;\r\n    }\r\n\r\n    let result: RegExpExecArray | null;\r\n    if ((result = MD5VersionReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.MD5Version = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = commandlineReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.commandline = result[1];\r\n    }\r\n    else if ((result = numFramesReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.numFrames = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = numJointsReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.numJoints = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = frameRateReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.frameRate = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = numAnimatedComponentsReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.numAnimatedComponents = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = hierarchyStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.hierarchy = [];\r\n        states.push(State.hierarchy);\r\n    }\r\n    else if ((result = hierarchyReg.exec(line)) && result[0] === line)\r\n    {\r\n        switch (states[states.length - 1])\r\n        {\r\n            case State.hierarchy:\r\n                md5AnimData.hierarchy.push({\r\n                    name: result[1], parentIndex: parseInt(result[2], 10),\r\n                    flags: parseInt(result[3], 10), startIndex: parseInt(result[4], 10)\r\n                });\r\n                break;\r\n            default:\r\n                throw new Error('没有对应的数据处理');\r\n        }\r\n    }\r\n    else if ((result = endBlockReg.exec(line)) && result[0] === line)\r\n    {\r\n        const state = states.pop();\r\n        if (state === State.frame)\r\n        {\r\n            if (currentFrame && currentFrame.components.length !== md5AnimData.numAnimatedComponents)\r\n            {\r\n                throw new Error('frame中数据不对');\r\n            }\r\n            currentFrame = null;\r\n        }\r\n    }\r\n    else if ((result = boundsStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.bounds = [];\r\n        states.push(State.bounds);\r\n    }\r\n    else if ((result = baseframeStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5AnimData.baseframe = [];\r\n        states.push(State.baseframe);\r\n    }\r\n    else if ((result = number32Reg.exec(line)) && result[0] === line)\r\n    {\r\n        switch (states[states.length - 1])\r\n        {\r\n            case State.bounds:\r\n                md5AnimData.bounds.push({ min: [parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3])], max: [parseFloat(result[4]), parseFloat(result[5]), parseFloat(result[6])] });\r\n                break;\r\n            case State.baseframe:\r\n                md5AnimData.baseframe.push({ position: [parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3])], orientation: [parseFloat(result[4]), parseFloat(result[5]), parseFloat(result[6])] });\r\n                break;\r\n            default:\r\n                throw new Error('没有对应的数据处理');\r\n        }\r\n    }\r\n    else if ((result = frameStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        if (!md5AnimData.frame)\r\n        {\r\n            md5AnimData.frame = [];\r\n        }\r\n        currentFrame = { index: parseInt(result[1], 10), components: [] };\r\n        md5AnimData.frame.push(currentFrame);\r\n        states.push(State.frame);\r\n    }\r\n    else if ((result = numbersReg.exec(line)) && result[0] === line)\r\n    {\r\n        switch (states[states.length - 1])\r\n        {\r\n            case State.frame:\r\n                if (currentFrame)\r\n                {\r\n                    const numbers = line.split(' ');\r\n                    for (let i = 0; i < numbers.length; i++)\r\n                    {\r\n                        currentFrame.components.push(parseFloat(numbers[i]));\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error('没有对应的数据处理');\r\n        }\r\n    }\r\n    else\r\n    {\r\n        throw new Error(`无法解析${line}`);\r\n    }\r\n}\r\n","/**\r\n * MD5模型解析器\r\n */\r\nexport class MD5MeshParser\r\n{\r\n    /**\r\n     * 解析\r\n     * @param context\r\n     */\r\n    parse(context: string)\r\n    {\r\n        //\r\n        const md5MeshData = <MD5MeshData>{};\r\n        const lines = context.split('\\n');\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            parserLine(lines[i], md5MeshData);\r\n        }\r\n\r\n        return md5MeshData;\r\n    }\r\n}\r\n/**\r\n * MD5模型解析器\r\n */\r\nexport const md5MeshParser = new MD5MeshParser();\r\n\r\n/**\r\n * 关节权重数据\r\n */\r\nexport type MD5_Weight = {\r\n    /** weight 序号 */\r\n    index: number;\r\n    /** 对应的Joint的序号 */\r\n    joint: number;\r\n    /** 作用比例 */\r\n    bias: number;\r\n    /** 位置值 */\r\n    pos: number[];\r\n};\r\n\r\nexport type MD5_Vertex = {\r\n    /** 顶点索引 */\r\n    index: number;\r\n    /** 纹理坐标u */\r\n    u: number;\r\n    /** 纹理坐标v */\r\n    v: number;\r\n    /** weight的起始序号 */\r\n    startWeight: number;\r\n    /** weight总数 */\r\n    countWeight: number;\r\n};\r\n\r\nexport type MD5_Mesh = {\r\n    shader: string;\r\n    numverts: number;\r\n    verts: MD5_Vertex[];\r\n    numtris: number;\r\n    tris: number[];\r\n    numweights: number;\r\n    weights: MD5_Weight[];\r\n};\r\n\r\nexport type MD5_Joint = {\r\n    name: string;\r\n    parentIndex: number;\r\n    position: number[];\r\n    /** 旋转数据 */\r\n    rotation: number[];\r\n};\r\n\r\nexport type MD5MeshData = {\r\n    name?: string;\r\n    MD5Version: number;\r\n    commandline: string;\r\n    numJoints: number;\r\n    numMeshes: number;\r\n    joints: MD5_Joint[];\r\n    meshs: MD5_Mesh[];\r\n};\r\n\r\nconst MD5VersionReg = /MD5Version\\s+(\\d+)/;\r\nconst commandlineReg = /commandline\\s+\"([\\w\\s/.-]+)\"/;\r\nconst numJointsReg = /numJoints\\s+(\\d+)/;\r\nconst numMeshesReg = /numMeshes\\s+(\\d+)/;\r\nconst jointsStartReg = /joints\\s+{/;\r\nconst jointsReg = /\"(\\w+)\"\\s+([-\\d]+)\\s+\\(\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+\\)\\s+\\(\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+\\)(\\s+\\/\\/(\\s+\\w+)?)?/;\r\nconst endBlockReg = /}/;\r\nconst meshStartReg = /mesh\\s+{/;\r\nconst annotationReg = /\\/\\/[\\s\\w:]+/;\r\nconst shaderReg = /shader\\s+\"([\\w\\/]+)\"/;\r\nconst numvertsReg = /numverts\\s+(\\d+)/;\r\nconst vertReg = /vert\\s+(\\d+)\\s+\\(\\s+([\\d.]+)\\s+([\\d.]+)\\s+\\)\\s+(\\d+)\\s+(\\d+)/;\r\nconst numtrisReg = /numtris\\s+(\\d+)/;\r\nconst triReg = /tri\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)/;\r\nconst numweightsReg = /numweights\\s+(\\d+)/;\r\nconst weightReg = /weight\\s+(\\d+)\\s+(\\d+)\\s+([\\d.]+)\\s+\\(\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+([\\d.-]+)\\s+\\)/;\r\n\r\n/**\r\n * 状态\r\n */\r\nenum State\r\n{\r\n    /** 读取关节 */\r\n    joints,\r\n    mesh\r\n}\r\n\r\n/** 当前处于状态 */\r\nconst states: State[] = [];\r\nlet currentMesh: MD5_Mesh;\r\n\r\nfunction parserLine(line: string, md5MeshData: MD5MeshData)\r\n{\r\n    if (!line)\r\n    { return; }\r\n    line = line.trim();\r\n    if (!line.length)\r\n    { return; }\r\n\r\n    let result: RegExpExecArray | null;\r\n    if ((result = MD5VersionReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5MeshData.MD5Version = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = commandlineReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5MeshData.commandline = result[1];\r\n    }\r\n    else if ((result = numJointsReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5MeshData.numJoints = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = numMeshesReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5MeshData.numMeshes = parseInt(result[1], 10);\r\n    }\r\n    else if ((result = jointsStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        states.push(State.joints);\r\n        md5MeshData.joints = [];\r\n    }\r\n    else if ((result = jointsReg.exec(line)) && result[0] === line)\r\n    {\r\n        md5MeshData.joints.push({\r\n            name: result[1], parentIndex: parseInt(result[2], 10),\r\n            position: [parseFloat(result[3]), parseFloat(result[4]), parseFloat(result[5])],\r\n            rotation: [parseFloat(result[6]), parseFloat(result[7]), parseFloat(result[8])]\r\n        });\r\n    }\r\n    else if ((result = endBlockReg.exec(line)) && result[0] === line)\r\n    {\r\n        const exitState = states.pop();\r\n        if (exitState === State.mesh)\r\n        {\r\n            currentMesh = <any>null;\r\n        }\r\n    }\r\n    else if ((result = meshStartReg.exec(line)) && result[0] === line)\r\n    {\r\n        states.push(State.mesh);\r\n        if (!md5MeshData.meshs)\r\n        {\r\n            md5MeshData.meshs = [];\r\n        }\r\n        currentMesh = <any>{};\r\n        md5MeshData.meshs.push(currentMesh);\r\n    }\r\n    else if ((result = annotationReg.exec(line)) && result[0] === line)\r\n    // eslint-disable-next-line no-empty\r\n    {\r\n\r\n    }\r\n    else if ((result = shaderReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.shader = result[1];\r\n    }\r\n    else if ((result = numvertsReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.numverts = parseInt(result[1], 10);\r\n        currentMesh.verts = [];\r\n    }\r\n    else if ((result = vertReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.verts.push({\r\n            index: parseFloat(result[1]), u: parseFloat(result[2]), v: parseFloat(result[3]),\r\n            startWeight: parseFloat(result[4]), countWeight: parseFloat(result[5])\r\n        });\r\n    }\r\n    else if ((result = numtrisReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.numtris = parseInt(result[1], 10);\r\n        currentMesh.tris = [];\r\n    }\r\n    else if ((result = triReg.exec(line)) && result[0] === line)\r\n    {\r\n        const index = parseInt(result[1], 10) * 3;\r\n        currentMesh.tris[index] = parseInt(result[2], 10);\r\n        currentMesh.tris[index + 1] = parseInt(result[3], 10);\r\n        currentMesh.tris[index + 2] = parseInt(result[4], 10);\r\n    }\r\n    else if ((result = numweightsReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.numweights = parseInt(result[1], 10);\r\n        currentMesh.weights = [];\r\n    }\r\n    else if ((result = weightReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMesh.weights.push({\r\n            index: parseInt(result[1], 10), joint: parseInt(result[2], 10), bias: parseFloat(result[3]),\r\n            pos: [parseFloat(result[4]), parseFloat(result[5]), parseFloat(result[6])]\r\n        });\r\n    }\r\n    else\r\n    {\r\n        throw new Error(`无法解析${line}`);\r\n    }\r\n}\r\n","import { AnimationClip, GameObject } from '@feng3d/core';\r\nimport { FS, pathUtils } from '@feng3d/filesystem';\r\nimport { md5AnimConverter } from '../converters/MD5AnimConverter';\r\nimport { md5MeshConverter } from '../converters/MD5MeshConverter';\r\nimport { md5AnimParser } from '../parsers/MD5AnimParser';\r\nimport { md5MeshParser } from '../parsers/MD5MeshParser';\r\n\r\n/**\r\n * MD5模型加载类\r\n */\r\nexport class MD5Loader\r\n{\r\n    /**\r\n     * 加载资源\r\n     * @param url   路径\r\n     * @param completed 加载完成回调\r\n     */\r\n    load(url: string, completed?: (gameObject: GameObject) => void)\r\n    {\r\n        FS.fs.readString(url, (_err, content) =>\r\n        {\r\n            const md5MeshData = md5MeshParser.parse(content);\r\n            md5MeshData.name = pathUtils.getName(url);\r\n            md5MeshConverter.convert(md5MeshData, completed);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 加载MD5模型动画\r\n     * @param url MD5模型动画资源路径\r\n     * @param completed 加载完成回调\r\n     */\r\n    loadAnim(url: string, completed?: (animationClip: AnimationClip) => void)\r\n    {\r\n        FS.fs.readString(url, (_err, content) =>\r\n        {\r\n            const md5AnimData = md5AnimParser.parse(content);\r\n            md5AnimData.name = pathUtils.getName(url);\r\n            md5AnimConverter.convert(md5AnimData, completed);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * MD5模型加载类\r\n */\r\nexport const md5Loader = new MD5Loader();\r\n\r\n","import { Material as Feng3dMaterial, AnimationClip, PropertyClip, PropertyClipPath, PropertyClipPathItemType } from '@feng3d/core';\r\nimport { Vector3, Quaternion, Matrix4x4 } from '@feng3d/math';\r\n\r\n/**\r\n * 透明度动画\r\n */\r\nexport class AnimAlpha\r\n{\r\n}\r\n\r\n/**\r\n * 全局动作信息\r\n */\r\nexport class AnimInfo\r\n{\r\n\t/** 动作名称 */\r\n\tname: string;\r\n\t/** 动作间隔 */\r\n\tinterval: Interval;\r\n\t/** 最小范围 */\r\n\tMinimumExtent: Vector3;\r\n\t/** 最大范围 */\r\n\tMaximumExtent: Vector3;\r\n\t/** 半径范围 */\r\n\tBoundsRadius: number;\r\n\t/** 发生频率 */\r\n\tRarity: number;\r\n\t/** 是否循环 */\r\n\tloop = true;\r\n\t/** 移动速度 */\r\n\tMoveSpeed: number;\r\n}\r\n\r\n/**\r\n * 几何体动作信息\r\n */\r\nexport class AnimInfo1\r\n{\r\n\t/** 最小范围 */\r\n\tMinimumExtent: Vector3;\r\n\t/** 最大范围 */\r\n\tMaximumExtent: Vector3;\r\n\t/** 半径范围 */\r\n\tBoundsRadius: number;\r\n}\r\n\r\n/**\r\n * 骨骼的角度信息\r\n */\r\nexport class BoneRotation\r\n{\r\n\t/** 类型 */\r\n\ttype: string;\r\n\t/** */\r\n\tGlobalSeqId: number;\r\n\r\n\trotations: Rotation[] = [];\r\n\r\n\tgetRotationItem(rotation: Rotation)\r\n\t{\r\n\t\tconst quaternion = new Quaternion();\r\n\t\tif (this.type === 'DontInterp')\r\n\t\t{\r\n\t\t\tquaternion.fromEuler(rotation.value.x, rotation.value.y, rotation.value.z);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tquaternion.copy(rotation.value);\r\n\t\t}\r\n\r\n\t\treturn quaternion;\r\n\t}\r\n\r\n\tgetRotation(keyFrameTime: number): Quaternion\r\n\t{\r\n\t\tconst rotationQuaternion = new Quaternion();\r\n\t\tif (this.rotations.length === 0 || keyFrameTime < this.rotations[0].time || keyFrameTime > this.rotations[this.rotations.length - 1].time)\r\n\t\t{ return new Quaternion(); }\r\n\r\n\t\tlet key1: Rotation = this.rotations[0];\r\n\t\tlet key2: Rotation = this.rotations[0];\r\n\r\n\t\tfor (let i = 0; i < this.rotations.length; i++)\r\n\t\t{\r\n\t\t\tkey2 = this.rotations[i];\r\n\t\t\tif (key2.time > keyFrameTime)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tkey1 = key2;\r\n\t\t}\r\n\r\n\t\tif (key1 === key2)\r\n\t\t{\r\n\t\t\trotationQuaternion.copy(key1.value);\r\n\r\n\t\t\treturn rotationQuaternion;\r\n\t\t}\r\n\r\n\t\tconst Factor = (keyFrameTime - key1.time) / (key2.time - key1.time);\r\n\t\t// const InverseFactor = 1.0 - Factor;\r\n\r\n\t\t// let tempVec: Quaternion;\r\n\t\t// let Factor1: number;\r\n\t\t// let Factor2: number;\r\n\t\t// let Factor3: number;\r\n\t\t// let Factor4: number;\r\n\t\t// let FactorTimesTwo: number;\r\n\t\t// let InverseFactorTimesTwo: number;\r\n\r\n\t\t// let q: Quaternion;\r\n\t\tlet q1: Quaternion;\r\n\t\tlet q2: Quaternion;\r\n\r\n\t\tswitch (this.type)\r\n\t\t{\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\trotationQuaternion.fromEuler(key1.value.x, key1.value.y, key1.value.z);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\tq1 = key1.value.clone();\r\n\t\t\t\tq2 = key2.value.clone();\r\n\r\n\t\t\t\tq1.slerpTo(q2, Factor, rotationQuaternion);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Hermite':\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tq1 = key1.value.clone();\r\n\t\t\t\tq2 = key2.value.clone();\r\n\r\n\t\t\t\tq1.slerpTo(q2, Factor, rotationQuaternion);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn rotationQuaternion;\r\n\t}\r\n}\r\n\r\n/**\r\n * 骨骼信息(包含骨骼，helper等其他对象)\r\n */\r\nexport class BoneObject\r\n{\r\n\t/** 骨骼类型 */\r\n\ttype: string;\r\n\t/** 骨骼名称 */\r\n\tname: string;\r\n\t/** 对象编号 */\r\n\tObjectId: number;\r\n\t/** 父对象 */\r\n\tParent = -1;\r\n\t/** 几何体编号 */\r\n\tGeosetId: string;\r\n\t/** 几何体动画 */\r\n\tGeosetAnimId: string;\r\n\t/** 是否为广告牌 */\r\n\tBillboarded: boolean;\r\n\t/** 骨骼位移动画 */\r\n\tTranslation = new BoneTranslation();\r\n\t/** 骨骼缩放动画 */\r\n\tScaling = new BoneScaling();\r\n\t/** 骨骼角度动画 */\r\n\tRotation = new BoneRotation();\r\n\t/** 中心位置 */\r\n\tpivotPoint: Vector3;\r\n\r\n\t/** 当前对象变换矩阵 */\r\n\ttransformation = new Matrix4x4();\r\n\r\n\t/** 当前全局变换矩阵 */\r\n\tglobalTransformation = new Matrix4x4();\r\n\r\n\tcalculateTransformation(keyFrameTime: number): void\r\n\t{\r\n\t\t// const pScalingCenter = this.pivotPoint;\r\n\t\tconst pScaling = this.Scaling.getScaling(keyFrameTime);\r\n\t\tconst pRotation = this.Rotation.getRotation(keyFrameTime);\r\n\t\tconst pTranslation = this.Translation.getTranslation(keyFrameTime);\r\n\r\n\t\tconst matrix = this.transformation;\r\n\t\tmatrix.appendScale(pScaling.x, pScaling.y, pScaling.z).append(pRotation.toMatrix(new Matrix4x4()));\r\n\t\t// 设置旋转缩放中心\r\n\t\tmatrix.prependTranslation(-this.pivotPoint.x, -this.pivotPoint.y, -this.pivotPoint.z);\r\n\t\tmatrix.appendTranslation(this.pivotPoint.x, this.pivotPoint.y, this.pivotPoint.z);\r\n\t\t// 平移\r\n\t\tmatrix.appendTranslation(pTranslation.x, pTranslation.y, pTranslation.z);\r\n\t\t//\r\n\t}\r\n\r\n\tbuildAnimationclip(animationclip: AnimationClip, __chache__: { [key: string]: PropertyClip }, start: number, end: number)\r\n\t{\r\n\t\tconst path: PropertyClipPath = [\r\n\t\t\t[PropertyClipPathItemType.GameObject, this.name],\r\n\t\t\t[PropertyClipPathItemType.Component, 'Transform'],\r\n\t\t];\r\n\r\n\t\tif (this.Scaling.scalings.length > 0)\r\n\t\t{\r\n\t\t\tconst scalings = this.Scaling.scalings;\r\n\t\t\tfor (let i = 0, n = scalings.length; i < n; i++)\r\n\t\t\t{\r\n\t\t\t\tconst scaling = scalings[i];\r\n\t\t\t\tif (start <= scaling.time && scaling.time <= end)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetPropertyClipFrame(path, 'scale', scaling.time - start, scaling.value.toArray(), 'Vector3');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.Translation.translations.length > 0)\r\n\t\t{\r\n\t\t\tconst translations = this.Translation.translations;\r\n\t\t\tfor (let i = 0, n = translations.length; i < n; i++)\r\n\t\t\t{\r\n\t\t\t\tconst translation = translations[i];\r\n\t\t\t\tif (start <= translation.time && translation.time <= end)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetPropertyClipFrame(path, 'position', translation.time - start, translation.value.addTo(this.pivotPoint).toArray(), 'Vector3');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.Rotation.rotations.length > 0)\r\n\t\t{\r\n\t\t\tconst rotations = this.Rotation.rotations;\r\n\t\t\tfor (let i = 0, n = rotations.length; i < n; i++)\r\n\t\t\t{\r\n\t\t\t\tconst rotation = rotations[i];\r\n\t\t\t\tif (start <= rotation.time && rotation.time <= end)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetPropertyClipFrame(path, 'orientation', rotation.time - start, this.Rotation.getRotationItem(rotation).toArray(), 'Quaternion');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction setPropertyClipFrame(path: PropertyClipPath, propertyName: string, time: number, propertyValue: number[], type: string)\r\n\t\t{\r\n\t\t\tconst propertyClip = getPropertyClip(path, propertyName);\r\n\t\t\tpropertyClip.type = <any>type;\r\n\t\t\tpropertyClip.propertyValues.push([time, propertyValue]);\r\n\t\t}\r\n\r\n\t\tfunction getPropertyClip(path: PropertyClipPath, propertyName: string)\r\n\t\t{\r\n\t\t\tconst key = path.join('-') + propertyName;\r\n\t\t\tif (__chache__[key])\r\n\t\t\t{ return __chache__[key]; }\r\n\t\t\tif (!__chache__[key])\r\n\t\t\t{\r\n\t\t\t\tconst propertyClip = __chache__[key] = new PropertyClip();\r\n\t\t\t\tpropertyClip.path = path;\r\n\t\t\t\tpropertyClip.propertyName = propertyName;\r\n\t\t\t\tpropertyClip.propertyValues = [];\r\n\t\t\t\tanimationclip.propertyClips.push(propertyClip);\r\n\t\t\t}\r\n\r\n\t\t\treturn __chache__[key];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getMatrix(time: number)\r\n\t{\r\n\t\tconst pScaling = this.Scaling.getScaling(time);\r\n\t\tconst pRotation = this.Rotation.getRotation(time);\r\n\t\tconst pTranslation = this.Translation.getTranslation(time);\r\n\r\n\t\tconst matrix = new Matrix4x4().appendScale(pScaling.x, pScaling.y, pScaling.z).append(pRotation.toMatrix(new Matrix4x4()));\r\n\t\t// 平移\r\n\t\tmatrix.appendTranslation(pTranslation.x + this.pivotPoint.x, pTranslation.y + this.pivotPoint.y, pTranslation.z + this.pivotPoint.z);\r\n\r\n\t\t//\r\n\t\treturn matrix;\r\n\t}\r\n}\r\n\r\n/**\r\n * 骨骼的位移信息\r\n */\r\nexport class BoneScaling\r\n{\r\n\t/** 类型 */\r\n\ttype: String;\r\n\t/**  */\r\n\tGlobalSeqId: number;\r\n\tscalings: Scaling[] = [];\r\n\r\n\tgetScaling(keyFrameTime: number): Vector3\r\n\t{\r\n\t\tconst scalingVector = new Vector3();\r\n\t\tif (this.scalings.length === 0 || keyFrameTime < this.scalings[0].time || keyFrameTime > this.scalings[this.scalings.length - 1].time)\r\n\t\t{ return new Vector3(1, 1, 1); }\r\n\r\n\t\tlet key1: Scaling = this.scalings[0];\r\n\t\tlet key2: Scaling = this.scalings[0];\r\n\r\n\t\tfor (let i = 0; i < this.scalings.length; i++)\r\n\t\t{\r\n\t\t\tkey2 = this.scalings[i];\r\n\t\t\tif (key2.time >= keyFrameTime)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tkey1 = key2;\r\n\t\t}\r\n\r\n\t\tif (key1.time === key2.time)\r\n\t\t{\r\n\t\t\tscalingVector.copy(key1.value);\r\n\r\n\t\t\treturn scalingVector;\r\n\t\t}\r\n\r\n\t\tconst Factor: number = (keyFrameTime - key1.time) / (key2.time - key1.time);\r\n\t\tconst InverseFactor: number = 1.0 - Factor;\r\n\r\n\t\tlet tempVec: Vector3;\r\n\t\tlet Factor1: number;\r\n\t\tlet Factor2: number;\r\n\t\tlet Factor3: number;\r\n\t\tlet Factor4: number;\r\n\t\tlet FactorTimesTwo: number;\r\n\t\tlet InverseFactorTimesTwo: number;\r\n\r\n\t\tswitch (this.type)\r\n\t\t{\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\tscalingVector.copy(key1.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(InverseFactor);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Hermite':\r\n\t\t\t\tFactorTimesTwo = Factor * Factor;\r\n\r\n\t\t\t\tFactor1 = FactorTimesTwo * (2.0 * Factor - 3.0) + 1;\r\n\t\t\t\tFactor2 = FactorTimesTwo * (Factor - 2.0) + Factor;\r\n\t\t\t\tFactor3 = FactorTimesTwo * (Factor - 1.0);\r\n\t\t\t\tFactor4 = FactorTimesTwo * (3.0 - 2.0 * Factor);\r\n\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor1);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key1.OutTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor2);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.InTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor3);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor4);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tFactorTimesTwo = Factor * Factor;\r\n\t\t\t\tInverseFactorTimesTwo = InverseFactor * InverseFactor;\r\n\r\n\t\t\t\tFactor1 = InverseFactorTimesTwo * InverseFactor;\r\n\t\t\t\tFactor2 = 3.0 * Factor * InverseFactorTimesTwo;\r\n\t\t\t\tFactor3 = 3.0 * FactorTimesTwo * InverseFactor;\r\n\t\t\t\tFactor4 = FactorTimesTwo * Factor;\r\n\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor1);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key1.OutTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor2);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.InTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor3);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor4);\r\n\t\t\t\tscalingVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn scalingVector;\r\n\t}\r\n}\r\n\r\n/**\r\n * 骨骼的位移信息\r\n */\r\nexport class BoneTranslation\r\n{\r\n\t/** 类型 */\r\n\ttype: string;\r\n\t/**  */\r\n\tGlobalSeqId: number;\r\n\ttranslations: Translation[] = [];\r\n\r\n\tgetTranslation(keyFrameTime: number): Vector3\r\n\t{\r\n\t\tconst TranslationVector = new Vector3();\r\n\t\tif (this.translations.length === 0)\r\n\t\t{ return new Vector3(); }\r\n\r\n\t\tlet key1 = this.translations[0];\r\n\t\tlet key2 = this.translations[0];\r\n\r\n\t\tfor (let i = 0; i < this.translations.length; i++)\r\n\t\t{\r\n\t\t\tkey2 = this.translations[i];\r\n\t\t\tif (key2.time > keyFrameTime)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tkey1 = key2;\r\n\t\t}\r\n\r\n\t\tif (key1 === key2)\r\n\t\t{\r\n\t\t\tTranslationVector.copy(key1.value);\r\n\r\n\t\t\treturn TranslationVector;\r\n\t\t}\r\n\r\n\t\tconst Factor: number = (keyFrameTime - key1.time) / (key2.time - key1.time);\r\n\t\tconst InverseFactor: number = 1.0 - Factor;\r\n\r\n\t\tlet tempVec: Vector3;\r\n\t\tlet Factor1: number;\r\n\t\tlet Factor2: number;\r\n\t\tlet Factor3: number;\r\n\t\tlet Factor4: number;\r\n\t\tlet FactorTimesTwo: number;\r\n\t\tlet InverseFactorTimesTwo: number;\r\n\r\n\t\tswitch (this.type)\r\n\t\t{\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\tTranslationVector.copy(key1.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(InverseFactor);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Hermite':\r\n\t\t\t\tFactorTimesTwo = Factor * Factor;\r\n\r\n\t\t\t\tFactor1 = FactorTimesTwo * (2.0 * Factor - 3.0) + 1;\r\n\t\t\t\tFactor2 = FactorTimesTwo * (Factor - 2.0) + Factor;\r\n\t\t\t\tFactor3 = FactorTimesTwo * (Factor - 1.0);\r\n\t\t\t\tFactor4 = FactorTimesTwo * (3.0 - 2.0 * Factor);\r\n\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor1);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key1.OutTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor2);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.InTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor3);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor4);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tFactorTimesTwo = Factor * Factor;\r\n\t\t\t\tInverseFactorTimesTwo = InverseFactor * InverseFactor;\r\n\r\n\t\t\t\tFactor1 = InverseFactorTimesTwo * InverseFactor;\r\n\t\t\t\tFactor2 = 3.0 * Factor * InverseFactorTimesTwo;\r\n\t\t\t\tFactor3 = 3.0 * FactorTimesTwo * InverseFactor;\r\n\t\t\t\tFactor4 = FactorTimesTwo * Factor;\r\n\r\n\t\t\t\ttempVec = key1.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor1);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key1.OutTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor2);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.InTan.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor3);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\r\n\t\t\t\ttempVec = key2.value.clone();\r\n\t\t\t\ttempVec.scaleNumber(Factor4);\r\n\t\t\t\tTranslationVector.add(tempVec);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn TranslationVector;\r\n\t}\r\n}\r\n\r\n/**\r\n * 纹理\r\n */\r\nexport class FBitmap\r\n{\r\n\t/** 图片地址 */\r\n\timage: string;\r\n\t/** 可替换纹理id */\r\n\tReplaceableId: number;\r\n}\r\n\r\n/**\r\n * 几何设置\r\n */\r\nexport class Geoset\r\n{\r\n\t/** 顶点 */\r\n\tVertices: number[];\r\n\t/** 法线 */\r\n\tNormals: number[];\r\n\t/** 纹理坐标 */\r\n\tTVertices: number[];\r\n\t/** 顶点分组 */\r\n\tVertexGroup: number[];\r\n\t/** 面（索引） */\r\n\tFaces: number[];\r\n\t/** 顶点分组 */\r\n\tGroups: number[][];\r\n\t/** 最小范围 */\r\n\tMinimumExtent: Vector3;\r\n\t/** 最大范围 */\r\n\tMaximumExtent: Vector3;\r\n\t/** 半径范围 */\r\n\tBoundsRadius: number;\r\n\t/** 动作信息 */\r\n\tAnims: AnimInfo1[] = [];\r\n\t/** 材质编号 */\r\n\tMaterialID: number;\r\n\t/**  */\r\n\tSelectionGroup: number;\r\n\t/** 是否不可选 */\r\n\tUnselectable: boolean;\r\n\r\n\t/** 顶点对应的关节索引 */\r\n\tjointIndices: number[];\r\n\t/** 顶点对应的关节权重 */\r\n\tjointWeights: number[];\r\n}\r\n\r\n/**\r\n * 几何体动画\r\n */\r\nexport class GeosetAnim\r\n{\r\n}\r\n\r\n/**\r\n * 全局序列\r\n */\r\nexport class Globalsequences\r\n{\r\n\t/** 全局序列编号 */\r\n\tid: number;\r\n\t/** 持续时间 */\r\n\tdurations: number[] = [];\r\n}\r\n\r\n/**\r\n * 动作间隔\r\n */\r\nexport class Interval\r\n{\r\n\t/** 开始时间 */\r\n\tstart: number;\r\n\t/** 结束时间 */\r\n\tend: number;\r\n}\r\n\r\n/**\r\n * 材质层\r\n */\r\nexport class Layer\r\n{\r\n\t/** 过滤模式 */\r\n\tFilterMode: string;\r\n\t/** 贴图ID */\r\n\tTextureID: number;\r\n\t/** 透明度 */\r\n\tAlpha: number;\r\n\t/** 是否有阴影 */\r\n\tUnshaded: boolean;\r\n\t/** 是否无雾化 */\r\n\tUnfogged: boolean;\r\n\t/** 是否双面 */\r\n\tTwoSided: boolean;\r\n\t/** 是否开启地图环境范围 */\r\n\tSphereEnvMap: boolean;\r\n\t/** 是否无深度测试 */\r\n\tNoDepthTest: boolean;\r\n\t/** 是否无深度设置 */\r\n\tNoDepthSet: boolean;\r\n}\r\n\r\n/**\r\n * 材质\r\n */\r\nexport class Material\r\n{\r\n\t/** 材质层列表 */\r\n\tlayers: Layer[] = [];\r\n\t/**\r\n\t * created 材质\r\n\t */\r\n\tmaterial: Feng3dMaterial;\r\n}\r\n\r\n/**\r\n * 模型信息\r\n */\r\nexport class Model\r\n{\r\n\t/** 模型名称 */\r\n\tname: string;\r\n\t/** 混合时间 */\r\n\tBlendTime: number;\r\n\t/** 最小范围 */\r\n\tMinimumExtent: Vector3;\r\n\t/** 最大范围 */\r\n\tMaximumExtent: Vector3;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport class Rotation\r\n{\r\n\t/** 时间 */\r\n\ttime: number;\r\n\t/**  */\r\n\tvalue: Quaternion;\r\n\r\n\tInTan: Quaternion;\r\n\r\n\tOutTan: Quaternion;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport class Scaling\r\n{\r\n\t/** 时间 */\r\n\ttime: number;\r\n\t/**  */\r\n\tvalue: Vector3;\r\n\r\n\tInTan: Vector3;\r\n\r\n\tOutTan: Vector3;\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport class Translation\r\n{\r\n\t/** 时间 */\r\n\ttime: number;\r\n\t/**  */\r\n\tvalue: Vector3;\r\n\r\n\tInTan: Vector3;\r\n\r\n\tOutTan: Vector3;\r\n}\r\n","import { Animation, AnimationClip, CustomGeometry, GameObject, geometryUtils, Material as Feng3dMaterial, PropertyClip, SkeletonComponent, SkeletonJoint, SkinnedMeshRenderer, SkinSkeletonTemp } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { Matrix4x4, Vector3 } from '@feng3d/math';\r\nimport { CullFace } from '@feng3d/renderer';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { AnimInfo, BoneObject, FBitmap, Geoset, GeosetAnim, Globalsequences, Material, Model } from './MdlModel';\r\n\r\n/**\r\n * war3模型数据\r\n */\r\nexport class War3Model\r\n{\r\n\t/** 版本号 */\r\n\t_version: number;\r\n\t/** 模型数据统计结果 */\r\n\tmodel: Model;\r\n\t/** 动作序列 */\r\n\tsequences: AnimInfo[];\r\n\t/** 全局序列 */\r\n\tglobalsequences: Globalsequences;\r\n\t/** 纹理列表 */\r\n\ttextures: FBitmap[];\r\n\t/** 材质列表 */\r\n\tmaterials: Material[];\r\n\t/** 几何设置列表 */\r\n\tgeosets: Geoset[] = [];\r\n\t/** 几何动画列表 */\r\n\tgeosetAnims: GeosetAnim[];\r\n\t/** 骨骼动画列表 */\r\n\tbones: BoneObject[] = [];\r\n\t/** 骨骼轴心坐标 */\r\n\tpivotPoints: Vector3[];\r\n\r\n\t// -------------------------------------\r\n\t//\r\n\t//\t以下数据计算得出\r\n\t//\r\n\t// ---------------------------------------\r\n\r\n\tprivate meshs: GameObject[];\r\n\tprivate skeletonComponent: SkeletonComponent;\r\n\r\n\tgetMesh(): GameObject\r\n\t{\r\n\t\tthis.meshs = [];\r\n\t\tthis.meshs.length = this.geosets.length;\r\n\r\n\t\tconst container = serialization.setValue(new GameObject(), { name: this.model.name });\r\n\r\n\t\tconst skeletonjoints = createSkeleton(this);\r\n\t\tthis.skeletonComponent = container.addComponent(SkeletonComponent);\r\n\t\tthis.skeletonComponent.joints = skeletonjoints;\r\n\r\n\t\tfor (let i = 0; i < this.geosets.length; i++)\r\n\t\t{\r\n\t\t\tconst geoset: Geoset = this.geosets[i];\r\n\r\n\t\t\tconst mesh: GameObject = this.meshs[i] = new GameObject();\r\n\t\t\t// var model = mesh.addComponent(\"Model\");\r\n\t\t\tconst model = mesh.addComponent(SkinnedMeshRenderer);\r\n\r\n\t\t\tconst geometry: CustomGeometry = new CustomGeometry();\r\n\t\t\tgeometry.positions = geoset.Vertices;\r\n\t\t\tgeometry.uvs = geoset.TVertices;\r\n\t\t\tgeometry.indices = geoset.Faces;\r\n\t\t\tconst normals = geometryUtils.createVertexNormals(geometry.indices, geometry.positions, true);\r\n\t\t\tgeometry.normals = normals;\r\n\r\n\t\t\tconst skins = BuildAnimatedMeshSkin(geoset);\r\n\r\n\t\t\tconst skinSkeleton = new SkinSkeletonTemp();\r\n\t\t\tskinSkeleton.resetJointIndices(skins.jointIndices0, this.skeletonComponent);\r\n\r\n\t\t\t// 更新关节索引与权重索引\r\n\t\t\tgeometry.skinIndices = skins.jointIndices0;\r\n\t\t\tgeometry.skinWeights = skins.jointWeights0;\r\n\r\n\t\t\tconst material: Material = this.materials[geoset.MaterialID];\r\n\t\t\tif (!material.material)\r\n\t\t\t{\r\n\t\t\t\tconst fBitmap: FBitmap = this.getFBitmap(material);\r\n\t\t\t\tconst image: string = fBitmap.image;\r\n\t\t\t\t// if (image && image.length > 0)\r\n\t\t\t\t// {\r\n\t\t\t\t// image = image.substring(0, image.indexOf(\".\"));\r\n\t\t\t\t// image += \".JPG\";\r\n\t\t\t\tmaterial.material = model.material = serialization.setValue(new Feng3dMaterial(), { name: image, renderParams: { cullFace: CullFace.FRONT } });\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tglobalEmitter.emit('asset.parsed', material.material);\r\n\t\t\t}\r\n\r\n\t\t\tglobalEmitter.emit('asset.parsed', geometry);\r\n\r\n\t\t\tmodel.geometry = geometry;\r\n\t\t\tmodel.skinSkeleton = skinSkeleton;\r\n\r\n\t\t\tcontainer.addChild(mesh);\r\n\t\t}\r\n\r\n\t\tconst animationclips = createAnimationClips(this);\r\n\t\tconst animation = container.addComponent(Animation);\r\n\t\tanimation.animation = animationclips[0];\r\n\t\tanimation.animations = animationclips;\r\n\r\n\t\t//\r\n\t\tcontainer.transform.rx = 90;\r\n\t\tcontainer.transform.sx = 0.01;\r\n\t\tcontainer.transform.sy = 0.01;\r\n\t\tcontainer.transform.sz = -0.01;\r\n\r\n\t\treturn container;\r\n\t}\r\n\r\n\tprivate getFBitmap(material: Material): FBitmap\r\n\t{\r\n\t\tlet TextureID = 0;\r\n\t\tfor (let i = 0; i < material.layers.length; i++)\r\n\t\t{\r\n\t\t\tconst layer = material.layers[i];\r\n\t\t\tTextureID = layer.TextureID;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tconst fBitmap: FBitmap = this.textures[TextureID];\r\n\r\n\t\treturn fBitmap;\r\n\t}\r\n}\r\n\r\nfunction createSkeleton(war3Model: War3Model)\r\n{\r\n\tconst bones = war3Model.bones;\r\n\r\n\tconst skeletonjoints: SkeletonJoint[] = [];\r\n\tfor (let i = 0; i < bones.length; i++)\r\n\t{\r\n\t\tcreateSkeletonJoint(i);\r\n\t}\r\n\r\n\treturn skeletonjoints;\r\n\r\n\tfunction createSkeletonJoint(index)\r\n\t{\r\n\t\tif (skeletonjoints[index])\r\n\t\t{ return skeletonjoints[index]; }\r\n\r\n\t\tconst joint = bones[index];\r\n\t\tconst skeletonJoint = new SkeletonJoint();\r\n\t\tskeletonJoint.name = joint.name;\r\n\t\tskeletonJoint.parentIndex = joint.Parent;\r\n\r\n\t\tconst position = war3Model.pivotPoints[joint.ObjectId];\r\n\r\n\t\tconst matrix = new Matrix4x4().fromTRS(\r\n\t\t\tposition,\r\n\t\t\tnew Vector3(),\r\n\t\t\tnew Vector3(1, 1, 1)\r\n\t\t);\r\n\t\tif (skeletonJoint.parentIndex !== -1)\r\n\t\t{\r\n\t\t\tconst parentskeletonJoint = createSkeletonJoint(skeletonJoint.parentIndex);\r\n\t\t\tjoint.pivotPoint = matrix.getPosition().subTo(parentskeletonJoint.matrix.getPosition());\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tjoint.pivotPoint = position;\r\n\t\t}\r\n\t\tskeletonJoint.matrix = matrix;\r\n\t\tskeletonjoints[index] = skeletonJoint;\r\n\r\n\t\treturn skeletonJoint;\r\n\t}\r\n}\r\n\r\nfunction BuildAnimatedMeshSkin(geoset: Geoset)\r\n{\r\n\t// 关节索引数据\r\n\tconst jointIndices0: number[] = [];\r\n\t// 关节权重数据\r\n\tconst jointWeights0: number[] = [];\r\n\r\n\tconst numVertexs: number = geoset.Vertices.length / 3;\r\n\tfor (let i = 0; i < numVertexs; i++)\r\n\t{\r\n\t\t// 顶点所在组索引\r\n\t\tconst iGroupIndex: number = geoset.VertexGroup[i];\r\n\t\t// 顶点所在组索引\r\n\t\tconst group = geoset.Groups[iGroupIndex];\r\n\t\t// 顶点关联骨骼数量\r\n\t\tconst numBones: number = group.length;\r\n\t\tconst weightJoints = [0, 0, 0, 0];\r\n\t\tfor (let j = 0; j < numBones; j++)\r\n\t\t{\r\n\t\t\tconst boneIndex: number = group[j];\r\n\t\t\tweightJoints[j] = boneIndex;\r\n\t\t}\r\n\t\tconst weightBiass = [0, 0, 0, 0];\r\n\t\tfor (let j = 0; j < 4; j++)\r\n\t\t{\r\n\t\t\tif (j < numBones)\r\n\t\t\t{\r\n\t\t\t\tweightBiass[j] = 1 / numBones;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//\r\n\t\tjointIndices0[i * 4] = weightJoints[0];\r\n\t\tjointIndices0[i * 4 + 1] = weightJoints[1];\r\n\t\tjointIndices0[i * 4 + 2] = weightJoints[2];\r\n\t\tjointIndices0[i * 4 + 3] = weightJoints[3];\r\n\t\t//\r\n\t\tjointWeights0[i * 4] = weightBiass[0];\r\n\t\tjointWeights0[i * 4 + 1] = weightBiass[1];\r\n\t\tjointWeights0[i * 4 + 2] = weightBiass[2];\r\n\t\tjointWeights0[i * 4 + 3] = weightBiass[3];\r\n\t}\r\n\r\n\treturn { jointIndices0, jointWeights0 };\r\n}\r\n\r\nfunction createAnimationClips(war3Model: War3Model)\r\n{\r\n\tconst sequences = war3Model.sequences;\r\n\tconst animationclips: AnimationClip[] = [];\r\n\tfor (let i = 0; i < sequences.length; i++)\r\n\t{\r\n\t\tconst sequence = sequences[i];\r\n\t\tconst animationclip = new AnimationClip();\r\n\t\tanimationclip.name = sequence.name;\r\n\t\tanimationclip.loop = sequence.loop;\r\n\t\tanimationclip.length = sequence.interval.end - sequence.interval.start;\r\n\t\tanimationclip.propertyClips = [];\r\n\r\n\t\tconst __chache__: { [key: string]: PropertyClip } = {};\r\n\r\n\t\twar3Model.bones.forEach((bone) =>\r\n\t\t{\r\n\t\t\tbone.buildAnimationclip(animationclip, __chache__, sequence.interval.start, sequence.interval.end);\r\n\t\t});\r\n\r\n\t\tglobalEmitter.emit('asset.parsed', animationclip);\r\n\r\n\t\tanimationclips.push(animationclip);\r\n\t}\r\n\r\n\treturn animationclips;\r\n}\r\n","import { Quaternion, Vector2, Vector3 } from '@feng3d/math';\r\nimport { AnimInfo, AnimInfo1, BoneObject, BoneRotation, BoneScaling, BoneTranslation, FBitmap, Geoset, GeosetAnim, Globalsequences, Interval, Layer, Material, Model, Rotation, Scaling, Translation } from './mdl/MdlModel';\r\nimport { War3Model } from './mdl/War3Model';\r\n\r\n/**\r\n * war3的mdl文件解析器\r\n */\r\nexport class MDLParser\r\n{\r\n\t/**\r\n\t * 解析war3的mdl文件\r\n\t * @param data MDL模型数据\r\n\t * @param completed 完成回调\r\n\t */\r\n\tparse(data: string, completed?: (war3Model: War3Model) => void): void\r\n\t{\r\n\t\tparse(data, completed);\r\n\t}\r\n}\r\n\r\n/**\r\n * war3的mdl文件解析器\r\n */\r\nexport const mdlParser = new MDLParser();\r\n\r\nconst VERSION_TOKEN = 'Version';\r\nconst COMMENT_TOKEN = '//';\r\nconst MODEL = 'Model';\r\nconst SEQUENCES = 'Sequences';\r\nconst GLOBALSEQUENCES = 'GlobalSequences';\r\nconst TEXTURES = 'Textures';\r\nconst MATERIALS = 'Materials';\r\nconst GEOSET = 'Geoset';\r\nconst GEOSETANIM = 'GeosetAnim';\r\nconst BONE = 'Bone';\r\nconst HELPER = 'Helper';\r\n\r\nfunction parse(data: string, onParseComplete?: (war3Model: War3Model) => void)\r\n{\r\n\tlet token: string;\r\n\r\n\tlet bone: BoneObject;\r\n\tlet geoset: Geoset;\r\n\tlet junpStr: string;\r\n\r\n\t// const num = 0;\r\n\tconst war3Model = new War3Model();\r\n\r\n\t/** 字符串数据 */\r\n\tconst context = data;\r\n\t/** 当前解析位置 */\r\n\tlet _parseIndex = 0;\r\n\t/** 是否文件尾 */\r\n\tlet _reachedEOF = false;\r\n\t/** 当前解析行号 */\r\n\tlet _line: number;\r\n\t/** 当前行的字符位置 */\r\n\tlet _charLineIndex = 0;\r\n\r\n\t// eslint-disable-next-line no-unmodified-loop-condition\r\n\twhile (!_reachedEOF)\r\n\t{\r\n\t\t// 获取关键字\r\n\t\ttoken = getNextToken();\r\n\t\tswitch (token)\r\n\t\t{\r\n\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\tignoreLine();\r\n\t\t\t\tbreak;\r\n\t\t\tcase VERSION_TOKEN:\r\n\t\t\t\twar3Model._version = parseVersion();\r\n\t\t\t\tbreak;\r\n\t\t\tcase MODEL:\r\n\t\t\t\twar3Model.model = parseModel();\r\n\t\t\t\tbreak;\r\n\t\t\tcase SEQUENCES:\r\n\t\t\t\twar3Model.sequences = parseSequences();\r\n\t\t\t\tbreak;\r\n\t\t\tcase GLOBALSEQUENCES:\r\n\t\t\t\twar3Model.globalsequences = parseGlobalsequences();\r\n\t\t\t\tbreak;\r\n\t\t\tcase TEXTURES:\r\n\t\t\t\twar3Model.textures = parseTextures();\r\n\t\t\t\tbreak;\r\n\t\t\tcase MATERIALS:\r\n\t\t\t\twar3Model.materials = parseMaterials();\r\n\t\t\t\tbreak;\r\n\t\t\tcase GEOSET:\r\n\t\t\t\tgeoset = parseGeoset();\r\n\t\t\t\twar3Model.geosets.push(geoset);\r\n\t\t\t\tbreak;\r\n\t\t\tcase GEOSETANIM:\r\n\t\t\t\tparseGeosetanim();\r\n\t\t\t\tbreak;\r\n\t\t\tcase BONE:\r\n\t\t\t\tbone = parseBone();\r\n\t\t\t\twar3Model.bones[bone.ObjectId] = bone;\r\n\t\t\t\tbreak;\r\n\t\t\tcase HELPER:\r\n\t\t\t\tbone = parseHelper();\r\n\t\t\t\twar3Model.bones[bone.ObjectId] = bone;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'PivotPoints':\r\n\t\t\t\twar3Model.pivotPoints = parsePivotPoints();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ParticleEmitter2':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'EventObject':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Attachment':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'RibbonEmitter':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'CollisionShape':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Camera':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Light':\r\n\t\t\t\tparseLiteralString();\r\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\t\t\tjunpStr = jumpChunk();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (!_reachedEOF)\r\n\t\t\t\t{\r\n\t\t\t\t\tsendUnknownKeywordError(token);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\tonParseComplete && onParseComplete(war3Model);\r\n\r\n\t// /**\r\n\t//  * 获取骨骼深度\r\n\t//  * @param bone\r\n\t//  * @param bones\r\n\t//  * @return\r\n\t//  */\r\n\t// function getBoneDepth(bone: BoneObject, bones: BoneObject[]): number\r\n\t// {\r\n\t// \tif (bone.Parent === -1)\r\n\t// \t{\r\n\t// \t\treturn 0;\r\n\t// \t}\r\n\r\n\t// \treturn getBoneDepth(bones[bone.Parent], bones) + 1;\r\n\t// }\r\n\r\n\t/**\r\n\t * 解析版本号\r\n\t */\r\n\tfunction parseVersion()\r\n\t{\r\n\t\tlet token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{\r\n\t\t\tsendParseError(token);\r\n\t\t}\r\n\r\n\t\ttoken = getNextToken();\r\n\t\tif (token !== 'FormatVersion')\r\n\t\t{\r\n\t\t\tsendUnknownKeywordError(token);\r\n\t\t}\r\n\r\n\t\tconst version = getNextInt();\r\n\r\n\t\ttoken = getNextToken();\r\n\r\n\t\tif (token !== '}')\r\n\t\t{\r\n\t\t\tsendParseError(token);\r\n\t\t}\r\n\r\n\t\treturn version;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析模型数据统计结果\r\n\t */\r\n\tfunction parseModel(): Model\r\n\t{\r\n\t\tconst model: Model = new Model();\r\n\r\n\t\tmodel.name = parseLiteralString();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BlendTime':\r\n\t\t\t\t\tmodel.BlendTime = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MinimumExtent':\r\n\t\t\t\t\tmodel.MinimumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MaximumExtent':\r\n\t\t\t\t\tmodel.MaximumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn model;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析动作序列\r\n\t */\r\n\tfunction parseSequences(): AnimInfo[]\r\n\t{\r\n\t\t// 跳过动作个数\r\n\t\tgetNextInt();\r\n\t\tconst sequences: AnimInfo[] = [];\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Anim':\r\n\t\t\t\t\tconst anim: AnimInfo = parseAnim();\r\n\t\t\t\t\tsequences.push(anim);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn sequences;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析全局序列\r\n\t */\r\n\tfunction parseGlobalsequences(): Globalsequences\r\n\t{\r\n\t\tconst globalsequences: Globalsequences = new Globalsequences();\r\n\r\n\t\tglobalsequences.id = getNextInt();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Duration':\r\n\t\t\t\t\tconst duration: number = getNextInt();\r\n\t\t\t\t\tglobalsequences.durations.push(duration);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn globalsequences;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析纹理列表\r\n\t */\r\n\tfunction parseTextures(): FBitmap[]\r\n\t{\r\n\t\t// 跳过纹理个数\r\n\t\tgetNextInt();\r\n\t\tconst bitmaps: FBitmap[] = [];\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Bitmap':\r\n\t\t\t\t\tconst bitmap: FBitmap = parseBitmap();\r\n\t\t\t\t\tbitmaps.push(bitmap);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn bitmaps;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析材质\r\n\t */\r\n\tfunction parseMaterials(): Material[]\r\n\t{\r\n\t\t// 跳过纹理个数\r\n\t\tgetNextInt();\r\n\t\tconst materials: Material[] = [];\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Material':\r\n\t\t\t\t\tconst material: Material = parseMaterial();\r\n\t\t\t\t\tmaterials.push(material);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn materials;\r\n\t}\r\n\r\n\tfunction parseGeoset(): Geoset\r\n\t{\r\n\t\tconst geoset: Geoset = new Geoset();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Vertices':\r\n\t\t\t\t\tgeoset.Vertices = parseVertices();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Normals':\r\n\t\t\t\t\tgeoset.Normals = parseNormals();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TVertices':\r\n\t\t\t\t\tgeoset.TVertices = parseTVertices();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'VertexGroup':\r\n\t\t\t\t\tgeoset.VertexGroup = parseVertexGroup();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Faces':\r\n\t\t\t\t\tgeoset.Faces = parseFaces();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Groups':\r\n\t\t\t\t\tgeoset.Groups = parseGroups();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MinimumExtent':\r\n\t\t\t\t\tgeoset.MinimumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MaximumExtent':\r\n\t\t\t\t\tgeoset.MaximumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BoundsRadius':\r\n\t\t\t\t\tgeoset.BoundsRadius = getNextNumber();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Anim':\r\n\t\t\t\t\tconst anim: AnimInfo1 = parseAnim1();\r\n\t\t\t\t\tgeoset.Anims.push(anim);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MaterialID':\r\n\t\t\t\t\tgeoset.MaterialID = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SelectionGroup':\r\n\t\t\t\t\tgeoset.SelectionGroup = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Unselectable':\r\n\t\t\t\t\tgeoset.Unselectable = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn geoset;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼动画\r\n\t */\r\n\tfunction parseBone(): BoneObject\r\n\t{\r\n\t\tconst bone: BoneObject = new BoneObject();\r\n\t\tbone.type = 'bone';\r\n\r\n\t\tbone.name = parseLiteralString();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ObjectId':\r\n\t\t\t\t\tbone.ObjectId = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Parent':\r\n\t\t\t\t\tbone.Parent = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'GeosetId':\r\n\t\t\t\t\tbone.GeosetId = getNextToken();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'GeosetAnimId':\r\n\t\t\t\t\tbone.GeosetAnimId = getNextToken();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Billboarded':\r\n\t\t\t\t\tbone.Billboarded = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Translation':\r\n\t\t\t\t\tparseBoneTranslation(bone.Translation);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Scaling':\r\n\t\t\t\t\tparseBoneScaling(bone.Scaling);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Rotation':\r\n\t\t\t\t\tparseBoneRotation(bone.Rotation);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockZ':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockY':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockX':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn bone;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼动画\r\n\t */\r\n\tfunction parseHelper(): BoneObject\r\n\t{\r\n\t\tconst bone: BoneObject = new BoneObject();\r\n\t\tbone.type = 'helper';\r\n\r\n\t\tbone.name = parseLiteralString();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ObjectId':\r\n\t\t\t\t\tbone.ObjectId = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Parent':\r\n\t\t\t\t\tbone.Parent = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'GeosetId':\r\n\t\t\t\t\tbone.GeosetId = getNextToken();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'GeosetAnimId':\r\n\t\t\t\t\tbone.GeosetAnimId = getNextToken();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Billboarded':\r\n\t\t\t\t\tbone.Billboarded = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Translation':\r\n\t\t\t\t\tparseBoneTranslation(bone.Translation);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Scaling':\r\n\t\t\t\t\tparseBoneScaling(bone.Scaling);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Rotation':\r\n\t\t\t\t\tparseBoneRotation(bone.Rotation);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockX':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockY':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BillboardedLockZ':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'DontInherit':\r\n\t\t\t\t\tjumpChunk();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn bone;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼角度\r\n\t */\r\n\tfunction parseBoneScaling(boneScaling: BoneScaling): void\r\n\t{\r\n\t\t// 跳过长度\r\n\t\tconst len: number = getNextInt();\r\n\r\n\t\tcheck('{');\r\n\t\tboneScaling.type = getNextToken();\r\n\r\n\t\tconst currentIndex: number = _parseIndex;\r\n\t\tconst token: string = getNextToken();\r\n\t\tif (token === 'GlobalSeqId')\r\n\t\t{\r\n\t\t\tboneScaling.GlobalSeqId = getNextInt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_parseIndex = currentIndex;\r\n\t\t}\r\n\r\n\t\tlet i = 0;\r\n\t\tlet scaling: Scaling;\r\n\t\tswitch (boneScaling.type)\r\n\t\t{\r\n\t\t\tcase 'Hermite':\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tscaling = new Scaling();\r\n\t\t\t\t\tscaling.time = getNextInt();\r\n\t\t\t\t\tscaling.value = parseVector3D();\r\n\t\t\t\t\tscaling[getNextToken()] = parseVector3D();\r\n\t\t\t\t\tscaling[getNextToken()] = parseVector3D();\r\n\t\t\t\t\tboneScaling.scalings.push(scaling);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tscaling = new Scaling();\r\n\t\t\t\t\tscaling.time = getNextInt();\r\n\t\t\t\t\tscaling.value = parseVector3D();\r\n\t\t\t\t\tboneScaling.scalings.push(scaling);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tscaling = new Scaling();\r\n\t\t\t\t\tscaling.time = getNextInt();\r\n\t\t\t\t\tscaling.value = parseVector3D();\r\n\t\t\t\t\tboneScaling.scalings.push(scaling);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`未处理${boneScaling.type}类型角度`);\r\n\t\t}\r\n\t\tcheck('}');\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼角度\r\n\t */\r\n\tfunction parseBoneTranslation(boneTranslation: BoneTranslation): void\r\n\t{\r\n\t\t// 跳过长度\r\n\t\tconst len: number = getNextInt();\r\n\r\n\t\tcheck('{');\r\n\t\tboneTranslation.type = getNextToken();\r\n\r\n\t\tconst currentIndex: number = _parseIndex;\r\n\t\tconst token: string = getNextToken();\r\n\t\tif (token === 'GlobalSeqId')\r\n\t\t{\r\n\t\t\tboneTranslation.GlobalSeqId = getNextInt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_parseIndex = currentIndex;\r\n\t\t}\r\n\r\n\t\tlet i = 0;\r\n\t\tlet translation: Translation;\r\n\t\tswitch (boneTranslation.type)\r\n\t\t{\r\n\t\t\tcase 'Hermite':\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttranslation = new Translation();\r\n\t\t\t\t\ttranslation.time = getNextInt();\r\n\t\t\t\t\ttranslation.value = parseVector3D();\r\n\t\t\t\t\ttranslation[getNextToken()] = parseVector3D();\r\n\t\t\t\t\ttranslation[getNextToken()] = parseVector3D();\r\n\t\t\t\t\tboneTranslation.translations.push(translation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttranslation = new Translation();\r\n\t\t\t\t\ttranslation.time = getNextInt();\r\n\t\t\t\t\ttranslation.value = parseVector3D();\r\n\t\t\t\t\tboneTranslation.translations.push(translation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttranslation = new Translation();\r\n\t\t\t\t\ttranslation.time = getNextInt();\r\n\t\t\t\t\ttranslation.value = parseVector3D();\r\n\t\t\t\t\tboneTranslation.translations.push(translation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`未处理${boneTranslation.type}类型角度`);\r\n\t\t}\r\n\t\tcheck('}');\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼角度\r\n\t */\r\n\tfunction parseBoneRotation(boneRotation: BoneRotation): void\r\n\t{\r\n\t\tconst len: number = getNextInt();\r\n\r\n\t\tcheck('{');\r\n\t\tboneRotation.type = getNextToken();\r\n\r\n\t\tconst currentIndex: number = _parseIndex;\r\n\t\tconst token: string = getNextToken();\r\n\t\tif (token === 'GlobalSeqId')\r\n\t\t{\r\n\t\t\tboneRotation.GlobalSeqId = getNextInt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_parseIndex = currentIndex;\r\n\t\t}\r\n\r\n\t\tlet i = 0;\r\n\t\tlet rotation: Rotation;\r\n\t\tswitch (boneRotation.type)\r\n\t\t{\r\n\t\t\tcase 'Hermite':\r\n\t\t\tcase 'Bezier':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trotation = new Rotation();\r\n\t\t\t\t\trotation.time = getNextInt();\r\n\t\t\t\t\trotation.value = parseVector3D4();\r\n\t\t\t\t\trotation[getNextToken()] = parseVector3D4();\r\n\t\t\t\t\trotation[getNextToken()] = parseVector3D4();\r\n\t\t\t\t\tboneRotation.rotations.push(rotation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Linear':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trotation = new Rotation();\r\n\t\t\t\t\trotation.time = getNextInt();\r\n\t\t\t\t\trotation.value = parseVector3D4();\r\n\t\t\t\t\tboneRotation.rotations.push(rotation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DontInterp':\r\n\t\t\t\tfor (i = 0; i < len; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trotation = new Rotation();\r\n\t\t\t\t\trotation.time = getNextInt();\r\n\t\t\t\t\trotation.value = parseVector3D4();\r\n\t\t\t\t\tboneRotation.rotations.push(rotation);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`未处理${boneRotation.type}类型角度`);\r\n\t\t}\r\n\t\tcheck('}');\r\n\t}\r\n\r\n\t/**\r\n\t * 解析多边形动画\r\n\t */\r\n\tfunction parseGeosetanim(): GeosetAnim | null\r\n\t{\r\n\t\t// const jumpStr = jumpChunk();\r\n\r\n\t\treturn null;\r\n\r\n\t\t// if (war3Model.geosetAnims == null)\r\n\t\t// \twar3Model.geosetAnims = [];\r\n\t\t// var geosetAnim: GeosetAnim = new GeosetAnim();\r\n\t\t// war3Model.geosetAnims.push(geosetAnim);\r\n\r\n\t\t// var token: string = getNextToken();\r\n\r\n\t\t// if (token != \"{\")\r\n\t\t// \tsendParseError(token);\r\n\r\n\t\t// var ch: string;\r\n\t\t// while (ch != \"}\")\r\n\t\t// {\r\n\t\t// \tch = getNextToken();\r\n\t\t// \tswitch (ch)\r\n\t\t// \t{\r\n\t\t// \t\tcase COMMENT_TOKEN:\r\n\t\t// \t\t\tignoreLine();\r\n\t\t// \t\t\tbreak;\r\n\t\t// \t\tcase \"Alpha\":\r\n\t\t// \t\t\t//\t\t\t\t\t\tparseAnimAlpha();\r\n\t\t// \t\t\tbreak;\r\n\t\t// \t\tcase \"}\":\r\n\t\t// \t\t\tbreak;\r\n\t\t// \t\tdefault:\r\n\t\t// \t\t\tsendUnknownKeywordError(ch);\r\n\t\t// \t\t\tbreak;\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// return geosetAnim;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析顶点\r\n\t */\r\n\tfunction parseVertices(): number[]\r\n\t{\r\n\t\tconst vertices: number[] = [];\r\n\r\n\t\t// 跳过长度\r\n\t\tconst len: number = getNextInt();\r\n\t\tlet token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet vertex: Vector3;\r\n\t\tfor (let i = 0; i < len; i++)\r\n\t\t{\r\n\t\t\tvertex = parseVector3D();\r\n\t\t\tvertices.push(vertex.x, vertex.y, vertex.z);\r\n\t\t}\r\n\r\n\t\ttoken = getNextToken();\r\n\t\tif (token !== '}')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\treturn vertices;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析法线\r\n\t */\r\n\tfunction parseNormals(): number[]\r\n\t{\r\n\t\tconst normals: number[] = [];\r\n\r\n\t\t// 跳过长度\r\n\t\tconst len: number = getNextInt();\r\n\t\tlet token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet vertex: Vector3;\r\n\t\tfor (let i = 0; i < len; i++)\r\n\t\t{\r\n\t\t\tvertex = parseVector3D();\r\n\t\t\tnormals.push(vertex.x, vertex.y, vertex.z);\r\n\t\t}\r\n\r\n\t\ttoken = getNextToken();\r\n\t\tif (token !== '}')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\treturn normals;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析纹理坐标\r\n\t */\r\n\tfunction parseTVertices(): number[]\r\n\t{\r\n\t\tconst tVertices: number[] = [];\r\n\r\n\t\t// 跳过长度\r\n\t\tconst len: number = getNextInt();\r\n\t\tlet token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet uv: Vector2;\r\n\t\tfor (let i = 0; i < len; i++)\r\n\t\t{\r\n\t\t\tuv = parsePoint();\r\n\t\t\ttVertices.push(uv.x, uv.y);\r\n\t\t}\r\n\r\n\t\ttoken = getNextToken();\r\n\t\tif (token !== '}')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\treturn tVertices;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析顶点分组\r\n\t */\r\n\tfunction parseVertexGroup(): number[]\r\n\t{\r\n\t\tconst vertexGroup: number[] = [];\r\n\r\n\t\tlet token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\ttoken = getNextToken();\r\n\t\twhile (token !== '}')\r\n\t\t{\r\n\t\t\tvertexGroup.push(Number(token));\r\n\t\t\ttoken = getNextToken();\r\n\t\t}\r\n\r\n\t\treturn vertexGroup;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析面\r\n\t */\r\n\tfunction parseFaces(): number[]\r\n\t{\r\n\t\tconst faces: number[] = [];\r\n\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\tconst faceNum: number = getNextInt();\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\tconst indexNum: number = getNextInt();\r\n\r\n\t\tlet token: string;\r\n\r\n\t\tcheck('{');\r\n\t\tcheck('Triangles');\r\n\t\tcheck('{');\r\n\t\tcheck('{');\r\n\r\n\t\ttoken = getNextToken();\r\n\t\twhile (token !== '}')\r\n\t\t{\r\n\t\t\tfaces.push(Number(token));\r\n\t\t\ttoken = getNextToken();\r\n\t\t}\r\n\r\n\t\tcheck('}');\r\n\t\tcheck('}');\r\n\r\n\t\treturn faces;\r\n\t}\r\n\r\n\t/**\r\n\t * 解顶点分组\r\n\t */\r\n\tfunction parseGroups(): number[][]\r\n\t{\r\n\t\tconst groups: number[][] = [];\r\n\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\tconst groupNum: number = getNextInt();\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\t\tconst valueNum: number = getNextInt();\r\n\r\n\t\tlet token: string;\r\n\r\n\t\tcheck('{');\r\n\r\n\t\ttoken = getNextToken();\r\n\t\twhile (token !== '}')\r\n\t\t{\r\n\t\t\tif (token === 'Matrices')\r\n\t\t\t{\r\n\t\t\t\tcheck('{');\r\n\t\t\t\ttoken = getNextToken();\r\n\t\t\t\tconst Matrices: number[] = [];\r\n\t\t\t\twhile (token !== '}')\r\n\t\t\t\t{\r\n\t\t\t\t\tMatrices.push(Number(token));\r\n\t\t\t\t\ttoken = getNextToken();\r\n\t\t\t\t}\r\n\t\t\t\tgroups.push(Matrices);\r\n\t\t\t}\r\n\t\t\ttoken = getNextToken();\r\n\t\t}\r\n\r\n\t\treturn groups;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析纹理\r\n\t */\r\n\tfunction parseBitmap(): FBitmap\r\n\t{\r\n\t\tconst bitmap: FBitmap = new FBitmap();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Image':\r\n\t\t\t\t\tbitmap.image = parseLiteralString();\r\n\t\t\t\t\tbitmap.image = bitmap.image.replace(/\\\\/g, '/');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ReplaceableId':\r\n\t\t\t\t\tbitmap.ReplaceableId = getNextInt();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WrapWidth':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'WrapHeight':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn bitmap;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析材质\r\n\t */\r\n\tfunction parseMaterial(): Material\r\n\t{\r\n\t\tconst material: Material = new Material();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Layer':\r\n\t\t\t\t\tconst layer: Layer = parseLayer();\r\n\t\t\t\t\tmaterial.layers.push(layer);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SortPrimsFarZ':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ConstantColor':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析材质层\r\n\t */\r\n\tfunction parseLayer(): Layer\r\n\t{\r\n\t\tconst layer: Layer = new Layer();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet staticSigned = false;\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'FilterMode':\r\n\t\t\t\t\tlayer.FilterMode = getNextToken();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'static':\r\n\t\t\t\t\tstaticSigned = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TextureID':\r\n\t\t\t\t\tif (staticSigned)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlayer.TextureID = getNextInt();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstaticSigned = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Alpha':\r\n\t\t\t\t\tif (staticSigned)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlayer.Alpha = getNextNumber();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgetNextInt();\r\n\t\t\t\t\t\tjumpChunk();\r\n\r\n\t\t\t\t\t\t//\t\t\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstaticSigned = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Unshaded':\r\n\t\t\t\t\tlayer.Unshaded = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Unfogged':\r\n\t\t\t\t\tlayer.Unfogged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TwoSided':\r\n\t\t\t\t\tlayer.TwoSided = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SphereEnvMap':\r\n\t\t\t\t\tlayer.SphereEnvMap = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NoDepthTest':\r\n\t\t\t\t\tlayer.NoDepthTest = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NoDepthSet':\r\n\t\t\t\t\tlayer.NoDepthSet = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn layer;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析动作信息\r\n\t */\r\n\tfunction parseAnim(): AnimInfo\r\n\t{\r\n\t\tconst anim: AnimInfo = new AnimInfo();\r\n\r\n\t\tanim.name = parseLiteralString();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Interval':\r\n\t\t\t\t\tanim.interval = parseInterval();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MinimumExtent':\r\n\t\t\t\t\tanim.MinimumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MaximumExtent':\r\n\t\t\t\t\tanim.MaximumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BoundsRadius':\r\n\t\t\t\t\tanim.BoundsRadius = getNextNumber();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Rarity':\r\n\t\t\t\t\tanim.Rarity = getNextNumber();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'NonLooping':\r\n\t\t\t\t\tanim.loop = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MoveSpeed':\r\n\t\t\t\t\tanim.MoveSpeed = getNextNumber();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn anim;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析几何体动作信息\r\n\t */\r\n\tfunction parseAnim1(): AnimInfo1\r\n\t{\r\n\t\tconst anim: AnimInfo1 = new AnimInfo1();\r\n\r\n\t\tconst token: string = getNextToken();\r\n\r\n\t\tif (token !== '{')\r\n\t\t{ sendParseError(token); }\r\n\r\n\t\tlet ch = '';\r\n\t\twhile (ch !== '}')\r\n\t\t{\r\n\t\t\tch = getNextToken();\r\n\t\t\tswitch (ch)\r\n\t\t\t{\r\n\t\t\t\tcase COMMENT_TOKEN:\r\n\t\t\t\t\tignoreLine();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MinimumExtent':\r\n\t\t\t\t\tanim.MinimumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MaximumExtent':\r\n\t\t\t\t\tanim.MaximumExtent = parseVector3D();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'BoundsRadius':\r\n\t\t\t\t\tanim.BoundsRadius = getNextNumber();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '}':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsendUnknownKeywordError(ch);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn anim;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析骨骼轴心坐标\r\n\t */\r\n\tfunction parsePivotPoints(): Vector3[]\r\n\t{\r\n\t\tconst points: Vector3[] = [];\r\n\r\n\t\tconst len: number = getNextInt();\r\n\r\n\t\tcheck('{');\r\n\r\n\t\tfor (let i = 0; i < len; i++)\r\n\t\t{\r\n\t\t\tconst point: Vector3 = parseVector3D();\r\n\t\t\tpoints.push(point);\r\n\t\t}\r\n\r\n\t\tcheck('}');\r\n\r\n\t\treturn points;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析3d向量\r\n\t */\r\n\tfunction parseVector3D(): Vector3\r\n\t{\r\n\t\tconst vec: Vector3 = new Vector3();\r\n\t\tlet ch: string = getNextToken();\r\n\r\n\t\tif (ch !== '{')\r\n\t\t{ sendParseError('{'); }\r\n\t\tvec.x = getNextNumber();\r\n\t\tvec.y = getNextNumber();\r\n\t\tvec.z = getNextNumber();\r\n\r\n\t\tch = getNextToken();\r\n\t\tif (!(ch === '}' || ch === '},'))\r\n\t\t{ sendParseError('}'); }\r\n\r\n\t\treturn vec;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析四元素\r\n\t */\r\n\tfunction parseVector3D4(): Quaternion\r\n\t{\r\n\t\tconst vec: Quaternion = new Quaternion();\r\n\t\tlet ch: string = getNextToken();\r\n\r\n\t\tif (ch !== '{')\r\n\t\t{ sendParseError('{'); }\r\n\t\tvec.x = getNextNumber();\r\n\t\tvec.y = getNextNumber();\r\n\t\tvec.z = getNextNumber();\r\n\t\tvec.w = getNextNumber();\r\n\r\n\t\tch = getNextToken();\r\n\t\tif (!(ch === '}' || ch === '},'))\r\n\t\t{ sendParseError('}'); }\r\n\r\n\t\treturn vec;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析2d坐标\r\n\t */\r\n\tfunction parsePoint(): Vector2\r\n\t{\r\n\t\tconst point: Vector2 = new Vector2();\r\n\t\tlet ch: string = getNextToken();\r\n\r\n\t\tif (ch !== '{')\r\n\t\t{\r\n\t\t\tsendParseError('{');\r\n\t\t}\r\n\t\tpoint.x = getNextNumber();\r\n\t\tpoint.y = getNextNumber();\r\n\r\n\t\tch = getNextToken();\r\n\t\tif (!(ch === '}' || ch === '},'))\r\n\t\t{\r\n\t\t\tsendParseError('}');\r\n\t\t}\r\n\r\n\t\treturn point;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析间隔\r\n\t */\r\n\tfunction parseInterval(): Interval\r\n\t{\r\n\t\tconst interval: Interval = new Interval();\r\n\t\tlet ch: string = getNextToken();\r\n\r\n\t\tif (ch !== '{')\r\n\t\t{\r\n\t\t\tsendParseError('{');\r\n\t\t}\r\n\t\tinterval.start = getNextInt();\r\n\t\tinterval.end = getNextInt();\r\n\r\n\t\tch = getNextToken();\r\n\t\tif (!(ch === '}' || ch === '},'))\r\n\t\t{\r\n\t\t\tsendParseError('}');\r\n\t\t}\r\n\r\n\t\treturn interval;\r\n\t}\r\n\r\n\t/**\r\n\t * 解析带双引号的字符串\r\n\t */\r\n\tfunction parseLiteralString(): string\r\n\t{\r\n\t\tskipWhiteSpace();\r\n\r\n\t\tlet ch: string = getNextChar();\r\n\t\tlet str = '';\r\n\r\n\t\tif (ch !== '\"')\r\n\t\t{ sendParseError('\"'); }\r\n\r\n\t\tdo\r\n\t\t{\r\n\t\t\tif (_reachedEOF)\r\n\t\t\t{\r\n\t\t\t\tsendEOFError();\r\n\t\t\t}\r\n\t\t\tch = getNextChar();\r\n\t\t\tif (ch !== '\"')\r\n\t\t\t{\r\n\t\t\t\tstr += ch;\r\n\t\t\t}\r\n\t\t} while (ch !== '\"');\r\n\r\n\t\treturn str;\r\n\t}\r\n\r\n\t/**\r\n\t * 读取下个Number\r\n\t */\r\n\tfunction getNextNumber(): number\r\n\t{\r\n\t\tconst f: number = parseFloat(getNextToken());\r\n\t\tif (isNaN(f))\r\n\t\t{ sendParseError('float type'); }\r\n\r\n\t\treturn f;\r\n\t}\r\n\r\n\t/**\r\n\t * 读取下个字符\r\n\t */\r\n\tfunction getNextChar(): string\r\n\t{\r\n\t\tconst ch: string = context.charAt(_parseIndex++);\r\n\r\n\t\tif (ch === '\\n')\r\n\t\t{\r\n\t\t\t++_line;\r\n\t\t\t_charLineIndex = 0;\r\n\t\t}\r\n\t\telse if (ch !== '\\r')\r\n\t\t{ ++_charLineIndex; }\r\n\r\n\t\tif (_parseIndex >= context.length)\r\n\t\t{ _reachedEOF = true; }\r\n\r\n\t\treturn ch;\r\n\t}\r\n\r\n\t/**\r\n\t * 读取下个int\r\n\t */\r\n\tfunction getNextInt(): number\r\n\t{\r\n\t\tconst i: number = parseInt(getNextToken(), 10);\r\n\t\tif (isNaN(i))\r\n\t\t{\r\n\t\t\tsendParseError('int type');\r\n\t\t}\r\n\r\n\t\treturn i;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取下个关键字\r\n\t */\r\n\tfunction getNextToken(): string\r\n\t{\r\n\t\tlet ch: string;\r\n\t\tlet token = '';\r\n\r\n\t\twhile (!_reachedEOF)\r\n\t\t{\r\n\t\t\tch = getNextChar();\r\n\t\t\tif (ch === ' ' || ch === '\\r' || ch === '\\n' || ch === '\\t' || ch === ',')\r\n\t\t\t{\r\n\t\t\t\tif (token !== COMMENT_TOKEN)\r\n\t\t\t\t{\r\n\t\t\t\t\tskipWhiteSpace();\r\n\t\t\t\t}\r\n\t\t\t\tif (token !== '')\r\n\t\t\t\t{\r\n\t\t\t\t\treturn token;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttoken += ch;\r\n\t\t\t}\r\n\r\n\t\t\tif (token === COMMENT_TOKEN)\r\n\t\t\t{\r\n\t\t\t\treturn token;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn token;\r\n\t}\r\n\r\n\t/**\r\n\t * 跳过块\r\n\t * @return 跳过的内容\r\n\t */\r\n\tfunction jumpChunk()\r\n\t{\r\n\t\tconst start: number = _parseIndex;\r\n\r\n\t\tcheck('{');\r\n\t\tconst stack = ['{'];\r\n\r\n\t\tlet ch: string;\r\n\r\n\t\twhile (!_reachedEOF)\r\n\t\t{\r\n\t\t\tch = getNextChar();\r\n\t\t\tif (ch === '{')\r\n\t\t\t{\r\n\t\t\t\tstack.push('{');\r\n\t\t\t}\r\n\t\t\tif (ch === '}')\r\n\t\t\t{\r\n\t\t\t\tstack.pop();\r\n\t\t\t\tif (stack.length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn context.substring(start, _parseIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn '';\r\n\t}\r\n\r\n\t/**\r\n\t * 返回到上个字符位置\r\n\t */\r\n\tfunction putBack(): void\r\n\t{\r\n\t\t_parseIndex--;\r\n\t\t_charLineIndex--;\r\n\t\t_reachedEOF = _parseIndex >= context.length;\r\n\t}\r\n\r\n\t/**\r\n\t * 跳过空白\r\n\t */\r\n\tfunction skipWhiteSpace(): void\r\n\t{\r\n\t\tlet ch: string;\r\n\r\n\t\tdo\r\n\t\t{ ch = getNextChar(); }\r\n\t\twhile (ch === '\\n' || ch === ' ' || ch === '\\r' || ch === '\\t');\r\n\r\n\t\tputBack();\r\n\t}\r\n\r\n\t/**\r\n\t * 忽略该行\r\n\t */\r\n\tfunction ignoreLine(): void\r\n\t{\r\n\t\tlet ch = '';\r\n\t\twhile (!_reachedEOF && ch !== '\\n')\r\n\t\t{\r\n\t\t\tch = getNextChar();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction check(key: string): void\r\n\t{\r\n\t\tconst token: string = getNextToken();\r\n\t\tif (token !== key)\r\n\t\t{\r\n\t\t\tsendParseError(token);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 抛出一个文件尾过早结束文件时遇到错误\r\n\t */\r\n\tfunction sendEOFError(): void\r\n\t{\r\n\t\tthrow new Error('Unexpected end of file');\r\n\t}\r\n\r\n\t/**\r\n\t * 遇到了一个意想不到的令牌时将抛出一个错误。\r\n\t * @param expected 发生错误的标记\r\n\t */\r\n\tfunction sendParseError(expected: string): void\r\n\t{\r\n\t\tthrow new Error(`Unexpected token at line ${_line + 1}, character ${_charLineIndex}. ${expected} expected, but ${context.charAt(_parseIndex - 1)} encountered`);\r\n\t}\r\n\r\n\t/**\r\n\t * 发生未知关键字错误\r\n\t */\r\n\tfunction sendUnknownKeywordError(keyword: string): void\r\n\t{\r\n\t\tthrow new Error(`Unknown keyword[${keyword}] at line ${_line + 1}, character ${_charLineIndex}. `);\r\n\t}\r\n}\r\n","import { GameObject } from '@feng3d/core';\r\nimport { globalEmitter } from '@feng3d/event';\r\nimport { FS, pathUtils } from '@feng3d/filesystem';\r\nimport { serialization } from '@feng3d/serialization';\r\nimport { mdlParser } from '../parsers/MDLParser';\r\n\r\n/**\r\n * MDL模型加载器\r\n */\r\nexport class MDLLoader\r\n{\r\n    /**\r\n     * 加载MDL模型\r\n     * @param mdlurl MDL模型路径\r\n     * @param callback 加载完成回调\r\n     */\r\n    load(mdlurl: string, callback?: (gameObject: GameObject) => void)\r\n    {\r\n        FS.fs.readString(mdlurl, (_err, content) =>\r\n        {\r\n            mdlParser.parse(content, (war3Model: { getMesh: () => any; }) =>\r\n            {\r\n                const showMesh = war3Model.getMesh();\r\n\r\n                const gameObject = serialization.setValue(new GameObject(), { name: pathUtils.getName(mdlurl), children: <any>[showMesh] });\r\n\r\n                globalEmitter.emit('asset.parsed', gameObject);\r\n                callback && callback(gameObject);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * MDL模型加载器\r\n */\r\nexport const mdlLoader = new MDLLoader();\r\n","/**\r\n * OBJ模型MTL材质解析器\r\n */\r\nexport class MTLParser\r\n{\r\n    /**\r\n     * 解析\r\n     * @param context\r\n     */\r\n    parser(context: string): Mtl_Mtl\r\n    {\r\n        const mtl: Mtl_Mtl = {};\r\n        const lines = context.split('\\n');\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            parserLine(lines[i], mtl);\r\n        }\r\n\r\n        return mtl;\r\n    }\r\n}\r\n/**\r\n * OBJ模型MTL材质解析器\r\n */\r\nexport const mtlParser = new MTLParser();\r\n\r\nexport type Mtl_Material = {\r\n    name: string;\r\n    ka: number[];\r\n    kd: number[];\r\n    ks: number[];\r\n    ns: number;\r\n    ni: number;\r\n    d: number;\r\n    illum: number;\r\n    map_Bump: string;\r\n    map_Ka: string;\r\n    map_Kd: string;\r\n    map_Ks: string;\r\n};\r\nexport type Mtl_Mtl = { [name: string]: Mtl_Material };\r\n\r\nconst newmtlReg = /newmtl\\s+([\\w.]+)/;\r\nconst kaReg = /Ka\\s+([\\d.]+)\\s+([\\d.]+)\\s+([\\d.]+)/;\r\nconst kdReg = /Kd\\s+([\\d.]+)\\s+([\\d.]+)\\s+([\\d.]+)/;\r\nconst ksReg = /Ks\\s+([\\d.]+)\\s+([\\d.]+)\\s+([\\d.]+)/;\r\nconst nsReg = /Ns\\s+([\\d.]+)/;\r\nconst niReg = /Ni\\s+([\\d.]+)/;\r\nconst dReg = /d\\s+([\\d.]+)/;\r\nconst illumReg = /illum\\s+([\\d]+)/;\r\nconst map_Bump_Reg = /map_Bump\\s+([\\w\\W]+\\.[\\w\\W]+)/;\r\nconst map_Ka_Reg = /map_Ka\\s+([\\w\\W]+\\.[\\w\\W]+)/;\r\nconst map_Kd_Reg = /map_Kd\\s+([\\w\\W]+\\.[\\w\\W]+)/;\r\nconst map_Ks_Reg = /map_Ks\\s+([\\w\\W]+\\.[\\w\\W]+)/;\r\nlet currentMaterial: Mtl_Material;\r\n\r\nfunction parserLine(line: string, mtl: Mtl_Mtl)\r\n{\r\n    if (!line)\r\n    { return; }\r\n    line = line.trim();\r\n    if (!line.length)\r\n    { return; }\r\n    if (line.charAt(0) === '#')\r\n    { return; }\r\n\r\n    let result: RegExpExecArray | null;\r\n    if ((result = newmtlReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial = { name: result[1], ka: [], kd: [], ks: [], ns: 0, ni: 0, d: 0, illum: 0, map_Bump: '', map_Ka: '', map_Kd: '', map_Ks: '' };\r\n        mtl[currentMaterial.name] = currentMaterial;\r\n    }\r\n    else if ((result = kaReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.ka = [parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3])];\r\n    }\r\n    else if ((result = kdReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.kd = [parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3])];\r\n    }\r\n    else if ((result = ksReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.ks = [parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3])];\r\n    }\r\n    else if ((result = nsReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.ns = parseFloat(result[1]);\r\n    }\r\n    else if ((result = niReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.ni = parseFloat(result[1]);\r\n    }\r\n    else if ((result = dReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.d = parseFloat(result[1]);\r\n    }\r\n    else if ((result = illumReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.illum = parseFloat(result[1]);\r\n    }\r\n    else if ((result = map_Bump_Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.map_Bump = result[1];\r\n    }\r\n    else if ((result = map_Ka_Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.map_Ka = result[1];\r\n    }\r\n    else if ((result = map_Kd_Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.map_Kd = result[1];\r\n    }\r\n    else if ((result = map_Ks_Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentMaterial.map_Ks = result[1];\r\n    }\r\n    else\r\n    {\r\n        throw new Error(`无法解析${line}`);\r\n    }\r\n}\r\n","import { Material } from '@feng3d/core';\r\nimport { FS } from '@feng3d/filesystem';\r\nimport { mtlConverter } from '../converters/MTLConverter';\r\nimport { mtlParser } from '../parsers/MTLParser';\r\n\r\n/**\r\n * OBJ模型MTL材质加载器\r\n */\r\nexport class MTLLoader\r\n{\r\n    /**\r\n     * 加载MTL材质\r\n     * @param path MTL材质文件路径\r\n     * @param completed 加载完成回调\r\n     */\r\n    load(path: string, completed?: (err: Error, materials: { [name: string]: Material; }) => void)\r\n    {\r\n        FS.fs.readString(path, (err, content) =>\r\n        {\r\n            if (err)\r\n            {\r\n                completed(err, null);\r\n\r\n                return;\r\n            }\r\n            const mtlData = mtlParser.parser(content);\r\n            mtlConverter.convert(mtlData, completed);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * OBJ模型MTL材质加载器\r\n */\r\nexport const mtlLoader = new MTLLoader();\r\n","/**\r\n * OBJ模型解析器\r\n */\r\nexport class OBJParser\r\n{\r\n    /**\r\n     * 解析\r\n     * @param context\r\n     */\r\n    parser(context: string)\r\n    {\r\n        currentObj = null;\r\n        currentSubObj = null;\r\n        //\r\n        const objData: OBJ_OBJData = { mtl: null, objs: [], vertex: [], vn: [], vt: [] };\r\n        const lines = context.split('\\n').reverse();\r\n        do\r\n        {\r\n            const line = lines.pop();\r\n            line && parserLine(line, objData);\r\n        } while (lines.length > 0);\r\n\r\n        return objData;\r\n    }\r\n}\r\n/**\r\n * OBJ模型解析器\r\n */\r\nexport const objParser = new OBJParser();\r\n\r\n/**\r\n * 面数据\r\n */\r\nexport type OBJ_Face = {\r\n    /** 顶点索引 */\r\n    vertexIndices: string[];\r\n    /** uv索引 */\r\n    uvIndices?: string[];\r\n    /** 法线索引 */\r\n    normalIndices?: string[];\r\n    /** 索引数据 */\r\n    indexIds: string[];\r\n};\r\n\r\n/**\r\n * 子对象\r\n */\r\nexport type OBJ_SubOBJ = {\r\n    /** 材质名称 */\r\n    material?: string;\r\n    /**  */\r\n    g?: string,\r\n    /** 面列表 */\r\n    faces: OBJ_Face[];\r\n};\r\n\r\n/**\r\n * 对象\r\n */\r\nexport type OBJ_OBJ = {\r\n    // 模型名称\r\n    name: string;\r\n    /** 子对象 */\r\n    subObjs: OBJ_SubOBJ[];\r\n};\r\n\r\n/**\r\n * Obj模型数据\r\n */\r\nexport type OBJ_OBJData = {\r\n    /**\r\n     * 模型名称\r\n     */\r\n    name?: string;\r\n    /** mtl文件路径 */\r\n    mtl: string | null;\r\n    /** 顶点坐标 */\r\n    vertex: { x: number, y: number, z: number }[];\r\n    /** 顶点法线 */\r\n    vn: { x: number, y: number, z: number }[];\r\n    /** 顶点uv */\r\n    vt: { u: number, v: number, s: number }[];\r\n    /** 模型列表 */\r\n    objs: OBJ_OBJ[];\r\n};\r\n\r\n/** mtl正则 */\r\nconst mtlReg = /mtllib\\s+([\\w\\s]+\\.mtl)/;\r\n/** 对象名称正则 */\r\nconst objReg = /o\\s+([\\w\\.]+)/;\r\n/** 顶点坐标正则 */\r\nconst vertexReg = /v\\s+([-\\d.]+)\\s+([-\\d.]+)\\s+([-\\d.]+)/;\r\n/** 顶点法线正则 */\r\nconst vnReg = /vn\\s+([-\\d.]+)\\s+([-\\d.]+)\\s+([-\\d.]+)/;\r\n/** 顶点uv正则 */\r\nconst vtReg = /vt\\s+([-\\d.]+)\\s+([-\\d.]+)(\\s+([-\\d.]+))?/;\r\n/** 使用材质正则 */\r\nconst usemtlReg = /usemtl\\s+([\\w.]+)/;\r\n/** 面正则 vertex */\r\nconst faceV3Reg = /f\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)/;\r\n/** 面正则 vertex */\r\nconst faceVReg = /f\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)\\s+(\\d+)/;\r\n/** 面正则 vertex/uv/normal */\r\nconst faceVUNReg = /f\\s+((\\d+)\\/(\\d+)\\/(\\d+))\\s+((\\d+)\\/(\\d+)\\/(\\d+))\\s+((\\d+)\\/(\\d+)\\/(\\d+))/;\r\n/** 面正则 vertex//normal */\r\nconst faceVN3Reg = /f\\s+(\\d+)\\/\\/(\\d+)\\s+(\\d+)\\/\\/(\\d+)\\s+(\\d+)\\/\\/(\\d+)/;\r\n// g\r\nconst gReg = /g\\s+([\\(\\)\\w]+)?/;\r\n\r\nconst sReg = /s\\s+(\\w+)/;\r\n\r\n//\r\nlet currentObj: OBJ_OBJ;\r\nlet currentSubObj: OBJ_SubOBJ;\r\n\r\nfunction parserLine(line: string, objData: OBJ_OBJData)\r\n{\r\n    if (!line)\r\n    {\r\n        return;\r\n    }\r\n    line = line.trim();\r\n    if (!line.length)\r\n    {\r\n        return;\r\n    }\r\n    if (line.charAt(0) === '#')\r\n    {\r\n        return;\r\n    }\r\n\r\n    let result: RegExpExecArray | null;\r\n    if ((result = mtlReg.exec(line)) && result[0] === line)\r\n    {\r\n        objData.mtl = result[1];\r\n    }\r\n    else if ((result = objReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentObj = { name: result[1], subObjs: [] };\r\n        objData.objs.push(currentObj);\r\n    }\r\n    else if ((result = vertexReg.exec(line)) && result[0] === line)\r\n    {\r\n        if (!currentObj)\r\n        {\r\n            currentObj = { name: '', subObjs: [] };\r\n            objData.objs.push(currentObj);\r\n        }\r\n        objData.vertex.push({ x: parseFloat(result[1]), y: parseFloat(result[2]), z: parseFloat(result[3]) });\r\n    }\r\n    else if ((result = vnReg.exec(line)) && result[0] === line)\r\n    {\r\n        objData.vn.push({ x: parseFloat(result[1]), y: parseFloat(result[2]), z: parseFloat(result[3]) });\r\n    }\r\n    else if ((result = vtReg.exec(line)) && result[0] === line)\r\n    {\r\n        objData.vt.push({ u: parseFloat(result[1]), v: 1 - parseFloat(result[2]), s: parseFloat(result[4]) });\r\n    }\r\n    else if ((result = gReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj = { faces: [] };\r\n        currentObj.subObjs.push(currentSubObj);\r\n        currentSubObj.g = result[1];\r\n    }\r\n    else if ((result = sReg.exec(line)) && result[0] === line)\r\n    // eslint-disable-next-line no-empty\r\n    {\r\n\r\n    }\r\n    else if ((result = usemtlReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj = { faces: [] };\r\n        currentObj.subObjs.push(currentSubObj);\r\n        currentSubObj.material = result[1];\r\n    }\r\n    else if ((result = faceV3Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj.faces.push({\r\n            indexIds: [result[2], result[1], result[3]],\r\n            vertexIndices: [result[2], result[1], result[3]]\r\n        });\r\n    }\r\n    else if ((result = faceVN3Reg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj.faces.push({\r\n            indexIds: [result[3], result[1], result[5]],\r\n            vertexIndices: [result[3], result[1], result[5]],\r\n            normalIndices: [result[4], result[2], result[6]],\r\n        });\r\n    }\r\n    else if ((result = faceVReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj.faces.push({\r\n            indexIds: [result[2], result[1], result[3]],\r\n            vertexIndices: [result[2], result[1], result[3]]\r\n        });\r\n        currentSubObj.faces.push({\r\n            indexIds: [result[4], result[3], result[1]],\r\n            vertexIndices: [result[4], result[3], result[1]]\r\n        });\r\n    }\r\n    else if ((result = faceVUNReg.exec(line)) && result[0] === line)\r\n    {\r\n        currentSubObj.faces.push({\r\n            indexIds: [result[5], result[1], result[9]],\r\n            vertexIndices: [result[6], result[2], result[10]],\r\n            uvIndices: [result[7], result[3], result[11]],\r\n            normalIndices: [result[8], result[4], result[12]]\r\n        });\r\n    }\r\n    else\r\n    {\r\n        throw new Error(`无法解析${line}`);\r\n    }\r\n}\r\n","import { GameObject } from '@feng3d/core';\r\nimport { FS, pathUtils } from '@feng3d/filesystem';\r\nimport { objConverter } from '../converters/OBJConverter';\r\nimport { objParser } from '../parsers/OBJParser';\r\nimport { mtlLoader } from './MTLLoader';\r\n\r\n/**\r\n * Obj模型加载类\r\n */\r\nexport class ObjLoader\r\n{\r\n    /**\r\n     * 加载资源\r\n     * @param url   路径\r\n     */\r\n    load(url: string, completed?: (gameObject: GameObject) => void)\r\n    {\r\n        const root = url.substring(0, url.lastIndexOf('/') + 1);\r\n\r\n        FS.fs.readString(url, (_err, content) =>\r\n        {\r\n            const objData = objParser.parser(content);\r\n            objData.name = pathUtils.getName(url);\r\n            const mtl = objData.mtl;\r\n            if (mtl)\r\n            {\r\n                mtlLoader.load(root + mtl, (_err, materials) =>\r\n                {\r\n                    objConverter.convert(objData, materials, completed);\r\n                });\r\n            }\r\n            else\r\n            {\r\n                objConverter.convert(objData, null, completed);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Obj模型加载类\r\n */\r\nexport const objLoader = new ObjLoader();\r\n","/**\r\n * The animation type.\r\n *\r\n * 动画类型。\r\n */\r\nexport enum ParticleSystemAnimationType\r\n{\r\n    /**\r\n     * Animate over the whole texture sheet from left to right, top to bottom.\r\n     *\r\n     * 从左到右，从上到下动画整个纹理表。\r\n     */\r\n    WholeSheet = 0,\r\n    /**\r\n     * Animate a single row in the sheet from left to right.\r\n     *\r\n     * 从左到右移动工作表中的一行。\r\n     */\r\n    SingleRow = 1,\r\n}\r\n","/**\r\n * How to apply emitter velocity to particles.\r\n *\r\n * 如何将发射体速度应用于粒子。\r\n */\r\nexport enum ParticleSystemInheritVelocityMode\r\n{\r\n    /**\r\n     * Each particle inherits the emitter's velocity on the frame when it was initially emitted.\r\n     *\r\n     * 每个粒子在最初发射时都继承了发射体在帧上的速度。\r\n     */\r\n    Initial = 0,\r\n\r\n    /**\r\n     * Each particle's velocity is set to the emitter's current velocity value, every frame.\r\n     *\r\n     * 每一帧，每个粒子的速度都设定为发射器的当前速度值。\r\n     */\r\n    Current = 1,\r\n}\r\n","/**\r\n * The mesh emission type.\r\n *\r\n * 网格发射类型。\r\n */\r\nexport enum ParticleSystemMeshShapeType\r\n{\r\n    /**\r\n     * Emit from the vertices of the mesh.\r\n     *\r\n     * 从网格的顶点发出。\r\n     */\r\n    Vertex,\r\n\r\n    /**\r\n     * Emit from the edges of the mesh.\r\n     *\r\n     * 从网格的边缘发出。\r\n     */\r\n    Edge,\r\n\r\n    /**\r\n     * Emit from the surface of the mesh.\r\n     *\r\n     * 从网格表面发出。\r\n     */\r\n    Triangle,\r\n}\r\n","/**\r\n * The quality of the generated noise.\r\n *\r\n * 产生的噪音的质量。\r\n */\r\nexport enum ParticleSystemNoiseQuality\r\n{\r\n    /**\r\n     * Low quality 1D noise.\r\n     *\r\n     * 低质量的一维噪声。\r\n     */\r\n    Low,\r\n\r\n    /**\r\n     * Medium quality 2D noise.\r\n     *\r\n     * 中等质量2D噪音。\r\n     */\r\n    Medium,\r\n\r\n    /**\r\n     * High quality 3D noise.\r\n     *\r\n     * 高品质3D噪音。\r\n     */\r\n    High,\r\n}\r\n","export enum ParticleSystemRenderMode\r\n{\r\n    /**\r\n     * Render particles as billboards facing the active camera. (Default)\r\n     */\r\n    Billboard = 0,\r\n\r\n    /**\r\n     * Stretch particles in the direction of motion.\r\n     */\r\n    Stretch = 1,\r\n\r\n    /**\r\n     * Render particles as billboards always facing up along the y-Axis.\r\n     */\r\n    HorizontalBillboard = 2,\r\n\r\n    /**\r\n     * Render particles as billboards always facing the player, but not pitching along the x-Axis.\r\n\r\n     */\r\n    VerticalBillboard = 3,\r\n\r\n    /**\r\n     * Render particles as meshes.\r\n     */\r\n    Mesh = 4,\r\n\r\n    /**\r\n     * Do not render particles.\r\n     */\r\n    None = 5,\r\n}\r\n","/**\r\n * How particles are aligned when rendered.\r\n */\r\nexport enum ParticleSystemRenderSpace\r\n{\r\n    /**\r\n     * Particles face the camera plane.\r\n     */\r\n    View,\r\n\r\n    /**\r\n     * Particles align with the world.\r\n     */\r\n    World,\r\n\r\n    /**\r\n     * Particles align with their local transform.\r\n     */\r\n    Local,\r\n\r\n    /**\r\n     * Particles face the eye position.\r\n     */\r\n    Facing,\r\n\r\n    /**\r\n     * Particles are aligned to their direction of travel.\r\n     */\r\n    Velocity,\r\n\r\n}\r\n","/**\r\n * Control how particle systems apply transform scale.\r\n *\r\n * 控制粒子系统如何应用变换尺度。\r\n */\r\nexport enum ParticleSystemScalingMode\r\n{\r\n    /**\r\n     * Scale the particle system using the entire transform hierarchy.\r\n     *\r\n     * 使用整个转换层次来缩放粒子系统。\r\n     */\r\n    Hierarchy,\r\n\r\n    /**\r\n     * Scale the particle system using only its own transform scale. (Ignores parent scale).\r\n     *\r\n     * 尺度粒子系统只使用自己的变换尺度。(忽略了父母规模)。\r\n     */\r\n    Local,\r\n\r\n    /**\r\n     * Only apply transform scale to the shape component, which controls where particles are spawned, but does not affect their size or movement.\r\n     *\r\n     * 只对形状组件应用变换比例，它控制生成粒子的位置，但不影响粒子的大小或移动。\r\n     */\r\n    Shape\r\n}\r\n","/**\r\n * 粒子系统圆锥体发射类型，用于定义基于圆锥体的发射类型。\r\n */\r\nexport enum ParticleSystemShapeConeEmitFrom\r\n{\r\n    /**\r\n     * 从圆锥体底面发射。\r\n     */\r\n    Base,\r\n    /**\r\n     * 从圆锥体底面边缘沿着曲面发射。\r\n     */\r\n    BaseShell,\r\n    /**\r\n     * 从圆锥体内部发射。\r\n     */\r\n    Volume,\r\n    /**\r\n     * 从圆锥体曲面沿着曲面发射。\r\n     */\r\n    VolumeShell,\r\n}\r\n","/**\r\n * The mode used to generate new points in a shape (Shuriken).\r\n *\r\n * 用于在形状中生成新点的模式\r\n */\r\nexport enum ParticleSystemShapeMultiModeValue\r\n{\r\n    /**\r\n     * Generate points randomly. (Default)\r\n     *\r\n     * 生成随机点。(默认)\r\n     */\r\n    Random = 0,\r\n    /**\r\n     * Animate the emission point around the shape.\r\n     *\r\n     * 使发射点围绕形状运动。\r\n     */\r\n    Loop = 1,\r\n    /**\r\n     * Animate the emission point around the shape, alternating between clockwise and counter-clockwise directions.\r\n     *\r\n     * 使发射点围绕形状运动，在顺时针和逆时针方向之间交替。\r\n     */\r\n    PingPong = 2,\r\n    /**\r\n     * Distribute new particles around the shape evenly.\r\n     *\r\n     * 在形状周围均匀分布新粒子。\r\n     *\r\n     * @todo\r\n     */\r\n    BurstSpread = 3,\r\n}\r\n","/**\r\n * 发射形状\r\n */\r\nexport enum ParticleSystemShapeType\r\n{\r\n    /**\r\n     * Emit from a sphere.\r\n     *\r\n     * 从球体的体积中发射。\r\n     */\r\n    Sphere = 0,\r\n\r\n    /**\r\n     * Emit from the surface of a sphere.\r\n     *\r\n     * 从球体表面发射。\r\n     */\r\n    SphereShell = 1,\r\n\r\n    /**\r\n     * Emit from a half-sphere.\r\n     *\r\n     * 从半球体的体积发射。\r\n     */\r\n    Hemisphere = 2,\r\n\r\n    /**\r\n     * Emit from the surface of a half-sphere.\r\n     *\r\n     * 从半球体的表面发射。\r\n     */\r\n    HemisphereShell = 3,\r\n\r\n    /**\r\n     * Emit from a cone.\r\n     *\r\n     * 从圆锥体发射。\r\n     */\r\n    Cone = 4,\r\n\r\n    /**\r\n     * Emit from the base surface of a cone.\r\n     *\r\n     * 从圆锥体的基面发射。\r\n     */\r\n    ConeShell = 7,\r\n\r\n    /**\r\n     * Emit from the volume of a cone.\r\n     *\r\n     * 从一个圆锥体的体积发出。\r\n     */\r\n    ConeVolume = 8,\r\n\r\n    /**\r\n     * Emit from the surface of a cone.\r\n     *\r\n     * 从一个圆锥体的表面发射。\r\n     */\r\n    ConeVolumeShell = 9,\r\n\r\n    /**\r\n     * Emit from the volume of a box.\r\n     *\r\n     * 从一个盒子的体积中发出。\r\n     */\r\n    Box = 5,\r\n\r\n    /**\r\n     * Emit from the surface of a box.\r\n     *\r\n     * 从盒子表面发射。\r\n     */\r\n    BoxShell = 15,\r\n\r\n    /**\r\n     * Emit from the edges of a box.\r\n     *\r\n     * 从盒子的边缘发出。\r\n     */\r\n    BoxEdge = 16,\r\n\r\n    /**\r\n     * Emit from a mesh.\r\n     *\r\n     * 从一个网格中发出。\r\n     *\r\n     * @todo\r\n     */\r\n    Mesh = 6,\r\n\r\n    /**\r\n     * Emit from a mesh renderer.\r\n     *\r\n     * 从一个网格渲染器发射。\r\n     *\r\n     * @todo\r\n     */\r\n    MeshRenderer = 13,\r\n\r\n    /**\r\n     * Emit from a skinned mesh renderer.\r\n     *\r\n     * 从蒙皮网格渲染器发出。\r\n     *\r\n     * @todo\r\n     */\r\n    SkinnedMeshRenderer = 14,\r\n\r\n    /**\r\n     * Emit from a circle.\r\n     *\r\n     * 从一个圆发出。\r\n     */\r\n    Circle = 10,\r\n\r\n    /**\r\n     * Emit from the edge of a circle.\r\n     *\r\n     * 从圆的边缘发出。\r\n     */\r\n    CircleEdge = 11,\r\n\r\n    /**\r\n     * Emit from an edge.\r\n     *\r\n     * 从边缘发出。\r\n     */\r\n    SingleSidedEdge = 12,\r\n}\r\n","/**\r\n * The emission shape (Shuriken).\r\n *\r\n * 发射的形状\r\n */\r\nexport enum ParticleSystemShapeType1\r\n{\r\n    /**\r\n     * Emit from a sphere.\r\n     *\r\n     * 从球体的体积中发射。\r\n     */\r\n    Sphere,\r\n\r\n    /**\r\n     * Emit from a half-sphere.\r\n     *\r\n     * 从半球体的体积发射。\r\n     */\r\n    Hemisphere,\r\n\r\n    /**\r\n     * Emit from a cone.\r\n     *\r\n     * 从圆锥体发射。\r\n     */\r\n    Cone,\r\n\r\n    /**\r\n     * Emit from the volume of a box.\r\n     *\r\n     * 从一个盒子的体积中发出。\r\n     */\r\n    Box,\r\n\r\n    /**\r\n     * Emit from a mesh.\r\n     *\r\n     * 从一个网格中发出。\r\n     *\r\n     * @todo\r\n     */\r\n    Mesh,\r\n\r\n    /**\r\n     * Emit from a mesh renderer.\r\n     *\r\n     * 从一个网格渲染器发射。\r\n     *\r\n     * @todo\r\n     */\r\n    MeshRenderer,\r\n\r\n    /**\r\n     * Emit from a skinned mesh renderer.\r\n     *\r\n     * 从蒙皮网格渲染器发出。\r\n     *\r\n     * @todo\r\n     */\r\n    SkinnedMeshRenderer,\r\n\r\n    /**\r\n     * Emit from a circle.\r\n     *\r\n     * 从一个圆发出。\r\n     */\r\n    Circle,\r\n\r\n    /**\r\n     * Emit from an edge.\r\n     *\r\n     * 从边缘发出。\r\n     */\r\n    Edge,\r\n}\r\n","/**\r\n * 粒子模拟空间\r\n */\r\nexport enum ParticleSystemSimulationSpace\r\n{\r\n    /**\r\n     * Simulate particles in local space.\r\n     *\r\n     * 模拟局部空间中的粒子。\r\n     */\r\n    Local = 0,\r\n\r\n    /**\r\n     * Simulate particles in world space.\r\n     *\r\n     * 模拟世界空间中的粒子。\r\n     */\r\n    World = 1,\r\n}\r\n","/**\r\n * The sorting mode for particle systems.\r\n */\r\nexport enum ParticleSystemSortMode\r\n{\r\n    /**\r\n     * No sorting.\r\n     */\r\n    None,\r\n\r\n    /**\r\n     * Sort based on distance.\r\n     */\r\n    Distance,\r\n\r\n    /**\r\n     * Sort the oldest particles to the front.\r\n     */\r\n    OldestInFront,\r\n\r\n    /**\r\n     * Sort the youngest particles to the front.\r\n     */\r\n    YoungestInFront,\r\n\r\n}\r\n","/**\r\n * The properties of sub-emitter particles.\r\n */\r\nexport enum ParticleSystemSubEmitterProperties\r\n{\r\n    /**\r\n     * When spawning new particles, do not inherit any properties from the parent particles.\r\n     */\r\n    InheritNothing,\r\n\r\n    /**\r\n     * When spawning new particles, inherit all available properties from the parent particles.\r\n     */\r\n    InheritEverything,\r\n\r\n    /**\r\n     * When spawning new particles, multiply the start color by the color of the parent particles.\r\n     */\r\n    InheritColor,\r\n\r\n    /**\r\n     * When spawning new particles, multiply the start size by the size of the parent particles.\r\n     */\r\n    InheritSize,\r\n\r\n    /**\r\n     * When spawning new particles, add the start rotation to the rotation of the parent particles.\r\n     */\r\n    InheritRotation,\r\n\r\n    /**\r\n     * New particles will have a shorter lifespan, the closer their parent particles are to death.\r\n     */\r\n    InheritLifetime,\r\n\r\n    /**\r\n     * When spawning new particles, use the duration and age properties from the parent system, when sampling MainModule curves in the Sub-Emitter.\r\n     */\r\n    InheritDuration,\r\n}\r\n","/**\r\n * The events that cause new particles to be spawned.\r\n *\r\n * 导致新粒子产生的事件。\r\n */\r\nexport enum ParticleSystemSubEmitterType\r\n{\r\n    /**\r\n     * Spawns new particles when particles from the parent system are born.\r\n     *\r\n     * 当来自父系统的粒子诞生时，产生新的粒子。\r\n     */\r\n    Birth,\r\n\r\n    /**\r\n     * Spawns new particles when particles from the parent system collide with something.\r\n     *\r\n     * 当来自父系统的粒子与某物碰撞时，产生新的粒子。\r\n     */\r\n    Collision,\r\n\r\n    /**\r\n     * Spawns new particles when particles from the parent system die.\r\n     *\r\n     * 当来自父系统的粒子死亡时，产生新的粒子。\r\n     */\r\n    Death,\r\n\r\n    /**\r\n     * Spawns new particles when particles from the parent system pass conditions in the Trigger Module.\r\n     *\r\n     * 当来自父系统的粒子通过触发器模块中的条件时，生成新的粒子。\r\n     */\r\n    Trigger,\r\n\r\n    /**\r\n     * Spawns new particles when triggered from script using ParticleSystem.TriggerSubEmitter.\r\n     *\r\n     * 当使用ParticleSystem.TriggerSubEmitter从脚本中触发时，生成新的粒子。\r\n     */\r\n    Manual,\r\n\r\n}\r\n","/**\r\n * This enum controls the mode under which the sprite will interact with the masking system.\r\n *\r\n * Sprites by default do not interact with masks SpriteMaskInteraction.None. A sprite can also be setup to be visible in presence of one or more masks SpriteMaskInteraction.VisibleInsideMask or to be visible on areas where no masks are present SpriteMaskInteraction.VisibleOutsideMask.\r\n */\r\nexport enum SpriteMaskInteraction\r\n{\r\n\r\n    /**\r\n     * The sprite will not interact with the masking system.\r\n     */\r\n    None,\r\n\r\n    /**\r\n     * The sprite will be visible only in areas where a mask is present.\r\n     */\r\n    VisibleInsideMask,\r\n\r\n    /**\r\n     * The sprite will be visible only in areas where no mask is present.\r\n     */\r\n    VisibleOutsideMask,\r\n\r\n}\r\n","/**\r\n * A flag representing each UV channel.\r\n * 一个代表每个紫外线频道的旗子。\r\n */\r\nexport enum UVChannelFlags\r\n{\r\n    /**\r\n     * 无通道。\r\n     */\r\n    Nothing = 0,\r\n    /**\r\n     * First UV channel.\r\n     * 第一UV通道。\r\n     */\r\n    UV0 = 1,\r\n    /**\r\n     * Second UV channel.\r\n     * 第二UV通道。\r\n     */\r\n    UV1 = 2,\r\n    /**\r\n     * Third UV channel.\r\n     * 第三UV通道。\r\n     */\r\n    UV2 = 4,\r\n    /**\r\n     * Fourth UV channel.\r\n     * 第四UV通道。\r\n     */\r\n    UV3 = 8,\r\n    /**\r\n     * All channel.\r\n     * 所有通道。\r\n     */\r\n    Everything = UV0 | UV1 | UV2 | UV3,\r\n}\r\n","import { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { EventEmitter } from '@feng3d/event';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystem } from '../ParticleSystem';\r\n\r\n/**\r\n * 粒子模块\r\n */\r\nexport class ParticleModule extends EventEmitter\r\n{\r\n    /**\r\n     * 是否开启\r\n     */\r\n    @oav({ tooltip: '是否开启' })\r\n    @serialize\r\n    enabled = false;\r\n\r\n    /**\r\n     * 粒子系统\r\n     */\r\n    particleSystem: ParticleSystem;\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param _particle 粒子\r\n     */\r\n    initParticleState(_particle: Particle)\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param _particle 粒子\r\n     */\r\n    updateParticleState(_particle: Particle)\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * 更新\r\n     *\r\n     * @param _interval\r\n     */\r\n    update(_interval: number)\r\n    {\r\n    }\r\n}\r\n","import { MinMaxGradient, Vector2 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * the Color By Speed module.\r\n *\r\n * 颜色随速度变化模块。\r\n */\r\nexport class ParticleColorBySpeedModule extends ParticleModule\r\n{\r\n    /**\r\n     * The gradient controlling the particle colors.\r\n     *\r\n     * 控制粒子颜色的梯度。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '控制粒子颜色的梯度。' })\r\n    color = new MinMaxGradient();\r\n\r\n    /**\r\n     * Apply the color gradient between these minimum and maximum speeds.\r\n     *\r\n     * 在这些最小和最大速度之间应用颜色渐变。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '在这些最小和最大速度之间应用颜色渐变。' })\r\n    range = new Vector2(0, 1);\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[ColorBySpeedRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n\r\n        const velocity = particle.velocity.length;\r\n        const rate = mathUtil.clamp((velocity - this.range.x) / (this.range.y - this.range.x), 0, 1);\r\n        const color = this.color.getValue(rate, particle[ColorBySpeedRate]);\r\n        particle.color.multiply(color);\r\n    }\r\n}\r\nconst ColorBySpeedRate = '_ColorBySpeed_rate';\r\n","import { MinMaxGradient } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 颜色随时间变化模块\r\n */\r\nexport class ParticleColorOverLifetimeModule extends ParticleModule\r\n{\r\n    /**\r\n     * The gradient controlling the particle colors.\r\n     * 控制粒子颜色的梯度。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The gradient controlling the particle colors.\" })\r\n    @oav({ tooltip: '控制粒子颜色的梯度。' })\r\n    color = new MinMaxGradient();\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[ColorOverLifetimeRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n\r\n        particle.color.multiply(this.color.getValue(particle.rateAtLifeTime, particle[ColorOverLifetimeRate]));\r\n    }\r\n}\r\n\r\nconst ColorOverLifetimeRate = '_ColorOverLifetime_rate';\r\n\r\n","import { MinMaxCurve } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\n\r\nexport class ParticleEmissionBurst\r\n{\r\n    __class__: 'feng3d.ParticleEmissionBurst';\r\n\r\n    /**\r\n     * The time that each burst occurs.\r\n     * 每次爆炸发生的时间。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The time that each burst occurs.\" })\r\n    @oav({ tooltip: '每次爆炸发生的时间。' })\r\n    time = 0;\r\n\r\n    /**\r\n     * 要发射的粒子数。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Number of particles to be emitted.\" })\r\n    @oav({ tooltip: '要发射的粒子数。' })\r\n    count = serialization.setValue(new MinMaxCurve(), { constant: 30, constantMin: 30, constantMax: 30 });\r\n\r\n    /**\r\n     * Minimum number of bursts to be emitted.\r\n     * 要发射的最小爆发数量。\r\n     */\r\n    get minCount()\r\n    {\r\n        return this.count.constantMin;\r\n    }\r\n\r\n    set minCount(v)\r\n    {\r\n        this.count.constantMin = v;\r\n    }\r\n\r\n    /**\r\n     * Maximum number of bursts to be emitted.\r\n     *\r\n     * 要发射的最大爆发数量。\r\n     */\r\n    get maxCount()\r\n    {\r\n        return this.count.constantMax;\r\n    }\r\n\r\n    set maxCount(v)\r\n    {\r\n        this.count.constantMax = v;\r\n    }\r\n\r\n    /**\r\n     * 喷发被触发的几率。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The chance that the burst will trigger.\" })\r\n    @oav({ tooltip: '喷发被触发的几率。取值在0与1之间，默认1。' })\r\n    probability = 1.0;\r\n\r\n    /**\r\n     * 是否喷发\r\n     */\r\n    get isProbability()\r\n    {\r\n        return this._isProbability;\r\n    }\r\n\r\n    private _isProbability = true;\r\n\r\n    /**\r\n     * 通过触发的几率计算是否喷发。\r\n     */\r\n    calculateProbability()\r\n    {\r\n        this._isProbability = this.probability >= Math.random();\r\n\r\nreturn this._isProbability;\r\n    }\r\n}\r\n","import { MinMaxCurve } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleEmissionBurst } from '../others/ParticleEmissionBurst';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统发射模块。\r\n */\r\nexport class ParticleEmissionModule extends ParticleModule\r\n{\r\n    __class__: 'feng3d.ParticleEmissionModule';\r\n\r\n    /**\r\n     * 随着时间的推移，新粒子产生的速度。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The rate at which new particles are spawned, over time.\" })\r\n    @oav({ tooltip: '随着时间的推移，新粒子产生的速度。' })\r\n    rateOverTime = serialization.setValue(new MinMaxCurve(), { between0And1: true, constant: 10, constantMin: 10, constantMax: 10, curveMultiplier: 10 });\r\n\r\n    /**\r\n     * Change the rate over time multiplier.\r\n     * This is more efficient than accessing the whole curve, if you only want to change the overall rate multiplier.\r\n     *\r\n     * 改变率随时间的乘数。\r\n     * 如果您只想更改整体的速率乘数，那么这比访问整个曲线更有效。\r\n     * 只在\r\n     */\r\n    get rateOverTimeMultiplier()\r\n    {\r\n        return this.rateOverTime.curveMultiplier;\r\n    }\r\n\r\n    set rateOverTimeMultiplier(v)\r\n    {\r\n        this.rateOverTime.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The rate at which new particles are spawned, over distance.\r\n     * New particles will only be emitted when the emitter moves.\r\n     *\r\n     * 产生新粒子的速度，通过距离。\r\n     * 新粒子只有世界空间模拟且发射器移动时才会被发射出来。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The rate at which new particles are spawned, over distance.\" })\r\n    @oav({ tooltip: '产生新粒子的速度，通过距离。新粒子只有世界空间模拟且发射器移动时才会被发射出来。' })\r\n    rateOverDistance = serialization.setValue(new MinMaxCurve(), { between0And1: true, constant: 0, constantMin: 0, constantMax: 1 });\r\n\r\n    /**\r\n     * Change the rate over distance multiplier.\r\n     * This is more efficient than accessing the whole curve, if you only want to change the overall rate multiplier.\r\n     *\r\n     * 改变速率随距离变化的乘数。\r\n     * 如果您只想更改整体的速率乘数，那么这比访问整个曲线更有效。\r\n     */\r\n    get rateOverDistanceMultiplier()\r\n    {\r\n        return this.rateOverDistance.curveMultiplier;\r\n    }\r\n\r\n    set rateOverDistanceMultiplier(v)\r\n    {\r\n        this.rateOverDistance.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 爆发数组\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVArray', tooltip: '在指定时间进行额外发射指定数量的粒子', componentParam: { defaultItem: () => new ParticleEmissionBurst() } })\r\n    bursts: ParticleEmissionBurst[] = [];\r\n\r\n    /**\r\n     * The current number of bursts.\r\n     *\r\n     * 当前的爆发次数。\r\n     */\r\n    get burstCount()\r\n    {\r\n        return this.bursts.length;\r\n    }\r\n\r\n    /**\r\n     * Get the burst array.\r\n     * 获取爆发数组。\r\n     *\r\n     * @param bursts Array of bursts to be filled in.要填充的爆发数组。\r\n     * @returns The number of bursts in the array.数组中的爆发次数。\r\n     */\r\n    getBursts(bursts: ParticleEmissionBurst[])\r\n    {\r\n        bursts.length = this.bursts.length;\r\n        for (let i = 0, n = bursts.length; i < n; i++)\r\n        {\r\n            bursts[i] = this.bursts[i];\r\n        }\r\n\r\n        return bursts.length;\r\n    }\r\n\r\n    /**\r\n     * Set the burst array.\r\n     * 设置爆发数组。\r\n     *\r\n     * @param bursts Array of bursts.爆发的数组。\r\n     * @param size Optional array size, if burst count is less than array size.可选的数组大小，如果爆发计数小于数组大小。\r\n     */\r\n    setBursts(bursts: ParticleEmissionBurst[], size: number = Number.MAX_SAFE_INTEGER)\r\n    {\r\n        size = Math.min(bursts.length, size);\r\n        for (let i = 0; i < size; i++)\r\n        {\r\n            this.bursts[i] = bursts[i];\r\n        }\r\n    }\r\n}\r\n","import { MinMaxCurveVector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 作用在粒子上的力随时间变化模块\r\n *\r\n * 控制每个粒子在其生命周期内的力。\r\n * Script interface for the Force Over Lifetime module.\r\n */\r\nexport class ParticleForceOverLifetimeModule extends ParticleModule\r\n{\r\n    /**\r\n     * 作用在粒子上的力\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '作用在粒子上的力' })\r\n    force = new MinMaxCurveVector3();\r\n\r\n    /**\r\n     * Are the forces being applied in local or world space?\r\n     *\r\n     * 这些力是作用于局部空间还是世界空间\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Are the forces being applied in local or world space?\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    @oav({ tooltip: '这些力是作用于局部空间还是世界空间?', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    space = ParticleSystemSimulationSpace.Local;\r\n\r\n    /**\r\n     * When randomly selecting values between two curves or constants, this flag will cause a new random force to be chosen on each frame.\r\n     *\r\n     * 当在两条曲线或常数之间随机选择值时，此标志将导致在每一帧上选择一个新的随机力。\r\n     *\r\n     * @todo\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"When randomly selecting values between two curves or constants, this flag will cause a new random force to be chosen on each frame.\" })\r\n    @oav({ tooltip: '当在两条曲线或常数之间随机选择值时，此标志将导致在每一帧上选择一个新的随机力。' })\r\n    randomized = false;\r\n\r\n    /**\r\n     * The curve defining particle forces in the X axis.\r\n     *\r\n     * 在X轴上定义粒子力的曲线。\r\n     */\r\n    get x()\r\n    {\r\n        return this.force.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.force.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the X axis mulutiplier.\r\n     *\r\n     * 改变X轴的乘数。\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The curve defining particle forces in the Y axis.\r\n     *\r\n     * 在Y轴上定义粒子力的曲线。\r\n     */\r\n    get y()\r\n    {\r\n        return this.force.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.force.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the Y axis mulutiplier.\r\n     *\r\n     * 改变Y轴的乘数。\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The curve defining particle forces in the Z axis.\r\n     *\r\n     * 在Z轴上定义粒子力的曲线。\r\n     */\r\n    get z()\r\n    {\r\n        return this.force.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.force.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the Z axis mulutiplier.\r\n     *\r\n     * 改变Z轴的乘数。\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[ForceOverLifetimeRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        this.particleSystem.removeParticleAcceleration(particle, ForceOverLifetimePreForce);\r\n        if (!this.enabled) return;\r\n\r\n        const force = this.force.getValue(particle.rateAtLifeTime, particle[ForceOverLifetimeRate]);\r\n        this.particleSystem.addParticleAcceleration(particle, force, this.space, ForceOverLifetimePreForce);\r\n    }\r\n}\r\nconst ForceOverLifetimeRate = '_ForceOverLifetime_rate';\r\nconst ForceOverLifetimePreForce = '_ForceOverLifetime_preForce';\r\n","import { MinMaxCurve } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemInheritVelocityMode } from '../enums/ParticleSystemInheritVelocityMode';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * The Inherit Velocity Module controls how the velocity of the emitter is transferred to the particles as they are emitted.\r\n *\r\n * 遗传速度模块控制发射体的速度在粒子发射时如何传递到粒子上。（只有粒子系统在世界空间中模拟时生效）\r\n */\r\nexport class ParticleInheritVelocityModule extends ParticleModule\r\n{\r\n    '__class__': 'feng3d.ParticleInheritVelocityModule' = 'feng3d.ParticleInheritVelocityModule';\r\n\r\n    /**\r\n     * How to apply emitter velocity to particles.\r\n     *\r\n     * 如何将发射体速度应用于粒子。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '如何将发射体速度应用于粒子。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemInheritVelocityMode } })\r\n    mode = ParticleSystemInheritVelocityMode.Initial;\r\n\r\n    /**\r\n     * Curve to define how much emitter velocity is applied during the lifetime of a particle.\r\n     *\r\n     * 曲线，用来定义在粒子的生命周期内应用了多少发射速度。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '曲线，用来定义在粒子的生命周期内应用了多少发射速度。' })\r\n    multiplier = serialization.setValue(new MinMaxCurve(), { constant: 1, constantMin: 1, constantMax: 1 });\r\n\r\n    /**\r\n     * Curve to define how much emitter velocity is applied during the lifetime of a particle.\r\n     *\r\n     * 曲线，用来定义在粒子的生命周期内应用了多少发射速度。\r\n     */\r\n    get curve()\r\n    {\r\n        return this.multiplier;\r\n    }\r\n\r\n    set curve(v)\r\n    {\r\n        this.multiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Change the curve multiplier.\r\n     *\r\n     * 改变曲线的乘数。\r\n     */\r\n    get curveMultiplier()\r\n    {\r\n        return this.multiplier.curveMultiplier;\r\n    }\r\n\r\n    set curveMultiplier(v)\r\n    {\r\n        this.multiplier.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[InheritVelocityRate] = Math.random();\r\n\r\n        if (!this.enabled) return;\r\n        if (this.particleSystem.main.simulationSpace === ParticleSystemSimulationSpace.Local) return;\r\n        if (this.mode !== ParticleSystemInheritVelocityMode.Initial) return;\r\n\r\n        const multiplier = this.multiplier.getValue(particle.rateAtLifeTime, particle[InheritVelocityRate]);\r\n        particle.velocity.addScaledVector(multiplier, this.particleSystem._emitInfo.speed);\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n        if (this.particleSystem.main.simulationSpace === ParticleSystemSimulationSpace.Local) return;\r\n        if (this.mode !== ParticleSystemInheritVelocityMode.Current) return;\r\n\r\n        const multiplier = this.multiplier.getValue(particle.rateAtLifeTime, particle[InheritVelocityRate]);\r\n        particle.position.addScaledVector(multiplier, this.particleSystem._emitInfo.moveVec);\r\n    }\r\n}\r\nconst InheritVelocityRate = '_InheritVelocity_rate';\r\n","import { Matrix4x4, MinMaxCurve, MinMaxCurveVector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Limit Velocity Over Lifetime module.\r\n *\r\n * 基于时间轴限制速度模块。\r\n */\r\nexport class ParticleLimitVelocityOverLifetimeModule extends ParticleModule\r\n{\r\n    __class__: 'feng3d.ParticleLimitVelocityOverLifetimeModule';\r\n\r\n    /**\r\n     * Set the size over lifetime on each axis separately.\r\n     *\r\n     * 在每个轴上分别设置生命周期内的大小。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Set the size over lifetime on each axis separately.\" })\r\n    @oav({ tooltip: '在每个轴上分别设置生命周期内的大小。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * Maximum velocity curve, when not using one curve per axis.\r\n     *\r\n     * 最大速度曲线，当不使用每轴一个曲线时。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Maximum velocity curve, when not using one curve per axis.\" })\r\n    @oav({ tooltip: '最大速度曲线，当不使用每轴一个曲线时。' })\r\n    limit = serialization.setValue(new MinMaxCurve(), { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 });\r\n\r\n    /**\r\n     * Maximum velocity.\r\n     *\r\n     * 最高速度。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Maximum velocity.\" })\r\n    @oav({ tooltip: '最高速度。' })\r\n    limit3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 }, yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 }, zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 } });\r\n\r\n    /**\r\n     * Specifies if the velocities are in local space (rotated with the transform) or world space.\r\n     *\r\n     * 指定速度是在局部空间(与变换一起旋转)还是在世界空间。\r\n     */\r\n    // @oav({ tooltip: \"Specifies if the velocities are in local space (rotated with the transform) or world space.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    @serialize\r\n    @oav({ tooltip: '指定速度是在局部空间(与变换一起旋转)还是在世界空间。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    space = ParticleSystemSimulationSpace.Local;\r\n\r\n    /**\r\n     * Controls how much the velocity that exceeds the velocity limit should be dampened.\r\n     *\r\n     * 控制多少速度，超过速度限制应该被抑制。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Controls how much the velocity that exceeds the velocity limit should be dampened.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    @oav({ tooltip: '控制多少速度，超过速度限制应该被抑制。' })\r\n    dampen = 1;\r\n\r\n    /**\r\n     * Change the limit multiplier.\r\n     *\r\n     * 改变限制乘法因子。\r\n     */\r\n    get limitMultiplier()\r\n    {\r\n        return this.limit.curveMultiplier;\r\n    }\r\n\r\n    set limitMultiplier(v)\r\n    {\r\n        this.limit.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Maximum velocity curve for the X axis.\r\n     *\r\n     * X轴的最大速度曲线。\r\n     */\r\n    get limitX()\r\n    {\r\n        return this.limit3D.xCurve;\r\n    }\r\n\r\n    set limitX(v)\r\n    {\r\n        this.limit3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the limit multiplier on the X axis.\r\n     *\r\n     * 改变X轴上的极限乘法器。\r\n     */\r\n    get limitXMultiplier()\r\n    {\r\n        return this.limit3D.xCurve.curveMultiplier;\r\n    }\r\n\r\n    set limitXMultiplier(v)\r\n    {\r\n        this.limit3D.xCurve.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Maximum velocity curve for the Y axis.\r\n     *\r\n     * Y轴的最大速度曲线。\r\n     */\r\n    get limitY()\r\n    {\r\n        return this.limit3D.yCurve;\r\n    }\r\n\r\n    set limitY(v)\r\n    {\r\n        this.limit3D.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the limit multiplier on the Y axis.\r\n     *\r\n     * 改变Y轴上的极限乘法器。\r\n     */\r\n    get limitYMultiplier()\r\n    {\r\n        return this.limit3D.yCurve.curveMultiplier;\r\n    }\r\n\r\n    set limitYMultiplier(v)\r\n    {\r\n        this.limit3D.yCurve.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Maximum velocity curve for the Z axis.\r\n     *\r\n     * Z轴的最大速度曲线。\r\n     */\r\n    get limitZ()\r\n    {\r\n        return this.limit3D.zCurve;\r\n    }\r\n\r\n    set limitZ(v)\r\n    {\r\n        this.limit3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Change the limit multiplier on the Z axis.\r\n     *\r\n     * 更改Z轴上的极限乘法器。\r\n     */\r\n    get limitZMultiplier()\r\n    {\r\n        return this.limit3D.zCurve.curveMultiplier;\r\n    }\r\n\r\n    set limitZMultiplier(v)\r\n    {\r\n        this.limit3D.zCurve.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     *\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[LimitVelocityOverLifetimeRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     *\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n\r\n        const limit3D = this.limit3D.getValue(particle.rateAtLifeTime, particle[LimitVelocityOverLifetimeRate]);\r\n        const limit = this.limit.getValue(particle.rateAtLifeTime, particle[LimitVelocityOverLifetimeRate]);\r\n        const pVelocity = particle.velocity.clone();\r\n\r\n        // 计算变换矩阵\r\n        const mat = new Matrix4x4();\r\n        //\r\n        if (this.space !== this.particleSystem.main.simulationSpace)\r\n        {\r\n            if (this.space === ParticleSystemSimulationSpace.World)\r\n            {\r\n                mat.copy(this.particleSystem.transform.localToWorldMatrix);\r\n            }\r\n            else\r\n            {\r\n                mat.copy(this.particleSystem.transform.worldToLocalMatrix);\r\n            }\r\n        }\r\n        // 变换到现在空间进行限速\r\n        mat.transformVector3(pVelocity, pVelocity);\r\n        if (this.separateAxes)\r\n        {\r\n            pVelocity.clamp(limit3D.negateTo(), limit3D);\r\n        }\r\n        else\r\n            if (pVelocity.lengthSquared > limit * limit)\r\n            { pVelocity.normalize(limit); }\r\n        mat.invert();\r\n        // 还原到原空间\r\n        mat.transformVector3(pVelocity, pVelocity);\r\n        //\r\n        particle.velocity.lerpNumber(pVelocity, this.dampen);\r\n    }\r\n}\r\n\r\nconst LimitVelocityOverLifetimeRate = '_LimitVelocityOverLifetime_rate';\r\n","import { MinMaxCurve, MinMaxCurveVector3, MinMaxGradient, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemScalingMode } from '../enums/ParticleSystemScalingMode';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子主模块\r\n */\r\nexport class ParticleMainModule extends ParticleModule\r\n{\r\n    __class__: 'feng3d.ParticleMainModule';\r\n\r\n    @oav({ exclude: true })\r\n    enabled = true;\r\n\r\n    /**\r\n     * 粒子系统的持续时间(秒)。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The duration of the particle system in seconds.\" })\r\n    @oav({ tooltip: '粒子系统的持续时间(秒)。' })\r\n    duration = 5;\r\n\r\n    /**\r\n     * 粒子系统在循环吗?\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Is the particle system looping?\" })\r\n    @oav({ tooltip: '粒子系统在循环吗?' })\r\n    loop = true;\r\n\r\n    /**\r\n     * When looping is enabled, this controls whether this particle system will look like it has already simulated for one loop when first becoming visible.\r\n     *\r\n     * 当循环被激活时，它控制这个粒子系统在第一次出现时是否看起来像已经模拟了一个循环。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"When looping is enabled, this controls whether this particle system will look like it has already simulated for one loop when first becoming visible.\" })\r\n    @oav({ tooltip: '当循环被激活时，它控制这个粒子系统在第一次出现时是否看起来像已经模拟了一个循环。' })\r\n    prewarm = false;\r\n\r\n    /**\r\n     * Start delay in seconds.\r\n     *\r\n     * 启动延迟(以秒为单位)。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Start delay in seconds.\" })\r\n    @oav({ tooltip: '启动延迟(以秒为单位)。' })\r\n    startDelay = new MinMaxCurve();\r\n\r\n    /**\r\n     * Start delay multiplier in seconds.\r\n     *\r\n     * 启动延迟乘数(以秒为单位)。\r\n     */\r\n    get startDelayMultiplier()\r\n    {\r\n        return this.startDelay.curveMultiplier;\r\n    }\r\n\r\n    /**\r\n     * The total lifetime in seconds that each new particle will have.\r\n     *\r\n     * 每个新粒子的总寿命(以秒计)。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The total lifetime in seconds that each new particle will have.\" })\r\n    @oav({ tooltip: '每个新粒子的总寿命(以秒计)。' })\r\n    startLifetime = serialization.setValue(new MinMaxCurve(), { between0And1: true, constant: 5, constantMin: 5, constantMax: 5 });\r\n\r\n    /**\r\n     * Start lifetime multiplier.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall lifetime multiplier.\r\n     *\r\n     * 起始寿命乘数。\r\n     * 如果您只想更改总体寿命乘数，则此方法比访问整个曲线更有效。\r\n     */\r\n    get startLifetimeMultiplier()\r\n    {\r\n        return this.startLifetime.curveMultiplier;\r\n    }\r\n\r\n    set startLifetimeMultiplier(v)\r\n    {\r\n        this.startLifetime.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial speed of particles when emitted.\r\n     *\r\n     * 粒子发射时的初始速度。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The initial speed of particles when emitted.\" })\r\n    @oav({ tooltip: '粒子发射时的初始速度。' })\r\n    startSpeed = serialization.setValue(new MinMaxCurve(), { constant: 5, constantMin: 5, constantMax: 5 });\r\n\r\n    /**\r\n     * A multiplier of the initial speed of particles when emitted.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall speed multiplier.\r\n     *\r\n     * 粒子发射时的初始速度的乘子。\r\n     * 这种方法比访问整个曲线更有效，如果你只想改变整体速度乘数。\r\n     */\r\n    get startSpeedMultiplier()\r\n    {\r\n        return this.startSpeed.curveMultiplier;\r\n    }\r\n\r\n    set startSpeedMultiplier(v)\r\n    {\r\n        this.startSpeed.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * A flag to enable specifying particle size individually for each axis.\r\n     *\r\n     * 允许为每个轴分别指定粒度大小的标志。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"A flag to enable specifying particle size individually for each axis.\" })\r\n    @oav({ tooltip: '允许为每个轴分别指定粒度大小的标志。' })\r\n    useStartSize3D = false;\r\n\r\n    /**\r\n     * The initial size of particles when emitted.\r\n     *\r\n     * 粒子发射时的初始大小。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The initial size of particles when emitted.\" })\r\n    @oav({ tooltip: '粒子发射时的初始大小。' })\r\n    get startSize()\r\n    {\r\n        return this.startSize3D.xCurve;\r\n    }\r\n\r\n    set startSize(v)\r\n    {\r\n        this.startSize3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start size multiplier.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall size multiplier.\r\n     *\r\n     * 开始尺寸乘数。\r\n     * 如果您只想更改整体尺寸倍增器，则此方法比访问整个曲线更有效。\r\n     */\r\n    get startSizeMultiplier()\r\n    {\r\n        return this.startSize.curveMultiplier;\r\n    }\r\n\r\n    set startSizeMultiplier(v)\r\n    {\r\n        this.startSize.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial size of particles when emitted.\r\n     *\r\n     * 发射时粒子的初始大小。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The initial size of particles when emitted.\" })\r\n    @oav({ tooltip: '发射时粒子的初始大小。' })\r\n    startSize3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 }, yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 }, zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1 } });\r\n\r\n    /**\r\n     * The initial size of particles along the X axis when emitted.\r\n     *\r\n     * 发射时沿X轴的粒子的初始大小。\r\n     */\r\n    get startSizeX()\r\n    {\r\n        return this.startSize3D.xCurve;\r\n    }\r\n\r\n    set startSizeX(v)\r\n    {\r\n        this.startSize3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier along the X axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall size multiplier.\r\n     *\r\n     * 启动旋转乘法器沿X轴。\r\n     * 如果您只想更改整体大小倍增器，则此方法比访问整个曲线更有效。\r\n     */\r\n    get startSizeXMultiplier()\r\n    {\r\n        return this.startSizeX.curveMultiplier;\r\n    }\r\n\r\n    set startSizeXMultiplier(v)\r\n    {\r\n        this.startSizeX.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial size of particles along the Y axis when emitted.\r\n     *\r\n     * 发射时沿Y轴的粒子的初始大小。\r\n     */\r\n    get startSizeY()\r\n    {\r\n        return this.startSize3D.yCurve;\r\n    }\r\n\r\n    set startSizeY(v)\r\n    {\r\n        this.startSize3D.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier along the Y axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall size multiplier.\r\n     *\r\n     * 启动旋转乘法器沿Y轴。\r\n     * 如果您只想更改整体大小倍增器，则此方法比访问整个曲线更有效。\r\n     */\r\n    get startSizeYMultiplier()\r\n    {\r\n        return this.startSizeY.curveMultiplier;\r\n    }\r\n\r\n    set startSizeYMultiplier(v)\r\n    {\r\n        this.startSizeY.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial size of particles along the Z axis when emitted.\r\n     *\r\n     * 发射时沿Z轴的粒子的初始大小。\r\n     */\r\n    get startSizeZ()\r\n    {\r\n        return this.startSize3D.zCurve;\r\n    }\r\n\r\n    set startSizeZ(v)\r\n    {\r\n        this.startSize3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier along the Z axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall size multiplier.\r\n     *\r\n     * 启动旋转乘法器沿Z轴。\r\n     * 如果您只想更改整体大小倍增器，则此方法比访问整个曲线更有效。\r\n     */\r\n    get startSizeZMultiplier()\r\n    {\r\n        return this.startSizeZ.curveMultiplier;\r\n    }\r\n\r\n    set startSizeZMultiplier(v)\r\n    {\r\n        this.startSizeZ.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * A flag to enable 3D particle rotation.\r\n     * 一个启用粒子3D旋转的标记。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"A flag to enable 3D particle rotation.\" })\r\n    @oav({ tooltip: '一个启用粒子3D旋转的标记。' })\r\n    useStartRotation3D = false;\r\n\r\n    /**\r\n     * The initial rotation of particles when emitted.\r\n     * 粒子发射时的初始旋转。\r\n     */\r\n    // @oav({ tooltip: \"The initial rotation of particles when emitted.\" })\r\n    @oav({ tooltip: '粒子发射时的初始旋转。' })\r\n    get startRotation()\r\n    {\r\n        return this.startRotation3D.zCurve;\r\n    }\r\n\r\n    set startRotation(v)\r\n    {\r\n        this.startRotation3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall rotation multiplier.\r\n     *\r\n     * 开始旋转乘数。\r\n     * 这种方法比访问整个曲线更有效，如果你只想改变整体旋转乘数。\r\n     */\r\n    get startRotationMultiplier()\r\n    {\r\n        return this.startRotation.curveMultiplier;\r\n    }\r\n\r\n    set startRotationMultiplier(v)\r\n    {\r\n        this.startRotation.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial rotation of particles when emitted.\r\n     *\r\n     * 粒子发射时的初始旋转。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The initial rotation of particles when emitted.\" })\r\n    @oav({ tooltip: '粒子发射时的初始旋转。' })\r\n    startRotation3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { curveMultiplier: 180 }, yCurve: { curveMultiplier: 180 }, zCurve: { curveMultiplier: 180 } });\r\n\r\n    /**\r\n     * The initial rotation of particles around the X axis when emitted.\r\n     *\r\n     * 发射时粒子围绕X轴的初始旋转。\r\n     */\r\n    get startRotationX()\r\n    {\r\n        return this.startRotation3D.xCurve;\r\n    }\r\n\r\n    set startRotationX(v)\r\n    {\r\n        this.startRotation3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier around the X axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall rotation multiplier.\r\n     *\r\n     * 开始绕X轴旋转乘法器。\r\n     * 这种方法比访问整个曲线更有效，如果你只想改变整体旋转乘数。\r\n     */\r\n    get startRotationXMultiplier()\r\n    {\r\n        return this.startRotationX.curveMultiplier;\r\n    }\r\n\r\n    set startRotationXMultiplier(v)\r\n    {\r\n        this.startRotationX.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial rotation of particles around the Y axis when emitted.\r\n     *\r\n     * 发射时粒子围绕Y轴的初始旋转。\r\n     */\r\n    get startRotationY()\r\n    {\r\n        return this.startRotation3D.yCurve;\r\n    }\r\n\r\n    set startRotationY(v)\r\n    {\r\n        this.startRotation3D.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier around the Y axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall rotation multiplier.\r\n     *\r\n     * 开始绕Y轴旋转乘法器。\r\n     * 这种方法比访问整个曲线更有效，如果你只想改变整体旋转乘数。\r\n     */\r\n    get startRotationYMultiplier()\r\n    {\r\n        return this.startRotationY.curveMultiplier;\r\n    }\r\n\r\n    set startRotationYMultiplier(v)\r\n    {\r\n        this.startRotationY.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * The initial rotation of particles around the Z axis when emitted.\r\n     *\r\n     * 发射时粒子围绕Z轴的初始旋转。\r\n     */\r\n    get startRotationZ()\r\n    {\r\n        return this.startRotation3D.zCurve;\r\n    }\r\n\r\n    set startRotationZ(v)\r\n    {\r\n        this.startRotation3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Start rotation multiplier around the Z axis.\r\n     * This method is more efficient than accessing the whole curve, if you only want to change the overall rotation multiplier.\r\n     *\r\n     * 开始绕Z轴旋转乘法器。\r\n     * 这种方法比访问整个曲线更有效，如果你只想改变整体旋转乘数。\r\n     */\r\n    get startRotationZMultiplier()\r\n    {\r\n        return this.startRotationZ.curveMultiplier;\r\n    }\r\n\r\n    set startRotationZMultiplier(v)\r\n    {\r\n        this.startRotationZ.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Cause some particles to spin in the opposite direction. Set between 0 and 1, where higher values will cause a higher proportion of particles to spin in the opposite direction.\r\n     *\r\n     * 导致一些粒子向相反的方向旋转。设置在0和1之间，数值越大，粒子朝相反方向旋转的比例越大。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Cause some particles to spin in the opposite direction. Set between 0 and 1, where higher values will cause a higher proportion of particles to spin in the opposite direction.\" })\r\n    @oav({ tooltip: '导致一些粒子向相反的方向旋转。设置在0和1之间，数值越大，粒子朝相反方向旋转的比例越大。' })\r\n    randomizeRotationDirection = 0;\r\n\r\n    /**\r\n     * The initial color of particles when emitted.\r\n     *\r\n     * 粒子发射时的初始颜色。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The initial color of particles when emitted.\" })\r\n    @oav({ tooltip: '粒子发射时的初始颜色。' })\r\n    startColor = new MinMaxGradient();\r\n\r\n    /**\r\n     * Scale applied to the gravity.\r\n     *\r\n     * 应用于重力加速度的缩放。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Scale applied to the gravity.\" })\r\n    @oav({ tooltip: '应用于重力加速度的缩放。' })\r\n    gravityModifier = new MinMaxCurve();\r\n\r\n    /**\r\n     * This selects the space in which to simulate particles. It can be either world or local space.\r\n     *\r\n     * 模拟空间，使粒子位置模拟在世界，本地或自定义空间。在本地空间中，它们相对于自己的转换而存在，在自定义空间中，它们相对于自定义转换。\r\n     *\r\n     * @todo\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"This selects the space in which to simulate particles. It can be either world or local space.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    @oav({ tooltip: '模拟空间，使粒子位置模拟在世界，本地或自定义空间。在本地空间中，它们相对于自己的转换而存在，在自定义空间中，它们相对于自定义转换。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    simulationSpace = ParticleSystemSimulationSpace.Local;\r\n\r\n    /**\r\n     * Override the default playback speed of the Particle System.\r\n     *\r\n     * 重写粒子系统的默认播放速度。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Override the default playback speed of the Particle System.\" })\r\n    @oav({ tooltip: '重写粒子系统的默认播放速度。' })\r\n    simulationSpeed = 1;\r\n\r\n    /**\r\n     * Control how the particle system's Transform Component is applied to the particle system.\r\n     *\r\n     * 控制粒子系统的变换组件如何应用于粒子系统。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Control how the particle system's Transform Component is applied to the particle system.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemScalingMode } })\r\n    @oav({ tooltip: '控制粒子系统的变换组件如何应用于粒子系统。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemScalingMode } })\r\n    scalingMode = ParticleSystemScalingMode.Local;\r\n\r\n    /**\r\n     * If set to true, the particle system will automatically start playing on startup.\r\n     *\r\n     * 如果设置为真，粒子系统将自动开始播放启动。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"If set to true, the particle system will automatically start playing on startup.\" })\r\n    @oav({ tooltip: '如果设置为真，粒子系统将自动开始播放启动。' })\r\n    playOnAwake = true;\r\n\r\n    /**\r\n     * The maximum number of particles to emit.\r\n     *\r\n     * 发射粒子的最大数量。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"The maximum number of particles to emit.\" })\r\n    @oav({ tooltip: '发射粒子的最大数量。' })\r\n    maxParticles = 1000;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        //\r\n        const birthRateAtDuration = particle.birthRateAtDuration;\r\n\r\n        particle.velocity.set(0, 0, 0);\r\n        particle.acceleration.set(0, 0, 0);\r\n        if (this.useStartSize3D)\r\n        {\r\n            particle.startSize.copy(this.startSize3D.getValue(birthRateAtDuration));\r\n        }\r\n        else\r\n        {\r\n            const startSize = this.startSize.getValue(birthRateAtDuration);\r\n            particle.startSize.set(startSize, startSize, startSize);\r\n        }\r\n\r\n        //\r\n        if (this.useStartRotation3D)\r\n        {\r\n            particle.rotation.copy(this.startRotation3D.getValue(birthRateAtDuration));\r\n        }\r\n        else\r\n        {\r\n            const startRotation = this.startRotation.getValue(birthRateAtDuration);\r\n            particle.rotation.set(0, 0, startRotation);\r\n        }\r\n        particle.angularVelocity.set(0, 0, 0);\r\n        //\r\n        particle.startColor.copy(this.startColor.getValue(birthRateAtDuration));\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        // 加速度\r\n        const gravity = worldGravity.scaleNumberTo(this.gravityModifier.getValue(this.particleSystem._emitInfo.rateAtDuration));\r\n        this.particleSystem.addParticleAcceleration(particle, gravity, ParticleSystemSimulationSpace.World, MainPreGravity);\r\n\r\n        //\r\n        particle.size.copy(particle.startSize);\r\n        particle.color.copy(particle.startColor);\r\n    }\r\n}\r\n\r\nconst worldGravity = new Vector3(0, -9.8, 0);\r\nconst MainPreGravity = '_Main_preGravity';\r\n","import { MinMaxCurve, MinMaxCurveMode, MinMaxCurveVector3, noise, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemNoiseQuality } from '../enums/ParticleSystemNoiseQuality';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Script interface for the Noise Module.\r\n *\r\n * The Noise Module allows you to apply turbulence to the movement of your particles. Use the low quality settings to create computationally efficient Noise, or simulate smoother, richer Noise with the higher quality settings. You can also choose to define the behavior of the Noise individually for each axis.\r\n *\r\n * 噪声模块\r\n *\r\n * 噪声模块允许你将湍流应用到粒子的运动中。使用低质量设置来创建计算效率高的噪声，或者使用高质量设置来模拟更平滑、更丰富的噪声。您还可以选择为每个轴分别定义噪声的行为。\r\n */\r\nexport class ParticleNoiseModule extends ParticleModule\r\n{\r\n    /**\r\n     * Control the noise separately for each axis.\r\n     *\r\n     * 分别控制每个轴的噪声。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '分别控制每个轴的噪声。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * How strong the overall noise effect is.\r\n     *\r\n     * 整体噪音效应有多强。\r\n     */\r\n    @oav({ tooltip: '整体噪音效应有多强。' })\r\n    get strength()\r\n    {\r\n        return this.strength3D.xCurve;\r\n    }\r\n\r\n    set strength(v)\r\n    {\r\n        this.strength3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * How strong the overall noise effect is.\r\n     *\r\n     * 整体噪音效应有多强。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '整体噪音效应有多强。' })\r\n    strength3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 } });\r\n\r\n    /**\r\n     * Define the strength of the effect on the X axis, when using separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，在X轴上定义效果的强度。\r\n     */\r\n    get strengthX()\r\n    {\r\n        return this.strength3D.xCurve;\r\n    }\r\n\r\n    set strengthX(v)\r\n    {\r\n        this.strength3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Define the strength of the effect on the Y axis, when using separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，在Y轴上定义效果的强度。\r\n     */\r\n    get strengthY()\r\n    {\r\n        return this.strength3D.yCurve;\r\n    }\r\n\r\n    set strengthY(v)\r\n    {\r\n        this.strength3D.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Define the strength of the effect on the Z axis, when using separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，在Z轴上定义效果的强度。\r\n     */\r\n    get strengthZ()\r\n    {\r\n        return this.strength3D.zCurve;\r\n    }\r\n\r\n    set strengthZ(v)\r\n    {\r\n        this.strength3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Low values create soft, smooth noise, and high values create rapidly changing noise.\r\n     *\r\n     * 低值产生柔和、平滑的噪声，高值产生快速变化的噪声。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '低值产生柔和、平滑的噪声，高值产生快速变化的噪声。' })\r\n    frequency = 0.5;\r\n\r\n    /**\r\n     * Scroll the noise map over the particle system.\r\n     *\r\n     * 在粒子系统上滚动噪声图。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '在粒子系统上滚动噪声图。' })\r\n    scrollSpeed = new MinMaxCurve();\r\n\r\n    /**\r\n     * Higher frequency noise will reduce the strength by a proportional amount, if enabled.\r\n     *\r\n     * 如果启用高频率噪音，将按比例减少强度。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '如果启用高频率噪音，将按比例减少强度。' })\r\n    damping = true;\r\n\r\n    /**\r\n     * Layers of noise that combine to produce final noise.\r\n     *\r\n     * 一层一层的噪声组合在一起产生最终的噪声。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '一层一层的噪声组合在一起产生最终的噪声。' })\r\n    octaveCount = 1;\r\n\r\n    /**\r\n     * When combining each octave, scale the intensity by this amount.\r\n     *\r\n     * 当组合每个八度时，按这个比例调整强度。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '当组合每个八度时，按这个比例调整强度。' })\r\n    octaveMultiplier = 0.5;\r\n\r\n    /**\r\n     * When combining each octave, zoom in by this amount.\r\n     *\r\n     * 当组合每个八度时，放大这个数字。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '当组合每个八度时，放大这个数字。' })\r\n    octaveScale = 2;\r\n\r\n    /**\r\n     * Generate 1D, 2D or 3D noise.\r\n     *\r\n     * 生成一维、二维或三维噪声。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '生成一维、二维或三维噪声。', componentParam: { enumClass: ParticleSystemNoiseQuality } })\r\n    quality = ParticleSystemNoiseQuality.High;\r\n\r\n    /**\r\n     * Enable remapping of the final noise values, allowing for noise values to be translated into different values.\r\n     *\r\n     * 允许重新映射最终的噪声值，允许将噪声值转换为不同的值。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '允许重新映射最终的噪声值，允许将噪声值转换为不同的值。' })\r\n    remapEnabled = false;\r\n\r\n    /**\r\n     * Define how the noise values are remapped.\r\n     *\r\n     * 定义如何重新映射噪声值。\r\n     */\r\n    @oav({ tooltip: '生成一维、二维或三维噪声。' })\r\n    get remap()\r\n    {\r\n        return this.remap3D.xCurve;\r\n    }\r\n\r\n    set remap(v)\r\n    {\r\n        this.remap3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Define how the noise values are remapped.\r\n     *\r\n     * 定义如何重新映射噪声值。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '生成一维、二维或三维噪声。' })\r\n    remap3D = serialization.setValue(new MinMaxCurveVector3(), {\r\n        xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 },\r\n        yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 },\r\n        zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }\r\n    });\r\n\r\n    /**\r\n     * Define how the noise values are remapped on the X axis, when using the ParticleSystem.NoiseModule.separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，如何在X轴上重新映射噪声值。\r\n     */\r\n    get remapX()\r\n    {\r\n        return this.remap3D.xCurve;\r\n    }\r\n\r\n    set remapX(v)\r\n    {\r\n        this.remap3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Define how the noise values are remapped on the Y axis, when using the ParticleSystem.NoiseModule.separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，如何在Y轴上重新映射噪声值。\r\n     */\r\n    get remapY()\r\n    {\r\n        return this.remap3D.yCurve;\r\n    }\r\n\r\n    set remapY(v)\r\n    {\r\n        this.remap3D.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Define how the noise values are remapped on the Z axis, when using the ParticleSystem.NoiseModule.separateAxes option.\r\n     *\r\n     * 在使用分别控制每个轴时，如何在Z轴上重新映射噪声值。\r\n     */\r\n    get remapZ()\r\n    {\r\n        return this.remap3D.zCurve;\r\n    }\r\n\r\n    set remapZ(v)\r\n    {\r\n        this.remap3D.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[NoiseStrengthRate] = Math.random();\r\n        particle[NoiseParticleRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        this.particleSystem.removeParticlePosition(particle, NoisePreOffset);\r\n        if (!this.enabled) return;\r\n\r\n        let strengthX = 1;\r\n        let strengthY = 1;\r\n        let strengthZ = 1;\r\n        if (this.separateAxes)\r\n        {\r\n            const strength3D = this.strength3D.getValue(particle.rateAtLifeTime, particle[NoiseStrengthRate]);\r\n            strengthX = strength3D.x;\r\n            strengthY = strength3D.y;\r\n            strengthZ = strength3D.z;\r\n        }\r\n        else\r\n        {\r\n            strengthX = strengthY = strengthZ = this.strength.getValue(particle.rateAtLifeTime, particle[NoiseStrengthRate]);\r\n        }\r\n        //\r\n        const frequency = ParticleNoiseModule._frequencyScale * this.frequency;\r\n        //\r\n        const offsetPos = new Vector3(strengthX, strengthY, strengthZ);\r\n        //\r\n        offsetPos.scaleNumber(ParticleNoiseModule._strengthScale);\r\n        if (this.damping)\r\n        {\r\n            offsetPos.scaleNumber(1 / this.frequency);\r\n        }\r\n        const time = particle.rateAtLifeTime * ParticleNoiseModule._timeScale % 1;\r\n        //\r\n        offsetPos.x *= this._getNoiseValue((1 / 3 * 0 + time) * frequency, particle[NoiseParticleRate] * frequency);\r\n        offsetPos.y *= this._getNoiseValue((1 / 3 * 1 + time) * frequency, particle[NoiseParticleRate] * frequency);\r\n        offsetPos.z *= this._getNoiseValue((1 / 3 * 2 + time) * frequency, particle[NoiseParticleRate] * frequency);\r\n        //\r\n\r\n        this.particleSystem.addParticlePosition(particle, offsetPos, this.particleSystem.main.simulationSpace, NoisePreOffset);\r\n    }\r\n\r\n    // 以下两个值用于与Unity中数据接近\r\n    static _frequencyScale = 5;\r\n    static _strengthScale = 0.3;\r\n    static _timeScale = 5;\r\n\r\n    /**\r\n     * 绘制噪音到图片\r\n     *\r\n     * @param image 图片数据\r\n     */\r\n    drawImage(image: ImageData)\r\n    {\r\n        const strength = this._getDrawImageStrength();\r\n        let strengthX = strength.x;\r\n        let strengthY = strength.y;\r\n        let strengthZ = strength.z;\r\n        //\r\n        strengthX *= ParticleNoiseModule._strengthScale;\r\n        strengthY *= ParticleNoiseModule._strengthScale;\r\n        strengthZ *= ParticleNoiseModule._strengthScale;\r\n\r\n        if (this.damping)\r\n        {\r\n            strengthX /= this.frequency;\r\n            strengthY /= this.frequency;\r\n            strengthZ /= this.frequency;\r\n        }\r\n        //\r\n        const frequency = ParticleNoiseModule._frequencyScale * this.frequency;\r\n        //\r\n        const data = image.data;\r\n\r\n        const imageWidth = image.width;\r\n        const imageHeight = image.height;\r\n\r\n        // var datas: number[] = [];\r\n        // var min = Number.MAX_VALUE;\r\n        // var max = Number.MIN_VALUE;\r\n\r\n        for (let x = 0; x < imageWidth; x++)\r\n        {\r\n            for (let y = 0; y < imageHeight; y++)\r\n            {\r\n                const xv = x / imageWidth * frequency;\r\n                const yv = 1 - y / imageHeight * frequency;\r\n\r\n                let value = this._getNoiseValue(xv, yv);\r\n\r\n                // datas.push(value);\r\n                // if (min > value) min = value;\r\n                // if (max < value) max = value;\r\n\r\n                if (xv < 1 / 3)\r\n                { value = (value * strengthX + 1) / 2 * 256; }\r\n                else if (xv < 2 / 3)\r\n                { value = (value * strengthY + 1) / 2 * 256; }\r\n                else\r\n                { value = (value * strengthZ + 1) / 2 * 256; }\r\n\r\n                const cell = (x + y * imageWidth) * 4;\r\n                data[cell] = data[cell + 1] = data[cell + 2] = Math.floor(value);\r\n                data[cell + 3] = 255; // alpha\r\n            }\r\n        }\r\n        // console.log(datas, min, max);\r\n    }\r\n\r\n    private _getDrawImageStrength()\r\n    {\r\n        let strengthX = 1;\r\n        let strengthY = 1;\r\n        let strengthZ = 1;\r\n        if (this.separateAxes)\r\n        {\r\n            if (this.strengthX.mode === MinMaxCurveMode.Curve || this.strengthX.mode === MinMaxCurveMode.TwoCurves)\r\n            {\r\n                strengthX = this.strengthX.curveMultiplier;\r\n            }\r\n            else if (this.strengthX.mode === MinMaxCurveMode.Constant)\r\n            {\r\n                strengthX = this.strengthX.constant;\r\n            }\r\n            else if (this.strengthX.mode === MinMaxCurveMode.TwoConstants)\r\n            {\r\n                strengthX = this.strengthX.constantMax;\r\n            }\r\n\r\n            if (this.strengthY.mode === MinMaxCurveMode.Curve || this.strengthY.mode === MinMaxCurveMode.TwoCurves)\r\n            {\r\n                strengthY = this.strengthY.curveMultiplier;\r\n            }\r\n            else if (this.strengthY.mode === MinMaxCurveMode.Constant)\r\n            {\r\n                strengthY = this.strengthY.constant;\r\n            }\r\n            else if (this.strengthY.mode === MinMaxCurveMode.TwoConstants)\r\n            {\r\n                strengthY = this.strengthY.constantMax;\r\n            }\r\n\r\n            if (this.strengthZ.mode === MinMaxCurveMode.Curve || this.strengthZ.mode === MinMaxCurveMode.TwoCurves)\r\n            {\r\n                strengthZ = this.strengthZ.curveMultiplier;\r\n            }\r\n            else if (this.strengthZ.mode === MinMaxCurveMode.Constant)\r\n            {\r\n                strengthZ = this.strengthZ.constant;\r\n            }\r\n            else if (this.strengthZ.mode === MinMaxCurveMode.TwoConstants)\r\n            {\r\n                strengthZ = this.strengthZ.constantMax;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            // eslint-disable-next-line no-lonely-if\r\n            if (this.strength.mode === MinMaxCurveMode.Curve || this.strength.mode === MinMaxCurveMode.TwoCurves)\r\n            {\r\n                strengthX = strengthY = strengthZ = this.strength.curveMultiplier;\r\n            }\r\n            else if (this.strength.mode === MinMaxCurveMode.Constant)\r\n            {\r\n                strengthX = strengthY = strengthZ = this.strength.constant;\r\n            }\r\n            else if (this.strength.mode === MinMaxCurveMode.TwoConstants)\r\n            {\r\n                strengthX = strengthY = strengthZ = this.strength.constantMax;\r\n            }\r\n        }\r\n\r\n        return { x: strengthX, y: strengthY, z: strengthZ };\r\n    }\r\n\r\n    /**\r\n     * 获取噪音值\r\n     *\r\n     * @param x\r\n     * @param y\r\n     */\r\n    private _getNoiseValue(x: number, y: number)\r\n    {\r\n        let value = this._getNoiseValueBase(x, y);\r\n        for (let l = 1, ln = this.octaveCount; l < ln; l++)\r\n        {\r\n            const value0 = this._getNoiseValueBase(x * this.octaveScale, y * this.octaveScale);\r\n            value += (value0 - value) * this.octaveMultiplier;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * 获取单层噪音值\r\n     *\r\n     * @param x\r\n     * @param y\r\n     */\r\n    private _getNoiseValueBase(x: number, y: number)\r\n    {\r\n        const scrollValue = this._scrollValue;\r\n        if (this.quality === ParticleSystemNoiseQuality.Low)\r\n        {\r\n            return noise.perlin1(x + scrollValue);\r\n        }\r\n        if (this.quality === ParticleSystemNoiseQuality.Medium)\r\n        {\r\n            return noise.perlin2(x, y + scrollValue);\r\n        }\r\n        // if (this.quality == ParticleSystemNoiseQuality.High)\r\n\r\n        return noise.perlin3(x, y, scrollValue);\r\n    }\r\n\r\n    /**\r\n     * 更新\r\n     *\r\n     * @param interval\r\n     */\r\n    update(interval: number)\r\n    {\r\n        this._scrollValue += this.scrollSpeed.getValue(this.particleSystem._emitInfo.rateAtDuration) * interval / 1000;\r\n    }\r\n    private _scrollValue = 0;\r\n}\r\nconst NoiseStrengthRate = '_Noise_strength_rate';\r\nconst NoiseParticleRate = '_Noise_particle_rate';\r\nconst NoisePreOffset = '_Noise_preOffset';\r\n","import { MinMaxCurveVector3, Vector2, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 旋转角度随速度变化模块\r\n */\r\nexport class ParticleRotationBySpeedModule extends ParticleModule\r\n{\r\n    /**\r\n     * Set the rotation by speed on each axis separately.\r\n     * 在每个轴上分别设置随速度变化的旋转。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Set the rotation by speed on each axis separately.\" })\r\n    @oav({ tooltip: '在每个轴上分别设置随速度变化的旋转。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * 角速度，随速度变化的旋转。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '角速度，随速度变化的旋转。' })\r\n    angularVelocity = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 }, yCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 }, zCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 } });\r\n\r\n    /**\r\n     * Apply the rotation curve between these minimum and maximum speeds.\r\n     *\r\n     * 在这些最小和最大速度之间应用旋转曲线。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '在这些最小和最大速度之间应用旋转曲线。' })\r\n    range = new Vector2(0, 1);\r\n\r\n    /**\r\n     * Rotation by speed curve for the X axis.\r\n     *\r\n     * X轴的旋转随速度变化曲线。\r\n     */\r\n    get x()\r\n    {\r\n        return this.angularVelocity.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.angularVelocity.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the X axis.\r\n     *\r\n     * 绕X轴旋转乘法器\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation by speed curve for the Y axis.\r\n     *\r\n     * Y轴的旋转随速度变化曲线。\r\n     */\r\n    get y()\r\n    {\r\n        return this.angularVelocity.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.angularVelocity.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the Y axis.\r\n     *\r\n     * 绕Y轴旋转乘法器\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation by speed curve for the Z axis.\r\n     *\r\n     * Z轴的旋转随速度变化曲线。\r\n     */\r\n    get z()\r\n    {\r\n        return this.angularVelocity.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.angularVelocity.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the Z axis.\r\n     *\r\n     * 绕Z轴旋转乘法器\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[RotationBySpeedRate] = Math.random();\r\n        particle[RotationBySpeedPreAngularVelocity] = new Vector3();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        const preAngularVelocity: Vector3 = particle[RotationBySpeedPreAngularVelocity];\r\n        particle.angularVelocity.sub(preAngularVelocity);\r\n        preAngularVelocity.set(0, 0, 0);\r\n        if (!this.enabled) return;\r\n\r\n        const velocity = particle.velocity.length;\r\n        const rate = mathUtil.clamp((velocity - this.range.x) / (this.range.y - this.range.x), 0, 1);\r\n\r\n        const v = this.angularVelocity.getValue(rate, particle[RotationBySpeedRate]);\r\n        if (!this.separateAxes)\r\n        {\r\n            v.x = v.y = 0;\r\n        }\r\n        particle.angularVelocity.add(v);\r\n        preAngularVelocity.copy(v);\r\n    }\r\n}\r\nconst RotationBySpeedRate = '_RotationBySpeed_rate';\r\nconst RotationBySpeedPreAngularVelocity = '_RotationBySpeed_preAngularVelocity';\r\n","import { MinMaxCurveVector3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 旋转角度随时间变化模块\r\n */\r\nexport class ParticleRotationOverLifetimeModule extends ParticleModule\r\n{\r\n    /**\r\n     * Set the rotation over lifetime on each axis separately.\r\n     * 在每个轴上分别设置基于生命周期的旋转。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Set the rotation over lifetime on each axis separately.\" })\r\n    @oav({ tooltip: '在每个轴上分别设置基于生命周期的旋转。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * 角速度，基于生命周期的旋转。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '角速度，基于生命周期的旋转。' })\r\n    angularVelocity = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 }, yCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 }, zCurve: { constant: 45, constantMin: 45, constantMax: 45, curveMultiplier: 45 } });\r\n\r\n    /**\r\n     * Rotation over lifetime curve for the X axis.\r\n     *\r\n     * X轴的旋转寿命曲线。\r\n     */\r\n    get x()\r\n    {\r\n        return this.angularVelocity.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.angularVelocity.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the X axis.\r\n     *\r\n     * 绕X轴旋转乘法器\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation over lifetime curve for the Y axis.\r\n     *\r\n     * Y轴的旋转寿命曲线。\r\n     */\r\n    get y()\r\n    {\r\n        return this.angularVelocity.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.angularVelocity.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the Y axis.\r\n     *\r\n     * 绕Y轴旋转乘法器\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation over lifetime curve for the Z axis.\r\n     *\r\n     * Z轴的旋转寿命曲线。\r\n     */\r\n    get z()\r\n    {\r\n        return this.angularVelocity.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.angularVelocity.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Rotation multiplier around the Z axis.\r\n     *\r\n     * 绕Z轴旋转乘法器\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[RotationOverLifetimeRate] = Math.random();\r\n        particle[RotationOverLifetimePreAngularVelocity] = new Vector3();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        const preAngularVelocity: Vector3 = particle[RotationOverLifetimePreAngularVelocity];\r\n        particle.angularVelocity.sub(preAngularVelocity);\r\n        preAngularVelocity.set(0, 0, 0);\r\n        if (!this.enabled) return;\r\n\r\n        const v = this.angularVelocity.getValue(particle.rateAtLifeTime, particle[RotationOverLifetimeRate]);\r\n        if (!this.separateAxes)\r\n        {\r\n            v.x = v.y = 0;\r\n        }\r\n        particle.angularVelocity.add(v);\r\n        preAngularVelocity.copy(v);\r\n    }\r\n}\r\nconst RotationOverLifetimeRate = '_RotationOverLifetime_rate';\r\nconst RotationOverLifetimePreAngularVelocity = '_RotationOverLifetime_preAngularVelocity';\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { ParticleShapeModule } from '../modules/ParticleShapeModule';\r\nimport { Particle } from '../Particle';\r\n\r\n/**\r\n * 粒子系统 发射形状\r\n */\r\nexport class ParticleSystemShape\r\n{\r\n    protected _module: ParticleShapeModule;\r\n\r\n    constructor(module: ParticleShapeModule)\r\n    {\r\n        this._module = module;\r\n    }\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param _particle\r\n     * @param _position\r\n     * @param _dir\r\n     */\r\n    calcParticlePosDir(_particle: Particle, _position: Vector3, _dir: Vector3)\r\n    {\r\n\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\nexport enum ParticleSystemShapeBoxEmitFrom\r\n{\r\n    /**\r\n     * 从盒子内部发射。\r\n     */\r\n    Volume,\r\n    /**\r\n     * 从盒子外壳发射。\r\n     */\r\n    Shell,\r\n    /**\r\n     * 从盒子边缘发射。\r\n     */\r\n    Edge,\r\n}\r\n\r\n/**\r\n * 粒子系统 发射盒子\r\n */\r\nexport class ParticleSystemShapeBox extends ParticleSystemShape\r\n{\r\n    /**\r\n     * 盒子X方向缩放。\r\n     */\r\n    @oav({ tooltip: '盒子X方向缩放。' })\r\n    get boxX()\r\n    {\r\n        return this._module.box.x;\r\n    }\r\n\r\n    set boxX(v)\r\n    {\r\n        this._module.box.x = v;\r\n    }\r\n\r\n    /**\r\n     * 盒子Y方向缩放。\r\n     */\r\n    @oav({ tooltip: '盒子Y方向缩放。' })\r\n    get boxY()\r\n    {\r\n        return this._module.box.y;\r\n    }\r\n\r\n    set boxY(v)\r\n    {\r\n        this._module.box.y = v;\r\n    }\r\n\r\n    /**\r\n     * 盒子Z方向缩放。\r\n     */\r\n    @oav({ tooltip: '盒子Z方向缩放。' })\r\n    get boxZ()\r\n    {\r\n        return this._module.box.z;\r\n    }\r\n\r\n    set boxZ(v)\r\n    {\r\n        this._module.box.z = v;\r\n    }\r\n\r\n    /**\r\n     * 粒子系统盒子发射类型。\r\n     */\r\n    @oav({ tooltip: '粒子系统盒子发射类型。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeBoxEmitFrom } })\r\n    emitFrom = ParticleSystemShapeBoxEmitFrom.Volume;\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        // 计算位置\r\n        position.copy(Vector3.random().scaleNumber(2).subNumber(1));\r\n\r\n        if (this.emitFrom === ParticleSystemShapeBoxEmitFrom.Shell)\r\n        {\r\n            const max = Math.max(Math.abs(position.x), Math.abs(position.y), Math.abs(position.z));\r\n            if (Math.abs(position.x) === max)\r\n            {\r\n                position.x = position.x < 0 ? -1 : 1;\r\n            }\r\n            else if (Math.abs(position.y) === max)\r\n            {\r\n                position.y = position.y < 0 ? -1 : 1;\r\n            }\r\n            else if (Math.abs(position.z) === max)\r\n            {\r\n                position.z = position.z < 0 ? -1 : 1;\r\n            }\r\n        }\r\n        else if (this.emitFrom === ParticleSystemShapeBoxEmitFrom.Edge)\r\n        {\r\n            const min = Math.min(Math.abs(position.x), Math.abs(position.y), Math.abs(position.z));\r\n            if (Math.abs(position.x) === min)\r\n            {\r\n                position.y = position.y < 0 ? -1 : 1;\r\n                position.z = position.z < 0 ? -1 : 1;\r\n            }\r\n            else if (Math.abs(position.y) === min)\r\n            {\r\n                position.x = position.x < 0 ? -1 : 1;\r\n                position.z = position.z < 0 ? -1 : 1;\r\n            }\r\n            else if (Math.abs(position.z) === min)\r\n            {\r\n                position.x = position.x < 0 ? -1 : 1;\r\n                position.y = position.y < 0 ? -1 : 1;\r\n            }\r\n        }\r\n        position.scale(new Vector3(this.boxX, this.boxY, this.boxZ)).scaleNumber(0.5);\r\n\r\n        //\r\n        dir.set(0, 0, 1);\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { ParticleSystemShapeMultiModeValue } from '../enums/ParticleSystemShapeMultiModeValue';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\n/**\r\n * 粒子系统 发射圆盘\r\n */\r\nexport class ParticleSystemShapeCircle extends ParticleSystemShape\r\n{\r\n    @oav({ tooltip: '半径' })\r\n    get radius()\r\n    {\r\n        return this._module.radius;\r\n    }\r\n\r\n    set radius(v)\r\n    {\r\n        this._module.radius = v;\r\n    }\r\n\r\n    @oav({ tooltip: '弧度' })\r\n    get arc()\r\n    {\r\n        return this._module.arc;\r\n    }\r\n\r\n    set arc(v)\r\n    {\r\n        this._module.arc = v;\r\n    }\r\n\r\n    /**\r\n     * The mode used for generating particles around the arc.\r\n     *\r\n     * 在弧线周围产生粒子的模式。\r\n     */\r\n    // @oav({ tooltip: \"The mode used for generating particles around the arc.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemShapeMultiModeValue } })\r\n    @oav({ tooltip: '在弧线周围产生粒子的模式。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeMultiModeValue } })\r\n    get arcMode()\r\n    {\r\n        return this._module.arcMode;\r\n    }\r\n\r\n    set arcMode(v)\r\n    {\r\n        this._module.arcMode = v;\r\n    }\r\n\r\n    /**\r\n     * Control the gap between emission points around the arc.\r\n     *\r\n     * 控制弧线周围发射点之间的间隙。\r\n     */\r\n    @oav({ tooltip: '控制弧线周围发射点之间的间隙。' })\r\n    get arcSpread()\r\n    {\r\n        return this._module.arcSpread;\r\n    }\r\n\r\n    set arcSpread(v)\r\n    {\r\n        this._module.arcSpread = v;\r\n    }\r\n\r\n    /**\r\n     * When using one of the animated modes, how quickly to move the emission position around the arc.\r\n     * 当使用一个动画模式时，如何快速移动发射位置周围的弧。\r\n     */\r\n    @oav({ tooltip: '当使用一个动画模式时，如何快速移动发射位置周围的弧。' })\r\n    get arcSpeed()\r\n    {\r\n        return this._module.arcSpeed;\r\n    }\r\n\r\n    set arcSpeed(v)\r\n    {\r\n        this._module.arcSpeed = v;\r\n    }\r\n\r\n    /**\r\n     * 是否从圆形边缘发射。\r\n     */\r\n    @oav({ tooltip: '是否从圆形边缘发射。' })\r\n    emitFromEdge = false;\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        const radius = this.radius;\r\n        const arc = this.arc;\r\n        // 在圆心的方向\r\n        let radiusAngle = 0;\r\n        if (this.arcMode === ParticleSystemShapeMultiModeValue.Random)\r\n        {\r\n            radiusAngle = Math.random() * arc;\r\n        }\r\n        else if (this.arcMode === ParticleSystemShapeMultiModeValue.Loop)\r\n        {\r\n            const totalAngle = particle.birthTime * this.arcSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n        }\r\n        else if (this.arcMode === ParticleSystemShapeMultiModeValue.PingPong)\r\n        {\r\n            const totalAngle = particle.birthTime * this.arcSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n            if (Math.floor(totalAngle / arc) % 2 === 1)\r\n            {\r\n                radiusAngle = arc - radiusAngle;\r\n            }\r\n        }\r\n        if (this.arcSpread > 0)\r\n        {\r\n            radiusAngle = Math.floor(radiusAngle / arc / this.arcSpread) * arc * this.arcSpread;\r\n        }\r\n        radiusAngle = mathUtil.degToRad(radiusAngle);\r\n        // 计算位置\r\n        dir.set(Math.cos(radiusAngle), Math.sin(radiusAngle), 0);\r\n        dir.scaleNumberTo(radius, position);\r\n        if (!this.emitFromEdge)\r\n        {\r\n            position.scaleNumber(Math.random());\r\n        }\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { ParticleSystemShapeConeEmitFrom } from '../enums/ParticleSystemShapeConeEmitFrom';\r\nimport { ParticleSystemShapeMultiModeValue } from '../enums/ParticleSystemShapeMultiModeValue';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\n/**\r\n * 粒子系统发射圆锥体，用于定义基于圆锥体的粒子发射时的初始状态。\r\n */\r\nexport class ParticleSystemShapeCone extends ParticleSystemShape\r\n{\r\n    /**\r\n     * Angle of the cone.\r\n     * 圆锥的角度。\r\n     */\r\n    // @oav({ tooltip: \"Angle of the cone.\" })\r\n    @oav({ tooltip: '圆锥的角度。' })\r\n    get angle()\r\n    {\r\n        return this._module.angle;\r\n    }\r\n\r\n    set angle(v)\r\n    {\r\n        this._module.angle = v;\r\n    }\r\n\r\n    /**\r\n     * 圆锥体底部半径。\r\n     */\r\n    @oav({ tooltip: '圆锥体底部半径。' })\r\n    get radius()\r\n    {\r\n        return this._module.radius;\r\n    }\r\n\r\n    set radius(v)\r\n    {\r\n        this._module.radius = v;\r\n    }\r\n\r\n    /**\r\n     * Length of the cone.\r\n     *\r\n     * 圆锥的长度（高度）。\r\n     */\r\n    // @oav({ tooltip: \"Length of the cone.\" })\r\n    @oav({ tooltip: '圆锥的长度（高度）。' })\r\n    get length()\r\n    {\r\n        return this._module.length;\r\n    }\r\n\r\n    set length(v)\r\n    {\r\n        this._module.length = v;\r\n    }\r\n\r\n    /**\r\n     * Circle arc angle.\r\n     */\r\n    @oav({ tooltip: '圆弧角。' })\r\n    get arc()\r\n    {\r\n        return this._module.arc;\r\n    }\r\n\r\n    set arc(v)\r\n    {\r\n        this._module.arc = v;\r\n    }\r\n\r\n    /**\r\n     * The mode used for generating particles around the arc.\r\n     * 在弧线周围产生粒子的模式。\r\n     */\r\n    @oav({ tooltip: '在弧线周围产生粒子的模式。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeMultiModeValue } })\r\n    get arcMode()\r\n    {\r\n        return this._module.arcMode;\r\n    }\r\n\r\n    set arcMode(v)\r\n    {\r\n        this._module.arcMode = v;\r\n    }\r\n\r\n    /**\r\n     * Control the gap between emission points around the arc.\r\n     * 控制弧线周围发射点之间的间隙。\r\n     */\r\n    @oav({ tooltip: '控制弧线周围发射点之间的间隙。' })\r\n    get arcSpread()\r\n    {\r\n        return this._module.arcSpread;\r\n    }\r\n\r\n    set arcSpread(v)\r\n    {\r\n        this._module.arcSpread = v;\r\n    }\r\n\r\n    /**\r\n     * When using one of the animated modes, how quickly to move the emission position around the arc.\r\n     * 当使用一个动画模式时，如何快速移动发射位置周围的弧。\r\n     */\r\n    @oav({ tooltip: '当使用一个动画模式时，如何快速移动发射位置周围的弧。' })\r\n    get arcSpeed()\r\n    {\r\n        return this._module.arcSpeed;\r\n    }\r\n\r\n    set arcSpeed(v)\r\n    {\r\n        this._module.arcSpeed = v;\r\n    }\r\n\r\n    /**\r\n     * 粒子系统圆锥体发射类型。\r\n     */\r\n    @oav({ tooltip: '粒子系统圆锥体发射类型。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeConeEmitFrom } })\r\n    emitFrom = ParticleSystemShapeConeEmitFrom.Base;\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        const radius = this.radius;\r\n        let angle = this.angle;\r\n        const arc = this.arc;\r\n        angle = mathUtil.clamp(angle, 0, 87);\r\n        // 在圆心的方向\r\n        let radiusAngle = 0;\r\n        if (this.arcMode === ParticleSystemShapeMultiModeValue.Random)\r\n        {\r\n            radiusAngle = Math.random() * arc;\r\n        }\r\n        else if (this.arcMode === ParticleSystemShapeMultiModeValue.Loop)\r\n        {\r\n            const totalAngle = particle.birthTime * this.arcSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n        }\r\n        else if (this.arcMode === ParticleSystemShapeMultiModeValue.PingPong)\r\n        {\r\n            const totalAngle = particle.birthTime * this.arcSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n            if (Math.floor(totalAngle / arc) % 2 === 1)\r\n            {\r\n                radiusAngle = arc - radiusAngle;\r\n            }\r\n        }\r\n        // else if (this.arcMode == ParticleSystemShapeMultiModeValue.BurstSpread)\r\n        // {\r\n        // }\r\n        if (this.arcSpread > 0)\r\n        {\r\n            radiusAngle = Math.floor(radiusAngle / arc / this.arcSpread) * arc * this.arcSpread;\r\n        }\r\n        radiusAngle = mathUtil.degToRad(radiusAngle);\r\n        // 在圆的位置\r\n        let radiusRate = 1;\r\n        if (this.emitFrom === ParticleSystemShapeConeEmitFrom.Base || this.emitFrom === ParticleSystemShapeConeEmitFrom.Volume)\r\n        {\r\n            radiusRate = Math.random();\r\n        }\r\n        // 在圆的位置\r\n        const basePos = new Vector3(Math.cos(radiusAngle), Math.sin(radiusAngle), 0);\r\n        // 底面位置\r\n        const bottomPos = basePos.scaleNumberTo(radius).scaleNumber(radiusRate);\r\n        // 顶面位置\r\n        const topPos = basePos.scaleNumberTo(radius + this.length * Math.tan(mathUtil.degToRad(angle))).scaleNumber(radiusRate);\r\n        topPos.z = this.length;\r\n\r\n        // 计算方向\r\n        dir.copy(topPos).sub(bottomPos).normalize();\r\n        // 计算位置\r\n        position.copy(bottomPos);\r\n        if (this.emitFrom === ParticleSystemShapeConeEmitFrom.Volume || this.emitFrom === ParticleSystemShapeConeEmitFrom.VolumeShell)\r\n        {\r\n            // 上下点进行插值\r\n            position.lerpNumber(topPos, Math.random());\r\n        }\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ParticleSystemShapeMultiModeValue } from '../enums/ParticleSystemShapeMultiModeValue';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\n/**\r\n * 粒子系统 发射边\r\n */\r\nexport class ParticleSystemShapeEdge extends ParticleSystemShape\r\n{\r\n    /**\r\n     * 边长的一半。\r\n     */\r\n    @oav({ tooltip: '边长的一半。' })\r\n    get radius()\r\n    {\r\n        return this._module.radius;\r\n    }\r\n\r\n    set radius(v)\r\n    {\r\n        this._module.radius = v;\r\n    }\r\n\r\n    /**\r\n     * The mode used for generating particles around the radius.\r\n     *\r\n     * 在弧线周围产生粒子的模式。\r\n     */\r\n    @oav({ tooltip: '在弧线周围产生粒子的模式。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeMultiModeValue } })\r\n    get radiusMode()\r\n    {\r\n        return this._module.radiusMode;\r\n    }\r\n\r\n    set radiusMode(v)\r\n    {\r\n        this._module.radiusMode = v;\r\n    }\r\n\r\n    /**\r\n     * Control the gap between emission points around the radius.\r\n     *\r\n     * 控制弧线周围发射点之间的间隙。\r\n     */\r\n    @oav({ tooltip: '控制弧线周围发射点之间的间隙。' })\r\n    get radiusSpread()\r\n    {\r\n        return this._module.radiusSpread;\r\n    }\r\n\r\n    set radiusSpread(v)\r\n    {\r\n        this._module.radiusSpread = v;\r\n    }\r\n\r\n    /**\r\n     * When using one of the animated modes, how quickly to move the emission position around the radius.\r\n     *\r\n     * 当使用一个动画模式时，如何快速移动发射位置周围的弧。\r\n     */\r\n    @oav({ tooltip: '当使用一个动画模式时，如何快速移动发射位置周围的弧。' })\r\n    get radiusSpeed()\r\n    {\r\n        return this._module.radiusSpeed;\r\n    }\r\n\r\n    set radiusSpeed(v)\r\n    {\r\n        this._module.radiusSpeed = v;\r\n    }\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        const arc = 360 * this.radius;\r\n        // 在圆心的方向\r\n        let radiusAngle = 0;\r\n        if (this.radiusMode === ParticleSystemShapeMultiModeValue.Random)\r\n        {\r\n            radiusAngle = Math.random() * arc;\r\n        }\r\n        else if (this.radiusMode === ParticleSystemShapeMultiModeValue.Loop)\r\n        {\r\n            const totalAngle = particle.birthTime * this.radiusSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n        }\r\n        else if (this.radiusMode === ParticleSystemShapeMultiModeValue.PingPong)\r\n        {\r\n            const totalAngle = particle.birthTime * this.radiusSpeed.getValue(particle.birthRateAtDuration) * 360;\r\n            radiusAngle = totalAngle % arc;\r\n            if (Math.floor(totalAngle / arc) % 2 === 1)\r\n            {\r\n                radiusAngle = arc - radiusAngle;\r\n            }\r\n        }\r\n        if (this.radiusSpread > 0)\r\n        {\r\n            radiusAngle = Math.floor(radiusAngle / arc / this.radiusSpread) * arc * this.radiusSpread;\r\n        }\r\n        radiusAngle = radiusAngle / arc;\r\n\r\n        //\r\n        dir.set(0, 1, 0);\r\n        position.set(this.radius * (radiusAngle * 2 - 1), 0, 0);\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\n/**\r\n * 从半球体的体积中发出。\r\n */\r\nexport class ParticleSystemShapeHemisphere extends ParticleSystemShape\r\n{\r\n    @oav({ tooltip: '球体半径' })\r\n    radius = 1;\r\n\r\n    /**\r\n     * 是否从球面发射\r\n     */\r\n    @oav({ tooltip: '是否从球面发射' })\r\n    emitFromShell = false;\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param _particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(_particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        // 计算位置\r\n        dir.copy(Vector3.random()).scaleNumber(2).subNumber(1).normalize();\r\n        dir.z = Math.abs(dir.z);\r\n\r\n        position.copy(dir).scaleNumber(this.radius);\r\n        if (!this.emitFromShell)\r\n        {\r\n            position.scaleNumber(Math.random());\r\n        }\r\n    }\r\n}\r\n","import { Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from './ParticleSystemShape';\r\n\r\n/**\r\n * 从球体的体积中发射。\r\n */\r\nexport class ParticleSystemShapeSphere extends ParticleSystemShape\r\n{\r\n    /**\r\n     * 球体半径\r\n     */\r\n    @oav({ tooltip: '球体半径' })\r\n    get radius()\r\n    {\r\n        return this._module.radius;\r\n    }\r\n\r\n    set radius(v)\r\n    {\r\n        this._module.radius = v;\r\n    }\r\n\r\n    /**\r\n     * 是否从球面发射\r\n     */\r\n    @oav({ tooltip: '是否从球面发射' })\r\n    emitFromShell = false;\r\n\r\n    /**\r\n     * 计算粒子的发射位置与方向\r\n     *\r\n     * @param _particle\r\n     * @param position\r\n     * @param dir\r\n     */\r\n    calcParticlePosDir(_particle: Particle, position: Vector3, dir: Vector3)\r\n    {\r\n        // 计算位置\r\n        dir.copy(Vector3.random()).scaleNumber(2).subNumber(1).normalize();\r\n\r\n        position.copy(dir).scaleNumber(this.radius);\r\n        if (!this.emitFromShell)\r\n        {\r\n            position.scaleNumber(Math.random());\r\n        }\r\n    }\r\n}\r\n\r\n","import { Geometry } from '@feng3d/core';\r\nimport { Matrix4x4, MinMaxCurve, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { ParticleSystemMeshShapeType } from '../enums/ParticleSystemMeshShapeType';\r\nimport { ParticleSystemShapeConeEmitFrom } from '../enums/ParticleSystemShapeConeEmitFrom';\r\nimport { ParticleSystemShapeMultiModeValue } from '../enums/ParticleSystemShapeMultiModeValue';\r\nimport { ParticleSystemShapeType } from '../enums/ParticleSystemShapeType';\r\nimport { ParticleSystemShapeType1 } from '../enums/ParticleSystemShapeType1';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystemShape } from '../shapes/ParticleSystemShape';\r\nimport { ParticleSystemShapeBox, ParticleSystemShapeBoxEmitFrom } from '../shapes/ParticleSystemShapeBox';\r\nimport { ParticleSystemShapeCircle } from '../shapes/ParticleSystemShapeCircle';\r\nimport { ParticleSystemShapeCone } from '../shapes/ParticleSystemShapeCone';\r\nimport { ParticleSystemShapeEdge } from '../shapes/ParticleSystemShapeEdge';\r\nimport { ParticleSystemShapeHemisphere } from '../shapes/ParticleSystemShapeHemisphere';\r\nimport { ParticleSystemShapeSphere } from '../shapes/ParticleSystemShapeSphere';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Shape of the emitter volume, which controls where particles are emitted and their initial direction.\r\n * 发射体体积的形状，它控制粒子发射的位置和初始方向。\r\n */\r\nexport class ParticleShapeModule extends ParticleModule\r\n{\r\n    __class__: 'feng3d.ParticleShapeModule';\r\n    /**\r\n     * Type of shape to emit particles from.\r\n     * 发射粒子的形状类型。\r\n     */\r\n    @serialize\r\n    @watch('_onShapeTypeChanged')\r\n    shapeType: ParticleSystemShapeType;\r\n\r\n    /**\r\n     * Type of shape to emit particles from.\r\n     * 发射粒子的形状类型。\r\n     */\r\n    // @oav({ tooltip: \"Type of shape to emit particles from.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemShape } })\r\n    @oav({ tooltip: '发射粒子的形状类型。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemShapeType1 } })\r\n    @watch('_onShapeChanged')\r\n    shape: ParticleSystemShapeType1;\r\n\r\n    /**\r\n     * 当前使用的发射形状\r\n     */\r\n    @oav({ component: 'OAVObjectView' })\r\n    activeShape: ParticleSystemShape;\r\n\r\n    /**\r\n     * Align particles based on their initial direction of travel.\r\n     * 根据粒子的初始运动方向排列粒子。\r\n     *\r\n     * Using align to Direction in the Shape module forces the system to be rendered using Local Billboard Alignment.\r\n     * 在形状模块中使用align to Direction迫使系统使用本地看板对齐方式呈现。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Align particles based on their initial direction of travel.\" })\r\n    @oav({ tooltip: '根据粒子的初始运动方向排列粒子。' })\r\n    alignToDirection = false;\r\n\r\n    /**\r\n     * Randomizes the starting direction of particles.\r\n     * 随机化粒子的起始方向。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Randomizes the starting direction of particles.\" })\r\n    @oav({ tooltip: '随机化粒子的起始方向。' })\r\n    randomDirectionAmount = 0;\r\n\r\n    /**\r\n     * Spherizes the starting direction of particles.\r\n     * 使粒子的起始方向球面化。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Spherizes the starting direction of particles.\" })\r\n    @oav({ tooltip: 'Spherizes the starting direction of particles.' })\r\n    sphericalDirectionAmount = 0;\r\n\r\n    /**\r\n     * Angle of the cone.\r\n     *\r\n     * 圆锥的角度。\r\n     */\r\n    @serialize\r\n    angle = 25;\r\n\r\n    /**\r\n     * Circle arc angle.\r\n     *\r\n     * 圆弧角。\r\n     */\r\n    @serialize\r\n    arc = 360;\r\n\r\n    /**\r\n     * The mode used for generating particles around the arc.\r\n     *\r\n     * 在弧线周围产生粒子的模式。\r\n     */\r\n    @serialize\r\n    arcMode = ParticleSystemShapeMultiModeValue.Random;\r\n\r\n    /**\r\n     * When using one of the animated modes, how quickly to move the emission position around the arc.\r\n     *\r\n     * 当使用一个动画模式时，如何快速移动发射位置周围的弧。\r\n     */\r\n    @serialize\r\n    arcSpeed = serialization.setValue(new MinMaxCurve(), { constant: 1, constantMin: 1, constantMax: 1 });\r\n\r\n    /**\r\n     * A multiplier of the arc speed of the emission shape.\r\n     *\r\n     * 发射形状的电弧速度的乘数。\r\n     */\r\n    get arcSpeedMultiplier()\r\n    {\r\n        return this.arcSpeed.curveMultiplier;\r\n    }\r\n\r\n    set arcSpeedMultiplier(v)\r\n    {\r\n        this.arcSpeed.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Control the gap between emission points around the arc.\r\n     *\r\n     * 控制弧线周围发射点之间的间隙。\r\n     */\r\n    @serialize\r\n    arcSpread = 0;\r\n\r\n    /**\r\n     * Scale of the box.\r\n     *\r\n     * 盒子的缩放。\r\n     */\r\n    @serialize\r\n    box = new Vector3(1, 1, 1);\r\n\r\n    /**\r\n     * Length of the cone.\r\n     *\r\n     * 圆锥的长度（高度）。\r\n     */\r\n    @serialize\r\n    length = 5;\r\n\r\n    /**\r\n     * Mesh to emit particles from.\r\n     *\r\n     * 发射粒子的网格。\r\n     *\r\n     * @todo\r\n     */\r\n    mesh: Geometry;\r\n\r\n    /**\r\n     * Emit from a single material, or the whole mesh.\r\n     *\r\n     * 从一个单一的材料，或整个网格发射。\r\n     *\r\n     * @todo\r\n     */\r\n    useMeshMaterialIndex: boolean;\r\n\r\n    /**\r\n     * Emit particles from a single material of a mesh.\r\n     *\r\n     * 从一个网格的单一材料发射粒子。\r\n     *\r\n     * @todo\r\n     */\r\n    meshMaterialIndex: number;\r\n\r\n    /**\r\n     * MeshRenderer to emit particles from.\r\n     *\r\n     * 从 MeshRenderer 发射粒子。\r\n     *\r\n     * @todo\r\n     */\r\n    // meshRenderer: MeshRenderer\r\n    meshRenderer: any;\r\n\r\n    /**\r\n     * SkinnedMeshRenderer to emit particles from.\r\n     *\r\n     * 从 SkinnedMeshRenderer 发射粒子。\r\n     *\r\n     * @todo\r\n     */\r\n    skinnedMeshRenderer: any;\r\n\r\n    /**\r\n     * Apply a scaling factor to the mesh used for generating source positions.\r\n     *\r\n     * 对用于生成源位置的网格应用缩放因子。\r\n     *\r\n     * @todo\r\n     */\r\n    meshScale = 1;\r\n\r\n    /**\r\n     * Where on the mesh to emit particles from.\r\n     *\r\n     * 从网格的什么地方发射粒子。\r\n     *\r\n     * @todo\r\n     */\r\n    meshShapeType = ParticleSystemMeshShapeType.Vertex;\r\n\r\n    /**\r\n     * Modulate the particle colors with the vertex colors, or the material color if no vertex colors exist.\r\n     *\r\n     * 用顶点颜色调节粒子颜色，如果没有顶点颜色，则调节材质颜色。\r\n     *\r\n     * @todo\r\n     */\r\n    useMeshColors = true;\r\n\r\n    /**\r\n     * Move particles away from the surface of the source mesh.\r\n     *\r\n     * 将粒子从源网格的表面移开。\r\n     */\r\n    normalOffset = 0;\r\n\r\n    /**\r\n     * Radius of the shape.\r\n     *\r\n     * 形状的半径。\r\n     */\r\n    @serialize\r\n    radius = 1;\r\n\r\n    /**\r\n     * The mode used for generating particles around the radius.\r\n     *\r\n     * 在弧线周围产生粒子的模式。\r\n     */\r\n    @serialize\r\n    radiusMode = ParticleSystemShapeMultiModeValue.Random;\r\n\r\n    /**\r\n     * When using one of the animated modes, how quickly to move the emission position along the radius.\r\n     *\r\n     * 当使用一个动画模式时，如何快速移动发射位置周围的弧。\r\n     */\r\n    @serialize\r\n    radiusSpeed = serialization.setValue(new MinMaxCurve(), { constant: 1, constantMin: 1, constantMax: 1 });\r\n\r\n    /**\r\n     * A multiplier of the radius speed of the emission shape.\r\n     *\r\n     * 发射形状的半径速度的乘法器。\r\n     */\r\n    get radiusSpeedMultiplier()\r\n    {\r\n        return this.radiusSpeed.curveMultiplier;\r\n    }\r\n\r\n    set radiusSpeedMultiplier(v)\r\n    {\r\n        this.radiusSpeed.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Control the gap between emission points around the radius.\r\n     *\r\n     * 控制弧线周围发射点之间的间隙。\r\n     */\r\n    @serialize\r\n    radiusSpread = 0;\r\n\r\n    private _shapeSphere = new ParticleSystemShapeSphere(this);\r\n    private _shapeHemisphere = new ParticleSystemShapeHemisphere(this);\r\n    private _shapeCone = new ParticleSystemShapeCone(this);\r\n    private _shapeBox = new ParticleSystemShapeBox(this);\r\n    private _shapeCircle = new ParticleSystemShapeCircle(this);\r\n    private _shapeEdge = new ParticleSystemShapeEdge(this);\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.shapeType = ParticleSystemShapeType.Cone;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        const startSpeed = this.particleSystem.main.startSpeed.getValue(particle.birthRateAtDuration);\r\n        //\r\n        const position = tempPosition.set(0, 0, 0);\r\n        const dir = tempDir.set(0, 0, 1);\r\n        //\r\n        if (this.enabled)\r\n        {\r\n            this.activeShape.calcParticlePosDir(particle, position, dir);\r\n        }\r\n\r\n        dir.scaleNumber(startSpeed);\r\n        if (this.particleSystem.main.simulationSpace === ParticleSystemSimulationSpace.World)\r\n        {\r\n            const localToWorldMatrix = this.particleSystem.transform.localToWorldMatrix;\r\n\r\n            localToWorldMatrix.transformPoint3(position, position);\r\n            localToWorldMatrix.transformVector3(dir, dir);\r\n        }\r\n        particle.position.add(position);\r\n        particle.velocity.add(dir);\r\n\r\n        if (!this.enabled)\r\n        { return; }\r\n\r\n        //\r\n        if (this.alignToDirection)\r\n        {\r\n            const mat = new Matrix4x4();\r\n            mat.lookAt(particle.velocity, Vector3.Y_AXIS);\r\n\r\n            const mat0 = Matrix4x4.fromRotation(particle.rotation.x, particle.rotation.y, particle.rotation.z);\r\n            mat0.append(mat);\r\n\r\n            particle.rotation = mat0.getRotation();\r\n        }\r\n        const length = particle.velocity.length;\r\n        if (this.randomDirectionAmount > 0)\r\n        {\r\n            const velocity = Vector3.random().scaleNumber(2).subNumber(1).normalize(length);\r\n            particle.velocity.lerpNumber(velocity, this.randomDirectionAmount).normalize(length);\r\n        }\r\n        if (this.sphericalDirectionAmount > 0)\r\n        {\r\n            const velocity = particle.position.clone().normalize(length);\r\n            particle.velocity.lerpNumber(velocity, this.sphericalDirectionAmount).normalize(length);\r\n        }\r\n    }\r\n\r\n    private _onShapeTypeChanged()\r\n    {\r\n        const preValue = this.activeShape;\r\n        switch (this.shapeType)\r\n        {\r\n            case ParticleSystemShapeType.Sphere:\r\n                this.shape = ParticleSystemShapeType1.Sphere;\r\n                this._shapeSphere.emitFromShell = false;\r\n                this.activeShape = this._shapeSphere;\r\n                break;\r\n            case ParticleSystemShapeType.SphereShell:\r\n                this.shape = ParticleSystemShapeType1.Sphere;\r\n                this._shapeSphere.emitFromShell = true;\r\n                this.activeShape = this._shapeSphere;\r\n                break;\r\n            case ParticleSystemShapeType.Hemisphere:\r\n                this.shape = ParticleSystemShapeType1.Hemisphere;\r\n                this._shapeHemisphere.emitFromShell = false;\r\n                this.activeShape = this._shapeHemisphere;\r\n                break;\r\n            case ParticleSystemShapeType.HemisphereShell:\r\n                this.shape = ParticleSystemShapeType1.Hemisphere;\r\n                this._shapeHemisphere.emitFromShell = true;\r\n                this.activeShape = this._shapeHemisphere;\r\n                break;\r\n            case ParticleSystemShapeType.Cone:\r\n                this.shape = ParticleSystemShapeType1.Cone;\r\n                this._shapeCone.emitFrom = ParticleSystemShapeConeEmitFrom.Base;\r\n                this.activeShape = this._shapeCone;\r\n                break;\r\n            case ParticleSystemShapeType.ConeShell:\r\n                this.shape = ParticleSystemShapeType1.Cone;\r\n                this._shapeCone.emitFrom = ParticleSystemShapeConeEmitFrom.BaseShell;\r\n                this.activeShape = this._shapeCone;\r\n                break;\r\n            case ParticleSystemShapeType.ConeVolume:\r\n                this.shape = ParticleSystemShapeType1.Cone;\r\n                this._shapeCone.emitFrom = ParticleSystemShapeConeEmitFrom.Volume;\r\n                this.activeShape = this._shapeCone;\r\n                break;\r\n            case ParticleSystemShapeType.ConeVolumeShell:\r\n                this.shape = ParticleSystemShapeType1.Cone;\r\n                this._shapeCone.emitFrom = ParticleSystemShapeConeEmitFrom.VolumeShell;\r\n                this.activeShape = this._shapeCone;\r\n                break;\r\n            case ParticleSystemShapeType.Box:\r\n                this.shape = ParticleSystemShapeType1.Box;\r\n                this._shapeBox.emitFrom = ParticleSystemShapeBoxEmitFrom.Volume;\r\n                this.activeShape = this._shapeBox;\r\n                break;\r\n            case ParticleSystemShapeType.BoxShell:\r\n                this.shape = ParticleSystemShapeType1.Box;\r\n                this._shapeBox.emitFrom = ParticleSystemShapeBoxEmitFrom.Shell;\r\n                this.activeShape = this._shapeBox;\r\n                break;\r\n            case ParticleSystemShapeType.BoxEdge:\r\n                this.shape = ParticleSystemShapeType1.Box;\r\n                this._shapeBox.emitFrom = ParticleSystemShapeBoxEmitFrom.Edge;\r\n                this.activeShape = this._shapeBox;\r\n                break;\r\n            case ParticleSystemShapeType.Mesh:\r\n                this.shape = ParticleSystemShapeType1.Mesh;\r\n                console.warn(`未实现 ParticleSystemShapeType.Mesh`);\r\n                this.activeShape = null;\r\n                break;\r\n            case ParticleSystemShapeType.MeshRenderer:\r\n                this.shape = ParticleSystemShapeType1.MeshRenderer;\r\n                console.warn(`未实现 ParticleSystemShapeType.Mesh`);\r\n                this.activeShape = null;\r\n                break;\r\n            case ParticleSystemShapeType.SkinnedMeshRenderer:\r\n                this.shape = ParticleSystemShapeType1.SkinnedMeshRenderer;\r\n                console.warn(`未实现 ParticleSystemShapeType.Mesh`);\r\n                this.activeShape = null;\r\n                break;\r\n            case ParticleSystemShapeType.Circle:\r\n                this.shape = ParticleSystemShapeType1.Circle;\r\n                this._shapeCircle.emitFromEdge = false;\r\n                this.activeShape = this._shapeCircle;\r\n                break;\r\n            case ParticleSystemShapeType.CircleEdge:\r\n                this.shape = ParticleSystemShapeType1.Circle;\r\n                this._shapeCircle.emitFromEdge = true;\r\n                this.activeShape = this._shapeCircle;\r\n                break;\r\n            case ParticleSystemShapeType.SingleSidedEdge:\r\n                this.shape = ParticleSystemShapeType1.Edge;\r\n                this.activeShape = this._shapeEdge;\r\n                break;\r\n            default:\r\n                console.warn(`错误 ParticleShapeModule.shapeType 值 ${this.shapeType}`);\r\n                break;\r\n        }\r\n        serialization.setValue(this.activeShape, preValue);\r\n        this.emit('refreshView');\r\n    }\r\n\r\n    private _onShapeChanged()\r\n    {\r\n        switch (this.shape)\r\n        {\r\n            case ParticleSystemShapeType1.Sphere:\r\n                this.shapeType = this._shapeSphere.emitFromShell ? ParticleSystemShapeType.SphereShell : ParticleSystemShapeType.Sphere;\r\n                break;\r\n            case ParticleSystemShapeType1.Hemisphere:\r\n                this.shapeType = this._shapeHemisphere.emitFromShell ? ParticleSystemShapeType.HemisphereShell : ParticleSystemShapeType.Hemisphere;\r\n                break;\r\n            case ParticleSystemShapeType1.Cone:\r\n                switch (this._shapeCone.emitFrom)\r\n                {\r\n                    case ParticleSystemShapeConeEmitFrom.Base:\r\n                        this.shapeType = ParticleSystemShapeType.Cone;\r\n                        break;\r\n                    case ParticleSystemShapeConeEmitFrom.BaseShell:\r\n                        this.shapeType = ParticleSystemShapeType.ConeShell;\r\n                        break;\r\n                    case ParticleSystemShapeConeEmitFrom.Volume:\r\n                        this.shapeType = ParticleSystemShapeType.ConeVolume;\r\n                        break;\r\n                    case ParticleSystemShapeConeEmitFrom.VolumeShell:\r\n                        this.shapeType = ParticleSystemShapeType.ConeVolumeShell;\r\n                        break;\r\n                    default:\r\n                        console.warn(`错误ParticleSystemShapeCone.emitFrom值 ${this._shapeCone.emitFrom}`);\r\n                        break;\r\n                }\r\n                break;\r\n            case ParticleSystemShapeType1.Box:\r\n                switch (this._shapeBox.emitFrom)\r\n                {\r\n                    case ParticleSystemShapeBoxEmitFrom.Volume:\r\n                        this.shapeType = ParticleSystemShapeType.Box;\r\n                        break;\r\n                    case ParticleSystemShapeBoxEmitFrom.Shell:\r\n                        this.shapeType = ParticleSystemShapeType.BoxShell;\r\n                        break;\r\n                    case ParticleSystemShapeBoxEmitFrom.Edge:\r\n                        this.shapeType = ParticleSystemShapeType.BoxEdge;\r\n                        break;\r\n                    default:\r\n                        console.warn(`错误ParticleSystemShapeCone.emitFrom值 ${this._shapeCone.emitFrom}`);\r\n                        break;\r\n                }\r\n                break;\r\n            case ParticleSystemShapeType1.Mesh:\r\n                this.shapeType = ParticleSystemShapeType.Mesh;\r\n                break;\r\n            case ParticleSystemShapeType1.MeshRenderer:\r\n                this.shapeType = ParticleSystemShapeType.MeshRenderer;\r\n                break;\r\n            case ParticleSystemShapeType1.SkinnedMeshRenderer:\r\n                this.shapeType = ParticleSystemShapeType.SkinnedMeshRenderer;\r\n                break;\r\n            case ParticleSystemShapeType1.Circle:\r\n                this.shapeType = this._shapeCircle.emitFromEdge ? ParticleSystemShapeType.CircleEdge : ParticleSystemShapeType.Circle;\r\n                break;\r\n            case ParticleSystemShapeType1.Edge:\r\n                this.shapeType = ParticleSystemShapeType.SingleSidedEdge;\r\n                break;\r\n            default:\r\n                console.warn(`错误 ParticleShapeModule.shape 值 ${this.shape}`);\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nconst tempPosition = new Vector3(0, 0, 0);\r\nconst tempDir = new Vector3(0, 0, 1);\r\n","import { MinMaxCurveVector3, Vector2 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Script interface for the Size By Speed module.\r\n *\r\n * 粒子系统 缩放随速度变化模块\r\n */\r\nexport class ParticleSizeBySpeedModule extends ParticleModule\r\n{\r\n    /**\r\n     * Set the size over speed on each axis separately.\r\n     *\r\n     * 在每个轴上分别设置生命周期内的大小。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Set the size over speed on each axis separately.\" })\r\n    @oav({ tooltip: '在每个轴上分别设置生命周期内的大小。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * Curve to control particle size based on speed.\r\n     *\r\n     * 基于速度的粒度控制曲线。\r\n     */\r\n    // @oav({ tooltip: \"Curve to control particle size based on speed.\" })\r\n    @oav({ tooltip: '基于速度的粒度控制曲线。' })\r\n    get size()\r\n    {\r\n        return this.size3D.xCurve;\r\n    }\r\n\r\n    set size(v)\r\n    {\r\n        this.size3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Curve to control particle size based on speed.\r\n     *\r\n     * 基于寿命的粒度控制曲线。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Curve to control particle size based on speed.\" })\r\n    @oav({ tooltip: '基于寿命的粒度控制曲线。' })\r\n    size3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 } });\r\n\r\n    /**\r\n     * Apply the size curve between these minimum and maximum speeds.\r\n     *\r\n     * 在这些最小和最大速度之间应用尺寸变化。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '在这些最小和最大速度之间应用颜色渐变。' })\r\n    range = new Vector2(0, 1);\r\n\r\n    /**\r\n     * Size multiplier.\r\n     *\r\n     * 尺寸的乘数。\r\n     */\r\n    get sizeMultiplier()\r\n    {\r\n        return this.size.curveMultiplier;\r\n    }\r\n\r\n    set sizeMultiplier(v)\r\n    {\r\n        this.size.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Size over speed curve for the X axis.\r\n     *\r\n     * X轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get x()\r\n    {\r\n        return this.size3D.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.size3D.xCurve;\r\n    }\r\n\r\n    /**\r\n     * X axis size multiplier.\r\n     *\r\n     * X轴尺寸的乘数。\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Size over speed curve for the Y axis.\r\n     *\r\n     * Y轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get y()\r\n    {\r\n        return this.size3D.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.size3D.yCurve;\r\n    }\r\n\r\n    /**\r\n     * Y axis size multiplier.\r\n     *\r\n     * Y轴尺寸的乘数。\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Size over speed curve for the Z axis.\r\n     *\r\n     * Z轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get z()\r\n    {\r\n        return this.size3D.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.size3D.zCurve;\r\n    }\r\n\r\n    /**\r\n     * Z axis size multiplier.\r\n     *\r\n     * Z轴尺寸的乘数。\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[SizeBySpeedRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n\r\n        const velocity = particle.velocity.length;\r\n        const rate = mathUtil.clamp((velocity - this.range.x) / (this.range.y - this.range.x), 0, 1);\r\n        const size = this.size3D.getValue(rate, particle[SizeBySpeedRate]);\r\n        if (!this.separateAxes)\r\n        {\r\n            size.y = size.z = size.x;\r\n        }\r\n        particle.size.multiply(size);\r\n    }\r\n}\r\n\r\nconst SizeBySpeedRate = '_SizeBySpeed_rate';\r\n","import { MinMaxCurveVector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 缩放随时间变化模块\r\n */\r\nexport class ParticleSizeOverLifetimeModule extends ParticleModule\r\n{\r\n    /**\r\n     * Set the size over lifetime on each axis separately.\r\n     *\r\n     * 在每个轴上分别设置生命周期内的大小。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Set the size over lifetime on each axis separately.\" })\r\n    @oav({ tooltip: '在每个轴上分别设置生命周期内的大小。' })\r\n    separateAxes = false;\r\n\r\n    /**\r\n     * Curve to control particle size based on lifetime.\r\n     *\r\n     * 基于寿命的粒度控制曲线。\r\n     */\r\n    // @oav({ tooltip: \"Curve to control particle size based on lifetime.\" })\r\n    @oav({ tooltip: '基于寿命的粒度控制曲线。' })\r\n    get size()\r\n    {\r\n        return this.size3D.xCurve;\r\n    }\r\n\r\n    set size(v)\r\n    {\r\n        this.size3D.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Size multiplier.\r\n     *\r\n     * 尺寸的乘数。\r\n     */\r\n    get sizeMultiplier()\r\n    {\r\n        return this.size.curveMultiplier;\r\n    }\r\n\r\n    set sizeMultiplier(v)\r\n    {\r\n        this.size.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Curve to control particle size based on lifetime.\r\n     *\r\n     * 基于寿命的粒度控制曲线。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Curve to control particle size based on lifetime.\" })\r\n    @oav({ tooltip: '基于寿命的粒度控制曲线。' })\r\n    size3D = serialization.setValue(new MinMaxCurveVector3(), { xCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, yCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 }, zCurve: { between0And1: true, constant: 1, constantMin: 1, constantMax: 1, curveMultiplier: 1 } });\r\n\r\n    /**\r\n     * Size over lifetime curve for the X axis.\r\n     *\r\n     * X轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get x()\r\n    {\r\n        return this.size3D.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.size3D.xCurve;\r\n    }\r\n\r\n    /**\r\n     * X axis size multiplier.\r\n     *\r\n     * X轴尺寸的乘数。\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Size over lifetime curve for the Y axis.\r\n     *\r\n     * Y轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get y()\r\n    {\r\n        return this.size3D.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.size3D.yCurve;\r\n    }\r\n\r\n    /**\r\n     * Y axis size multiplier.\r\n     *\r\n     * Y轴尺寸的乘数。\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Size over lifetime curve for the Z axis.\r\n     *\r\n     * Z轴的尺寸随生命周期变化曲线。\r\n     */\r\n    get z()\r\n    {\r\n        return this.size3D.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.size3D.zCurve;\r\n    }\r\n\r\n    /**\r\n     * Z axis size multiplier.\r\n     *\r\n     * Z轴尺寸的乘数。\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[SizeOverLifetimeRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        if (!this.enabled) return;\r\n\r\n        const size = this.size3D.getValue(particle.rateAtLifeTime, particle[SizeOverLifetimeRate]);\r\n        if (!this.separateAxes)\r\n        {\r\n            size.y = size.z = size.x;\r\n        }\r\n        particle.size.multiply(size);\r\n    }\r\n}\r\n\r\nconst SizeOverLifetimeRate = '_SizeOverLifetime_rate';\r\n","import { ParticleSystemSubEmitterProperties } from '../enums/ParticleSystemSubEmitterProperties';\r\nimport { ParticleSystemSubEmitterType } from '../enums/ParticleSystemSubEmitterType';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleSystem } from '../ParticleSystem';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Script interface for the SubEmittersModule.\r\n *\r\n * The sub-emitters module allows you to spawn particles in child emitters from the positions of particles in the parent system.\r\n *\r\n * This module triggers child particle emission on events such as the birth, death, and collision of particles in the parent system.\r\n */\r\nexport class ParticleSubEmittersModule extends ParticleModule\r\n{\r\n    /**\r\n     * The total number of sub-emitters.\r\n     */\r\n    get subEmittersCount()\r\n    {\r\n        return this.subEmitters.length;\r\n    }\r\n\r\n    private subEmitters: { subEmitter: ParticleSystem, type: ParticleSystemSubEmitterType, properties: ParticleSystemSubEmitterProperties, emitProbability: number }[] = [];\r\n\r\n    /**\r\n     * Add a new sub-emitter.\r\n     */\r\n    AddSubEmitter(subEmitter: ParticleSystem, type: ParticleSystemSubEmitterType, properties: ParticleSystemSubEmitterProperties, emitProbability: number)\r\n    {\r\n        subEmitter._isSubParticleSystem = true;\r\n\r\n        this.subEmitters.push({ subEmitter, type, properties, emitProbability });\r\n    }\r\n\r\n    /**\r\n     * Gets the probability that the sub-emitter emits particles.\r\n     *\r\n     * @param index The index of the sub-emitter.\r\n     */\r\n    GetSubEmitterEmitProbability(index: number)\r\n    {\r\n        if (!this.subEmitters[index]) return 0;\r\n\r\nreturn this.subEmitters[index].emitProbability;\r\n    }\r\n\r\n    /**\r\n     * Gets the properties of the sub - emitter at the given index.\r\n     *\r\n     * @param index The index of the sub-emitter.\r\n     */\r\n    GetSubEmitterProperties(index: number)\r\n    {\r\n        if (!this.subEmitters[index]) return null;\r\n\r\nreturn this.subEmitters[index].properties;\r\n    }\r\n\r\n    /**\r\n     * Gets the sub - emitter Particle System at the given index.\r\n     *\r\n     * @param index The index of the desired sub-emitter.\r\n     */\r\n    GetSubEmitterSystem(index: number)\r\n    {\r\n        if (!this.subEmitters[index]) return null;\r\n\r\nreturn this.subEmitters[index].subEmitter;\r\n    }\r\n\r\n    /**\r\n     * Gets the type of the sub - emitter at the given index.\r\n     *\r\n     * @param index The index of the desired sub-emitter.\r\n     */\r\n    GetSubEmitterType(index: number)\r\n    {\r\n        if (!this.subEmitters[index]) return null;\r\n\r\nreturn this.subEmitters[index].type;\r\n    }\r\n\r\n    /**\r\n     * Removes a sub - emitter from the given index in the array.\r\n     *\r\n     * @param index The index of the desired sub-emitter.\r\n     */\r\n    RemoveSubEmitter(index: number)\r\n    {\r\n        if (!this.subEmitters[index]) return;\r\n        this.subEmitters.splice(index, 1);\r\n    }\r\n\r\n    /**\r\n     * Sets the probability that the sub - emitter emits particles.\r\n     *\r\n     * @param index The index of the sub-emitter you want to modify.\r\n     * @param emitProbability The probability value.\r\n     */\r\n    SetSubEmitterEmitProbability(index: number, emitProbability: number)\r\n    {\r\n        if (!this.subEmitters[index]) return;\r\n        this.subEmitters[index].emitProbability = emitProbability;\r\n    }\r\n\r\n    /**\r\n     * Sets the properties of the sub - emitter at the given index.\r\n     *\r\n     * @param index The index of the sub-emitter you want to modify.\r\n     * @param properties The new properties to assign to this sub-emitter.\r\n     */\r\n    SetSubEmitterProperties(index: number, properties: ParticleSystemSubEmitterProperties)\r\n    {\r\n        if (!this.subEmitters[index]) return;\r\n        this.subEmitters[index].properties = properties;\r\n    }\r\n\r\n    /**\r\n     * Sets the Particle System to use as the sub - emitter at the given index.\r\n     */\r\n    SetSubEmitterSystem(index: number, subEmitter: ParticleSystem)\r\n    {\r\n        if (!this.subEmitters[index]) return;\r\n        this.subEmitters[index].subEmitter = subEmitter;\r\n    }\r\n\r\n    /**\r\n     * Sets the type of the sub - emitter at the given index.\r\n     *\r\n     * @param index The index of the sub-emitter you want to modify.\r\n     * @param type The new spawning type to assign to this sub-emitter.\r\n     */\r\n    SetSubEmitterType(index: number, type: ParticleSystemSubEmitterType)\r\n    {\r\n        if (!this.subEmitters[index]) return;\r\n        this.subEmitters[index].type = type;\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        for (let i = 0, n = this.subEmittersCount; i < n; i++)\r\n        {\r\n            const emitterType = this.GetSubEmitterType(i);\r\n            if (emitterType === ParticleSystemSubEmitterType.Birth)\r\n            {\r\n                this.particleSystem.TriggerSubEmitter(i, [particle]);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { GeometryLike, Material } from '@feng3d/core';\r\nimport { Vector3 } from '@feng3d/math';\r\nimport { ParticleSystemRenderMode } from '../enums/ParticleSystemRenderMode';\r\nimport { ParticleSystemRenderSpace } from '../enums/ParticleSystemRenderSpace';\r\nimport { ParticleSystemSortMode } from '../enums/ParticleSystemSortMode';\r\nimport { SpriteMaskInteraction } from '../enums/SpriteMaskInteraction';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * Use this class to render particles on to the screen.\r\n */\r\nexport class ParticleSystemRenderer extends ParticleModule\r\n{\r\n    /**\r\n     * The number of currently active custom vertex streams.\r\n     */\r\n    activeVertexStreamsCount: number;\r\n\r\n    /**\r\n     * Control the direction that particles face.\r\n     */\r\n    alignment: ParticleSystemRenderSpace;\r\n\r\n    /**\r\n     * Allow billboard particles to roll around their z-axis.\r\n     */\r\n    allowRoll: boolean;\r\n\r\n    /**\r\n     * How much do the particles stretch depending on the Camera's speed.\r\n     */\r\n    cameraVelocityScale: number;\r\n\r\n    /**\r\n     * Enables GPU Instancing on platforms that support it.\r\n     */\r\n    enableGPUInstancing: boolean;\r\n\r\n    /**\r\n     * Flip a percentage of the particles, along each axis.\r\n     */\r\n    flip: Vector3;\r\n\r\n    /**\r\n     * Enables freeform stretching behavior.\r\n     */\r\n    freeformStretching: boolean;\r\n\r\n    /**\r\n     * How much are the particles stretched in their direction of motion, defined as the length of the particle compared to its width.\r\n     */\r\n    lengthScale: number;\r\n\r\n    /**\r\n     * Specifies how the Particle System Renderer interacts with SpriteMask.\r\n     */\r\n    maskInteraction: SpriteMaskInteraction;\r\n\r\n    /**\r\n     * Clamp the maximum particle size.\r\n     */\r\n    maxParticleSize: number;\r\n\r\n    /**\r\n     * The Mesh that the particle uses instead of a billboarded Texture.\r\n     */\r\n    mesh: GeometryLike;\r\n\r\n    /**\r\n     * The number of Meshes the system uses for particle rendering.\r\n     */\r\n    meshCount: number;\r\n\r\n    /**\r\n     * Clamp the minimum particle size.\r\n     */\r\n    minParticleSize: number;\r\n\r\n    /**\r\n     * Specifies how much a billboard particle orients its normals towards the Camera.\r\n     */\r\n    normalDirection: number;\r\n\r\n    /**\r\n     * Modify the pivot point used for rotating particles.\r\n     */\r\n    pivot: Vector3;\r\n\r\n    /**\r\n     * Specifies how the system draws particles.\r\n     */\r\n    renderMode: ParticleSystemRenderMode;\r\n\r\n    /**\r\n     * Rotate the particles based on the direction they are stretched in.This is added on top of other particle rotation.\r\n     */\r\n    rotateWithStretchDirection: boolean;\r\n\r\n    /**\r\n     * Apply a shadow bias to prevent self - shadowing artifacts.The specified value is the proportion of the particle size.\r\n     */\r\n    shadowBias: number;\r\n\r\n    /**\r\n     * Biases Particle System sorting amongst other transparencies.\r\n     */\r\n    sortingFudge: number;\r\n\r\n    /**\r\n     * Specifies how to sort particles within a system.\r\n     */\r\n    sortMode: ParticleSystemSortMode;\r\n\r\n    /**\r\n     * Set the Material that the TrailModule uses to attach trails to particles.\r\n     */\r\n    trailMaterial: Material;\r\n\r\n    /**\r\n     * Specifies how much particles stretch depending on their velocity.\r\n     */\r\n    velocityScale: number;\r\n}\r\n","import { MinMaxCurve, MinMaxCurveMode, Vector2 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { mathUtil } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemAnimationType } from '../enums/ParticleSystemAnimationType';\r\nimport { UVChannelFlags } from '../enums/UVChannelFlags';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统纹理表动画模块。\r\n */\r\nexport class ParticleTextureSheetAnimationModule extends ParticleModule\r\n{\r\n    /**\r\n     * Defines the tiling of the texture.\r\n     *\r\n     * 定义纹理的平铺。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Defines the tiling of the texture.\" })\r\n    @oav({ tooltip: '定义纹理的平铺。' })\r\n    tiles = new Vector2(1, 1);\r\n\r\n    /**\r\n     * Specifies the animation type.\r\n     *\r\n     * 指定动画类型。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Specifies the animation type.\" })\r\n    @oav({ tooltip: '指定动画类型。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemAnimationType } })\r\n    animation = ParticleSystemAnimationType.WholeSheet;\r\n\r\n    /**\r\n     * Curve to control which frame of the texture sheet animation to play.\r\n     *\r\n     * 曲线控制哪个帧的纹理表动画播放。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Curve to control which frame of the texture sheet animation to play.\" })\r\n    @oav({ tooltip: '曲线控制哪个帧的纹理表动画播放。' })\r\n    frameOverTime = serialization.setValue(new MinMaxCurve(), { mode: MinMaxCurveMode.Curve, curveMin: { keys: [{ time: 0, value: 0, inTangent: 1, outTangent: 1 }, { time: 1, value: 1, inTangent: 1, outTangent: 1 }] } });\r\n\r\n    /**\r\n     * Use a random row of the texture sheet for each particle emitted.\r\n     *\r\n     * 对每个发射的粒子使用纹理表的随机行。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Use a random row of the texture sheet for each particle emitted.\" })\r\n    @oav({ tooltip: '对每个发射的粒子使用纹理表的随机行。' })\r\n    useRandomRow = true;\r\n\r\n    /**\r\n     * Explicitly select which row of the texture sheet is used, when useRandomRow is set to false.\r\n     *\r\n     * 当useRandomRow设置为false时，显式选择使用纹理表的哪一行。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Explicitly select which row of the texture sheet is used, when useRandomRow is set to false.\" })\r\n    @oav({ tooltip: '当useRandomRow设置为false时，显式选择使用纹理表的哪一行。' })\r\n    get rowIndex() { return this._rowIndex; }\r\n    set rowIndex(v)\r\n    {\r\n        this._rowIndex = mathUtil.clamp(v, 0, this.tiles.y - 1);\r\n    }\r\n    private _rowIndex = 0;\r\n\r\n    /**\r\n     * Define a random starting frame for the texture sheet animation.\r\n     *\r\n     * 为纹理表动画定义一个随机的起始帧。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Define a random starting frame for the texture sheet animation.\" })\r\n    @oav({ tooltip: '为纹理表动画定义一个随机的起始帧。' })\r\n    startFrame = new MinMaxCurve();\r\n\r\n    /**\r\n     * Specifies how many times the animation will loop during the lifetime of the particle.\r\n     *\r\n     * 指定在粒子的生命周期内动画将循环多少次。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Specifies how many times the animation will loop during the lifetime of the particle.\" })\r\n    @oav({ tooltip: '指定在粒子的生命周期内动画将循环多少次。' })\r\n    cycleCount = 1;\r\n\r\n    /**\r\n     * Flip the UV coordinate on particles, causing them to appear mirrored.\r\n     *\r\n     * 在粒子上翻转UV坐标，使它们呈现镜像翻转。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Flip the UV coordinate on particles, causing them to appear mirrored.\" })\r\n    @oav({ tooltip: '在粒子上翻转UV坐标，使它们呈现镜像翻转。' })\r\n    flipUV = new Vector2();\r\n\r\n    /**\r\n     * Choose which UV channels will receive texture animation.\r\n     *\r\n     * 选择哪个UV通道将接收纹理动画。\r\n     *\r\n     * todo 目前引擎中只有一套UV\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Choose which UV channels will receive texture animation.\", component: \"OAVEnum\", componentParam: { enumClass: UVChannelFlags } })\r\n    @oav({ tooltip: '选择哪个UV通道将接收纹理动画。', component: 'OAVEnum', componentParam: { enumClass: UVChannelFlags } })\r\n    uvChannelMask = UVChannelFlags.Everything;\r\n\r\n    /**\r\n     * Flip the U coordinate on particles, causing them to appear mirrored horizontally.\r\n     *\r\n     * 在粒子上翻转U坐标，使它们呈现水平镜像。\r\n     */\r\n    get flipU()\r\n    {\r\n        return this.flipUV.x;\r\n    }\r\n\r\n    set flipU(v)\r\n    {\r\n        this.flipUV.x = v;\r\n    }\r\n\r\n    /**\r\n     * Flip the V coordinate on particles, causing them to appear mirrored vertically.\r\n     *\r\n     * 在粒子上翻转V坐标，使它们垂直镜像。\r\n     */\r\n    get flipV()\r\n    {\r\n        return this.flipUV.y;\r\n    }\r\n\r\n    set flipV(v)\r\n    {\r\n        this.flipUV.y = v;\r\n    }\r\n\r\n    /**\r\n     * Frame over time mutiplier.\r\n     *\r\n     * 帧随时间变化的乘数。\r\n     */\r\n    get frameOverTimeMultiplier()\r\n    {\r\n        return this.frameOverTime.curveMultiplier;\r\n    }\r\n\r\n    set frameOverTimeMultiplier(v)\r\n    {\r\n        this.frameOverTime.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Defines the tiling of the texture in the X axis.\r\n     *\r\n     * 定义纹理在X轴上的平铺。\r\n     */\r\n    get numTilesX()\r\n    {\r\n        return this.tiles.x;\r\n    }\r\n\r\n    set numTilesX(v)\r\n    {\r\n        this.tiles.x = v;\r\n    }\r\n\r\n    /**\r\n     * Defines the tiling of the texture in the Y axis.\r\n     *\r\n     * 定义纹理在Y轴上的平铺。\r\n     */\r\n    get numTilesY()\r\n    {\r\n        return this.tiles.y;\r\n    }\r\n\r\n    set numTilesY(v)\r\n    {\r\n        this.tiles.y = v;\r\n    }\r\n\r\n    /**\r\n     * Starting frame multiplier.\r\n     *\r\n     * 起始帧乘数。\r\n     */\r\n    get startFrameMultiplier()\r\n    {\r\n        return this.startFrame.curveMultiplier;\r\n    }\r\n\r\n    set startFrameMultiplier(v)\r\n    {\r\n        this.startFrame.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[TextureSheetAnimationFrameOverTime] = Math.random();\r\n        particle[TextureSheetAnimationStartFrame] = Math.random();\r\n        particle[TextureSheetAnimationRandomRow] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        particle.tilingOffset.set(1, 1, 0, 0);\r\n        particle.flipUV.set(0, 0);\r\n        if (!this.enabled) return;\r\n\r\n        const segmentsX = this.tiles.x;\r\n        const segmentsY = this.tiles.y;\r\n        const step = this.tiles.clone().reciprocal();\r\n        const uvPos = new Vector2();\r\n        const frameOverTime = this.frameOverTime.getValue(particle.rateAtLifeTime, particle[TextureSheetAnimationFrameOverTime]);\r\n        let frameIndex = this.startFrame.getValue(particle.rateAtLifeTime, particle[TextureSheetAnimationStartFrame]);\r\n        let rowIndex = this.rowIndex;\r\n        const cycleCount = this.cycleCount;\r\n\r\n        if (this.animation === ParticleSystemAnimationType.WholeSheet)\r\n        {\r\n            frameIndex = Math.round(frameIndex + frameOverTime * segmentsX * segmentsY * cycleCount);\r\n            uvPos.set(frameIndex % segmentsX, Math.floor(frameIndex / segmentsX) % segmentsY).scale(step);\r\n        }\r\n        else if (this.animation === ParticleSystemAnimationType.SingleRow)\r\n        {\r\n            frameIndex = Math.round(frameIndex + frameOverTime * segmentsX * cycleCount);\r\n            if (this.useRandomRow)\r\n            {\r\n                rowIndex = Math.round(segmentsY * particle[TextureSheetAnimationRandomRow]);\r\n            }\r\n            uvPos.set(frameIndex % segmentsX, rowIndex).scale(step);\r\n        }\r\n\r\n        particle.tilingOffset.set(step.x, step.y, uvPos.x, uvPos.y);\r\n        particle.flipUV = this.flipUV;\r\n    }\r\n}\r\n\r\nconst TextureSheetAnimationFrameOverTime = '_TextureSheetAnimation_rateAtLifeTime';\r\nconst TextureSheetAnimationStartFrame = '_TextureSheetAnimation_startFrame';\r\nconst TextureSheetAnimationRandomRow = '_TextureSheetAnimation_randomRow';\r\n","import { MinMaxCurveVector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { ParticleSystemSimulationSpace } from '../enums/ParticleSystemSimulationSpace';\r\nimport { Particle } from '../Particle';\r\nimport { ParticleModule } from './ParticleModule';\r\n\r\n/**\r\n * 粒子系统 速度随时间变化模块\r\n *\r\n * Controls the velocity of each particle during its lifetime.\r\n * 控制每个粒子在其生命周期内的速度。\r\n */\r\nexport class ParticleVelocityOverLifetimeModule extends ParticleModule\r\n{\r\n    __class__: 'feng3d.ParticleVelocityOverLifetimeModule';\r\n\r\n    /**\r\n     * Curve to control particle speed based on lifetime.\r\n     *\r\n     * 基于寿命的粒子速度控制曲线。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Curve to control particle speed based on lifetime.\" })\r\n    @oav({ tooltip: '基于寿命的粒子速度控制曲线。' })\r\n    velocity = new MinMaxCurveVector3();\r\n\r\n    /**\r\n     * Specifies if the velocities are in local space (rotated with the transform) or world space.\r\n     *\r\n     * 指定速度是在局部空间(与变换一起旋转)还是在世界空间。\r\n     */\r\n    @serialize\r\n    // @oav({ tooltip: \"Specifies if the velocities are in local space (rotated with the transform) or world space.\", component: \"OAVEnum\", componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    @oav({ tooltip: '指定速度是在局部空间(与变换一起旋转)还是在世界空间。', component: 'OAVEnum', componentParam: { enumClass: ParticleSystemSimulationSpace } })\r\n    space = ParticleSystemSimulationSpace.Local;\r\n\r\n    /**\r\n     * Curve to control particle speed based on lifetime, on the X axis.\r\n     *\r\n     * 曲线控制粒子速度基于寿命，在X轴上。\r\n     */\r\n    get x()\r\n    {\r\n        return this.velocity.xCurve;\r\n    }\r\n\r\n    set x(v)\r\n    {\r\n        this.velocity.xCurve = v;\r\n    }\r\n\r\n    /**\r\n     * X axis speed multiplier.\r\n     *\r\n     * X轴速度倍增器。\r\n     */\r\n    get xMultiplier()\r\n    {\r\n        return this.x.curveMultiplier;\r\n    }\r\n\r\n    set xMultiplier(v)\r\n    {\r\n        this.x.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Curve to control particle speed based on lifetime, on the Y axis.\r\n     *\r\n     * 曲线控制粒子速度基于寿命，在Y轴上。\r\n     */\r\n    get y()\r\n    {\r\n        return this.velocity.yCurve;\r\n    }\r\n\r\n    set y(v)\r\n    {\r\n        this.velocity.yCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Y axis speed multiplier.\r\n     *\r\n     * Y轴速度倍增器。\r\n     */\r\n    get yMultiplier()\r\n    {\r\n        return this.y.curveMultiplier;\r\n    }\r\n\r\n    set yMultiplier(v)\r\n    {\r\n        this.y.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * Curve to control particle speed based on lifetime, on the Z axis.\r\n     *\r\n     * 曲线控制粒子速度基于寿命，在Z轴上。\r\n     */\r\n    get z()\r\n    {\r\n        return this.velocity.zCurve;\r\n    }\r\n\r\n    set z(v)\r\n    {\r\n        this.velocity.zCurve = v;\r\n    }\r\n\r\n    /**\r\n     * Z axis speed multiplier.\r\n     *\r\n     * Z轴速度倍增器。\r\n     */\r\n    get zMultiplier()\r\n    {\r\n        return this.z.curveMultiplier;\r\n    }\r\n\r\n    set zMultiplier(v)\r\n    {\r\n        this.z.curveMultiplier = v;\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    initParticleState(particle: Particle)\r\n    {\r\n        particle[VelocityOverLifetimeRate] = Math.random();\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    updateParticleState(particle: Particle)\r\n    {\r\n        this.particleSystem.removeParticleVelocity(particle, VelocityOverLifetimePreVelocity);\r\n        if (!this.enabled) return;\r\n\r\n        const velocity = this.velocity.getValue(particle.rateAtLifeTime, particle[VelocityOverLifetimeRate]);\r\n        this.particleSystem.addParticleVelocity(particle, velocity, this.space, VelocityOverLifetimePreVelocity);\r\n    }\r\n}\r\n\r\nconst VelocityOverLifetimeRate = '_VelocityOverLifetime_rate';\r\nconst VelocityOverLifetimePreVelocity = '_VelocityOverLifetime_preVelocity';\r\n","import { Vector3, Color4, Vector4, Vector2 } from '@feng3d/math';\r\nimport { ParticleSystemEmitInfo } from './ParticleSystem';\r\n\r\n/**\r\n * 粒子\r\n */\r\nexport class Particle\r\n{\r\n\t/**\r\n\t * 出生时间\r\n\t */\r\n\tbirthTime = 0;\r\n\r\n\t/**\r\n\t * 寿命\r\n\t */\r\n\tlifetime = 5;\r\n\r\n\t/**\r\n\t * 位置\r\n\t */\r\n\tposition = new Vector3();\r\n\r\n\t/**\r\n\t * 速度\r\n\t */\r\n\tvelocity = new Vector3();\r\n\r\n\t/**\r\n\t * 加速度\r\n\t */\r\n\tacceleration = new Vector3();\r\n\r\n\t/**\r\n\t * 旋转角度\r\n\t */\r\n\trotation = new Vector3();\r\n\r\n\t/**\r\n\t * 角速度\r\n\t */\r\n\tangularVelocity = new Vector3();\r\n\r\n\t/**\r\n\t * 尺寸\r\n\t */\r\n\tsize = new Vector3(1, 1, 1);\r\n\r\n\t/**\r\n\t * 起始尺寸\r\n\t */\r\n\tstartSize = new Vector3(1, 1, 1);\r\n\r\n\t/**\r\n\t * 颜色\r\n\t */\r\n\tcolor = new Color4();\r\n\r\n\t/**\r\n\t * 起始颜色\r\n\t */\r\n\tstartColor = new Color4();\r\n\r\n\t/**\r\n\t * 纹理UV缩放和偏移。\r\n\t */\r\n\ttilingOffset = new Vector4(1, 1, 0, 0);\r\n\r\n\t/**\r\n\t * 在粒子上翻转UV坐标，使它们呈现水平镜像。\r\n\t */\r\n\tflipUV = new Vector2();\r\n\r\n\t/**\r\n\t * 出生时在周期的位置（在发射时被更新）\r\n\t */\r\n\tbirthRateAtDuration: number;\r\n\r\n\t/**\r\n\t * 此时粒子在生命周期的位置（在更新状态前被更新）\r\n\t */\r\n\trateAtLifeTime: number;\r\n\r\n\t/**\r\n\t * 缓存，用于存储计算时临时数据\r\n\t */\r\n\tcache = {};\r\n\r\n\t/**\r\n\t * 上次记录的时间\r\n\t */\r\n\tpreTime: number;\r\n\r\n\t/**\r\n\t * 当前记录的时间\r\n\t */\r\n\tcurTime: number;\r\n\r\n\t/**\r\n\t * 上次记录位置\r\n\t */\r\n\tprePosition: Vector3;\r\n\r\n\t/**\r\n\t * 当前记录位置\r\n\t */\r\n\tcurPosition: Vector3;\r\n\r\n\t/**\r\n\t * 子发射器信息\r\n\t */\r\n\tsubEmitInfo: ParticleSystemEmitInfo;\r\n\r\n\t/**\r\n\t * 更新状态\r\n\t */\r\n\tupdateState(time: number)\r\n\t{\r\n\t\tconst preTime = Math.max(this.curTime, this.birthTime);\r\n\t\ttime = Math.max(this.birthTime, time);\r\n\r\n\t\t//\r\n\t\tconst deltaTime = time - preTime;\r\n\r\n\t\t// 计算速度\r\n\t\tthis.velocity.add(this.acceleration.scaleNumberTo(deltaTime));\r\n\r\n\t\t// 计算位置\r\n\t\tthis.position.x += this.velocity.x * deltaTime;\r\n\t\tthis.position.y += this.velocity.y * deltaTime;\r\n\t\tthis.position.z += this.velocity.z * deltaTime;\r\n\r\n\t\t// 计算角度\r\n\t\tthis.rotation.add(this.angularVelocity.scaleNumberTo(deltaTime));\r\n\r\n\t\t// 记录粒子此次移动的起始时间以及起始位置\r\n\t\tthis.prePosition = this.curPosition.clone();\r\n\t\tthis.curPosition = this.position.clone();\r\n\t\tthis.preTime = this.curTime;\r\n\t\tthis.curTime = time;\r\n\t}\r\n}\r\n","import { Texture2D, Material } from '@feng3d/core';\r\nimport { Color4, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderConfig, BlendFactor, ColorMask, CullFace } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        Particles_Additive: ParticlesAdditiveUniforms\r\n    }\r\n\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Particle-Material': Material;\r\n    }\r\n}\r\n\r\n/**\r\n * UnityShader \"Particles/Additive\"\r\n */\r\nexport class ParticlesAdditiveUniforms\r\n{\r\n    __class__: 'feng3d.ParticlesAdditiveUniforms';\r\n\r\n    @serialize\r\n    @oav()\r\n    _TintColor = new Color4(0.5, 0.5, 0.5, 0.5);\r\n\r\n    /**\r\n     * 粒子贴图\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子贴图' })\r\n    _MainTex = Texture2D.defaultParticle;\r\n\r\n    /**\r\n     * 粒子贴图使用的UV变换\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子贴图使用的UV变换' })\r\n    _MainTex_ST = new Vector4(1, 1, 0, 0);\r\n\r\n    /**\r\n     * @todo\r\n     */\r\n    @serialize\r\n    @oav()\r\n    _InvFade = 1.0;\r\n}\r\n\r\nshaderConfig.shaders['Particles_Additive'].cls = ParticlesAdditiveUniforms;\r\nshaderConfig.shaders['Particles_Additive'].renderParams = {\r\n    enableBlend: true,\r\n    sfactor: BlendFactor.SRC_ALPHA,\r\n    dfactor: BlendFactor.ONE,\r\n    colorMask: ColorMask.RGB,\r\n    cullFace: CullFace.NONE,\r\n    depthMask: false,\r\n};\r\n\r\nMaterial.setDefault('Particle-Material', { shaderName: 'Particles_Additive' });\r\n","import { Texture2D } from '@feng3d/core';\r\nimport { Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderConfig, BlendFactor, ColorMask, CullFace } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\n/**\r\n * UnityShader \"Particles/Alpha Blended Premultiply\"\r\n */\r\nexport class ParticlesAlphaBlendedPremultiplyUniforms\r\n{\r\n    __class__: 'feng3d.ParticlesAlphaBlendedPremultiplyUniforms';\r\n\r\n    /**\r\n     * 粒子贴图\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子贴图' })\r\n    _MainTex = Texture2D.defaultParticle;\r\n\r\n    /**\r\n     * 粒子贴图使用的UV变换\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子贴图使用的UV变换' })\r\n    _MainTex_ST = new Vector4(1, 1, 0, 0);\r\n\r\n    /**\r\n     * @todo\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_softParticlesFactor = 1.0;\r\n}\r\n\r\nshaderConfig.shaders['Particles_AlphaBlendedPremultiply'].cls = ParticlesAlphaBlendedPremultiplyUniforms;\r\nshaderConfig.shaders['Particles_AlphaBlendedPremultiply'].renderParams = {\r\n    enableBlend: true,\r\n    sfactor: BlendFactor.ONE,\r\n    dfactor: BlendFactor.ONE_MINUS_SRC_ALPHA,\r\n    colorMask: ColorMask.RGB,\r\n    cullFace: CullFace.NONE,\r\n    depthMask: false,\r\n};\r\n","import { AddComponentMenu, Camera, createNodeMenu, GameObject, Geometry, Material, QuadGeometry, RegisterComponent, Renderable, RunEnvironment, Scene, Transform } from '@feng3d/core';\r\nimport { Matrix3x3, Matrix4x4, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { ArrayUtils } from '@feng3d/polyfill';\r\nimport { Attribute, RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watcher } from '@feng3d/watcher';\r\nimport { ParticleSystemSimulationSpace } from './enums/ParticleSystemSimulationSpace';\r\nimport { ParticleColorBySpeedModule } from './modules/ParticleColorBySpeedModule';\r\nimport { ParticleColorOverLifetimeModule } from './modules/ParticleColorOverLifetimeModule';\r\nimport { ParticleEmissionModule } from './modules/ParticleEmissionModule';\r\nimport { ParticleForceOverLifetimeModule } from './modules/ParticleForceOverLifetimeModule';\r\nimport { ParticleInheritVelocityModule } from './modules/ParticleInheritVelocityModule';\r\nimport { ParticleLimitVelocityOverLifetimeModule } from './modules/ParticleLimitVelocityOverLifetimeModule';\r\nimport { ParticleMainModule } from './modules/ParticleMainModule';\r\nimport { ParticleModule } from './modules/ParticleModule';\r\nimport { ParticleNoiseModule } from './modules/ParticleNoiseModule';\r\nimport { ParticleRotationBySpeedModule } from './modules/ParticleRotationBySpeedModule';\r\nimport { ParticleRotationOverLifetimeModule } from './modules/ParticleRotationOverLifetimeModule';\r\nimport { ParticleShapeModule } from './modules/ParticleShapeModule';\r\nimport { ParticleSizeBySpeedModule } from './modules/ParticleSizeBySpeedModule';\r\nimport { ParticleSizeOverLifetimeModule } from './modules/ParticleSizeOverLifetimeModule';\r\nimport { ParticleSubEmittersModule } from './modules/ParticleSubEmittersModule';\r\nimport { ParticleTextureSheetAnimationModule } from './modules/ParticleTextureSheetAnimationModule';\r\nimport { ParticleVelocityOverLifetimeModule } from './modules/ParticleVelocityOverLifetimeModule';\r\nimport { Particle } from './Particle';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        ParticleSystem: ParticleSystem\r\n    }\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        'Billboard-Geometry': QuadGeometry;\r\n    }\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        'Particle System': GameObject;\r\n    }\r\n\r\n    export interface MixinsGameObjectEventMap\r\n    {\r\n        /**\r\n         * 粒子系统播放完一个周期\r\n         */\r\n        particleCycled: ParticleSystem;\r\n\r\n        /**\r\n         * 粒子效果播放结束\r\n         */\r\n        particleCompleted: ParticleSystem;\r\n    }\r\n}\r\n\r\n/**\r\n * 粒子系统\r\n */\r\n@AddComponentMenu('Effects/ParticleSystem')\r\n@RegisterComponent()\r\nexport class ParticleSystem extends Renderable\r\n{\r\n    __class__: 'feng3d.ParticleSystem';\r\n\r\n    /**\r\n     * Is the particle system playing right now ?\r\n     *\r\n     * 粒子系统正在运行吗?\r\n     */\r\n    get isPlaying()\r\n    {\r\n        return this._isPlaying;\r\n    }\r\n    private _isPlaying = false;\r\n\r\n    /**\r\n     * Is the particle system stopped right now ?\r\n     *\r\n     * 粒子系统现在停止了吗?\r\n     */\r\n    get isStopped()\r\n    {\r\n        return !this._isPlaying && this.time === 0;\r\n    }\r\n\r\n    /**\r\n     * Is the particle system paused right now ?\r\n     *\r\n     * 粒子系统现在暂停了吗?\r\n     */\r\n    get isPaused()\r\n    {\r\n        return !this._isPlaying && this.time !== 0;\r\n    }\r\n\r\n    /**\r\n     * The current number of particles (Read Only).\r\n     *\r\n     * 当前粒子数(只读)。\r\n     */\r\n    get particleCount()\r\n    {\r\n        return this._activeParticles.length;\r\n    }\r\n\r\n    /**\r\n     * Playback position in seconds.\r\n     *\r\n     * 回放位置(秒)\r\n     */\r\n    time = 0;\r\n\r\n    @serialize\r\n    @oav({ block: 'Main', component: 'OAVObjectView' })\r\n    get main() { return this._main; }\r\n    set main(v)\r\n    {\r\n        if (this._main)\r\n        {\r\n            watcher.unwatch(this._main, 'simulationSpace', this._simulationSpaceChanged, this);\r\n        }\r\n        ArrayUtils.replace(this._modules, this._main, v);\r\n        v.particleSystem = this;\r\n        this._main = v;\r\n        watcher.watch(this._main, 'simulationSpace', this._simulationSpaceChanged, this);\r\n    }\r\n    private _main: ParticleMainModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Emission', component: 'OAVObjectView' })\r\n    get emission() { return this._emission; }\r\n    set emission(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._emission, v);\r\n        v.particleSystem = this;\r\n        this._emission = v;\r\n    }\r\n    private _emission: ParticleEmissionModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Shape', component: 'OAVObjectView' })\r\n    get shape() { return this._shape; }\r\n    set shape(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._shape, v);\r\n        v.particleSystem = this;\r\n        this._shape = v;\r\n    }\r\n    private _shape: ParticleShapeModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Velocity Over Lifetime', component: 'OAVObjectView' })\r\n    get velocityOverLifetime() { return this._velocityOverLifetime; }\r\n    set velocityOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._velocityOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._velocityOverLifetime = v;\r\n    }\r\n    private _velocityOverLifetime: ParticleVelocityOverLifetimeModule;\r\n\r\n    @serialize\r\n    // @oav({ tooltip: \"limit velocity over lifetime module.\", block: \"limitVelocityOverLifetime\", component: \"OAVObjectView\" })\r\n    @oav({ tooltip: '基于时间轴限制速度模块。', block: 'Limit Velocity Over Lifetime', component: 'OAVObjectView' })\r\n    get limitVelocityOverLifetime() { return this._limitVelocityOverLifetime; }\r\n    set limitVelocityOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._limitVelocityOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._limitVelocityOverLifetime = v;\r\n    }\r\n    private _limitVelocityOverLifetime: ParticleLimitVelocityOverLifetimeModule;\r\n\r\n    /**\r\n     * Script interface for the Particle System velocity inheritance module.\r\n     *\r\n     * 粒子系统速度继承模块。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子系统速度继承模块。', block: 'Inherit Velocity', component: 'OAVObjectView' })\r\n    get inheritVelocity() { return this._inheritVelocity; }\r\n    set inheritVelocity(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._inheritVelocity, v);\r\n        v.particleSystem = this;\r\n        this._inheritVelocity = v;\r\n    }\r\n    private _inheritVelocity: ParticleInheritVelocityModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Force Over Lifetime', component: 'OAVObjectView' })\r\n    get forceOverLifetime() { return this._forceOverLifetime; }\r\n    set forceOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._forceOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._forceOverLifetime = v;\r\n    }\r\n    private _forceOverLifetime: ParticleForceOverLifetimeModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Color Over Lifetime', component: 'OAVObjectView' })\r\n    get colorOverLifetime() { return this._colorOverLifetime; }\r\n    set colorOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._colorOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._colorOverLifetime = v;\r\n    }\r\n    private _colorOverLifetime: ParticleColorOverLifetimeModule;\r\n\r\n    /**\r\n     * 颜色随速度变化模块。\r\n     */\r\n    @serialize\r\n    @oav({ block: 'Color By Speed', component: 'OAVObjectView' })\r\n    get colorBySpeed() { return this._colorBySpeed; }\r\n    set colorBySpeed(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._colorBySpeed, v);\r\n        v.particleSystem = this;\r\n        this._colorBySpeed = v;\r\n    }\r\n    private _colorBySpeed: ParticleColorBySpeedModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'sizeOverLifetime', component: 'OAVObjectView' })\r\n    get sizeOverLifetime() { return this._sizeOverLifetime; }\r\n    set sizeOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._sizeOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._sizeOverLifetime = v;\r\n    }\r\n    private _sizeOverLifetime: ParticleSizeOverLifetimeModule;\r\n\r\n    /**\r\n     * 缩放随速度变化模块\r\n     */\r\n    @serialize\r\n    @oav({ block: 'Size By Speed', component: 'OAVObjectView' })\r\n    get sizeBySpeed() { return this._sizeBySpeed; }\r\n    set sizeBySpeed(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._sizeBySpeed, v);\r\n        v.particleSystem = this;\r\n        this._sizeBySpeed = v;\r\n    }\r\n    private _sizeBySpeed: ParticleSizeBySpeedModule;\r\n\r\n    @serialize\r\n    @oav({ block: 'Rotation Over Lifetime', component: 'OAVObjectView' })\r\n    get rotationOverLifetime() { return this._rotationOverLifetime; }\r\n    set rotationOverLifetime(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._rotationOverLifetime, v);\r\n        v.particleSystem = this;\r\n        this._rotationOverLifetime = v;\r\n    }\r\n    private _rotationOverLifetime: ParticleRotationOverLifetimeModule;\r\n\r\n    /**\r\n     * 旋转角度随速度变化模块\r\n     */\r\n    @serialize\r\n    @oav({ block: 'Rotation By Speed', component: 'OAVObjectView' })\r\n    get rotationBySpeed() { return this._rotationBySpeed; }\r\n    set rotationBySpeed(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._rotationBySpeed, v);\r\n        v.particleSystem = this;\r\n        this._rotationBySpeed = v;\r\n    }\r\n    private _rotationBySpeed: ParticleRotationBySpeedModule;\r\n\r\n    /**\r\n     * 旋转角度随速度变化模块\r\n     */\r\n    @serialize\r\n    @oav({ block: 'Noise', component: 'OAVObjectView' })\r\n    get noise() { return this._noise; }\r\n    set noise(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._noise, v);\r\n        v.particleSystem = this;\r\n        this._noise = v;\r\n    }\r\n    private _noise: ParticleNoiseModule;\r\n\r\n    /**\r\n     * 旋转角度随速度变化模块\r\n     */\r\n    @serialize\r\n    @oav({ block: 'Sub Emitters', component: 'OAVObjectView' })\r\n    get subEmitters() { return this._subEmitters; }\r\n    set subEmitters(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._subEmitters, v);\r\n        v.particleSystem = this;\r\n        this._subEmitters = v;\r\n    }\r\n    private _subEmitters: ParticleSubEmittersModule;\r\n\r\n    /**\r\n     * 粒子系统纹理表动画模块。\r\n     */\r\n    @serialize\r\n    @oav({ tooltip: '粒子系统纹理表动画模块。', block: 'Texture Sheet Animation', component: 'OAVObjectView' })\r\n    get textureSheetAnimation() { return this._textureSheetAnimation; }\r\n    set textureSheetAnimation(v)\r\n    {\r\n        ArrayUtils.replace(this._modules, this._textureSheetAnimation, v);\r\n        v.particleSystem = this;\r\n        this._textureSheetAnimation = v;\r\n    }\r\n    private _textureSheetAnimation: ParticleTextureSheetAnimationModule;\r\n\r\n    @oav({ tooltip: '粒子系统渲染模块。', block: 'Renderer' })\r\n    geometry = Geometry.getDefault('Billboard-Geometry');\r\n\r\n    @oav({ block: 'Renderer' })\r\n    material = Material.getDefault('Particle-Material');\r\n\r\n    @oav({ block: 'Renderer' })\r\n    @serialize\r\n    castShadows = true;\r\n\r\n    @oav({ block: 'Renderer' })\r\n    @serialize\r\n    receiveShadows = true;\r\n\r\n    get single() { return true; }\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.main = new ParticleMainModule();\r\n        this.emission = new ParticleEmissionModule();\r\n        this.shape = new ParticleShapeModule();\r\n        this.velocityOverLifetime = new ParticleVelocityOverLifetimeModule();\r\n        this.inheritVelocity = new ParticleInheritVelocityModule();\r\n        this.forceOverLifetime = new ParticleForceOverLifetimeModule();\r\n        this.limitVelocityOverLifetime = new ParticleLimitVelocityOverLifetimeModule();\r\n        this.colorOverLifetime = new ParticleColorOverLifetimeModule();\r\n        this.colorBySpeed = new ParticleColorBySpeedModule();\r\n        this.sizeOverLifetime = new ParticleSizeOverLifetimeModule();\r\n        this.sizeBySpeed = new ParticleSizeBySpeedModule();\r\n        this.rotationOverLifetime = new ParticleRotationOverLifetimeModule();\r\n        this.rotationBySpeed = new ParticleRotationBySpeedModule();\r\n        this.noise = new ParticleNoiseModule();\r\n        this.subEmitters = new ParticleSubEmittersModule();\r\n        this.textureSheetAnimation = new ParticleTextureSheetAnimationModule();\r\n\r\n        this.main.enabled = true;\r\n        this.emission.enabled = true;\r\n        this.shape.enabled = true;\r\n    }\r\n\r\n    update(interval: number)\r\n    {\r\n        if (!this.isPlaying) return;\r\n\r\n        const deltaTime = this.main.simulationSpeed * interval / 1000;\r\n        this.time = this.time + deltaTime;\r\n\r\n        const emitInfo = this._emitInfo;\r\n\r\n        emitInfo.preTime = emitInfo.currentTime;\r\n        emitInfo.currentTime = this.time - emitInfo.startDelay;\r\n        emitInfo.preWorldPos.copy(emitInfo.currentWorldPos);\r\n\r\n        // 粒子系统位置\r\n        emitInfo.currentWorldPos.copy(this.transform.worldPosition);\r\n\r\n        // 粒子系统位移\r\n        emitInfo.moveVec.copy(emitInfo.currentWorldPos).sub(emitInfo.preWorldPos);\r\n        // 粒子系统速度\r\n        emitInfo.speed.copy(emitInfo.moveVec).divideNumber(deltaTime);\r\n\r\n        this._modules.forEach((m) =>\r\n        {\r\n            m.update(deltaTime);\r\n        });\r\n\r\n        this._updateActiveParticlesState(deltaTime);\r\n\r\n        // 完成一个循环\r\n        if (this.main.loop && Math.floor(emitInfo.preTime / this.main.duration) < Math.floor(emitInfo.currentTime / this.main.duration))\r\n        {\r\n            // 重新计算喷发概率\r\n            this.emission.bursts.forEach((element) =>\r\n            {\r\n                element.calculateProbability();\r\n            });\r\n            this.emit('particleCycled', this);\r\n        }\r\n\r\n        // 发射粒子\r\n        if (!this._isSubParticleSystem) // 子粒子系统自身不会自动发射粒子\r\n        {\r\n            const emits = this._emit(emitInfo);\r\n\r\n            emits.sort((a, b) => a.time - b.time);\r\n            emits.forEach((v) =>\r\n            {\r\n                this._emitParticles(v);\r\n            });\r\n        }\r\n\r\n        // 判断非循环的效果是否播放结束\r\n        if (!this.main.loop && this._activeParticles.length === 0 && emitInfo.currentTime > this.main.duration)\r\n        {\r\n            this.stop();\r\n            this.emit('particleCompleted', this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 停止\r\n     */\r\n    stop()\r\n    {\r\n        this._isPlaying = false;\r\n        this.time = 0;\r\n\r\n        this._particlePool = this._particlePool.concat(this._activeParticles);\r\n        this._activeParticles.length = 0;\r\n    }\r\n\r\n    /**\r\n     * 播放\r\n     */\r\n    play()\r\n    {\r\n        this._isPlaying = true;\r\n        this.time = 0;\r\n\r\n        this._particlePool = this._particlePool.concat(this._activeParticles);\r\n        this._activeParticles.length = 0;\r\n\r\n        const startDelay = this.main.startDelay.getValue(Math.random());\r\n\r\n        this._emitInfo\r\n            = {\r\n            preTime: -startDelay,\r\n            currentTime: -startDelay,\r\n            preWorldPos: new Vector3(),\r\n            currentWorldPos: new Vector3(),\r\n            rateAtDuration: 0,\r\n            _leftRateOverDistance: 0,\r\n            _isRateOverDistance: false,\r\n            startDelay,\r\n            moveVec: new Vector3(),\r\n            speed: new Vector3(),\r\n            position: new Vector3(),\r\n        };\r\n\r\n        // 重新计算喷发概率\r\n        this.emission.bursts.forEach((element) =>\r\n        {\r\n            element.calculateProbability();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 暂停\r\n     */\r\n    pause()\r\n    {\r\n        this._isPlaying = false;\r\n    }\r\n\r\n    /**\r\n     * 继续\r\n     */\r\n    continue()\r\n    {\r\n        if (this.time === 0)\r\n        {\r\n            this.play();\r\n        }\r\n        else\r\n        {\r\n            this._isPlaying = true;\r\n            this._emitInfo.preTime = Math.max(0, this._emitInfo.currentTime);\r\n        }\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        if (Boolean(scene.runEnvironment & RunEnvironment.feng3d) && !this._awaked)\r\n        {\r\n            if (this.main.playOnAwake && !this._isPlaying)\r\n            {\r\n                this.play();\r\n            }\r\n            this._awaked = true;\r\n        }\r\n\r\n        renderAtomic.instanceCount = this._activeParticles.length;\r\n        //\r\n        renderAtomic.shaderMacro.HAS_PARTICLE_ANIMATOR = true;\r\n\r\n        renderAtomic.shaderMacro.ENABLED_PARTICLE_SYSTEM_textureSheetAnimation = this.textureSheetAnimation.enabled;\r\n\r\n        // 计算公告牌矩阵\r\n        const isbillboard = !this.shape.alignToDirection && this.geometry === Geometry.getDefault('Billboard-Geometry');\r\n        const billboardMatrix = new Matrix3x3();\r\n        if (isbillboard)\r\n        {\r\n            const cameraMatrix = camera.transform.localToWorldMatrix.clone();\r\n            let localCameraForward = cameraMatrix.getAxisZ();\r\n            let localCameraUp = cameraMatrix.getAxisY();\r\n            if (this.main.simulationSpace === ParticleSystemSimulationSpace.Local)\r\n            {\r\n                localCameraForward = this.gameObject.transform.worldToLocalRotationMatrix.transformPoint3(localCameraForward);\r\n                localCameraUp = this.gameObject.transform.worldToLocalRotationMatrix.transformPoint3(localCameraUp);\r\n            }\r\n            const matrix4x4 = new Matrix4x4();\r\n            matrix4x4.lookAt(localCameraForward, localCameraUp);\r\n            billboardMatrix.formMatrix4x4(matrix4x4);\r\n        }\r\n\r\n        const positions: number[] = [];\r\n        const scales: number[] = [];\r\n        const rotations: number[] = [];\r\n        const colors: number[] = [];\r\n        const tilingOffsets: number[] = [];\r\n        const flipUVs: number[] = [];\r\n        for (let i = 0, n = this._activeParticles.length; i < n; i++)\r\n        {\r\n            const particle = this._activeParticles[i];\r\n            positions.push(particle.position.x, particle.position.y, particle.position.z);\r\n            scales.push(particle.size.x, particle.size.y, particle.size.z);\r\n\r\n            rotations.push(particle.rotation.x, particle.rotation.y, particle.rotation.z);\r\n            colors.push(particle.color.r, particle.color.g, particle.color.b, particle.color.a);\r\n            tilingOffsets.push(particle.tilingOffset.x, particle.tilingOffset.y, particle.tilingOffset.z, particle.tilingOffset.w);\r\n            flipUVs.push(particle.flipUV.x, particle.flipUV.y);\r\n        }\r\n\r\n        if (isbillboard)\r\n        {\r\n            for (let i = 0, n = rotations.length; i < n; i += 3)\r\n            {\r\n                rotations[i + 2] = -rotations[i + 2];\r\n            }\r\n        }\r\n\r\n        //\r\n        this._attributes.a_particle_position.data = positions;\r\n        this._attributes.a_particle_scale.data = scales;\r\n        this._attributes.a_particle_rotation.data = rotations;\r\n        this._attributes.a_particle_color.data = colors;\r\n        this._attributes.a_particle_tilingOffset.data = tilingOffsets;\r\n        this._attributes.a_particle_flipUV.data = flipUVs;\r\n\r\n        //\r\n        renderAtomic.uniforms.u_particle_billboardMatrix = billboardMatrix;\r\n\r\n        if (this.main.simulationSpace === ParticleSystemSimulationSpace.World)\r\n        {\r\n            renderAtomic.uniforms.u_modelMatrix = () => new Matrix4x4();\r\n            renderAtomic.uniforms.u_ITModelMatrix = () => new Matrix4x4();\r\n        }\r\n\r\n        for (const key in this._attributes)\r\n        {\r\n            renderAtomic.attributes[key] = this._attributes[key];\r\n        }\r\n    }\r\n\r\n    private _awaked = false;\r\n\r\n    /**\r\n     * 粒子池，用于存放未发射或者死亡粒子\r\n     */\r\n    private _particlePool: Particle[] = [];\r\n    /**\r\n     * 活跃的粒子列表\r\n     */\r\n    private _activeParticles: Particle[] = [];\r\n\r\n    /**\r\n     * 属性数据列表\r\n     */\r\n    private _attributes = {\r\n        a_particle_position: new Attribute({ name: 'a_particle_position', data: [], size: 3, divisor: 1 }),\r\n        a_particle_scale: new Attribute({ name: 'a_particle_scale', data: [], size: 3, divisor: 1 }),\r\n        a_particle_rotation: new Attribute({ name: 'a_particle_rotation', data: [], size: 3, divisor: 1 }),\r\n        a_particle_color: new Attribute({ name: 'a_particle_color', data: [], size: 4, divisor: 1 }),\r\n        a_particle_tilingOffset: new Attribute({ name: 'a_particle_tilingOffset', data: [], size: 4, divisor: 1 }),\r\n        a_particle_flipUV: new Attribute({ name: 'a_particle_flipUV', data: [], size: 2, divisor: 1 }),\r\n    };\r\n\r\n    private readonly _modules: ParticleModule[] = [];\r\n\r\n    /**\r\n     * 发射粒子\r\n     *\r\n     * @param startTime 发射起始时间\r\n     * @param endTime 发射终止时间\r\n     * @param startPos 发射起始位置\r\n     * @param stopPos 发射终止位置\r\n     */\r\n    private _emit(emitInfo: ParticleSystemEmitInfo)\r\n    {\r\n        //\r\n        let emits: { time: number, num: number, position: Vector3, emitInfo: ParticleSystemEmitInfo }[] = [];\r\n\r\n        const startTime = emitInfo.preTime;\r\n        let endTime = emitInfo.currentTime;\r\n\r\n        if (!this.emission.enabled) return emits;\r\n\r\n        // 判断是否开始发射\r\n        if (endTime <= 0) return emits;\r\n\r\n        const loop = this.main.loop;\r\n        const duration = this.main.duration;\r\n\r\n        // 判断是否结束发射\r\n        if (!loop && startTime >= duration) return emits;\r\n\r\n        // 计算最后发射时间\r\n        if (!loop) endTime = Math.min(endTime, duration);\r\n\r\n        // 计算此处在发射周期的位置\r\n        let rateAtDuration = (endTime % duration) / duration;\r\n        if (rateAtDuration === 0 && endTime >= duration) rateAtDuration = 1;\r\n\r\n        emitInfo.rateAtDuration = rateAtDuration;\r\n\r\n        // 处理移动发射粒子\r\n        const moveEmits = this._emitWithMove(emitInfo);\r\n        emits = emits.concat(moveEmits);\r\n\r\n        // 单粒子发射周期\r\n        const timeEmits = this._emitWithTime(emitInfo, duration);\r\n        emits = emits.concat(timeEmits);\r\n\r\n        return emits;\r\n    }\r\n\r\n    /**\r\n     * 计算在指定移动的位移线段中发射的粒子列表。\r\n     *\r\n     * @param rateAtDuration\r\n     * @param prePos\r\n     * @param currentPos\r\n     */\r\n    private _emitWithMove(emitInfo: ParticleSystemEmitInfo)\r\n    {\r\n        const emits: { time: number; num: number; position: Vector3; emitInfo: ParticleSystemEmitInfo; }[] = [];\r\n        if (this.main.simulationSpace === ParticleSystemSimulationSpace.World)\r\n        {\r\n            if (emitInfo._isRateOverDistance)\r\n            {\r\n                const moveVec = emitInfo.currentWorldPos.subTo(emitInfo.preWorldPos);\r\n                const moveDistance = moveVec.length;\r\n                const worldPos = emitInfo.currentWorldPos;\r\n                // 本次移动距离\r\n                if (moveDistance > 0)\r\n                {\r\n                    // 移动方向\r\n                    const moveDir = moveVec.clone().normalize();\r\n                    // 剩余移动量\r\n                    let leftRateOverDistance = emitInfo._leftRateOverDistance + moveDistance;\r\n                    // 发射频率\r\n                    const rateOverDistance = this.emission.rateOverDistance.getValue(emitInfo.rateAtDuration);\r\n                    // 发射间隔距离\r\n                    const invRateOverDistance = 1 / rateOverDistance;\r\n                    // 发射间隔位移\r\n                    const invRateOverDistanceVec = moveDir.scaleNumberTo(1 / rateOverDistance);\r\n                    // 上次发射位置\r\n                    const lastRateOverDistance = emitInfo.preWorldPos.addTo(moveDir.negateTo().scaleNumber(emitInfo._leftRateOverDistance));\r\n\r\n                    while (invRateOverDistance < leftRateOverDistance)\r\n                    {\r\n                        emits.push({\r\n                            position: lastRateOverDistance.add(invRateOverDistanceVec).clone().sub(worldPos),\r\n                            time: emitInfo.preTime + (emitInfo.currentTime - emitInfo.preTime) * (1 - leftRateOverDistance / moveDistance),\r\n                            num: 1,\r\n                            emitInfo\r\n                        });\r\n                        leftRateOverDistance -= invRateOverDistance;\r\n                    }\r\n                    emitInfo._leftRateOverDistance = leftRateOverDistance;\r\n                }\r\n            }\r\n            emitInfo._isRateOverDistance = true;\r\n        }\r\n        else\r\n        {\r\n            emitInfo._isRateOverDistance = false;\r\n            emitInfo._leftRateOverDistance = 0;\r\n        }\r\n\r\n        return emits;\r\n    }\r\n\r\n    /**\r\n     * 计算在指定时间段内发射的粒子列表\r\n     *\r\n     * @param rateAtDuration\r\n     * @param preRealTime\r\n     * @param duration\r\n     * @param realEmitTime\r\n     */\r\n    private _emitWithTime(emitInfo: ParticleSystemEmitInfo, duration: number)\r\n    {\r\n        const rateAtDuration = emitInfo.rateAtDuration;\r\n        const preTime = emitInfo.preTime;\r\n        const currentTime = emitInfo.currentTime;\r\n\r\n        const emits: { time: number; num: number; position: Vector3; emitInfo: ParticleSystemEmitInfo }[] = [];\r\n\r\n        const step = 1 / this.emission.rateOverTime.getValue(rateAtDuration);\r\n        const bursts = this.emission.bursts;\r\n        // 遍历所有发射周期\r\n        const cycleStartIndex = Math.floor(preTime / duration);\r\n        const cycleEndIndex = Math.ceil(currentTime / duration);\r\n        for (let k = cycleStartIndex; k < cycleEndIndex; k++)\r\n        {\r\n            const cycleStartTime = k * duration;\r\n            const cycleEndTime = (k + 1) * duration;\r\n            // 单个周期内的起始与结束时间\r\n            const startTime = Math.max(preTime, cycleStartTime);\r\n            const endTime = Math.min(currentTime, cycleEndTime);\r\n            // 处理稳定发射\r\n            const singleStart = Math.ceil(startTime / step) * step;\r\n            for (let i = singleStart; i < endTime; i += step)\r\n            {\r\n                emits.push({ time: i, num: 1, emitInfo, position: emitInfo.position.clone() });\r\n            }\r\n            // 处理喷发\r\n            const inCycleStart = startTime - cycleStartTime;\r\n            const inCycleEnd = endTime - cycleStartTime;\r\n            for (let i = 0; i < bursts.length; i++)\r\n            {\r\n                const burst = bursts[i];\r\n                if (burst.isProbability && inCycleStart <= burst.time && burst.time < inCycleEnd)\r\n                {\r\n                    emits.push({ time: cycleStartTime + burst.time, num: burst.count.getValue(rateAtDuration), emitInfo, position: emitInfo.position.clone() });\r\n                }\r\n            }\r\n        }\r\n\r\n        return emits;\r\n    }\r\n\r\n    /**\r\n     * 发射粒子\r\n     * @param birthTime 发射时间\r\n     * @param num 发射数量\r\n     */\r\n    private _emitParticles(v: { time: number; num: number; position: Vector3; emitInfo: ParticleSystemEmitInfo })\r\n    {\r\n        const num = v.num;\r\n        const birthTime = v.time;\r\n        const position = v.position;\r\n        const emitInfo = v.emitInfo;\r\n        for (let i = 0; i < num; i++)\r\n        {\r\n            if (this._activeParticles.length >= this.main.maxParticles) return;\r\n            const lifetime = this.main.startLifetime.getValue(emitInfo.rateAtDuration);\r\n            const birthRateAtDuration = (birthTime - emitInfo.startDelay) / this.main.duration;\r\n            const rateAtLifeTime = (emitInfo.currentTime - birthTime) / lifetime;\r\n\r\n            if (rateAtLifeTime < 1)\r\n            {\r\n                const particle = this._particlePool.pop() || new Particle();\r\n                particle.cache = {};\r\n                particle.position.copy(position);\r\n                particle.birthTime = birthTime;\r\n                particle.lifetime = lifetime;\r\n                particle.rateAtLifeTime = rateAtLifeTime;\r\n                //\r\n                particle.birthRateAtDuration = birthRateAtDuration - Math.floor(birthRateAtDuration);\r\n                //\r\n                particle.preTime = emitInfo.currentTime;\r\n                particle.curTime = emitInfo.currentTime;\r\n                particle.prePosition = position.clone();\r\n                particle.curPosition = position.clone();\r\n\r\n                //\r\n                this._activeParticles.push(particle);\r\n                this._initParticleState(particle);\r\n                this._updateParticleState(particle, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新活跃粒子状态\r\n     */\r\n    private _updateActiveParticlesState(deltaTime: number)\r\n    {\r\n        for (let i = this._activeParticles.length - 1; i >= 0; i--)\r\n        {\r\n            const particle = this._activeParticles[i];\r\n\r\n            particle.rateAtLifeTime = (particle.curTime + deltaTime - particle.birthTime) / particle.lifetime;\r\n            if (particle.rateAtLifeTime < 0 || particle.rateAtLifeTime > 1)\r\n            {\r\n                this._activeParticles.splice(i, 1);\r\n                this._particlePool.push(particle);\r\n                particle.subEmitInfo = null;\r\n            }\r\n            else\r\n            {\r\n                this._updateParticleState(particle, deltaTime);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 初始化粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    private _initParticleState(particle: Particle)\r\n    {\r\n        this._modules.forEach((v) => { v.initParticleState(particle); });\r\n    }\r\n\r\n    /**\r\n     * 更新粒子状态\r\n     * @param particle 粒子\r\n     */\r\n    private _updateParticleState(particle: Particle, deltaTime: number)\r\n    {\r\n        //\r\n        this._modules.forEach((v) => { v.updateParticleState(particle); });\r\n        particle.updateState(particle.curTime + deltaTime);\r\n    }\r\n\r\n    private _simulationSpaceChanged()\r\n    {\r\n        if (!this.transform) return;\r\n        if (this._activeParticles.length === 0) return;\r\n\r\n        if (this._main.simulationSpace === ParticleSystemSimulationSpace.Local)\r\n        {\r\n            const worldToLocalMatrix = this.transform.worldToLocalMatrix;\r\n            this._activeParticles.forEach((p) =>\r\n            {\r\n                worldToLocalMatrix.transformPoint3(p.position, p.position);\r\n                worldToLocalMatrix.transformVector3(p.velocity, p.velocity);\r\n                worldToLocalMatrix.transformVector3(p.acceleration, p.acceleration);\r\n            });\r\n        }\r\n        else\r\n        {\r\n            const localToWorldMatrix = this.transform.localToWorldMatrix;\r\n            this._activeParticles.forEach((p) =>\r\n            {\r\n                localToWorldMatrix.transformPoint3(p.position, p.position);\r\n                localToWorldMatrix.transformVector3(p.velocity, p.velocity);\r\n                localToWorldMatrix.transformVector3(p.acceleration, p.acceleration);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给指定粒子添加指定空间的位移。\r\n     *\r\n     * @param particle 粒子。\r\n     * @param position 速度。\r\n     * @param space 速度所在空间。\r\n     * @param name  速度名称。如果不为 undefined 时保存，调用 removeParticleVelocity 可以移除该部分速度。\r\n     */\r\n    addParticlePosition(particle: Particle, position: Vector3, space: ParticleSystemSimulationSpace, name?: string)\r\n    {\r\n        if (name !== undefined)\r\n        {\r\n            this.removeParticleVelocity(particle, name);\r\n            particle.cache[name] = { value: position.clone(), space };\r\n        }\r\n\r\n        if (space !== this.main.simulationSpace)\r\n        {\r\n            if (space === ParticleSystemSimulationSpace.World)\r\n            {\r\n                this.transform.worldToLocalMatrix.transformPoint3(position, position);\r\n            }\r\n            else\r\n            {\r\n                this.transform.localToWorldMatrix.transformPoint3(position, position);\r\n            }\r\n        }\r\n        //\r\n        particle.position.add(position);\r\n    }\r\n\r\n    /**\r\n     * 移除指定粒子上的位移\r\n     *\r\n     * @param particle 粒子。\r\n     * @param name 位移名称。\r\n     */\r\n    removeParticlePosition(particle: Particle, name: string)\r\n    {\r\n        const obj: { value: Vector3, space: ParticleSystemSimulationSpace } = particle.cache[name];\r\n        if (obj)\r\n        {\r\n            delete particle.cache[name];\r\n\r\n            const space = obj.space;\r\n            const value = obj.value;\r\n            if (space !== this.main.simulationSpace)\r\n            {\r\n                if (space === ParticleSystemSimulationSpace.World)\r\n                {\r\n                    this.transform.worldToLocalMatrix.transformPoint3(value, value);\r\n                }\r\n                else\r\n                {\r\n                    this.transform.localToWorldMatrix.transformPoint3(value, value);\r\n                }\r\n            }\r\n            //\r\n            particle.position.sub(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给指定粒子添加指定空间的速度。\r\n     *\r\n     * @param particle 粒子。\r\n     * @param velocity 速度。\r\n     * @param space 速度所在空间。\r\n     * @param name  速度名称。如果不为 undefined 时保存，调用 removeParticleVelocity 可以移除该部分速度。\r\n     */\r\n    addParticleVelocity(particle: Particle, velocity: Vector3, space: ParticleSystemSimulationSpace, name?: string)\r\n    {\r\n        if (name !== undefined)\r\n        {\r\n            this.removeParticleVelocity(particle, name);\r\n            particle.cache[name] = { value: velocity.clone(), space };\r\n        }\r\n\r\n        if (space !== this.main.simulationSpace)\r\n        {\r\n            if (space === ParticleSystemSimulationSpace.World)\r\n            {\r\n                this.transform.worldToLocalMatrix.transformVector3(velocity, velocity);\r\n            }\r\n            else\r\n            {\r\n                this.transform.localToWorldMatrix.transformVector3(velocity, velocity);\r\n            }\r\n        }\r\n        //\r\n        particle.velocity.add(velocity);\r\n    }\r\n\r\n    /**\r\n     * 移除指定粒子上的速度\r\n     *\r\n     * @param particle 粒子。\r\n     * @param name 速度名称。\r\n     */\r\n    removeParticleVelocity(particle: Particle, name: string)\r\n    {\r\n        const obj: { value: Vector3, space: ParticleSystemSimulationSpace } = particle.cache[name];\r\n        if (obj)\r\n        {\r\n            delete particle.cache[name];\r\n\r\n            const space = obj.space;\r\n            const value = obj.value;\r\n            if (space !== this.main.simulationSpace)\r\n            {\r\n                if (space === ParticleSystemSimulationSpace.World)\r\n                {\r\n                    this.transform.worldToLocalMatrix.transformVector3(value, value);\r\n                }\r\n                else\r\n                {\r\n                    this.transform.localToWorldMatrix.transformVector3(value, value);\r\n                }\r\n            }\r\n            //\r\n            particle.velocity.sub(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给指定粒子添加指定空间的速度。\r\n     *\r\n     * @param particle 粒子。\r\n     * @param acceleration 加速度。\r\n     * @param space 加速度所在空间。\r\n     * @param name  加速度名称。如果不为 undefined 时保存，调用 removeParticleVelocity 可以移除该部分速度。\r\n     */\r\n    addParticleAcceleration(particle: Particle, acceleration: Vector3, space: ParticleSystemSimulationSpace, name?: string)\r\n    {\r\n        if (name !== undefined)\r\n        {\r\n            this.removeParticleAcceleration(particle, name);\r\n            particle.cache[name] = { value: acceleration.clone(), space };\r\n        }\r\n\r\n        if (space !== this.main.simulationSpace)\r\n        {\r\n            if (space === ParticleSystemSimulationSpace.World)\r\n            {\r\n                this.transform.worldToLocalMatrix.transformVector3(acceleration, acceleration);\r\n            }\r\n            else\r\n            {\r\n                this.transform.localToWorldMatrix.transformVector3(acceleration, acceleration);\r\n            }\r\n        }\r\n        //\r\n        particle.acceleration.add(acceleration);\r\n    }\r\n\r\n    /**\r\n     * 移除指定粒子上的加速度\r\n     *\r\n     * @param particle 粒子。\r\n     * @param name 加速度名称。\r\n     */\r\n    removeParticleAcceleration(particle: Particle, name: string)\r\n    {\r\n        const obj: { value: Vector3, space: ParticleSystemSimulationSpace } = particle.cache[name];\r\n        if (obj)\r\n        {\r\n            delete particle.cache[name];\r\n\r\n            const space = obj.space;\r\n            const value = obj.value;\r\n            if (space !== this.main.simulationSpace)\r\n            {\r\n                if (space === ParticleSystemSimulationSpace.World)\r\n                {\r\n                    this.transform.worldToLocalMatrix.transformVector3(value, value);\r\n                }\r\n                else\r\n                {\r\n                    this.transform.localToWorldMatrix.transformVector3(value, value);\r\n                }\r\n            }\r\n            //\r\n            particle.acceleration.sub(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 触发子发射器\r\n     *\r\n     * @param subEmitterIndex 子发射器索引\r\n     */\r\n    TriggerSubEmitter(subEmitterIndex: number, particles: Particle[] = null)\r\n    {\r\n        if (!this.subEmitters.enabled) return;\r\n\r\n        const subEmitter = this.subEmitters.GetSubEmitterSystem(subEmitterIndex);\r\n        if (!subEmitter) return;\r\n\r\n        if (!subEmitter.enabled) return;\r\n\r\n        const probability = this.subEmitters.GetSubEmitterEmitProbability(subEmitterIndex);\r\n        this.subEmitters.GetSubEmitterProperties(subEmitterIndex);\r\n        this.subEmitters.GetSubEmitterType(subEmitterIndex);\r\n\r\n        particles = particles || this._activeParticles;\r\n\r\n        let emits: {\r\n            time: number;\r\n            num: number;\r\n            position: Vector3;\r\n            emitInfo: ParticleSystemEmitInfo;\r\n        }[] = [];\r\n\r\n        particles.forEach((particle) =>\r\n        {\r\n            if (Math.random() > probability) return;\r\n\r\n            // 粒子所在世界坐标\r\n            const particleWoldPos = this.transform.localToWorldMatrix.transformPoint3(particle.position);\r\n            // 粒子在子粒子系统的坐标\r\n            const subEmitPos = subEmitter.transform.worldToLocalMatrix.transformPoint3(particleWoldPos);\r\n            if (!particle.subEmitInfo)\r\n            {\r\n                const startDelay = this.main.startDelay.getValue(Math.random());\r\n                particle.subEmitInfo = {\r\n                    preTime: particle.preTime - particle.birthTime - startDelay,\r\n                    currentTime: particle.preTime - particle.birthTime - startDelay,\r\n                    preWorldPos: particleWoldPos.clone(),\r\n                    currentWorldPos: particleWoldPos.clone(),\r\n                    rateAtDuration: 0,\r\n                    _leftRateOverDistance: 0,\r\n                    _isRateOverDistance: false,\r\n                    startDelay,\r\n                    moveVec: new Vector3(),\r\n                    speed: new Vector3(),\r\n                    position: subEmitPos,\r\n                };\r\n            }\r\n            else\r\n            {\r\n                particle.subEmitInfo.preTime = particle.preTime - particle.birthTime - particle.subEmitInfo.startDelay;\r\n                particle.subEmitInfo.currentTime = particle.curTime - particle.birthTime - particle.subEmitInfo.startDelay;\r\n\r\n                particle.subEmitInfo.position.copy(subEmitPos);\r\n            }\r\n\r\n            const subEmits = subEmitter._emit(particle.subEmitInfo);\r\n\r\n            emits = emits.concat(subEmits);\r\n        });\r\n\r\n        emits.sort((a, b) => a.time - b.time);\r\n        emits.forEach((v) =>\r\n        {\r\n            subEmitter._emitParticles(v);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 是否为被上级粒子系统引用的子粒子系统。\r\n     */\r\n    _isSubParticleSystem = false;\r\n\r\n    /**\r\n     * 发射信息\r\n     */\r\n    _emitInfo: ParticleSystemEmitInfo;\r\n}\r\n\r\n/**\r\n * 粒子系统发射器状态信息\r\n */\r\nexport interface ParticleSystemEmitInfo\r\n{\r\n    /**\r\n     * 上次粒子系统时间\r\n     */\r\n    preTime: number;\r\n\r\n    /**\r\n     * 当前粒子系统时间\r\n     */\r\n    currentTime: number;\r\n\r\n    /**\r\n     * 上次世界坐标\r\n     */\r\n    preWorldPos: Vector3;\r\n\r\n    /**\r\n     * 当前世界坐标\r\n     */\r\n    currentWorldPos: Vector3;\r\n\r\n    /**\r\n     * 发射器本地位置\r\n     */\r\n    position: Vector3;\r\n\r\n    /**\r\n     * Start delay in seconds.\r\n     * 启动延迟(以秒为单位)。在调用.play()时初始化值。\r\n     */\r\n    startDelay: number;\r\n\r\n    /**\r\n     * 此次位移\r\n     */\r\n    moveVec: Vector3;\r\n\r\n    /**\r\n     * 当前移动速度\r\n     */\r\n    speed: Vector3;\r\n\r\n    /**\r\n     * 此时在发射周期的位置\r\n     */\r\n    rateAtDuration: number;\r\n\r\n    /**\r\n     * 用于处理移动发射的剩余移动距离。\r\n     */\r\n    _leftRateOverDistance: number;\r\n\r\n    /**\r\n     * 是否已经执行位移发射。\r\n     */\r\n    _isRateOverDistance: boolean;\r\n}\r\n\r\nGeometry.setDefault('Billboard-Geometry', new QuadGeometry());\r\n\r\nGameObject.registerPrimitive('Particle System', (g) =>\r\n{\r\n    g.addComponent(ParticleSystem);\r\n    g.getComponent(Transform).rx = -90;\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'Effects/Particle System',\r\n        priority: -1,\r\n        click: () =>\r\n            GameObject.createPrimitive('Particle System')\r\n    }\r\n);\r\n\r\n","import { RegisterComponent, Renderable, Geometry, Material, GameObject, createNodeMenu } from '@feng3d/core';\r\nimport { TerrainData } from './TerrainData';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Terrain: Terrain\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Terrain: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * The Terrain component renders the terrain.\r\n */\r\n// @ov({ component: \"OVTerrain\" })\r\n@RegisterComponent()\r\nexport class Terrain extends Renderable\r\n{\r\n    __class__: 'feng3d.Terrain';\r\n\r\n    /**\r\n     * 地形资源\r\n     */\r\n    assign: TerrainData;\r\n\r\n    geometry = Geometry.getDefault('Terrain-Geometry');\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.material = Material.getDefault('Terrain-Material');\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Terrain', (g) =>\r\n{\r\n    g.addComponent(Terrain);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: '3D Object/Terrain',\r\n        priority: -20000,\r\n        click: () =>\r\n            GameObject.createPrimitive('Terrain')\r\n    }\r\n);\r\n","import { Vector3 } from '@feng3d/math';\r\n\r\n/**\r\n * The TerrainData class stores heightmaps, detail mesh positions, tree instances, and terrain texture alpha maps.\r\n *\r\n * The Terrain component links to the terrain data and renders it.\r\n */\r\nexport class TerrainData\r\n{\r\n    /**\r\n     * Width of the terrain in samples(Read Only).\r\n     */\r\n    get heightmapWidth()\r\n    {\r\n        return this.heightmapResolution;\r\n    }\r\n\r\n    /**\r\n     * Height of the terrain in samples(Read Only).\r\n     */\r\n    get heightmapHeight()\r\n    {\r\n        return this.heightmapResolution;\r\n    }\r\n\r\n    /**\r\n     * Resolution of the heightmap.\r\n     */\r\n    heightmapResolution = 513;\r\n\r\n    /**\r\n     * The size of each heightmap sample.\r\n     */\r\n    get heightmapScale()\r\n    {\r\n        return this.size.divideNumberTo(this.heightmapResolution);\r\n    }\r\n\r\n    /**\r\n     * The total size in world units of the terrain.\r\n     */\r\n    size = new Vector3(500, 600, 500);\r\n\r\n    // /**\r\n    //  * Height of the alpha map.\r\n    //  * 混合贴图高度\r\n    //  * @see https://blog.csdn.net/qq_29523119/article/details/52776731\r\n    //  */\r\n    // alphamapHeight\r\n\r\n    // /**\r\n    //  * Number of alpha map layers.\r\n    //  */\r\n    // alphamapLayers\r\n\r\n    // /**\r\n    //  * Resolution of the alpha map.\r\n    //  */\r\n    // alphamapResolution\r\n\r\n    // /**\r\n    //  * Alpha map textures used by the Terrain. Used by Terrain Inspector for undo.\r\n    //  */\r\n    // alphamapTextures\r\n\r\n    // /**\r\n    //  * Width of the alpha map.\r\n    //  */\r\n    // alphamapWidth\r\n\r\n    // /**\r\n    //  * Resolution of the base map used for rendering far patches on the terrain.\r\n    //  */\r\n    // baseMapResolution\r\n\r\n    // /**\r\n    //  * Detail height of the TerrainData.\r\n    //  */\r\n    // detailHeight\r\n\r\n    // /**\r\n    //  * Contains the detail texture / meshes that the terrain has.\r\n    //  */\r\n    // detailPrototypes\r\n\r\n    // /**\r\n    //  * Detail Resolution of the TerrainData.\r\n    //  */\r\n    // detailResolution\r\n\r\n    // /**\r\n    //  * Detail width of the TerrainData.\r\n    //  */\r\n    // detailWidth\r\n\r\n    // /**\r\n    //  * Splat texture used by the terrain.\r\n    //  */\r\n    // splatPrototypes\r\n\r\n    // /**\r\n    //  * The thickness of the terrain used for collision detection.\r\n    //  */\r\n    // thickness\r\n\r\n    // /**\r\n    //  * Returns the number of tree instances.\r\n    //  */\r\n    // treeInstanceCount\r\n\r\n    // /**\r\n    //  * Contains the current trees placed in the terrain.\r\n    //  */\r\n    // treeInstances\r\n\r\n    // /**\r\n    //  * The list of tree prototypes this are the ones available in the inspector.\r\n    //  */\r\n    // treePrototypes\r\n\r\n    // /**\r\n    //  * Amount of waving grass in the terrain.\r\n    //  */\r\n    // wavingGrassAmount\r\n\r\n    // /**\r\n    //  * Speed of the waving grass.\r\n    //  */\r\n    // wavingGrassSpeed\r\n\r\n    // /**\r\n    //  * Strength of the waving grass in the terrain.\r\n    //  */\r\n    // wavingGrassStrength\r\n\r\n    // /**\r\n    //  * Color of the waving grass that the terrain has.\r\n    //  */\r\n    // wavingGrassTint\r\n}\r\n","import { Geometry, geometryUtils, ImageUtil, Texture2D } from '@feng3d/core';\r\nimport { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { gPartial } from '@feng3d/polyfill';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        TerrainGeometry: TerrainGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        'Terrain-Geometry': TerrainGeometry;\r\n    }\r\n}\r\n\r\n/**\r\n * 地形几何体\r\n */\r\nexport class TerrainGeometry extends Geometry\r\n{\r\n    /**\r\n     * 高度图路径\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('_onHeightMapChanged')\r\n    heightMap = Texture2D.default;\r\n\r\n    /**\r\n     * 地形宽度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    width = 10;\r\n\r\n    /**\r\n     * 地形高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    height = 1;\r\n\r\n    /**\r\n     * 地形深度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    depth = 10;\r\n\r\n    /**\r\n     * 横向网格段数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsW = 30;\r\n\r\n    /**\r\n     * 纵向网格段数\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    segmentsH = 30;\r\n\r\n    /**\r\n     * 最大地形高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    maxElevation = 255;\r\n\r\n    /**\r\n     * 最小地形高度\r\n     */\r\n    @serialize\r\n    @oav()\r\n    @watch('invalidateGeometry')\r\n    minElevation = 0;\r\n\r\n    private _heightImageData = defaultHeightMap;\r\n\r\n    /**\r\n     * 创建高度地形 拥有segmentsW*segmentsH个顶点\r\n     */\r\n    constructor(raw?: gPartial<TerrainGeometry>)\r\n    {\r\n        super();\r\n        this.name = 'terrain';\r\n        serialization.setValue(this, raw);\r\n    }\r\n\r\n    private _onHeightMapChanged()\r\n    {\r\n        if (!this.heightMap['_pixels'])\r\n        {\r\n            this._heightImageData = defaultHeightMap;\r\n            this.invalidateGeometry();\r\n\r\n            this.heightMap.once('loadCompleted', () =>\r\n            {\r\n                const img = this.heightMap['_pixels'] as HTMLImageElement;\r\n                this._heightImageData = ImageUtil.fromImage(img).imageData;\r\n                this.invalidateGeometry();\r\n            });\r\n\r\n            return;\r\n        }\r\n        const img = this.heightMap['_pixels'] as HTMLImageElement;\r\n        this._heightImageData = ImageUtil.fromImage(img).imageData;\r\n        this.invalidateGeometry();\r\n    }\r\n\r\n    /**\r\n     * 创建顶点坐标\r\n     */\r\n    protected buildGeometry()\r\n    {\r\n        if (!this._heightImageData)\r\n        { return; }\r\n        let x: number; let\r\n            z: number;\r\n        let numInds = 0;\r\n        let base = 0;\r\n        // 一排顶点数据\r\n        const tw = this.segmentsW + 1;\r\n        // 总顶点数量\r\n        let numVerts = (this.segmentsH + 1) * tw;\r\n        // 一个格子所占高度图X轴像素数\r\n        const uDiv = (this._heightImageData.width - 1) / this.segmentsW;\r\n        // 一个格子所占高度图Y轴像素数\r\n        const vDiv = (this._heightImageData.height - 1) / this.segmentsH;\r\n        let u: number; let\r\n            v: number;\r\n        let y: number;\r\n\r\n        const vertices: number[] = [];\r\n        const indices: number[] = [];\r\n\r\n        numVerts = 0;\r\n        let col: number;\r\n        for (let zi = 0; zi <= this.segmentsH; ++zi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                // 顶点坐标\r\n                x = (xi / this.segmentsW - 0.5) * this.width;\r\n                z = (zi / this.segmentsH - 0.5) * this.depth;\r\n                // 格子对应高度图uv坐标\r\n                u = xi * uDiv;\r\n                v = (this.segmentsH - zi) * vDiv;\r\n\r\n                // 获取颜色值\r\n                col = this.getPixel(this._heightImageData, u, v) & 0xff;\r\n                // 计算高度值\r\n                y = (col > this.maxElevation) ? (this.maxElevation / 0xff) * this.height : ((col < this.minElevation) ? (this.minElevation / 0xff) * this.height : (col / 0xff) * this.height);\r\n\r\n                // 保存顶点坐标\r\n                vertices[numVerts++] = x;\r\n                vertices[numVerts++] = y;\r\n                vertices[numVerts++] = z;\r\n\r\n                if (xi !== this.segmentsW && zi !== this.segmentsH)\r\n                {\r\n                    // 增加 一个顶点同时 生成一个格子或两个三角形\r\n                    base = xi + zi * tw;\r\n                    indices[numInds++] = base;\r\n                    indices[numInds++] = base + tw;\r\n                    indices[numInds++] = base + tw + 1;\r\n                    indices[numInds++] = base;\r\n                    indices[numInds++] = base + tw + 1;\r\n                    indices[numInds++] = base + 1;\r\n                }\r\n            }\r\n        }\r\n        const uvs = this.buildUVs();\r\n        this.positions = vertices;\r\n        this.uvs = uvs;\r\n        this.indices = indices;\r\n        this.normals = geometryUtils.createVertexNormals(this.indices, this.positions, true);\r\n        this.tangents = geometryUtils.createVertexTangents(this.indices, this.positions, this.uvs, true);\r\n    }\r\n\r\n    /**\r\n     * 创建uv坐标\r\n     */\r\n    private buildUVs()\r\n    {\r\n        let numUvs = (this.segmentsH + 1) * (this.segmentsW + 1) * 2;\r\n        const uvs: number[] = [];\r\n\r\n        numUvs = 0;\r\n        // 计算每个顶点的uv坐标\r\n        for (let yi = 0; yi <= this.segmentsH; ++yi)\r\n        {\r\n            for (let xi = 0; xi <= this.segmentsW; ++xi)\r\n            {\r\n                uvs[numUvs++] = xi / this.segmentsW;\r\n                uvs[numUvs++] = 1 - yi / this.segmentsH;\r\n            }\r\n        }\r\n\r\n        return uvs;\r\n    }\r\n\r\n    /**\r\n     * 获取位置在（x，z）处的高度y值\r\n     * @param x x坐标\r\n     * @param z z坐标\r\n     * @return 高度\r\n     */\r\n    getHeightAt(x: number, z: number): number\r\n    {\r\n        // 得到高度图中的值\r\n        const u = (x / this.width + 0.5) * (this._heightImageData.width - 1);\r\n        const v = (-z / this.depth + 0.5) * (this._heightImageData.height - 1);\r\n\r\n        const col = this.getPixel(this._heightImageData, u, v) & 0xff;\r\n\r\n        let h: number;\r\n        if (col > this.maxElevation)\r\n        {\r\n            h = (this.maxElevation / 0xff) * this.height;\r\n        }\r\n        else if (col < this.minElevation)\r\n        {\r\n            h = (this.minElevation / 0xff) * this.height;\r\n        }\r\n        else\r\n        {\r\n            h = (col / 0xff) * this.height;\r\n        }\r\n\r\n        return h;\r\n    }\r\n\r\n    /**\r\n     * 获取像素值\r\n     */\r\n    private getPixel(imageData: ImageData, u: number, v: number)\r\n    {\r\n        // 取整\r\n        u = ~~u;\r\n        v = ~~v;\r\n\r\n        const index = (v * imageData.width + u) * 4;\r\n        const data = imageData.data;\r\n        // const red = data[index];// 红色色深\r\n        // const green = data[index + 1];// 绿色色深\r\n        const blue = data[index + 2];// 蓝色色深\r\n        // const alpha = data[index + 3];// 透明度\r\n\r\n        return blue;\r\n    }\r\n}\r\n\r\n/**\r\n * 默认高度图\r\n */\r\nconst defaultHeightMap = new ImageUtil(1024, 1024, new Color4(0, 0, 0, 0)).imageData;\r\n\r\nGeometry.setDefault('Terrain-Geometry', new TerrainGeometry());\r\n","import { Material, StandardUniforms, Texture2D } from '@feng3d/core';\r\nimport { Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderConfig } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        terrain: TerrainUniforms\r\n    }\r\n\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Terrain-Material': Material;\r\n    }\r\n}\r\n\r\nexport class TerrainUniforms extends StandardUniforms\r\n{\r\n    declare __class__: 'feng3d.TerrainUniforms';\r\n\r\n    @serialize\r\n    @oav({ block: 'terrain' })\r\n    s_splatTexture1 = Texture2D.default;\r\n\r\n    @serialize\r\n    @oav({ block: 'terrain' })\r\n    s_splatTexture2 = Texture2D.default;\r\n\r\n    @serialize\r\n    @oav({ block: 'terrain' })\r\n    s_splatTexture3 = Texture2D.default;\r\n\r\n    @serialize\r\n    @oav({ block: 'terrain' })\r\n    s_blendTexture = Texture2D.default;\r\n\r\n    @serialize\r\n    @oav({ block: 'terrain' })\r\n    u_splatRepeats = new Vector4(1, 1, 1, 1);\r\n}\r\n\r\nshaderConfig.shaders['terrain'].cls = TerrainUniforms;\r\n\r\nMaterial.setDefault('Terrain-Material', { shaderName: 'terrain' });\r\n","import { Texture2D } from '@feng3d/core';\r\nimport { EventEmitter } from '@feng3d/event';\r\nimport { Vector2, Vector4 } from '@feng3d/math';\r\nimport { RenderAtomic, TextureMagFilter, TextureMinFilter, TextureWrap } from '@feng3d/renderer';\r\n\r\n/**\r\n * 地形材质\r\n */\r\nexport class TerrainMergeMethod extends EventEmitter\r\n{\r\n    splatMergeTexture = Texture2D.default;\r\n\r\n    blendTexture = Texture2D.default;\r\n\r\n    splatRepeats = new Vector4(1, 1, 1, 1);\r\n\r\n    /**\r\n     * 构建材质\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.splatMergeTexture.minFilter = TextureMinFilter.NEAREST;\r\n        this.splatMergeTexture.magFilter = TextureMagFilter.NEAREST;\r\n        this.splatMergeTexture.wrapS = TextureWrap.REPEAT;\r\n        this.splatMergeTexture.wrapT = TextureWrap.REPEAT;\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic)\r\n    {\r\n        renderAtomic.uniforms.s_blendTexture = this.blendTexture;\r\n        renderAtomic.uniforms.s_splatMergeTexture = this.splatMergeTexture;\r\n        renderAtomic.uniforms.u_splatMergeTextureSize = this.splatMergeTexture.getSize();\r\n        renderAtomic.uniforms.u_splatRepeats = this.splatRepeats;\r\n        //\r\n        renderAtomic.uniforms.u_imageSize = new Vector2(2048.0, 1024.0);\r\n        renderAtomic.uniforms.u_tileSize = new Vector2(512.0, 512.0);\r\n        renderAtomic.uniforms.u_maxLod = 7;\r\n        renderAtomic.uniforms.u_uvPositionScale = 0.001;\r\n        renderAtomic.uniforms.u_tileOffset = [\r\n            new Vector4(0.5, 0.5, 0.0, 0.0),\r\n            new Vector4(0.5, 0.5, 0.5, 0.0),\r\n            new Vector4(0.5, 0.5, 0.0, 0.5),\r\n        ];\r\n        renderAtomic.uniforms.u_lod0vec = new Vector4(0.5, 1, 0, 0);\r\n    }\r\n}\r\n","import { AddComponentMenu, Camera, Component, GameObject, HideFlags, RegisterComponent, Scene, TransformLayout } from '@feng3d/core';\r\nimport { IEvent } from '@feng3d/event';\r\nimport { Vector2, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watcher } from '@feng3d/watcher';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Transform2D: Transform2D;\r\n    }\r\n\r\n    export interface MixinsGameObject\r\n    {\r\n        /**\r\n         * 游戏对象上的2D变换。\r\n         */\r\n        transform2D: Transform2D;\r\n    }\r\n\r\n    export interface MixinsComponent\r\n    {\r\n        /**\r\n         * 游戏对象上的2D变换。\r\n         */\r\n        transform2D: Transform2D;\r\n    }\r\n}\r\n\r\n/**\r\n * 2D变换\r\n *\r\n * 提供了比Transform更加适用于2D元素的API\r\n *\r\n * 通过修改Transform的数值实现\r\n */\r\n@AddComponentMenu('Layout/Transform2D')\r\n@RegisterComponent()\r\nexport class Transform2D extends Component\r\n{\r\n    get single() { return true; }\r\n\r\n    transformLayout: TransformLayout;\r\n\r\n    /**\r\n     * 描述了2D对象在未经过变换前的位置与尺寸\r\n     */\r\n    get rect()\r\n    {\r\n        const transformLayout = this.transformLayout;\r\n        this._rect.set(-transformLayout.pivot.x * transformLayout.size.x, -transformLayout.pivot.y * transformLayout.size.y, transformLayout.size.x, transformLayout.size.y);\r\n\r\n        return this._rect;\r\n    }\r\n    private _rect = new Vector4(0, 0, 100, 100);\r\n\r\n    /**\r\n     * 位移\r\n     */\r\n    @oav({ tooltip: '当anchorMin.x == anchorMax.x时对position.x赋值生效，当 anchorMin.y == anchorMax.y 时对position.y赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get position() { return this._position; }\r\n    set position(v) { this._position.copy(v); }\r\n    private readonly _position = new Vector2();\r\n\r\n    /**\r\n     * 尺寸，宽高。\r\n     */\r\n    @oav({ tooltip: '宽度，不会影响到缩放值。当 anchorMin.x == anchorMax.x 时对 size.x 赋值生效，当anchorMin.y == anchorMax.y时对 size.y 赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get size() { return this._size; }\r\n    set size(v) { this._size.copy(v); }\r\n    private _size = new Vector2(1, 1);\r\n\r\n    /**\r\n     * 与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。\r\n     */\r\n    @oav({ tooltip: '与最小最大锚点形成的边框的left、right、top、bottom距离。当 anchorMin.x != anchorMax.x 时对 layout.x layout.y 赋值生效，当 anchorMin.y != anchorMax.y 时对 layout.z layout.w 赋值生效，否则赋值无效，自动被覆盖。', componentParam: { step: 1, stepScale: 1, stepDownup: 1 } })\r\n    @serialize\r\n    get layout() { return this._layout; }\r\n    set layout(v) { this._layout.copy(v); }\r\n    private _layout = new Vector4();\r\n\r\n    /**\r\n     * 最小锚点，父Transform2D中左上角锚定的规范化位置。\r\n     */\r\n    @oav({ tooltip: '父Transform2D中左上角锚定的规范化位置。', componentParam: { step: 0.01, stepScale: 0.01, stepDownup: 0.01 } })\r\n    @serialize\r\n    get anchorMin() { return this._anchorMin; }\r\n    set anchorMin(v) { this._anchorMin.copy(v); }\r\n    private _anchorMin = new Vector2(0.5, 0.5);\r\n\r\n    /**\r\n     * 最大锚点，父Transform2D中左上角锚定的规范化位置。\r\n     */\r\n    @oav({ tooltip: '最大锚点，父Transform2D中左上角锚定的规范化位置。', componentParam: { step: 0.01, stepScale: 0.01, stepDownup: 0.01 } })\r\n    @serialize\r\n    get anchorMax() { return this._anchorMax; }\r\n    set anchorMax(v) { this._anchorMax.copy(v); }\r\n    private _anchorMax = new Vector2(0.5, 0.5);\r\n\r\n    /**\r\n     * The normalized position in this RectTransform that it rotates around.\r\n     */\r\n    @oav({ tooltip: '中心点' })\r\n    @serialize\r\n    get pivot() { return this._pivot; }\r\n    set pivot(v) { this._pivot.copy(v); }\r\n    private _pivot = new Vector2(0.5, 0.5);\r\n\r\n    /**\r\n     * 旋转\r\n     */\r\n    @oav({ tooltip: '旋转', componentParam: { step: 0.01, stepScale: 30, stepDownup: 50 } })\r\n    get rotation() { return this._rotation; }\r\n    set rotation(v) { this._rotation = v; }\r\n    private _rotation = 0;\r\n\r\n    /**\r\n     * 缩放\r\n     */\r\n    @oav({ tooltip: '缩放', componentParam: { step: 0.01, stepScale: 1, stepDownup: 1 } })\r\n    get scale() { return this._scale; }\r\n    set scale(v) { this._scale.copy(v); }\r\n    private readonly _scale = new Vector2(1, 1);\r\n\r\n    /**\r\n     * 创建一个实体，该类为虚类\r\n     */\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        watcher.watch(this as Transform2D, 'transformLayout', this._onTransformLayoutChanged, this);\r\n    }\r\n\r\n    init()\r\n    {\r\n        super.init();\r\n\r\n        // 处理依赖组件\r\n        let transformLayout = this.getComponent(TransformLayout);\r\n        if (!transformLayout)\r\n        {\r\n            transformLayout = this.gameObject.addComponent(TransformLayout);\r\n        }\r\n        this.transformLayout = transformLayout;\r\n\r\n        watcher.bind(this.transform.rotation, 'z', this as Transform2D, 'rotation');\r\n        watcher.bind(this.transform.scale, 'x', this.scale, 'x');\r\n        watcher.bind(this.transform.scale, 'y', this.scale, 'y');\r\n\r\n        this.on('addComponent', this._onAddComponent, this);\r\n        this.on('removeComponent', this._onRemovedComponent, this);\r\n    }\r\n\r\n    private _onAddComponent(event: IEvent<{ gameobject: GameObject; component: Component; }>)\r\n    {\r\n        if (event.data.gameobject !== this.gameObject) return;\r\n        const component = event.data.component;\r\n        if (component instanceof TransformLayout)\r\n        {\r\n            component.hideFlags = component.hideFlags | HideFlags.HideInInspector;\r\n            this.transformLayout = component;\r\n        }\r\n    }\r\n\r\n    private _onRemovedComponent(event: IEvent<{ gameobject: GameObject; component: Component; }>)\r\n    {\r\n        if (event.data.gameobject !== this.gameObject) return;\r\n        const component = event.data.component;\r\n        if (component instanceof TransformLayout)\r\n        {\r\n            this.transformLayout = null;\r\n        }\r\n    }\r\n\r\n    private _onTransformLayoutChanged(newValue: TransformLayout, oldValue: TransformLayout, _object: Transform2D, _property: string)\r\n    {\r\n        if (oldValue)\r\n        {\r\n            watcher.unbind(oldValue.position, 'x', this.position, 'x');\r\n            watcher.unbind(oldValue.position, 'y', this.position, 'y');\r\n            watcher.unbind(oldValue.anchorMin, 'x', this.anchorMin, 'x');\r\n            watcher.unbind(oldValue.anchorMin, 'y', this.anchorMin, 'y');\r\n            watcher.unbind(oldValue.anchorMax, 'x', this.anchorMax, 'x');\r\n            watcher.unbind(oldValue.anchorMax, 'y', this.anchorMax, 'y');\r\n            //\r\n            watcher.unbind(oldValue.leftTop, 'x', this.layout, 'x');\r\n            watcher.unbind(oldValue.rightBottom, 'x', this.layout, 'y');\r\n            watcher.unbind(oldValue.leftTop, 'y', this.layout, 'z');\r\n            watcher.unbind(oldValue.rightBottom, 'y', this.layout, 'w');\r\n            //\r\n            watcher.unbind(oldValue.size, 'x', this.size, 'x');\r\n            watcher.unbind(oldValue.size, 'y', this.size, 'y');\r\n            watcher.unbind(oldValue.pivot, 'x', this.pivot, 'x');\r\n            watcher.unbind(oldValue.pivot, 'y', this.pivot, 'y');\r\n        }\r\n        if (newValue)\r\n        {\r\n            watcher.bind(newValue.position, 'x', this.position, 'x');\r\n            watcher.bind(newValue.position, 'y', this.position, 'y');\r\n            watcher.bind(newValue.anchorMin, 'x', this.anchorMin, 'x');\r\n            watcher.bind(newValue.anchorMin, 'y', this.anchorMin, 'y');\r\n            watcher.bind(newValue.anchorMax, 'x', this.anchorMax, 'x');\r\n            watcher.bind(newValue.anchorMax, 'y', this.anchorMax, 'y');\r\n            //\r\n            watcher.bind(newValue.leftTop, 'x', this.layout, 'x');\r\n            watcher.bind(newValue.rightBottom, 'x', this.layout, 'y');\r\n            watcher.bind(newValue.leftTop, 'y', this.layout, 'z');\r\n            watcher.bind(newValue.rightBottom, 'y', this.layout, 'w');\r\n            //\r\n            watcher.bind(newValue.size, 'x', this.size, 'x');\r\n            watcher.bind(newValue.size, 'y', this.size, 'y');\r\n            watcher.bind(newValue.pivot, 'x', this.pivot, 'x');\r\n            watcher.bind(newValue.pivot, 'y', this.pivot, 'y');\r\n        }\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, _scene: Scene, _camera: Camera)\r\n    {\r\n        renderAtomic.uniforms.u_rect = this.rect;\r\n    }\r\n}\r\n\r\nObject.defineProperty(GameObject.prototype, 'transform2D',\r\n    {\r\n        get(this: GameObject) { return this.getComponent(Transform2D); },\r\n    });\r\n\r\nObject.defineProperty(Component.prototype, 'transform2D',\r\n    {\r\n        get() { return this._gameObject && this._gameObject.transform2D; },\r\n    });\r\n","import { AddComponentMenu, Behaviour, createNodeMenu, GameObject, RegisterComponent } from '@feng3d/core';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { Transform2D } from './core/Transform2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Button: Button;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Button: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 按钮状态\r\n */\r\nexport enum ButtonState\r\n{\r\n    /**\r\n     * 弹起状态，默认状态。\r\n     */\r\n    up = 'up',\r\n    /**\r\n     * 鼠标在按钮上状态。\r\n     */\r\n    over = 'over',\r\n    /**\r\n     * 鼠标按下状态。\r\n     */\r\n    down = 'down',\r\n    /**\r\n     * 选中时弹起状态。\r\n     */\r\n    selected_up = 'selected_up',\r\n    /**\r\n     * 选中时鼠标在按钮上状态。\r\n     */\r\n    selected_over = 'selected_over',\r\n    /**\r\n     * 选中时鼠标按下状态。\r\n     */\r\n    selected_down = 'selected_down',\r\n    /**\r\n     * 禁用状态。\r\n     */\r\n    disabled = 'disabled',\r\n}\r\n\r\n/**\r\n * 按钮\r\n */\r\n@AddComponentMenu('UI/Button')\r\n@RegisterComponent()\r\nexport class Button extends Behaviour\r\n{\r\n    /**\r\n     * 按钮所处状态。\r\n     */\r\n    @oav({ block: 'Layout', tooltip: '按钮所处状态。', component: 'OAVEnum', componentParam: { enumClass: ButtonState } })\r\n    @watch('_onStateChanged')\r\n    state = ButtonState.up;\r\n\r\n    /**\r\n     * 所有状态数据，每一个状态数据中记录了子对象的当前数据。\r\n     */\r\n    @serialize\r\n    allStateData = {};\r\n\r\n    private _stateInvalid = true;\r\n\r\n    /**\r\n     * 保存当前状态，例如在编辑器中编辑完按钮某一状态后调用该方法进行保存当前状态数据。\r\n     */\r\n    @oav()\r\n    saveState()\r\n    {\r\n        const stateData = {};\r\n        // 出现相同名称时，只保存第一个数据\r\n        const childMap: { [name: string]: GameObject } = {};\r\n        this.gameObject.children.forEach((child) =>\r\n        {\r\n            if (childMap[child.name]) return;\r\n            childMap[child.name] = child;\r\n        });\r\n        for (const childname in childMap)\r\n        {\r\n            const jsonObj = serialization.serialize(childMap[childname]);\r\n            serialization.deleteClassKey(jsonObj);\r\n            stateData[childname] = jsonObj;\r\n        }\r\n        this.allStateData[this.state] = stateData;\r\n    }\r\n\r\n    private _onStateChanged()\r\n    {\r\n        this._stateInvalid = true;\r\n    }\r\n\r\n    /**\r\n     * 每帧执行\r\n     */\r\n    update(_interval?: number)\r\n    {\r\n        if (this._stateInvalid)\r\n        {\r\n            this._updateState();\r\n            this._stateInvalid = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新状态\r\n     */\r\n    private _updateState()\r\n    {\r\n        const statedata = this.allStateData[this.state];\r\n        if (!statedata) return;\r\n        const childMap: { [name: string]: GameObject } = {};\r\n        this.gameObject.children.forEach((child) =>\r\n        {\r\n            if (childMap[child.name]) return;\r\n            childMap[child.name] = child;\r\n        });\r\n        for (const childname in childMap)\r\n        {\r\n            childMap[childname] = serialization.setValue(childMap[childname], statedata[childname]);\r\n        }\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Button', (g) =>\r\n{\r\n    const transform2D = g.addComponent(Transform2D);\r\n\r\n    transform2D.size.x = 160;\r\n    transform2D.size.y = 30;\r\n    g.addComponent(Button);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'UI/Button',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Button')\r\n    }\r\n);\r\n\r\n","/**\r\n * UIRenderMode for the Canvas.\r\n *\r\n * Canvas的渲染模式\r\n */\r\nexport enum UIRenderMode\r\n{\r\n    /**\r\n     * Render at the end of the Scene using a 2D Canvas.\r\n     *\r\n     * 在场景的最后使用2D画布渲染。\r\n     */\r\n    ScreenSpaceOverlay,\r\n    /**\r\n     * Render using the Camera configured on the Canvas.\r\n     *\r\n     * 使用在画布上配置的摄像机进行渲染。\r\n     */\r\n    ScreenSpaceCamera,\r\n    /**\r\n     * Render using any Camera in the Scene that can render the layer.\r\n     *\r\n     * 使用场景中任何可以渲染图层的相机渲染。\r\n     */\r\n    WorldSpace,\r\n}\r\n","import { Behaviour, GameObject, RegisterComponent, View } from '@feng3d/core';\r\nimport { Matrix4x4, Ray3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { UIRenderMode } from '../enums/UIRenderMode';\r\nimport { Transform2D } from './Transform2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Canvas: Canvas\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Canvas: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * Element that can be used for screen rendering.\r\n *\r\n * 能够被用于屏幕渲染的元素\r\n */\r\n@RegisterComponent()\r\nexport class Canvas extends Behaviour\r\n{\r\n    /**\r\n     * Is the Canvas in World or Overlay mode?\r\n     *\r\n     * 画布是在世界或覆盖模式?\r\n     */\r\n    @serialize\r\n    @oav({ component: 'OAVEnum', tooltip: '画布是在世界或覆盖模式', componentParam: { enumClass: UIRenderMode } })\r\n    renderMode = UIRenderMode.ScreenSpaceOverlay;\r\n\r\n    /**\r\n     * 获取鼠标射线（与鼠标重叠的摄像机射线）\r\n     */\r\n    mouseRay = new Ray3(new Vector3(), new Vector3(0, 0, 1));\r\n\r\n    /**\r\n     * 投影矩阵\r\n     *\r\n     * 渲染前自动更新\r\n     */\r\n    projection = new Matrix4x4();\r\n\r\n    /**\r\n     * 最近距离\r\n     */\r\n    @serialize\r\n    @oav()\r\n    near = -1000;\r\n\r\n    /**\r\n     * 最远距离\r\n     */\r\n    @serialize\r\n    @oav()\r\n    far = 10000;\r\n\r\n    init()\r\n    {\r\n        // this.transform.hideFlags = this.transform.hideFlags | HideFlags.Hide;\r\n        // this.gameObject.hideFlags = this.gameObject.hideFlags | HideFlags.DontTransform;\r\n    }\r\n\r\n    /**\r\n     * 更新布局\r\n     *\r\n     * @param width 画布宽度\r\n     * @param height 画布高度\r\n     */\r\n    layout(width: number, height: number)\r\n    {\r\n        this.transform2D.size.x = width;\r\n        this.transform2D.size.y = height;\r\n\r\n        this.transform2D.pivot.set(0, 0);\r\n\r\n        this.transform.x = 0;\r\n        this.transform.y = 0;\r\n        this.transform.z = 0;\r\n\r\n        this.transform.rx = 0;\r\n        this.transform.ry = 0;\r\n        this.transform.rz = 0;\r\n\r\n        this.transform.sx = 1;\r\n        this.transform.sy = 1;\r\n        this.transform.sz = 1;\r\n\r\n        const near = this.near;\r\n        const far = this.far;\r\n        this.projection.identity().appendTranslation(0, 0, -(far + near) / 2).appendScale(2 / width, -2 / height, 2 / (far - near)).appendTranslation(-1, 1, 0);\r\n    }\r\n\r\n    /**\r\n     * 计算鼠标射线\r\n     *\r\n     * @param view\r\n     */\r\n    calcMouseRay3D(view: View)\r\n    {\r\n        this.mouseRay.origin.set(view.mousePos.x, view.mousePos.y, 0);\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Canvas', (g) =>\r\n{\r\n    g.addComponent(Transform2D);\r\n    g.addComponent(Canvas);\r\n});\r\n","import { AddComponentMenu, Geometry, Material, RegisterComponent, Renderable, TransformLayout, View } from '@feng3d/core';\r\nimport { Ray3, Vector3 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { CullFace, RenderAtomic } from '@feng3d/renderer';\r\nimport { Canvas } from './Canvas';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        CanvasRenderer: CanvasRenderer;\r\n    }\r\n}\r\n\r\n/**\r\n * 可在画布上渲染组件，使得拥有该组件的GameObject可以在画布上渲染。\r\n */\r\n@AddComponentMenu('Rendering/CanvasRenderer')\r\n@RegisterComponent()\r\nexport class CanvasRenderer extends Renderable\r\n{\r\n    readonly renderAtomic = new RenderAtomic();\r\n\r\n    geometry = Geometry.getDefault('Default-UIGeometry');\r\n\r\n    @oav()\r\n    material = Material.getDefault('Default-UIMaterial');\r\n\r\n    /**\r\n     * 与世界空间射线相交\r\n     *\r\n     * @param worldRay 世界空间射线\r\n     *\r\n     * @return 相交信息\r\n     */\r\n    worldRayIntersection(worldRay: Ray3)\r\n    {\r\n        const canvas = this.getComponentsInParent(Canvas)[0];\r\n        if (canvas)\r\n        {\r\n            worldRay = canvas.mouseRay;\r\n        }\r\n\r\n        const localRay = this.transform.rayWorldToLocal(worldRay);\r\n        if (this.transform2D)\r\n        {\r\n            const size = new Vector3(this.transform2D.size.x, this.transform2D.size.y, 1);\r\n            const pivot = new Vector3(this.transform2D.pivot.x, this.transform2D.pivot.y, 0);\r\n            localRay.origin.divide(size).add(pivot);\r\n            localRay.direction.divide(size).normalize();\r\n        }\r\n\r\n        const pickingCollisionVO = this.localRayIntersection(localRay);\r\n        if (pickingCollisionVO)\r\n        {\r\n            pickingCollisionVO.cullFace = CullFace.NONE;\r\n        }\r\n\r\n        return pickingCollisionVO;\r\n    }\r\n\r\n    protected _updateBounds()\r\n    {\r\n        const bounding = this.geometry.bounding.clone();\r\n        const transformLayout = this.getComponent(TransformLayout);\r\n        if (transformLayout)\r\n        {\r\n            bounding.scale(transformLayout.size);\r\n        }\r\n        this._selfLocalBounds = bounding;\r\n    }\r\n\r\n    /**\r\n     * 渲染\r\n     */\r\n    static draw(view: View)\r\n    {\r\n        const gl = view.gl.gl;\r\n        const scene = view.scene;\r\n\r\n        const canvasList = scene.getComponentsInChildren(Canvas).filter((v) => v.isVisibleAndEnabled);\r\n        canvasList.forEach((canvas) =>\r\n        {\r\n            canvas.layout(gl.canvas.width, gl.canvas.height);\r\n\r\n            // 更新鼠标射线\r\n            canvas.calcMouseRay3D(view);\r\n\r\n            const renderables = canvas.getComponentsInChildren(CanvasRenderer).filter((v) => v.isVisibleAndEnabled);\r\n            renderables.forEach((renderable) =>\r\n            {\r\n                // 绘制\r\n                const renderAtomic = renderable.renderAtomic;\r\n\r\n                renderAtomic.uniforms.u_viewProjection = canvas.projection;\r\n\r\n                renderable.beforeRender(renderAtomic, null, null);\r\n\r\n                view.gl.render(renderAtomic);\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { Geometry, geometryUtils } from '@feng3d/core';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsGeometryTypes\r\n    {\r\n        UIGeometry: UIGeometry\r\n    }\r\n\r\n    export interface MixinsDefaultGeometry\r\n    {\r\n        'Default-UIGeometry': UIGeometry;\r\n    }\r\n}\r\n\r\n/**\r\n * UI几何体\r\n */\r\nexport class UIGeometry extends Geometry\r\n{\r\n    __class__: 'UIGeometry';\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.positions = [0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0];\r\n        this.uvs = [0, 0, 1, 0, 1, 1, 0, 1];\r\n        this.indices = [0, 1, 2, 0, 2, 3];\r\n\r\n        this.normals = geometryUtils.createVertexNormals(this.indices, this.positions, true);\r\n        this.tangents = geometryUtils.createVertexTangents(this.indices, this.positions, this.uvs, true);\r\n    }\r\n}\r\n\r\nGeometry.setDefault('Default-UIGeometry', new UIGeometry());\r\n","import { Material, Texture2D } from '@feng3d/core';\r\nimport { Color4, Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { shaderConfig } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsUniformsTypes\r\n    {\r\n        ui: UIUniforms\r\n    }\r\n\r\n    export interface MixinsUniforms extends UIUniforms\r\n    {\r\n    }\r\n\r\n    export interface MixinsDefaultMaterial\r\n    {\r\n        'Default-UIMaterial': Material;\r\n    }\r\n}\r\n\r\nexport class UIUniforms\r\n{\r\n    __class__: 'UIUniforms';\r\n\r\n    /**\r\n     * UI几何体尺寸，在shader中进行对几何体缩放。\r\n     */\r\n    u_rect = new Vector4(0, 0, 100, 100);\r\n\r\n    /**\r\n     * 颜色\r\n     */\r\n    @serialize\r\n    @oav()\r\n    u_color = new Color4();\r\n\r\n    /**\r\n     * 纹理数据\r\n     */\r\n    @oav()\r\n    @serialize\r\n    s_texture = Texture2D.default;\r\n\r\n    /**\r\n     * 控制图片的显示区域。\r\n     */\r\n    u_uvRect = new Vector4(0, 0, 1, 1);\r\n}\r\n\r\nshaderConfig.shaders['ui'] = {\r\n    vertex: `\r\n    attribute vec2 a_position;\r\n    attribute vec2 a_uv;\r\n    \r\n    uniform vec4 u_uvRect;\r\n    uniform vec4 u_rect;\r\n    uniform mat4 u_modelMatrix;\r\n    uniform mat4 u_viewProjection;\r\n    \r\n    varying vec2 v_uv;\r\n    varying vec2 v_position;\r\n\r\n    void main() \r\n    {\r\n        vec2 position = u_rect.xy + a_position * u_rect.zw;\r\n        gl_Position = u_viewProjection * u_modelMatrix * vec4(position, 0.0, 1.0);\r\n        v_uv = u_uvRect.xy + a_uv * u_uvRect.zw;\r\n        v_position = position.xy;\r\n    }\r\n    `,\r\n    fragment: `\r\n    precision mediump float;\r\n\r\n    uniform sampler2D s_texture;\r\n    varying vec2 v_uv;\r\n    varying vec2 v_position;\r\n    \r\n    uniform vec4 u_color;\r\n    \r\n    void main() \r\n    {\r\n        vec4 color = texture2D(s_texture, v_uv);\r\n        gl_FragColor = color * u_color;\r\n    }\r\n    \r\n    `,\r\n    cls: UIUniforms,\r\n    renderParams: { enableBlend: true, depthtest: false },\r\n};\r\n\r\nMaterial.setDefault('Default-UIMaterial', { shaderName: 'ui' });\r\n","import { AddComponentMenu, Camera, Component, createNodeMenu, GameObject, RegisterComponent, Scene, Texture2D } from '@feng3d/core';\r\nimport { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { CanvasRenderer } from './core/CanvasRenderer';\r\nimport { Transform2D } from './core/Transform2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Image: Image\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Image: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 图片组件\r\n *\r\n * 用于显示图片\r\n */\r\n@AddComponentMenu('UI/Image')\r\n@RegisterComponent()\r\nexport class Image extends Component\r\n{\r\n    /**\r\n     * The source texture of the Image element.\r\n     *\r\n     * 图像元素的源纹理。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    image = Texture2D.default;\r\n\r\n    /**\r\n     * Tinting color for this Image.\r\n     *\r\n     * 为该图像着色。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    color = new Color4();\r\n\r\n    /**\r\n     * 使图片显示实际尺寸\r\n     */\r\n    @oav({ tooltip: '使图片显示实际尺寸', componentParam: { label: 'ReSize' } })\r\n    setNativeSize()\r\n    {\r\n        const imagesize = this.image.getSize();\r\n        this.transform2D.size.x = imagesize.x;\r\n        this.transform2D.size.y = imagesize.y;\r\n    }\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        renderAtomic.uniforms.s_texture = this.image;\r\n        renderAtomic.uniforms.u_color = this.color;\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Image', (g) =>\r\n{\r\n    const transform2D = g.addComponent(Transform2D);\r\n    g.addComponent(CanvasRenderer);\r\n\r\n    transform2D.size.x = 100;\r\n    transform2D.size.y = 100;\r\n    g.addComponent(Image);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'UI/Image',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Image')\r\n    }\r\n);\r\n\r\n","import { functionwrap, View } from '@feng3d/core';\r\nimport { CanvasRenderer } from '../core/CanvasRenderer';\r\n\r\nexport { };\r\n\r\nfunctionwrap.extendFunction(View.prototype, 'render', function (_r, _interval)\r\n{\r\n    CanvasRenderer.draw(this);\r\n});\r\n","import { AddComponentMenu, Camera, Component, createNodeMenu, GameObject, RegisterComponent, Scene } from '@feng3d/core';\r\nimport { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { CanvasRenderer } from './core/CanvasRenderer';\r\nimport { Transform2D } from './core/Transform2D';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Rect: Rect;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Rect: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 矩形纯色组件\r\n *\r\n * 用于填充UI中背景等颜色。\r\n */\r\n@AddComponentMenu('UI/Rect')\r\n@RegisterComponent()\r\nexport class Rect extends Component\r\n{\r\n    /**\r\n     * 填充颜色。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    color = new Color4();\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        renderAtomic.uniforms.u_color = this.color;\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Rect', (g) =>\r\n{\r\n    const transform2D = g.addComponent(Transform2D);\r\n    g.addComponent(CanvasRenderer);\r\n\r\n    transform2D.size.x = 100;\r\n    transform2D.size.y = 100;\r\n    g.addComponent(Rect);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'UI/Rect',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Rect')\r\n    }\r\n);\r\n","import { TextStyle } from './TextStyle';\r\n\r\n/**\r\n * 文本度量\r\n *\r\n * 用于度量指定样式的文本的宽度。\r\n *\r\n * 从pixi.js移植\r\n *\r\n * @see https://github.com/pixijs/pixi.js/blob/dev/packages/text/src/TextMetrics.js\r\n */\r\nexport class TextMetrics\r\n{\r\n    /**\r\n     * 被测量的文本。\r\n     */\r\n    text: string;\r\n\r\n    /**\r\n     * 被测量的样式。\r\n     */\r\n    style: TextStyle;\r\n\r\n    /**\r\n     * 测量出的宽度。\r\n     */\r\n    width: number;\r\n\r\n    /**\r\n     * 测量出的高度。\r\n     */\r\n    height: number;\r\n\r\n    /**\r\n     * 根据样式分割成的多行文本。\r\n     */\r\n    lines: string[];\r\n\r\n    /**\r\n     * An array of the line widths for each line matched to `lines`\r\n     */\r\n    lineWidths: number[];\r\n\r\n    /**\r\n     * The measured line height for this style\r\n     */\r\n    lineHeight: number;\r\n\r\n    /**\r\n     * The maximum line width for all measured lines\r\n     */\r\n    maxLineWidth: number;\r\n\r\n    /**\r\n     * The font properties object from TextMetrics.measureFont\r\n     */\r\n    fontProperties: IFontMetrics;\r\n\r\n    /**\r\n     * Cached canvas element for measuring text\r\n     */\r\n    static _canvas = (() =>\r\n    {\r\n        const c = document.createElement('canvas');\r\n\r\n        c.width = c.height = 10;\r\n\r\nreturn c;\r\n    })();\r\n\r\n    /**\r\n     * Cache for context to use.\r\n     */\r\n    static _context = <CanvasRenderingContext2D>TextMetrics._canvas.getContext('2d');\r\n\r\n    /**\r\n     * Cache of {@see PIXI.TextMetrics.FontMetrics} objects.\r\n     */\r\n    static _fonts: { [key: string]: IFontMetrics } = {};\r\n\r\n    /**\r\n     * String used for calculate font metrics.\r\n     * These characters are all tall to help calculate the height required for text.\r\n     */\r\n    static METRICS_STRING = '|ÉqÅ';\r\n\r\n    /**\r\n     * Baseline symbol for calculate font metrics.\r\n     */\r\n    static BASELINE_SYMBOL = 'M';\r\n\r\n    /**\r\n     * Baseline multiplier for calculate font metrics.\r\n     */\r\n    static BASELINE_MULTIPLIER = 2;\r\n\r\n    /**\r\n     * Cache of new line chars.\r\n     */\r\n    static _newlines = [\r\n        0x000A, // line feed\r\n        0x000D, // carriage return\r\n    ];\r\n\r\n    /**\r\n     * Cache of breaking spaces.\r\n     */\r\n    static _breakingSpaces = [\r\n        0x0009, // character tabulation\r\n        0x0020, // space\r\n        0x2000, // en quad\r\n        0x2001, // em quad\r\n        0x2002, // en space\r\n        0x2003, // em space\r\n        0x2004, // three-per-em space\r\n        0x2005, // four-per-em space\r\n        0x2006, // six-per-em space\r\n        0x2008, // punctuation space\r\n        0x2009, // thin space\r\n        0x200A, // hair space\r\n        0x205F, // medium mathematical space\r\n        0x3000, // ideographic space\r\n    ];\r\n\r\n    /**\r\n     * @param text - the text that was measured\r\n     * @param style - the style that was measured\r\n     * @param width - the measured width of the text\r\n     * @param height - the measured height of the text\r\n     * @param lines - an array of the lines of text broken by new lines and wrapping if specified in style\r\n     * @param lineWidths - an array of the line widths for each line matched to `lines`\r\n     * @param lineHeight - the measured line height for this style\r\n     * @param maxLineWidth - the maximum line width for all measured lines\r\n     * @param fontProperties - the font properties object from TextMetrics.measureFont\r\n     */\r\n    constructor(text: string, style: TextStyle, width: number, height: number, lines: string[], lineWidths: number[], lineHeight: number, maxLineWidth: number, fontProperties: IFontMetrics)\r\n    {\r\n        this.text = text;\r\n        this.style = style;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.lines = lines;\r\n        this.lineWidths = lineWidths;\r\n        this.lineHeight = lineHeight;\r\n        this.maxLineWidth = maxLineWidth;\r\n        this.fontProperties = fontProperties;\r\n    }\r\n\r\n    /**\r\n     * Measures the supplied string of text and returns a Rectangle.\r\n     *\r\n     * @param text - the text to measure.\r\n     * @param style - the text style to use for measuring\r\n     * @param wordWrap - optional override for if word-wrap should be applied to the text.\r\n     * @param canvas - optional specification of the canvas to use for measuring.\r\n     * @return measured width and height of the text.\r\n     */\r\n    static measureText(text: string, style: TextStyle, wordWrap: boolean, canvas = TextMetrics._canvas)\r\n    {\r\n        wordWrap = (wordWrap === undefined || wordWrap === null) ? style.wordWrap : wordWrap;\r\n        const font = style.toFontString();\r\n        const fontProperties = TextMetrics.measureFont(font);\r\n\r\n        // fallback in case UA disallow canvas data extraction\r\n        // (toDataURI, getImageData functions)\r\n        if (fontProperties.fontSize === 0)\r\n        {\r\n            fontProperties.fontSize = style.fontSize;\r\n            fontProperties.ascent = style.fontSize;\r\n        }\r\n\r\n        const context = canvas.getContext('2d');\r\n        if (!context)\r\n        {\r\n            throw `获取 CanvasRenderingContext2D 失败！`;\r\n        }\r\n        context.font = font;\r\n\r\n        const outputText = wordWrap ? TextMetrics.wordWrap(text, style, canvas) : text;\r\n        const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\r\n        const lineWidths = new Array(lines.length);\r\n        let maxLineWidth = 0;\r\n\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            const lineWidth = context.measureText(lines[i]).width + ((lines[i].length - 1) * style.letterSpacing);\r\n\r\n            lineWidths[i] = lineWidth;\r\n            maxLineWidth = Math.max(maxLineWidth, lineWidth);\r\n        }\r\n        let width = maxLineWidth + style.strokeThickness;\r\n\r\n        if (style.dropShadow)\r\n        {\r\n            width += style.dropShadowDistance;\r\n        }\r\n\r\n        const lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;\r\n        let height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness)\r\n            + ((lines.length - 1) * (lineHeight + style.leading));\r\n\r\n        if (style.dropShadow)\r\n        {\r\n            height += style.dropShadowDistance;\r\n        }\r\n\r\n        return new TextMetrics(\r\n            text,\r\n            style,\r\n            width,\r\n            height,\r\n            lines,\r\n            lineWidths,\r\n            lineHeight + style.leading,\r\n            maxLineWidth,\r\n            fontProperties\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Applies newlines to a string to have it optimally fit into the horizontal\r\n     * bounds set by the Text object's wordWrapWidth property.\r\n     *\r\n     * @private\r\n     * @param text - String to apply word wrapping to\r\n     * @param style - the style to use when wrapping\r\n     * @param canvas - optional specification of the canvas to use for measuring.\r\n     * @return New string with new lines applied where required\r\n     */\r\n    static wordWrap(text: string, style: TextStyle, canvas = TextMetrics._canvas)\r\n    {\r\n        const context = canvas.getContext('2d');\r\n        if (!context)\r\n        {\r\n            throw `获取 CanvasRenderingContext2D 失败！`;\r\n        }\r\n\r\n        let width = 0;\r\n        let line = '';\r\n        let lines = '';\r\n\r\n        const cache = {};\r\n        const { letterSpacing, whiteSpace } = style;\r\n\r\n        // How to handle whitespaces\r\n        const collapseSpaces = TextMetrics.collapseSpaces(whiteSpace);\r\n        const collapseNewlines = TextMetrics.collapseNewlines(whiteSpace);\r\n\r\n        // whether or not spaces may be added to the beginning of lines\r\n        let canPrependSpaces = !collapseSpaces;\r\n\r\n        // There is letterSpacing after every char except the last one\r\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!\r\n        // so for convenience the above needs to be compared to width + 1 extra letterSpace\r\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!_\r\n        // ________________________________________________\r\n        // And then the final space is simply no appended to each line\r\n        const wordWrapWidth = style.wordWrapWidth + letterSpacing;\r\n\r\n        // break text into words, spaces and newline chars\r\n        const tokens = TextMetrics.tokenize(text);\r\n\r\n        for (let i = 0; i < tokens.length; i++)\r\n        {\r\n            // get the word, space or newlineChar\r\n            let token = tokens[i];\r\n\r\n            // if word is a new line\r\n            if (TextMetrics.isNewline(token))\r\n            {\r\n                // keep the new line\r\n                if (!collapseNewlines)\r\n                {\r\n                    lines += TextMetrics.addLine(line);\r\n                    canPrependSpaces = !collapseSpaces;\r\n                    line = '';\r\n                    width = 0;\r\n                    continue;\r\n                }\r\n\r\n                // if we should collapse new lines\r\n                // we simply convert it into a space\r\n                token = ' ';\r\n            }\r\n\r\n            // if we should collapse repeated whitespaces\r\n            if (collapseSpaces)\r\n            {\r\n                // check both this and the last tokens for spaces\r\n                const currIsBreakingSpace = TextMetrics.isBreakingSpace(token);\r\n                const lastIsBreakingSpace = TextMetrics.isBreakingSpace(line[line.length - 1]);\r\n\r\n                if (currIsBreakingSpace && lastIsBreakingSpace)\r\n                {\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            // get word width from cache if possible\r\n            const tokenWidth = TextMetrics.getFromCache(token, letterSpacing, cache, context);\r\n\r\n            // word is longer than desired bounds\r\n            if (tokenWidth > wordWrapWidth)\r\n            {\r\n                // if we are not already at the beginning of a line\r\n                if (line !== '')\r\n                {\r\n                    // start newlines for overflow words\r\n                    lines += TextMetrics.addLine(line);\r\n                    line = '';\r\n                    width = 0;\r\n                }\r\n\r\n                // break large word over multiple lines\r\n                if (TextMetrics.canBreakWords(token, style.breakWords))\r\n                {\r\n                    // break word into characters\r\n                    const characters = TextMetrics.wordWrapSplit(token);\r\n\r\n                    // loop the characters\r\n                    for (let j = 0; j < characters.length; j++)\r\n                    {\r\n                        let char = characters[j];\r\n\r\n                        let k = 1;\r\n                        // we are not at the end of the token\r\n\r\n                        while (characters[j + k])\r\n                        {\r\n                            const nextChar = characters[j + k];\r\n                            const lastChar = char[char.length - 1];\r\n\r\n                            // should not split chars\r\n                            if (!TextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords))\r\n                            {\r\n                                // combine chars & move forward one\r\n                                char += nextChar;\r\n                            }\r\n                            else\r\n                            {\r\n                                break;\r\n                            }\r\n\r\n                            k++;\r\n                        }\r\n\r\n                        j += char.length - 1;\r\n\r\n                        const characterWidth = TextMetrics.getFromCache(char, letterSpacing, cache, context);\r\n\r\n                        if (characterWidth + width > wordWrapWidth)\r\n                        {\r\n                            lines += TextMetrics.addLine(line);\r\n                            canPrependSpaces = false;\r\n                            line = '';\r\n                            width = 0;\r\n                        }\r\n\r\n                        line += char;\r\n                        width += characterWidth;\r\n                    }\r\n                }\r\n\r\n                // run word out of the bounds\r\n                else\r\n                {\r\n                    // if there are words in this line already\r\n                    // finish that line and start a new one\r\n                    if (line.length > 0)\r\n                    {\r\n                        lines += TextMetrics.addLine(line);\r\n                        line = '';\r\n                        width = 0;\r\n                    }\r\n\r\n                    const isLastToken = i === tokens.length - 1;\r\n\r\n                    // give it its own line if it's not the end\r\n                    lines += TextMetrics.addLine(token, !isLastToken);\r\n                    canPrependSpaces = false;\r\n                    line = '';\r\n                    width = 0;\r\n                }\r\n            }\r\n\r\n            // word could fit\r\n            else\r\n            {\r\n                // word won't fit because of existing words\r\n                // start a new line\r\n                if (tokenWidth + width > wordWrapWidth)\r\n                {\r\n                    // if its a space we don't want it\r\n                    canPrependSpaces = false;\r\n\r\n                    // add a new line\r\n                    lines += TextMetrics.addLine(line);\r\n\r\n                    // start a new line\r\n                    line = '';\r\n                    width = 0;\r\n                }\r\n\r\n                // don't add spaces to the beginning of lines\r\n                if (line.length > 0 || !TextMetrics.isBreakingSpace(token) || canPrependSpaces)\r\n                {\r\n                    // add the word to the current line\r\n                    line += token;\r\n\r\n                    // update width counter\r\n                    width += tokenWidth;\r\n                }\r\n            }\r\n        }\r\n\r\n        lines += TextMetrics.addLine(line, false);\r\n\r\n        return lines;\r\n    }\r\n\r\n    /**\r\n     * Convienience function for logging each line added during the wordWrap\r\n     * method\r\n     *\r\n     * @private\r\n     * @param  line        - The line of text to add\r\n     * @param  newLine     - Add new line character to end\r\n     * @return A formatted line\r\n     */\r\n    static addLine(line: string, newLine = true)\r\n    {\r\n        line = TextMetrics.trimRight(line);\r\n\r\n        line = (newLine) ? `${line}\\n` : line;\r\n\r\n        return line;\r\n    }\r\n\r\n    /**\r\n     * Gets & sets the widths of calculated characters in a cache object\r\n     *\r\n     * @private\r\n     * @param key            The key\r\n     * @param letterSpacing  The letter spacing\r\n     * @param cache          The cache\r\n     * @param context        The canvas context\r\n     * @return The from cache.\r\n     */\r\n    static getFromCache(key: string, letterSpacing: number, cache: { [key: string]: number }, context: CanvasRenderingContext2D)\r\n    {\r\n        let width = cache[key];\r\n\r\n        if (width === undefined)\r\n        {\r\n            const spacing = ((key.length) * letterSpacing);\r\n\r\n            width = context.measureText(key).width + spacing;\r\n            cache[key] = width;\r\n        }\r\n\r\n        return width;\r\n    }\r\n\r\n    /**\r\n     * Determines whether we should collapse breaking spaces\r\n     *\r\n     * @private\r\n     * @param whiteSpace  The TextStyle property whiteSpace\r\n     * @return should collapse\r\n     */\r\n    static collapseSpaces(whiteSpace: string)\r\n    {\r\n        return (whiteSpace === 'normal' || whiteSpace === 'pre-line');\r\n    }\r\n\r\n    /**\r\n     * Determines whether we should collapse newLine chars\r\n     *\r\n     * @private\r\n     * @param whiteSpace  The white space\r\n     * @return should collapse\r\n     */\r\n    static collapseNewlines(whiteSpace: string)\r\n    {\r\n        return (whiteSpace === 'normal');\r\n    }\r\n\r\n    /**\r\n     * trims breaking whitespaces from string\r\n     *\r\n     * @private\r\n     * @param text  The text\r\n     * @return trimmed string\r\n     */\r\n    static trimRight(text: string)\r\n    {\r\n        if (typeof text !== 'string')\r\n        {\r\n            return '';\r\n        }\r\n\r\n        for (let i = text.length - 1; i >= 0; i--)\r\n        {\r\n            const char = text[i];\r\n\r\n            if (!TextMetrics.isBreakingSpace(char))\r\n            {\r\n                break;\r\n            }\r\n\r\n            text = text.slice(0, -1);\r\n        }\r\n\r\n        return text;\r\n    }\r\n\r\n    /**\r\n     * Determines if char is a newline.\r\n     *\r\n     * @private\r\n     * @param char  The character\r\n     * @return True if newline, False otherwise.\r\n     */\r\n    static isNewline(char: string)\r\n    {\r\n        if (typeof char !== 'string')\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return (TextMetrics._newlines.indexOf(char.charCodeAt(0)) >= 0);\r\n    }\r\n\r\n    /**\r\n     * Determines if char is a breaking whitespace.\r\n     *\r\n     * @private\r\n     * @param char  The character\r\n     * @return True if whitespace, False otherwise.\r\n     */\r\n    static isBreakingSpace(char: string)\r\n    {\r\n        if (typeof char !== 'string')\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return (TextMetrics._breakingSpaces.indexOf(char.charCodeAt(0)) >= 0);\r\n    }\r\n\r\n    /**\r\n     * Splits a string into words, breaking-spaces and newLine characters\r\n     *\r\n     * @private\r\n     * @param text       The text\r\n     * @return A tokenized array\r\n     */\r\n    static tokenize(text: string)\r\n    {\r\n        const tokens: string[] = [];\r\n        let token = '';\r\n\r\n        if (typeof text !== 'string')\r\n        {\r\n            return tokens;\r\n        }\r\n\r\n        for (let i = 0; i < text.length; i++)\r\n        {\r\n            const char = text[i];\r\n\r\n            if (TextMetrics.isBreakingSpace(char) || TextMetrics.isNewline(char))\r\n            {\r\n                if (token !== '')\r\n                {\r\n                    tokens.push(token);\r\n                    token = '';\r\n                }\r\n\r\n                tokens.push(char);\r\n\r\n                continue;\r\n            }\r\n\r\n            token += char;\r\n        }\r\n\r\n        if (token !== '')\r\n        {\r\n            tokens.push(token);\r\n        }\r\n\r\n        return tokens;\r\n    }\r\n\r\n    /**\r\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\r\n     *\r\n     * It allows one to customise which words should break\r\n     * Examples are if the token is CJK or numbers.\r\n     * It must return a boolean.\r\n     *\r\n     * @param _token       The token\r\n     * @param breakWords  The style attr break words\r\n     * @return whether to break word or not\r\n     */\r\n    static canBreakWords(_token: string, breakWords: boolean)\r\n    {\r\n        return breakWords;\r\n    }\r\n\r\n    /**\r\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\r\n     *\r\n     * It allows one to determine whether a pair of characters\r\n     * should be broken by newlines\r\n     * For example certain characters in CJK langs or numbers.\r\n     * It must return a boolean.\r\n     *\r\n     * @param _char      The character\r\n     * @param _nextChar  The next character\r\n     * @param _token     The token/word the characters are from\r\n     * @param _index     The index in the token of the char\r\n     * @param _breakWords  The style attr break words\r\n     * @return whether to break word or not\r\n     */\r\n    static canBreakChars(_char: string, _nextChar: string, _token: string, _index: number, _breakWords: boolean) // eslint-disable-line no-unused-vars\r\n    {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\r\n     *\r\n     * It is called when a token (usually a word) has to be split into separate pieces\r\n     * in order to determine the point to break a word.\r\n     * It must return an array of characters.\r\n     *\r\n     * @example\r\n     * // Correctly splits emojis, eg \"🤪🤪\" will result in two element array, each with one emoji.\r\n     * TextMetrics.wordWrapSplit = (token) => [...token];\r\n     *\r\n     * @param token The token to split\r\n     * @return The characters of the token\r\n     */\r\n    static wordWrapSplit(token: string)\r\n    {\r\n        return token.split('');\r\n    }\r\n\r\n    /**\r\n     * Calculates the ascent, descent and fontSize of a given font-style\r\n     *\r\n     * @param font - String representing the style of the font\r\n     * @return Font properties object\r\n     *\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textBaseline\r\n     */\r\n    static measureFont(font: string)\r\n    {\r\n        // as this method is used for preparing assets, don't recalculate things if we don't need to\r\n        if (TextMetrics._fonts[font])\r\n        {\r\n            return TextMetrics._fonts[font];\r\n        }\r\n\r\n        const properties: IFontMetrics = <any>{};\r\n\r\n        const canvas = TextMetrics._canvas;\r\n        const context = TextMetrics._context;\r\n\r\n        context.font = font;\r\n\r\n        const metricsString = TextMetrics.METRICS_STRING + TextMetrics.BASELINE_SYMBOL;\r\n        const width = Math.ceil(context.measureText(metricsString).width);\r\n        let baseline = Math.ceil(context.measureText(TextMetrics.BASELINE_SYMBOL).width);\r\n        const height = 3 * baseline;\r\n\r\n        baseline = baseline * TextMetrics.BASELINE_MULTIPLIER | 0;\r\n\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n\r\n        context.fillStyle = '#f00';\r\n        context.fillRect(0, 0, width, height);\r\n\r\n        context.font = font;\r\n\r\n        context.textBaseline = 'alphabetic';\r\n        context.fillStyle = '#000';\r\n        context.fillText(metricsString, 0, baseline);\r\n\r\n        const imagedata = context.getImageData(0, 0, width, height).data;\r\n        const pixels = imagedata.length;\r\n        const line = width * 4;\r\n\r\n        let i = 0;\r\n        let idx = 0;\r\n        let stop = false;\r\n\r\n        // ascent. scan from top to bottom until we find a non red pixel\r\n        for (i = 0; i < baseline; ++i)\r\n        {\r\n            for (let j = 0; j < line; j += 4)\r\n            {\r\n                if (imagedata[idx + j] !== 255)\r\n                {\r\n                    stop = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!stop)\r\n            {\r\n                idx += line;\r\n            }\r\n            else\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        properties.ascent = baseline - i;\r\n\r\n        idx = pixels - line;\r\n        stop = false;\r\n\r\n        // descent. scan from bottom to top until we find a non red pixel\r\n        for (i = height; i > baseline; --i)\r\n        {\r\n            for (let j = 0; j < line; j += 4)\r\n            {\r\n                if (imagedata[idx + j] !== 255)\r\n                {\r\n                    stop = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!stop)\r\n            {\r\n                idx -= line;\r\n            }\r\n            else\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        properties.descent = i - baseline;\r\n        properties.fontSize = properties.ascent + properties.descent;\r\n\r\n        TextMetrics._fonts[font] = properties;\r\n\r\n        return properties;\r\n    }\r\n\r\n    /**\r\n     * Clear font metrics in metrics cache.\r\n     *\r\n     * @param font - font name. If font name not set then clear cache for all fonts.\r\n     */\r\n    static clearMetrics(font = '')\r\n    {\r\n        if (font)\r\n        {\r\n            delete TextMetrics._fonts[font];\r\n        }\r\n        else\r\n        {\r\n            TextMetrics._fonts = {};\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * A number, or a string containing a number.\r\n */\r\ninterface IFontMetrics\r\n{\r\n    /**\r\n     * Font ascent\r\n     */\r\n    ascent: number;\r\n    /**\r\n     * Font descent\r\n     */\r\n    descent: number;\r\n    /**\r\n     * Font size\r\n     */\r\n    fontSize: number;\r\n}\r\n\r\n","import { EventEmitter } from '@feng3d/event';\r\nimport { Color4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { serialization, serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\n\r\n/**\r\n * 文本上渐变方向。\r\n */\r\nexport enum TEXT_GRADIENT\r\n{\r\n    /**\r\n     * 纵向梯度。\r\n     */\r\n    LINEAR_VERTICAL = 0,\r\n    /**\r\n     * 横向梯度。\r\n     */\r\n    LINEAR_HORIZONTAL = 1,\r\n}\r\n\r\n/**\r\n * 通用字体。\r\n */\r\nexport enum FontFamily\r\n{\r\n    'Arial' = 'Arial',\r\n    'serif' = 'serif',\r\n    'sans-serif' = 'sans-serif',\r\n    'monospace' = 'monospace',\r\n    'cursive' = 'cursive',\r\n    'fantasy' = 'fantasy',\r\n    'system-ui' = 'system-ui',\r\n    '宋体' = '宋体',\r\n}\r\n\r\n/**\r\n * 字体样式。\r\n */\r\nexport enum FontStyle\r\n{\r\n    'normal' = 'normal',\r\n    'italic' = 'italic',\r\n    'oblique' = 'oblique',\r\n}\r\n\r\n/**\r\n * 字体变体。\r\n */\r\nexport enum FontVariant\r\n{\r\n    'normal' = 'normal',\r\n    'small-caps' = 'small-caps',\r\n}\r\n\r\nexport enum FontWeight\r\n{\r\n    'normal' = 'normal',\r\n    'bold' = 'bold',\r\n    'bolder' = 'bolder',\r\n    'lighter' = 'lighter',\r\n    // '100' = '100',\r\n    // '200' = '200',\r\n    // '300' = '300',\r\n    // '400' = '400',\r\n    // '500' = '500',\r\n    // '600' = '600',\r\n    // '700' = '700',\r\n    // '800' = '800',\r\n    // '900' = '900',\r\n}\r\n\r\n/**\r\n * 设置创建的角的类型，它可以解决带尖刺的文本问题。\r\n */\r\nexport enum CanvasLineJoin\r\n{\r\n    'round' = 'round',\r\n    'bevel' = 'bevel',\r\n    'miter' = 'miter',\r\n}\r\n\r\n/**\r\n * 画布文本基线\r\n */\r\nexport enum CanvasTextBaseline\r\n{\r\n    'top' = 'top',\r\n    'hanging' = 'hanging',\r\n    'middle' = 'middle',\r\n    'alphabetic' = 'alphabetic',\r\n    'ideographic' = 'ideographic',\r\n    'bottom' = 'bottom',\r\n}\r\n\r\n/**\r\n * 文本对齐方式\r\n */\r\nexport enum TextAlign\r\n{\r\n    'left' = 'left',\r\n    'center' = 'center',\r\n    'right' = 'right',\r\n}\r\n\r\nexport enum WhiteSpaceHandle\r\n{\r\n    'normal' = 'normal',\r\n    'pre' = 'pre',\r\n    'pre-line' = 'pre-line',\r\n}\r\n\r\nexport interface TextStyleEventMap\r\n{\r\n    /**\r\n     * 发生变化\r\n     */\r\n    changed\r\n}\r\n\r\n/**\r\n * 文本样式\r\n *\r\n * 从pixi.js移植\r\n *\r\n * @see https://github.com/pixijs/pixi.js/blob/dev/packages/text/src/TextStyle.js\r\n */\r\nexport class TextStyle<T extends TextStyleEventMap = TextStyleEventMap> extends EventEmitter<T>\r\n{\r\n    /**\r\n     * @param style 样式参数\r\n     */\r\n    constructor(style?: Partial<TextStyle>)\r\n    {\r\n        super();\r\n        serialization.setValue(this, style);\r\n    }\r\n\r\n    /**\r\n     * 字体。\r\n     */\r\n    @oav({ block: 'Font', tooltip: '字体。', component: 'OAVEnum', componentParam: { enumClass: FontFamily } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fontFamily = FontFamily.Arial;\r\n\r\n    /**\r\n     * 字体尺寸。\r\n     */\r\n    @oav({ block: 'Font', tooltip: '字体尺寸。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fontSize = 26;\r\n\r\n    /**\r\n     * 字体样式。\r\n     */\r\n    @oav({ block: 'Font', tooltip: '字体样式。', component: 'OAVEnum', componentParam: { enumClass: FontStyle } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fontStyle = FontStyle.normal;\r\n\r\n    /**\r\n     * 字体变体。\r\n     */\r\n    @oav({ block: 'Font', tooltip: '字体变体。', component: 'OAVEnum', componentParam: { enumClass: FontVariant } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fontVariant = FontVariant.normal;\r\n\r\n    /**\r\n     * 字型粗细。\r\n     */\r\n    @oav({ block: 'Font', tooltip: '字型粗细。', component: 'OAVEnum', componentParam: { enumClass: FontWeight } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fontWeight = FontWeight.normal;\r\n\r\n    /**\r\n     * 用于填充文本的颜色。\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle\r\n     */\r\n    @oav({ block: 'Fill', tooltip: '用于填充文本的颜色。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fill = new Color4(0, 0, 0, 1);\r\n    // fill = new MinMaxGradient();\r\n\r\n    /**\r\n     * 如果填充是一个创建渐变的颜色数组，这可以改变渐变的方向。\r\n     */\r\n    @oav({ block: 'Fill', tooltip: '如果填充是一个创建渐变的颜色数组，这可以改变渐变的方向。', component: 'OAVEnum', componentParam: { enumClass: TEXT_GRADIENT } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fillGradientType = TEXT_GRADIENT.LINEAR_VERTICAL;\r\n\r\n    /**\r\n     * 如果填充是一个颜色数组来创建渐变，这个数组可以设置停止点\r\n     */\r\n    @oav({ block: 'Fill' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    fillGradientStops: number[] = [];\r\n\r\n    /**\r\n     * 将用于文本笔划的画布填充样式。\r\n     */\r\n    @oav({ block: 'Stroke', tooltip: '将用于文本笔划的画布填充样式。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    stroke = new Color4(0, 0, 0, 1);\r\n\r\n    /**\r\n     * 一个表示笔画厚度的数字。\r\n     */\r\n    @oav({ block: 'Stroke', tooltip: '一个表示笔画厚度的数字。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    strokeThickness = 0;\r\n\r\n    /**\r\n     * lineJoin属性设置创建的角的类型，它可以解决带尖刺的文本问题。\r\n     */\r\n    @oav({ block: 'Stroke', tooltip: 'lineJoin属性设置创建的角的类型，它可以解决带尖刺的文本问题。', component: 'OAVEnum', componentParam: { enumClass: CanvasLineJoin } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    lineJoin = CanvasLineJoin.miter;\r\n\r\n    /**\r\n     * 当使用“miter”lineJoin模式时，miter限制使用。这可以减少或增加呈现文本的尖锐性。\r\n     */\r\n    @oav({ block: 'Stroke', tooltip: '当使用“miter”lineJoin模式时，miter限制使用。这可以减少或增加呈现文本的尖锐性。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    miterLimit = 10;\r\n\r\n    /**\r\n     * 字母之间的间距，默认为0\r\n     */\r\n    @oav({ block: 'Layout', tooltip: '字母之间的间距，默认为0' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    letterSpacing = 0;\r\n\r\n    /**\r\n     * 呈现文本的基线。\r\n     */\r\n    @oav({ block: 'Layout', tooltip: '呈现文本的基线。', component: 'OAVEnum', componentParam: { enumClass: CanvasTextBaseline } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    textBaseline = CanvasTextBaseline.alphabetic;\r\n\r\n    /**\r\n     * 是否为文本设置一个投影。\r\n     */\r\n    @oav({ block: 'Drop Shadow', tooltip: '是否为文本设置一个投影。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    dropShadow = false;\r\n\r\n    /**\r\n     * 投影颜色。\r\n     */\r\n    @oav({ block: 'Drop Shadow', tooltip: '投影颜色。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    dropShadowColor = new Color4(0, 0, 0, 1);\r\n\r\n    /**\r\n     * 投影角度。\r\n     */\r\n    @oav({ block: 'Drop Shadow', tooltip: '投影角度。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    dropShadowAngle = 30;\r\n\r\n    /**\r\n     * 阴影模糊半径。\r\n     */\r\n    @oav({ block: 'Drop Shadow', tooltip: '阴影模糊半径。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    dropShadowBlur = 0;\r\n\r\n    /**\r\n     * 投影距离。\r\n     */\r\n    @oav({ block: 'Drop Shadow', tooltip: '投影距离。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    dropShadowDistance = 5;\r\n\r\n    /**\r\n     * 是否应使用自动换行。\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '是否应使用自动换行。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    wordWrap = false;\r\n\r\n    /**\r\n     * 能否把单词分多行。\r\n     */\r\n    @oav({ block: 'Multiline' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    breakWords = false;\r\n\r\n    /**\r\n     * 多行文本对齐方式。\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '多行文本对齐方式。', component: 'OAVEnum', componentParam: { enumClass: TextAlign } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    align = TextAlign.left;\r\n\r\n    /**\r\n     * 如何处理换行与空格。\r\n     * Default is 'pre' (preserve, preserve).\r\n     *\r\n     *  value       | New lines     |   Spaces\r\n     *  ---         | ---           |   ---\r\n     * 'normal'     | Collapse      |   Collapse\r\n     * 'pre'        | Preserve      |   Preserve\r\n     * 'pre-line'   | Preserve      |   Collapse\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '如何处理换行与空格。', component: 'OAVEnum', componentParam: { enumClass: WhiteSpaceHandle } })\r\n    @watch('invalidate')\r\n    @serialize\r\n    whiteSpace = WhiteSpaceHandle.pre;\r\n\r\n    /**\r\n     * 文本的换行宽度。\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '文本的换行宽度。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    wordWrapWidth = 100;\r\n\r\n    /**\r\n     * 行高。\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '行高。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    lineHeight = 0;\r\n\r\n    /**\r\n     * 行距。\r\n     */\r\n    @oav({ block: 'Multiline', tooltip: '行距。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    leading = 0;\r\n\r\n    /**\r\n     * 内边距，用于文字被裁减问题。\r\n     */\r\n    @oav({ block: 'Texture', tooltip: '内边距，用于文字被裁减问题。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    padding = 0;\r\n\r\n    /**\r\n     * 是否修剪透明边界。\r\n     */\r\n    @oav({ block: 'Texture', tooltip: '是否修剪透明边界。' })\r\n    @watch('invalidate')\r\n    @serialize\r\n    trim = false;\r\n\r\n    /**\r\n     * 使数据失效\r\n     */\r\n    invalidate()\r\n    {\r\n        this.emit('changed');\r\n    }\r\n\r\n    /**\r\n     *\r\n     * 生成用于' TextMetrics.measureFont() '的字体样式字符串。\r\n     */\r\n    toFontString()\r\n    {\r\n        const fontSizeString = `${this.fontSize}px`;\r\n\r\n        // 通过引用每个字体名来清除fontFamily属性\r\n        // 这将支持带有空格的字体名称\r\n        let fontFamilies: string[] = this.fontFamily as any;\r\n\r\n        if (!Array.isArray(this.fontFamily))\r\n        {\r\n            fontFamilies = this.fontFamily.split(',');\r\n        }\r\n\r\n        for (let i = fontFamilies.length - 1; i >= 0; i--)\r\n        {\r\n            // 修剪任何多余的空白\r\n            let fontFamily = fontFamilies[i].trim();\r\n\r\n            // 检查字体是否已经包含字符串\r\n            if (!(/([\\\"\\'])[^\\'\\\"]+\\1/).test(fontFamily) && FontFamily[fontFamily] === undefined)\r\n            {\r\n                fontFamily = `\"${fontFamily}\"`;\r\n            }\r\n            fontFamilies[i] = fontFamily;\r\n        }\r\n\r\n        return `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${fontSizeString} ${fontFamilies.join(',')}`;\r\n    }\r\n}\r\n","import { mathUtil } from '@feng3d/polyfill';\r\nimport { TextMetrics } from './TextMetrics';\r\nimport { TextStyle, TEXT_GRADIENT } from './TextStyle';\r\n\r\n/**\r\n * 绘制文本\r\n *\r\n * @param canvas 画布\r\n * @param _text 文本\r\n * @param style 文本样式\r\n * @param resolution 分辨率\r\n */\r\nexport function drawText(canvas: HTMLCanvasElement, _text: string, style: TextStyle, resolution = 1)\r\n{\r\n    canvas = canvas || document.createElement('canvas');\r\n\r\n    if (style.fontSize < 1) style.fontSize = 1;\r\n\r\n    const _font = style.toFontString();\r\n\r\n    const context = canvas.getContext('2d');\r\n    const measured = TextMetrics.measureText(_text || ' ', style, style.wordWrap, canvas);\r\n    const width = measured.width;\r\n    const height = measured.height;\r\n    const lines = measured.lines;\r\n    const lineHeight = measured.lineHeight;\r\n    const lineWidths = measured.lineWidths;\r\n    const maxLineWidth = measured.maxLineWidth;\r\n    const fontProperties = measured.fontProperties;\r\n\r\n    canvas.width = Math.ceil((Math.max(1, width) + (style.padding * 2)) * resolution);\r\n    canvas.height = Math.ceil((Math.max(1, height) + (style.padding * 2)) * resolution);\r\n\r\n    context.scale(resolution, resolution);\r\n\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    context.font = _font;\r\n    context.lineWidth = style.strokeThickness;\r\n    context.textBaseline = style.textBaseline;\r\n    context.lineJoin = style.lineJoin;\r\n    context.miterLimit = style.miterLimit;\r\n\r\n    let linePositionX: number;\r\n    let linePositionY: number;\r\n\r\n    // 需要2个通过如果一个阴影;第一个绘制投影，第二个绘制文本\r\n    const passesCount = style.dropShadow ? 2 : 1;\r\n\r\n    for (let i = 0; i < passesCount; ++i)\r\n    {\r\n        const isShadowPass = style.dropShadow && i === 0;\r\n        const dsOffsetText = isShadowPass ? height * 2 : 0; // 我们只想要投影，所以把文本放到屏幕外\r\n        const dsOffsetShadow = dsOffsetText * resolution;\r\n\r\n        if (isShadowPass)\r\n        {\r\n            // 在Safari上，带有渐变和阴影的文本不能正确定位\r\n            // 如果画布的比例不是1: https://bugs.webkit.org/show_bug.cgi?id=197689\r\n            // 因此，我们将样式设置为纯黑色，同时生成这个投影\r\n            context.fillStyle = 'black';\r\n            context.strokeStyle = 'black';\r\n\r\n            context.shadowColor = style.dropShadowColor.toRGBA();\r\n            context.shadowBlur = style.dropShadowBlur;\r\n            context.shadowOffsetX = Math.cos(style.dropShadowAngle * mathUtil.DEG2RAD) * style.dropShadowDistance;\r\n            context.shadowOffsetY = (Math.sin(style.dropShadowAngle * mathUtil.DEG2RAD) * style.dropShadowDistance) + dsOffsetShadow;\r\n        }\r\n        else\r\n        {\r\n            // 设置画布文本样式\r\n            context.fillStyle = _generateFillStyle(canvas, style, lines, resolution);\r\n            context.strokeStyle = style.stroke.toRGBA();\r\n\r\n            context.shadowColor = '';\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        // 一行一行绘制\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            linePositionX = style.strokeThickness / 2;\r\n            linePositionY = ((style.strokeThickness / 2) + (i * lineHeight)) + fontProperties.ascent;\r\n\r\n            if (style.align === 'right')\r\n            {\r\n                linePositionX += maxLineWidth - lineWidths[i];\r\n            }\r\n            else if (style.align === 'center')\r\n            {\r\n                linePositionX += (maxLineWidth - lineWidths[i]) / 2;\r\n            }\r\n\r\n            if (style.stroke && style.strokeThickness)\r\n            {\r\n                drawLetterSpacing(\r\n                    canvas,\r\n                    style,\r\n                    lines[i],\r\n                    linePositionX + style.padding,\r\n                    linePositionY + style.padding - dsOffsetText,\r\n                    true\r\n                );\r\n            }\r\n\r\n            if (style.fill)\r\n            {\r\n                drawLetterSpacing(\r\n                    canvas,\r\n                    style,\r\n                    lines[i],\r\n                    linePositionX + style.padding,\r\n                    linePositionY + style.padding - dsOffsetText\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    // 除去透明边缘。\r\n    if (style.trim)\r\n    {\r\n        const trimmed = trimCanvas(canvas);\r\n\r\n        if (trimmed.data)\r\n        {\r\n            canvas.width = trimmed.width;\r\n            canvas.height = trimmed.height;\r\n            context.putImageData(trimmed.data, 0, 0);\r\n        }\r\n    }\r\n\r\nreturn canvas;\r\n}\r\n\r\n/**\r\n * 生成填充样式。可以自动生成一个基于填充样式为数组的渐变。\r\n *\r\n * @param style 文本样式。\r\n * @param lines 多行文本。\r\n * @return 填充样式。\r\n */\r\nfunction _generateFillStyle(canvas: HTMLCanvasElement, style: TextStyle, lines: string[], resolution = 1)\r\n{\r\n    const context = canvas.getContext('2d');\r\n    const stylefill = style.fill;\r\n    if (!Array.isArray(stylefill))\r\n    {\r\n        return stylefill.toRGBA();\r\n    }\r\n    else if (stylefill.length === 1)\r\n    {\r\n        return stylefill[0];\r\n    }\r\n\r\n    // 画布颜色渐变。\r\n    let gradient: CanvasGradient;\r\n    let totalIterations: number;\r\n    let currentIteration: number;\r\n    let stop: number;\r\n\r\n    const width = Math.ceil(canvas.width / resolution);\r\n    const height = Math.ceil(canvas.height / resolution);\r\n\r\n    const fill: string[] = <any>stylefill.slice();\r\n    const fillGradientStops = style.fillGradientStops.slice();\r\n\r\n    // 初始化渐变关键帧\r\n    if (!fillGradientStops.length)\r\n    {\r\n        const lengthPlus1 = fill.length + 1;\r\n\r\n        for (let i = 1; i < lengthPlus1; ++i)\r\n        {\r\n            fillGradientStops.push(i / lengthPlus1);\r\n        }\r\n    }\r\n\r\n    // 设置渐变起点与终点。\r\n    fill.unshift(stylefill[0]);\r\n    fillGradientStops.unshift(0);\r\n\r\n    fill.push(stylefill[stylefill.length - 1]);\r\n    fillGradientStops.push(1);\r\n\r\n    if (style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL)\r\n    {\r\n        // 创建纵向渐变\r\n        gradient = context.createLinearGradient(width / 2, 0, width / 2, height);\r\n\r\n        // 我们需要重复渐变，这样每一行文本都有相同的垂直渐变效果\r\n        totalIterations = (fill.length + 1) * lines.length;\r\n        currentIteration = 0;\r\n        for (let i = 0; i < lines.length; i++)\r\n        {\r\n            currentIteration += 1;\r\n            for (let j = 0; j < fill.length; j++)\r\n            {\r\n                if (typeof fillGradientStops[j] === 'number')\r\n                {\r\n                    stop = (fillGradientStops[j] / lines.length) + (i / lines.length);\r\n                }\r\n                else\r\n                {\r\n                    stop = currentIteration / totalIterations;\r\n                }\r\n                gradient.addColorStop(stop, fill[j]);\r\n                currentIteration++;\r\n            }\r\n        }\r\n    }\r\n    else\r\n    {\r\n        // 从画布的中间左侧开始渐变，并在画布的中间右侧结束\r\n        gradient = context.createLinearGradient(0, height / 2, width, height / 2);\r\n\r\n        totalIterations = fill.length + 1;\r\n        currentIteration = 1;\r\n\r\n        for (let i = 0; i < fill.length; i++)\r\n        {\r\n            if (typeof fillGradientStops[i] === 'number')\r\n            {\r\n                stop = fillGradientStops[i];\r\n            }\r\n            else\r\n            {\r\n                stop = currentIteration / totalIterations;\r\n            }\r\n            gradient.addColorStop(stop, fill[i]);\r\n            currentIteration++;\r\n        }\r\n    }\r\n\r\n    return gradient;\r\n}\r\n\r\n/**\r\n * Render the text with letter-spacing.\r\n * 绘制文本。\r\n *\r\n * @param text 文本。\r\n * @param x X轴位置。\r\n * @param y Y轴位置。\r\n * @param isStroke\r\n */\r\nfunction drawLetterSpacing(canvas: HTMLCanvasElement, style: TextStyle, text: string, x: number, y: number, isStroke = false)\r\n{\r\n    const context = canvas.getContext('2d');\r\n    const letterSpacing = style.letterSpacing;\r\n\r\n    if (letterSpacing === 0)\r\n    {\r\n        if (isStroke)\r\n        {\r\n            context.strokeText(text, x, y);\r\n        }\r\n        else\r\n        {\r\n            context.fillText(text, x, y);\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    let currentPosition = x;\r\n\r\n    // 使用 Array.from 可以解决表情符号的分割问题。 如  \"🌷\",\"🎁\",\"💩\",\"😜\" \"👍\"\r\n    // https://medium.com/@giltayar/iterating-over-emoji-characters-the-es6-way-f06e4589516\r\n    // https://github.com/orling/grapheme-splitter\r\n    const stringArray = Array.from(text);\r\n    let previousWidth = context.measureText(text).width;\r\n    let currentWidth = 0;\r\n\r\n    for (let i = 0; i < stringArray.length; ++i)\r\n    {\r\n        const currentChar = stringArray[i];\r\n\r\n        if (isStroke)\r\n        {\r\n            context.strokeText(currentChar, currentPosition, y);\r\n        }\r\n        else\r\n        {\r\n            context.fillText(currentChar, currentPosition, y);\r\n        }\r\n        currentWidth = context.measureText(text.substring(i + 1)).width;\r\n        currentPosition += previousWidth - currentWidth + letterSpacing;\r\n        previousWidth = currentWidth;\r\n    }\r\n}\r\n\r\n/**\r\n  * 除去边界透明部分\r\n  *\r\n  * @param canvas 画布\r\n  */\r\nfunction trimCanvas(canvas: HTMLCanvasElement)\r\n{\r\n    let width = canvas.width;\r\n    let height = canvas.height;\r\n\r\n    const context = canvas.getContext('2d');\r\n    const imageData = context.getImageData(0, 0, width, height);\r\n    const pixels = imageData.data;\r\n    const len = pixels.length;\r\n\r\n    let top = NaN;\r\n    let left = NaN;\r\n    let right = NaN;\r\n    let bottom = NaN;\r\n\r\n    let data: ImageData = null;\r\n    let i: number;\r\n    let x: number;\r\n    let y: number;\r\n\r\n    for (i = 0; i < len; i += 4)\r\n    {\r\n        if (pixels[i + 3] !== 0)\r\n        {\r\n            x = (i / 4) % width;\r\n            y = ~~((i / 4) / width);\r\n\r\n            if (isNaN(top))\r\n            {\r\n                top = y;\r\n            }\r\n\r\n            if (isNaN(left))\r\n            {\r\n                left = x;\r\n            }\r\n            else if (x < left)\r\n            {\r\n                left = x;\r\n            }\r\n\r\n            if (isNaN(right))\r\n            {\r\n                right = x + 1;\r\n            }\r\n            else if (right < x)\r\n            {\r\n                right = x + 1;\r\n            }\r\n\r\n            if (isNaN(bottom))\r\n            {\r\n                bottom = y;\r\n            }\r\n            else if (bottom < y)\r\n            {\r\n                bottom = y;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!isNaN(top))\r\n    {\r\n        width = right - left;\r\n        height = bottom - top + 1;\r\n        data = context.getImageData(left, top, width, height);\r\n    }\r\n\r\n    return {\r\n        height,\r\n        width,\r\n        data,\r\n    };\r\n}\r\n","import { AddComponentMenu, Camera, Component, createNodeMenu, GameObject, RegisterComponent, Scene, Texture2D } from '@feng3d/core';\r\nimport { Vector4 } from '@feng3d/math';\r\nimport { oav } from '@feng3d/objectview';\r\nimport { RenderAtomic } from '@feng3d/renderer';\r\nimport { serialize } from '@feng3d/serialization';\r\nimport { watch } from '@feng3d/watcher';\r\nimport { CanvasRenderer } from './core/CanvasRenderer';\r\nimport { Transform2D } from './core/Transform2D';\r\nimport { drawText } from './text/drawText';\r\nimport { TextStyle } from './text/TextStyle';\r\n\r\ndeclare global\r\n{\r\n    export interface MixinsComponentMap\r\n    {\r\n        Text: Text;\r\n    }\r\n\r\n    export interface MixinsPrimitiveGameObject\r\n    {\r\n        Text: GameObject;\r\n    }\r\n}\r\n\r\n/**\r\n * 文本组件\r\n *\r\n * 用于显示文字。\r\n */\r\n@AddComponentMenu('UI/Text')\r\n@RegisterComponent()\r\nexport class Text extends Component\r\n{\r\n    /**\r\n     * 文本内容。\r\n     */\r\n    @oav()\r\n    @serialize\r\n    @watch('invalidate')\r\n    text = 'Hello 🌷 world\\nHello 🌷 world';\r\n\r\n    /**\r\n     * 是否根据文本自动调整宽高。\r\n     */\r\n    @oav({ tooltip: '是否根据文本自动调整宽高。' })\r\n    @serialize\r\n    autoSize = true;\r\n\r\n    @oav()\r\n    @serialize\r\n    @watch('_styleChanged')\r\n    style = new TextStyle();\r\n\r\n    /**\r\n     * 显示图片的区域，(0, 0, 1, 1)表示完整显示图片。\r\n     */\r\n    private _uvRect = new Vector4(0, 0, 1, 1);\r\n\r\n    private _image = new Texture2D();\r\n    private _canvas: HTMLCanvasElement;\r\n    private _invalid = true;\r\n\r\n    beforeRender(renderAtomic: RenderAtomic, scene: Scene, camera: Camera)\r\n    {\r\n        super.beforeRender(renderAtomic, scene, camera);\r\n\r\n        let canvas = this._canvas;\r\n\r\n        if (!this._canvas || this._invalid)\r\n        {\r\n            canvas = this._canvas = drawText(this._canvas, this.text, this.style);\r\n            this._image['_pixels'] = canvas; this._image.wrapS;\r\n            this._image.invalidate();\r\n            this._invalid = false;\r\n        }\r\n\r\n        if (this.autoSize)\r\n        {\r\n            this.transform2D.size.x = canvas.width;\r\n            this.transform2D.size.y = canvas.height;\r\n        }\r\n\r\n        // 调整缩放使得更改尺寸时文字不被缩放。\r\n        this._uvRect.z = this.transform2D.size.x / canvas.width;\r\n        this._uvRect.w = this.transform2D.size.y / canvas.height;\r\n\r\n        //\r\n        renderAtomic.uniforms.s_texture = this._image;\r\n        renderAtomic.uniforms.u_uvRect = this._uvRect;\r\n    }\r\n\r\n    invalidate()\r\n    {\r\n        this._invalid = true;\r\n    }\r\n\r\n    private _styleChanged(property: string, oldValue: TextStyle, newValue: TextStyle)\r\n    {\r\n        if (oldValue) oldValue.off('changed', this.invalidate, this);\r\n        if (newValue) newValue.on('changed', this.invalidate, this);\r\n    }\r\n}\r\n\r\nGameObject.registerPrimitive('Text', (g) =>\r\n{\r\n    const transform2D = g.addComponent(Transform2D);\r\n    g.addComponent(CanvasRenderer);\r\n\r\n    transform2D.size.x = 160;\r\n    transform2D.size.y = 30;\r\n    g.addComponent(Text);\r\n});\r\n\r\n// 在 Hierarchy 界面新增右键菜单项\r\ncreateNodeMenu.push(\r\n    {\r\n        path: 'UI/Text',\r\n        priority: -2,\r\n        click: () =>\r\n            GameObject.createPrimitive('Text')\r\n    }\r\n);\r\n\r\n","export * from '@feng3d/assets';\r\nexport * from '@feng3d/bezier';\r\nexport * from '@feng3d/core';\r\nexport * from '@feng3d/event';\r\nexport * from '@feng3d/filesystem';\r\nexport * from '@feng3d/math';\r\nexport * from '@feng3d/objectview';\r\nexport * from '@feng3d/parsers';\r\nexport * from '@feng3d/particlesystem';\r\nexport * from '@feng3d/polyfill';\r\nexport * from '@feng3d/renderer';\r\nexport * from '@feng3d/serialization';\r\nexport * from '@feng3d/shortcut';\r\nexport * from '@feng3d/task';\r\nexport * from '@feng3d/terrain';\r\nexport * from '@feng3d/ui';\r\nexport * from '@feng3d/watcher';\r\n\r\n/**\r\n * 版本号\r\n */\r\nexport const version = '0.1.3';\r\n"],"names":["objectIsEmpty","protoKey","getPropertyDescriptor","arguments","__decorate","WrapMode","MinMaxCurveMode","CoordinateSystem","PlaneClassification","RotationOrder","__extends","GradientMode","MinMaxGradientMode","AttributeUsage","GLArrayType","BlendEquation","BlendFactor","ColorMask","CullFace","DepthFunc","FrontFace","RenderMode","TextureDataType","TextureFormat","TextureMagFilter","TextureMinFilter","TextureType","TextureWrap","LoaderDataFormat","FSType","State","RunEnvironment","HideFlags","AssetType","PropertyClipPathItemType","ShadowType","imageDatas","ImageDatas","FogMode","Material","audioCtx","globalGain","DistanceModelType","Projection","LightType","parserLine","MD5VersionReg","commandlineReg","numJointsReg","endBlockReg","states","Feng3dMaterial","ParticleSystemAnimationType","ParticleSystemInheritVelocityMode","ParticleSystemMeshShapeType","ParticleSystemNoiseQuality","ParticleSystemRenderMode","ParticleSystemRenderSpace","ParticleSystemScalingMode","ParticleSystemShapeConeEmitFrom","ParticleSystemShapeMultiModeValue","ParticleSystemShapeType","ParticleSystemShapeType1","ParticleSystemSimulationSpace","ParticleSystemSortMode","ParticleSystemSubEmitterProperties","ParticleSystemSubEmitterType","SpriteMaskInteraction","UVChannelFlags","ParticleSystemShapeBoxEmitFrom","ButtonState","UIRenderMode","Image","TEXT_GRADIENT","FontFamily","FontStyle","FontVariant","FontWeight","CanvasLineJoin","CanvasTextBaseline","TextAlign","WhiteSpaceHandle"],"mappings":"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,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;;YAE1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;;YAE1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;;YAE1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;;YAE1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1H,SAAS,CAAC,UAAU,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,GAAG,C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,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrK,mBAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvK,mBAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrK,mBAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvK,mBAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,C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AAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IAEjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IAEjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;IACjF,QAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,IAA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AAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC3G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC3G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC3G,QAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC7G,QAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC7G,QAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC5G,QAAA,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,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AAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IACjG,IAAA,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE;IAC/F,IAAA,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG;IAC9F,IAAA,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG;IAC/F,IAAA,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IAC5F,IAAA,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IAC7F,IAAA,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE;IAChG,IAAA,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC;IAC3F,IAAA,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG;IAC5F,IAAA,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG;IAC7F,IAAA,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG;IAC3F,IAAA,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG;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"}